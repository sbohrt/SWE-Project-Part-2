<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Copy/Paste Detector Report</title><link href="styles/tailwind.css" rel="stylesheet"><link href="styles/prism.css" rel="stylesheet"></head><body class="bg-gray-100"><header class="bg-white shadow py-4"><div class="container mx-auto px-4"><h1 class="text-3xl font-semibold text-gray-800">jscpd - copy/paste report</h1></div></header><main class="container mx-auto my-8 p-4 bg-white shadow rounded"><section class="mb-8" id="dashboard"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Dashboard</h2><div class="grid grid-cols-4 gap-4"><div class="bg-blue-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-blue-800 mb-2">Total Files</h3><span class="text-4xl font-bold text-blue-800">2423</span></div><div class="bg-green-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-green-800 mb-2">Total Lines of Code</h3><span class="text-4xl font-bold text-green-800">391505</span></div><div class="bg-yellow-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-yellow-800 mb-2">Number of Clones</h3><span class="text-4xl font-bold text-yellow-800">846</span></div><div class="bg-red-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-red-800 mb-2">Duplicated Lines</h3><span class="text-4xl font-bold text-red-800">37182 (9.50%)</span></div></div></section><section class="mb-8" id="formats"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Formats with Duplications</h2><table class="w-full table-auto"><thead><tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal"><th class="py-3 px-6 text-left">Format</th><th class="py-3 px-6 text-left">Files</th><th class="py-3 px-6 text-left">Lines</th><th class="py-3 px-6 text-left">Clones</th><th class="py-3 px-6 text-left">Duplicated Lines</th><th class="py-3 px-6 text-left">Duplicated Tokens</th></tr></thead><tbody><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#markdown-clones">markdown</a></td><td class="py-3 px-6">10</td><td class="py-3 px-6">770</td><td class="py-3 px-6">3</td><td class="py-3 px-6">84</td><td class="py-3 px-6">1370</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#python-clones">python</a></td><td class="py-3 px-6">2409</td><td class="py-3 px-6">390529</td><td class="py-3 px-6">843</td><td class="py-3 px-6">37098</td><td class="py-3 px-6">278980</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#json-clones">json</a></td><td class="py-3 px-6">2</td><td class="py-3 px-6">159</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#yaml-clones">yaml</a></td><td class="py-3 px-6">2</td><td class="py-3 px-6">47</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr></tbody></table></section><section class="mb-8" id="txt-clones"><a name="markdown-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">markdown</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/idna/LICENSE.md (Line 1:1 - Line 31:8), .venv/lib/python3.14/site-packages/pip-25.3.dist-info/licenses/src/pip/_vendor/idna/LICENSE.md (Line 1:1 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup121"><code class="language-markdown text-sm text-gray-800">BSD 3-Clause License

Copyright (c) 2013-2024, Kim Davies and contributors.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna-3.11.dist-info/licenses/LICENSE.md (Line 3:2 - Line 31:8), .venv/lib/python3.14/site-packages/pip-25.3.dist-info/licenses/src/pip/_vendor/idna/LICENSE.md (Line 3:2 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn539" onclick="toggleCodeBlock('cloneGroup539', 'expandBtn539', 'collapseBtn539')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn539" onclick="toggleCodeBlock('cloneGroup539', 'expandBtn539', 'collapseBtn539')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup539"><code class="language-markdown text-sm text-gray-800">Kim Davies and contributors.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore-1.0.9.dist-info/licenses/LICENSE.md (Line 1:2 - Line 27:8), .venv/lib/python3.14/site-packages/httpx-0.28.1.dist-info/licenses/LICENSE.md (Line 1:2 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn575" onclick="toggleCodeBlock('cloneGroup575', 'expandBtn575', 'collapseBtn575')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn575" onclick="toggleCodeBlock('cloneGroup575', 'expandBtn575', 'collapseBtn575')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup575"><code class="language-markdown text-sm text-gray-800">[Encode OSS Ltd](https://www.encode.io/).
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the copyright holder nor the names of its
  contributors may be used to endorse or promote products derived from
  this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="python-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">python</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 218:9 - Line 244:6), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 62:9 - Line 88:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup0"><code class="language-python text-sm text-gray-800">Retrieves a run step.

        Args:
          include: A list of additional fields to include in the response. Currently the only
              supported value is `step_details.tool_calls[*].file_search.results[*].content`
              to fetch the file search result content.

              See the
              [file search tool documentation](https://platform.openai.com/docs/assistants/tools/file-search#customizing-file-search-settings)
              for more information.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        if not run_id:
            raise ValueError(f&quot;Expected a non-empty value for `run_id` but received {run_id!r}&quot;)
        if not step_id:
            raise ValueError(f&quot;Expected a non-empty value for `step_id` but received {step_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 251:22 - Line 273:15), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 95:16 - Line 117:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup1"><code class="language-python text-sm text-gray-800">({&quot;include&quot;: include}, step_retrieve_params.StepRetrieveParams),
            ),
            cast_to=RunStep,
        )

    @typing_extensions.deprecated(&quot;The Assistants API is deprecated in favor of the Responses API&quot;)
    def list(
        self,
        run_id: str,
        *,
        thread_id: str,
        after: str | Omit = omit,
        before: str | Omit = omit,
        include: List[RunStepInclude] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 317:16 - Line 338:21), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 161:15 - Line 182:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup2"><code class="language-python text-sm text-gray-800">[RunStep],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;include&quot;: include,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    step_list_params.StepListParams,
                ),
            ),
            model=RunStep,
        )


class StepsWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssltransport.py (Line 115:9 - Line 127:7), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/packages/backports/makefile.py (Line 19:5 - Line 30:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup3"><code class="language-python text-sm text-gray-800">if not set(mode) &lt;= {&quot;r&quot;, &quot;w&quot;, &quot;b&quot;}:
            raise ValueError(&quot;invalid mode %r (only r, w, b allowed)&quot; % (mode,))

        writing = &quot;w&quot; in mode
        reading = &quot;r&quot; in mode or not writing
        assert reading or writing
        binary = &quot;b&quot; in mode
        rawmode = &quot;&quot;
        if reading:
            rawmode += &quot;r&quot;
        if writing:
            rawmode += &quot;w&quot;
        raw = socket</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssltransport.py (Line 128:2 - Line 148:5), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/packages/backports/makefile.py (Line 31:2 - Line 51:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup4"><code class="language-python text-sm text-gray-800">+= 1
        if buffering is None:
            buffering = -1
        if buffering &lt; 0:
            buffering = io.DEFAULT_BUFFER_SIZE
        if buffering == 0:
            if not binary:
                raise ValueError(&quot;unbuffered streams must be binary&quot;)
            return raw
        if reading and writing:
            buffer = io.BufferedRWPair(raw, raw, buffering)
        elif reading:
            buffer = io.BufferedReader(raw, buffering)
        else:
            assert writing
            buffer = io.BufferedWriter(raw, buffering)
        if binary:
            return buffer
        text = io.TextIOWrapper(buffer, encoding, errors, newline)
        text.mode = mode
        return text</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/pyopenssl.py (Line 399:2 - Line 418:9), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/securetransport.py (Line 754:9 - Line 774:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup5"><code class="language-python text-sm text-gray-800">)

    def _reuse(self):
        self._makefile_refs += 1

    def _drop(self):
        if self._makefile_refs &lt; 1:
            self.close()
        else:
            self._makefile_refs -= 1


if _fileobject:  # Platform-specific: Python 2

    def makefile(self, mode, bufsize=-1):
        self._makefile_refs += 1
        return _fileobject(self, mode, bufsize, close=True)

else:  # Platform-specific: Python 3
    makefile</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/resolution/resolvelib/requirements.py (Line 133:9 - Line 145:7), .venv/lib/python3.14/site-packages/pip/_internal/resolution/resolvelib/requirements.py (Line 56:9 - Line 68:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup6"><code class="language-python text-sm text-gray-800">self._equal_cache: str | None = None
        self._hash: int | None = None
        self._extras = frozenset(canonicalize_name(e) for e in self._ireq.extras)

    @property
    def _equal(self) -&gt; str:
        if self._equal_cache is not None:
            return self._equal_cache

        self._equal_cache = str(self._ireq)
        return self._equal_cache

    def __eq__</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/resolution/legacy/resolver.py (Line 117:5 - Line 132:2), .venv/lib/python3.14/site-packages/pip/_internal/resolution/resolvelib/resolver.py (Line 42:5 - Line 57:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup7"><code class="language-python text-sm text-gray-800">_allowed_strategies = {&quot;eager&quot;, &quot;only-if-needed&quot;, &quot;to-satisfy-only&quot;}

    def __init__(
        self,
        preparer: RequirementPreparer,
        finder: PackageFinder,
        wheel_cache: WheelCache | None,
        make_install_req: InstallRequirementProvider,
        use_user_site: bool,
        ignore_dependencies: bool,
        ignore_installed: bool,
        ignore_requires_python: bool,
        force_reinstall: bool,
        upgrade_strategy: str,
        py_version_info: tuple[int, ...] | None = None,
    ) -</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/fine_tuning/alpha/grader_run_params.py (Line 1:1 - Line 14:18), .venv/lib/python3.14/site-packages/openai/types/fine_tuning/alpha/grader_validate_params.py (Line 1:1 - Line 14:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup8"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from __future__ import annotations

from typing import Union
from typing_extensions import Required, TypeAlias, TypedDict

from ...graders.multi_grader_param import MultiGraderParam
from ...graders.python_grader_param import PythonGraderParam
from ...graders.score_model_grader_param import ScoreModelGraderParam
from ...graders.string_check_grader_param import StringCheckGraderParam
from ...graders.text_similarity_grader_param import TextSimilarityGraderParam

__all__ = [&quot;GraderRunParams&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/runs/output_item_list_response.py (Line 11:25 - Line 105:23), .venv/lib/python3.14/site-packages/openai/types/evals/runs/output_item_retrieve_response.py (Line 11:29 - Line 105:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup9"><code class="language-python text-sm text-gray-800">, &quot;Result&quot;, &quot;Sample&quot;, &quot;SampleInput&quot;, &quot;SampleOutput&quot;, &quot;SampleUsage&quot;]


class Result(BaseModel):
    name: str
    &quot;&quot;&quot;The name of the grader.&quot;&quot;&quot;

    passed: bool
    &quot;&quot;&quot;Whether the grader considered the output a pass.&quot;&quot;&quot;

    score: float
    &quot;&quot;&quot;The numeric score produced by the grader.&quot;&quot;&quot;

    sample: Optional[Dict[str, object]] = None
    &quot;&quot;&quot;Optional sample or intermediate data produced by the grader.&quot;&quot;&quot;

    type: Optional[str] = None
    &quot;&quot;&quot;The grader type (for example, &quot;string-check-grader&quot;).&quot;&quot;&quot;

    if TYPE_CHECKING:
        # Some versions of Pydantic &lt;2.8.0 have a bug and donâ€™t allow assigning a
        # value to this field, so for compatibility we avoid doing it at runtime.
        __pydantic_extra__: Dict[str, object] = FieldInfo(init=False)  # pyright: ignore[reportIncompatibleVariableOverride]

        # Stub to indicate that arbitrary properties are accepted.
        # To access properties that are not valid identifiers you can use `getattr`, e.g.
        # `getattr(obj, '$type')`
        def __getattr__(self, attr: str) -&gt; object: ...
    else:
        __pydantic_extra__: Dict[str, object]


class SampleInput(BaseModel):
    content: str
    &quot;&quot;&quot;The content of the message.&quot;&quot;&quot;

    role: str
    &quot;&quot;&quot;The role of the message sender (e.g., system, user, developer).&quot;&quot;&quot;


class SampleOutput(BaseModel):
    content: Optional[str] = None
    &quot;&quot;&quot;The content of the message.&quot;&quot;&quot;

    role: Optional[str] = None
    &quot;&quot;&quot;The role of the message (e.g. &quot;system&quot;, &quot;assistant&quot;, &quot;user&quot;).&quot;&quot;&quot;


class SampleUsage(BaseModel):
    cached_tokens: int
    &quot;&quot;&quot;The number of tokens retrieved from cache.&quot;&quot;&quot;

    completion_tokens: int
    &quot;&quot;&quot;The number of completion tokens generated.&quot;&quot;&quot;

    prompt_tokens: int
    &quot;&quot;&quot;The number of prompt tokens used.&quot;&quot;&quot;

    total_tokens: int
    &quot;&quot;&quot;The total number of tokens used.&quot;&quot;&quot;


class Sample(BaseModel):
    error: EvalAPIError
    &quot;&quot;&quot;An object representing an error response from the Eval API.&quot;&quot;&quot;

    finish_reason: str
    &quot;&quot;&quot;The reason why the sample generation was finished.&quot;&quot;&quot;

    input: List[SampleInput]
    &quot;&quot;&quot;An array of input messages.&quot;&quot;&quot;

    max_completion_tokens: int
    &quot;&quot;&quot;The maximum number of tokens allowed for completion.&quot;&quot;&quot;

    model: str
    &quot;&quot;&quot;The model used for generating the sample.&quot;&quot;&quot;

    output: List[SampleOutput]
    &quot;&quot;&quot;An array of output messages.&quot;&quot;&quot;

    seed: int
    &quot;&quot;&quot;The seed used for generating the sample.&quot;&quot;&quot;

    temperature: float
    &quot;&quot;&quot;The sampling temperature used.&quot;&quot;&quot;

    top_p: float
    &quot;&quot;&quot;The top_p value used for sampling.&quot;&quot;&quot;

    usage: SampleUsage
    &quot;&quot;&quot;Token usage details for the sample.&quot;&quot;&quot;


class OutputItemListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 216:3 - Line 231:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 82:5 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup10"><code class="language-python text-sm text-gray-800">.&quot;&quot;&quot;

    metadata: Optional[Metadata]
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


class TruncationStrategy(TypedDict, total=False):
    type: Required[Literal[&quot;auto&quot;, &quot;last_messages&quot;]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/threads/run.py (Line 171:8 - Line 195:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 123:8 - Line 147:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup11"><code class="language-python text-sm text-gray-800">Specifies the format that the model must output.

    Compatible with [GPT-4o](https://platform.openai.com/docs/models#gpt-4o),
    [GPT-4 Turbo](https://platform.openai.com/docs/models#gpt-4-turbo-and-gpt-4),
    and all GPT-3.5 Turbo models since `gpt-3.5-turbo-1106`.

    Setting to `{ &quot;type&quot;: &quot;json_schema&quot;, &quot;json_schema&quot;: {...} }` enables Structured
    Outputs which ensures the model will match your supplied JSON schema. Learn more
    in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables JSON mode, which ensures the
    message the model generates is valid JSON.

    **Important:** when using JSON mode, you **must** also instruct the model to
    produce JSON yourself via a system or user message. Without this, the model may
    generate an unending stream of whitespace until the generation reaches the token
    limit, resulting in a long-running and seemingly &quot;stuck&quot; request. Also note that
    the message content may be partially cut off if `finish_reason=&quot;length&quot;`, which
    indicates the generation exceeded `max_tokens` or the conversation exceeded the
    max context length.
    &quot;&quot;&quot;

    started_at: Optional[int] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/threads/run.py (Line 212:5 - Line 222:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 155:5 - Line 165:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup12"><code class="language-python text-sm text-gray-800">Controls which (if any) tool is called by the model. `none` means the model will
    not call any tools and instead generates a message. `auto` is the default value
    and means the model can pick between generating a message or calling one or more
    tools. `required` means the model must call one or more tools before responding
    to the user. Specifying a particular tool like `{&quot;type&quot;: &quot;file_search&quot;}` or
    `{&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: {&quot;name&quot;: &quot;my_function&quot;}}` forces the model to
    call that tool.
    &quot;&quot;&quot;

    tools: List[AssistantTool]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update.py (Line 141:8 - Line 150:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 141:8 - Line 150:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup13"><code class="language-python text-sm text-gray-800">Configuration for input audio noise reduction.

    This can be set to `null` to turn off. Noise reduction filters audio added to
    the input audio buffer before it is sent to VAD and the model. Filtering the
    audio can improve VAD and turn detection accuracy (reducing false positives) and
    model performance by improving perception of the input audio.
    &quot;&quot;&quot;

    input_audio_transcription: Optional[SessionInputAudioTranscription] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update.py (Line 163:8 - Line 179:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 163:8 - Line 179:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup14"><code class="language-python text-sm text-gray-800">Configuration for turn detection, ether Server VAD or Semantic VAD.

    This can be set to `null` to turn off, in which case the client must manually
    trigger model response. Server VAD means that the model will detect the start
    and end of speech based on audio volume and respond at the end of user speech.
    Semantic VAD is more advanced and uses a turn detection model (in conjunction
    with VAD) to semantically estimate whether the user has finished speaking, then
    dynamically sets a timeout based on this probability. For example, if user audio
    trails off with &quot;uhhm&quot;, the model will score a low probability of turn end and
    wait longer for the user to continue speaking. This can be useful for more
    natural conversations, but may have a higher latency.
    &quot;&quot;&quot;


class TranscriptionSessionUpdate(BaseModel):
    session: Session
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_create_params.py (Line 126:14 - Line 173:3), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 72:21 - Line 124:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup15"><code class="language-python text-sm text-gray-800">(TypedDict, total=False):
    create_response: bool
    &quot;&quot;&quot;Whether or not to automatically generate a response when a VAD stop event
    occurs.

    Not available for transcription sessions.
    &quot;&quot;&quot;

    eagerness: Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`.
    &quot;&quot;&quot;

    interrupt_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs. Not available for transcription sessions.
    &quot;&quot;&quot;

    prefix_padding_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: float
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;

    type: Literal[&quot;server_vad&quot;, &quot;semantic_vad&quot;]
    &quot;&quot;&quot;Type of turn detection.&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 119:7 - Line 138:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 77:9 - Line 92:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup16"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    eagerness: Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`.
    &quot;&quot;&quot;

    interrupt_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: int
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 134:7 - Line 169:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 92:9 - Line 127:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup17"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    prefix_padding_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: float
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;

    type: Literal[&quot;server_vad&quot;, &quot;semantic_vad&quot;]
    &quot;&quot;&quot;Type of turn detection.&quot;&quot;&quot;


class Session(TypedDict, total=False):
    client_secret: SessionClientSecret
    &quot;&quot;&quot;Configuration options for the generated client secret.&quot;&quot;&quot;

    input_audio_format: Literal[&quot;pcm16&quot;, &quot;g711_ulaw&quot;, &quot;g711_alaw&quot;]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 166:2 - Line 187:2), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 130:5 - Line 150:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup18"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;

    input_audio_format: Literal[&quot;pcm16&quot;, &quot;g711_ulaw&quot;, &quot;g711_alaw&quot;]
    &quot;&quot;&quot;The format of input audio.

    Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. For `pcm16`, input audio must
    be 16-bit PCM at a 24kHz sample rate, single channel (mono), and little-endian
    byte order.
    &quot;&quot;&quot;

    input_audio_noise_reduction: SessionInputAudioNoiseReduction
    &quot;&quot;&quot;Configuration for input audio noise reduction.

    This can be set to `null` to turn off. Noise reduction filters audio added to
    the input audio buffer before it is sent to VAD and the model. Filtering the
    audio can improve VAD and turn detection accuracy (reducing false positives) and
    model performance by improving perception of the input audio.
    &quot;&quot;&quot;

    input_audio_transcription: SessionInputAudioTranscription
    &quot;&quot;&quot;
    Configuration for input audio transcription,</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 276:9 - Line 294:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 159:2 - Line 179:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup19"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    turn_detection: SessionTurnDetection
    &quot;&quot;&quot;Configuration for turn detection, ether Server VAD or Semantic VAD.

    This can be set to `null` to turn off, in which case the client must manually
    trigger model response. Server VAD means that the model will detect the start
    and end of speech based on audio volume and respond at the end of user speech.
    Semantic VAD is more advanced and uses a turn detection model (in conjunction
    with VAD) to semantically estimate whether the user has finished speaking, then
    dynamically sets a timeout based on this probability. For example, if user audio
    trails off with &quot;uhhm&quot;, the model will score a low probability of turn end and
    wait longer for the user to continue speaking. This can be useful for more
    natural conversations, but may have a higher latency.
    &quot;&quot;&quot;

    voice: Union[str, Literal[&quot;alloy&quot;, &quot;ash&quot;, &quot;ballad&quot;, &quot;coral&quot;, &quot;echo&quot;, &quot;sage&quot;, &quot;shimmer&quot;, &quot;verse&quot;]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 119:7 - Line 138:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update.py (Line 77:9 - Line 92:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup20"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    eagerness: Optional[Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]] = None
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`.
    &quot;&quot;&quot;

    interrupt_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: Optional[int] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 134:7 - Line 169:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update.py (Line 92:9 - Line 127:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup21"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    prefix_padding_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: Optional[float] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;server_vad&quot;, &quot;semantic_vad&quot;]] = None
    &quot;&quot;&quot;Type of turn detection.&quot;&quot;&quot;


class Session(BaseModel):
    client_secret: Optional[SessionClientSecret] = None
    &quot;&quot;&quot;Configuration options for the generated client secret.&quot;&quot;&quot;

    input_audio_format: Optional[Literal[&quot;pcm16&quot;, &quot;g711_ulaw&quot;, &quot;g711_alaw&quot;]] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 166:2 - Line 187:2), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update.py (Line 130:5 - Line 150:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup22"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;

    input_audio_format: Optional[Literal[&quot;pcm16&quot;, &quot;g711_ulaw&quot;, &quot;g711_alaw&quot;]] = None
    &quot;&quot;&quot;The format of input audio.

    Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. For `pcm16`, input audio must
    be 16-bit PCM at a 24kHz sample rate, single channel (mono), and little-endian
    byte order.
    &quot;&quot;&quot;

    input_audio_noise_reduction: Optional[SessionInputAudioNoiseReduction] = None
    &quot;&quot;&quot;Configuration for input audio noise reduction.

    This can be set to `null` to turn off. Noise reduction filters audio added to
    the input audio buffer before it is sent to VAD and the model. Filtering the
    audio can improve VAD and turn detection accuracy (reducing false positives) and
    model performance by improving perception of the input audio.
    &quot;&quot;&quot;

    input_audio_transcription: Optional[SessionInputAudioTranscription] = None
    &quot;&quot;&quot;
    Configuration for input audio transcription,</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 187:5 - Line 198:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 187:5 - Line 198:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup23"><code class="language-python text-sm text-gray-800">Configuration for input audio transcription, defaults to off and can be set to
    `null` to turn off once on. Input audio transcription is not native to the
    model, since the model consumes audio directly. Transcription runs
    asynchronously through
    [the /audio/transcriptions endpoint](https://platform.openai.com/docs/api-reference/audio/createTranscription)
    and should be treated as guidance of input audio content rather than precisely
    what the model heard. The client can optionally set the language and prompt for
    transcription, these offer additional guidance to the transcription service.
    &quot;&quot;&quot;

    instructions: Optional[str] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 198:8 - Line 214:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 198:8 - Line 214:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup24"><code class="language-python text-sm text-gray-800">The default system instructions (i.e.

    system message) prepended to model calls. This field allows the client to guide
    the model on desired responses. The model can be instructed on response content
    and format, (e.g. &quot;be extremely succinct&quot;, &quot;act friendly&quot;, &quot;here are examples of
    good responses&quot;) and on audio behavior (e.g. &quot;talk quickly&quot;, &quot;inject emotion
    into your voice&quot;, &quot;laugh frequently&quot;). The instructions are not guaranteed to be
    followed by the model, but they provide guidance to the model on the desired
    behavior.

    Note that the server sets default instructions which will be used if this field
    is not set and are visible in the `session.created` event at the start of the
    session.
    &quot;&quot;&quot;

    max_response_output_tokens: Union[int, Literal[&quot;inf&quot;], None] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 278:9 - Line 296:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update.py (Line 159:2 - Line 179:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup25"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    turn_detection: Optional[SessionTurnDetection] = None
    &quot;&quot;&quot;Configuration for turn detection, ether Server VAD or Semantic VAD.

    This can be set to `null` to turn off, in which case the client must manually
    trigger model response. Server VAD means that the model will detect the start
    and end of speech based on audio volume and respond at the end of user speech.
    Semantic VAD is more advanced and uses a turn detection model (in conjunction
    with VAD) to semantically estimate whether the user has finished speaking, then
    dynamically sets a timeout based on this probability. For example, if user audio
    trails off with &quot;uhhm&quot;, the model will score a low probability of turn end and
    wait longer for the user to continue speaking. This can be useful for more
    natural conversations, but may have a higher latency.
    &quot;&quot;&quot;

    voice: Union[str, Literal[&quot;alloy&quot;, &quot;ash&quot;, &quot;ballad&quot;, &quot;coral&quot;, &quot;echo&quot;, &quot;sage&quot;, &quot;shimmer&quot;, &quot;verse&quot;], None] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_create_params.py (Line 212:5 - Line 231:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 75:12 - Line 94:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup26"><code class="language-python text-sm text-gray-800">(TypedDict, total=False):
    description: str
    &quot;&quot;&quot;
    The description of the function, including guidance on when and how to call it,
    and guidance about what to tell the user when calling (if anything).
    &quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the function.&quot;&quot;&quot;

    parameters: object
    &quot;&quot;&quot;Parameters of the function in JSON Schema.&quot;&quot;&quot;

    type: Literal[&quot;function&quot;]
    &quot;&quot;&quot;The type of the tool, i.e. `function`.&quot;&quot;&quot;


class TracingTracingConfiguration(TypedDict, total=False):
    group_id: str
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_create_params.py (Line 255:5 - Line 298:2), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 118:5 - Line 173:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup27"><code class="language-python text-sm text-gray-800">Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    eagerness: Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`.
    &quot;&quot;&quot;

    interrupt_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: float
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;

    type: Literal[&quot;server_vad&quot;, &quot;semantic_vad&quot;]
    &quot;&quot;&quot;Type of turn detection.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session.py (Line 53:5 - Line 72:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 75:12 - Line 94:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup28"><code class="language-python text-sm text-gray-800">(BaseModel):
    description: Optional[str] = None
    &quot;&quot;&quot;
    The description of the function, including guidance on when and how to call it,
    and guidance about what to tell the user when calling (if anything).
    &quot;&quot;&quot;

    name: Optional[str] = None
    &quot;&quot;&quot;The name of the function.&quot;&quot;&quot;

    parameters: Optional[object] = None
    &quot;&quot;&quot;Parameters of the function in JSON Schema.&quot;&quot;&quot;

    type: Optional[Literal[&quot;function&quot;]] = None
    &quot;&quot;&quot;The type of the tool, i.e. `function`.&quot;&quot;&quot;


class TracingTracingConfiguration(BaseModel):
    group_id: Optional[str] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session.py (Line 96:5 - Line 144:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 118:5 - Line 124:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup29"><code class="language-python text-sm text-gray-800">Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    eagerness: Optional[Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]] = None
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`.
    &quot;&quot;&quot;

    interrupt_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: Optional[float] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;server_vad&quot;, &quot;semantic_vad&quot;]] = None
    &quot;&quot;&quot;Type of turn detection.&quot;&quot;&quot;


class Session(BaseModel):
    id: Optional[str] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session.py (Line 155:8 - Line 164:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 141:8 - Line 150:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup30"><code class="language-python text-sm text-gray-800">Configuration for input audio noise reduction.

    This can be set to `null` to turn off. Noise reduction filters audio added to
    the input audio buffer before it is sent to VAD and the model. Filtering the
    audio can improve VAD and turn detection accuracy (reducing false positives) and
    model performance by improving perception of the input audio.
    &quot;&quot;&quot;

    input_audio_transcription: Optional[InputAudioTranscription] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session.py (Line 165:5 - Line 247:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 187:5 - Line 269:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup31"><code class="language-python text-sm text-gray-800">Configuration for input audio transcription, defaults to off and can be set to
    `null` to turn off once on. Input audio transcription is not native to the
    model, since the model consumes audio directly. Transcription runs
    asynchronously through
    [the /audio/transcriptions endpoint](https://platform.openai.com/docs/api-reference/audio/createTranscription)
    and should be treated as guidance of input audio content rather than precisely
    what the model heard. The client can optionally set the language and prompt for
    transcription, these offer additional guidance to the transcription service.
    &quot;&quot;&quot;

    instructions: Optional[str] = None
    &quot;&quot;&quot;The default system instructions (i.e.

    system message) prepended to model calls. This field allows the client to guide
    the model on desired responses. The model can be instructed on response content
    and format, (e.g. &quot;be extremely succinct&quot;, &quot;act friendly&quot;, &quot;here are examples of
    good responses&quot;) and on audio behavior (e.g. &quot;talk quickly&quot;, &quot;inject emotion
    into your voice&quot;, &quot;laugh frequently&quot;). The instructions are not guaranteed to be
    followed by the model, but they provide guidance to the model on the desired
    behavior.

    Note that the server sets default instructions which will be used if this field
    is not set and are visible in the `session.created` event at the start of the
    session.
    &quot;&quot;&quot;

    max_response_output_tokens: Union[int, Literal[&quot;inf&quot;], None] = None
    &quot;&quot;&quot;
    Maximum number of output tokens for a single assistant response, inclusive of
    tool calls. Provide an integer between 1 and 4096 to limit output tokens, or
    `inf` for the maximum available tokens for a given model. Defaults to `inf`.
    &quot;&quot;&quot;

    modalities: Optional[List[Literal[&quot;text&quot;, &quot;audio&quot;]]] = None
    &quot;&quot;&quot;The set of modalities the model can respond with.

    To disable audio, set this to [&quot;text&quot;].
    &quot;&quot;&quot;

    model: Optional[
        Literal[
            &quot;gpt-realtime&quot;,
            &quot;gpt-realtime-2025-08-28&quot;,
            &quot;gpt-4o-realtime-preview&quot;,
            &quot;gpt-4o-realtime-preview-2024-10-01&quot;,
            &quot;gpt-4o-realtime-preview-2024-12-17&quot;,
            &quot;gpt-4o-realtime-preview-2025-06-03&quot;,
            &quot;gpt-4o-mini-realtime-preview&quot;,
            &quot;gpt-4o-mini-realtime-preview-2024-12-17&quot;,
        ]
    ] = None
    &quot;&quot;&quot;The Realtime model used for this session.&quot;&quot;&quot;

    output_audio_format: Optional[Literal[&quot;pcm16&quot;, &quot;g711_ulaw&quot;, &quot;g711_alaw&quot;]] = None
    &quot;&quot;&quot;The format of output audio.

    Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. For `pcm16`, output audio is
    sampled at a rate of 24kHz.
    &quot;&quot;&quot;

    speed: Optional[float] = None
    &quot;&quot;&quot;The speed of the model's spoken response.

    1.0 is the default speed. 0.25 is the minimum speed. 1.5 is the maximum speed.
    This value can only be changed in between model turns, not while a response is
    in progress.
    &quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;Sampling temperature for the model, limited to [0.6, 1.2].

    For audio models a temperature of 0.8 is highly recommended for best
    performance.
    &quot;&quot;&quot;

    tool_choice: Optional[str] = None
    &quot;&quot;&quot;How the model chooses tools.

    Options are `auto`, `none`, `required`, or specify a function.
    &quot;&quot;&quot;

    tools: Optional[List[Tool]] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/session.py (Line 260:8 - Line 279:3), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 163:8 - Line 306:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup32"><code class="language-python text-sm text-gray-800">Configuration for turn detection, ether Server VAD or Semantic VAD.

    This can be set to `null` to turn off, in which case the client must manually
    trigger model response. Server VAD means that the model will detect the start
    and end of speech based on audio volume and respond at the end of user speech.
    Semantic VAD is more advanced and uses a turn detection model (in conjunction
    with VAD) to semantically estimate whether the user has finished speaking, then
    dynamically sets a timeout based on this probability. For example, if user audio
    trails off with &quot;uhhm&quot;, the model will score a low probability of turn end and
    wait longer for the user to continue speaking. This can be useful for more
    natural conversations, but may have a higher latency.
    &quot;&quot;&quot;

    voice: Union[str, Literal[&quot;alloy&quot;, &quot;ash&quot;, &quot;ballad&quot;, &quot;coral&quot;, &quot;echo&quot;, &quot;sage&quot;, &quot;shimmer&quot;, &quot;verse&quot;], None] = None
    &quot;&quot;&quot;The voice the model uses to respond.

    Voice cannot be changed during the session once the model has responded with
    audio at least once. Current voice options are `alloy`, `ash`, `ballad`,
    `coral`, `echo`, `sage`, `shimmer`, and `verse`.
    &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/realtime/conversation_item.py (Line 30:24 - Line 60:2), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/conversation_item_with_reference.py (Line 53:8 - Line 83:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup33"><code class="language-python text-sm text-gray-800">]] = None
    &quot;&quot;&quot;The content of the message, applicable for `message` items.

    - Message items of role `system` support only `input_text` content
    - Message items of role `user` support `input_text` and `input_audio` content
    - Message items of role `assistant` support `text` content.
    &quot;&quot;&quot;

    name: Optional[str] = None
    &quot;&quot;&quot;The name of the function being called (for `function_call` items).&quot;&quot;&quot;

    object: Optional[Literal[&quot;realtime.item&quot;]] = None
    &quot;&quot;&quot;Identifier for the API object being returned - always `realtime.item`.&quot;&quot;&quot;

    output: Optional[str] = None
    &quot;&quot;&quot;The output of the function call (for `function_call_output` items).&quot;&quot;&quot;

    role: Optional[Literal[&quot;user&quot;, &quot;assistant&quot;, &quot;system&quot;]] = None
    &quot;&quot;&quot;
    The role of the message sender (`user`, `assistant`, `system`), only applicable
    for `message` items.
    &quot;&quot;&quot;

    status: Optional[Literal[&quot;completed&quot;, &quot;incomplete&quot;, &quot;in_progress&quot;]] = None
    &quot;&quot;&quot;The status of the item (`completed`, `incomplete`, `in_progress`).

    These have no effect on the conversation, but are accepted for consistency with
    the `conversation.item.created` event.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;message&quot;, &quot;function_call&quot;, &quot;function_call_output&quot;]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 117:2 - Line 124:7), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 86:8 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup34"><code class="language-python text-sm text-gray-800">Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          method</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 461:9 - Line 571:12), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 81:9 - Line 191:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup35"><code class="language-python text-sm text-gray-800">Creates a fine-tuning job which begins the process of creating a new model from
        a given dataset.

        Response includes details of the enqueued job including job status and the name
        of the fine-tuned models once complete.

        [Learn more about fine-tuning](https://platform.openai.com/docs/guides/model-optimization)

        Args:
          model: The name of the model to fine-tune. You can select one of the
              [supported models](https://platform.openai.com/docs/guides/fine-tuning#which-models-can-be-fine-tuned).

          training_file: The ID of an uploaded file that contains training data.

              See [upload file](https://platform.openai.com/docs/api-reference/files/create)
              for how to upload a file.

              Your dataset must be formatted as a JSONL file. Additionally, you must upload
              your file with the purpose `fine-tune`.

              The contents of the file should differ depending on if the model uses the
              [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input),
              [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)
              format, or if the fine-tuning method uses the
              [preference](https://platform.openai.com/docs/api-reference/fine-tuning/preference-input)
              format.

              See the
              [fine-tuning guide](https://platform.openai.com/docs/guides/model-optimization)
              for more details.

          hyperparameters: The hyperparameters used for the fine-tuning job. This value is now deprecated
              in favor of `method`, and should be passed in under the `method` parameter.

          integrations: A list of integrations to enable for your fine-tuning job.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          method: The method used for fine-tuning.

          seed: The seed controls the reproducibility of the job. Passing in the same seed and
              job parameters should produce the same results, but may differ in rare cases. If
              a seed is not specified, one will be generated for you.

          suffix: A string of up to 64 characters that will be added to your fine-tuned model
              name.

              For example, a `suffix` of &quot;custom-model-name&quot; would produce a model name like
              `ft:gpt-4o-mini:openai:custom-model-name:7p4lURel`.

          validation_file: The ID of an uploaded file that contains validation data.

              If you provide this file, the data is used to generate validation metrics
              periodically during fine-tuning. These metrics can be viewed in the fine-tuning
              results file. The same data should not be present in both train and validation
              files.

              Your dataset must be formatted as a JSONL file. You must upload your file with
              the purpose `fine-tune`.

              See the
              [fine-tuning guide](https://platform.openai.com/docs/guides/model-optimization)
              for more details.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await self._post(
            &quot;/fine_tuning/jobs&quot;,
            body=await async_maybe_transform(
                {
                    &quot;model&quot;: model,
                    &quot;training_file&quot;: training_file,
                    &quot;hyperparameters&quot;: hyperparameters,
                    &quot;integrations&quot;: integrations,
                    &quot;metadata&quot;: metadata,
                    &quot;method&quot;: method,
                    &quot;seed&quot;: seed,
                    &quot;suffix&quot;: suffix,
                    &quot;validation_file&quot;: validation_file,
                },
                job_create_params.JobCreateParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=FineTuningJob,
        )

    async def retrieve(
        self,
        fine_tuning_job_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FineTuningJob:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 572:9 - Line 587:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 192:9 - Line 207:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup36"><code class="language-python text-sm text-gray-800">Get info about a fine-tuning job.

        [Learn more about fine-tuning](https://platform.openai.com/docs/guides/model-optimization)

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuning_job_id:
            raise ValueError(f&quot;Expected a non-empty value for `fine_tuning_job_id` but received {fine_tuning_job_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 587:2 - Line 607:15), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 207:2 - Line 227:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup37"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/fine_tuning/jobs/{fine_tuning_job_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=FineTuningJob,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        metadata: Optional[Dict[str, str]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 647:2 - Line 672:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 267:5 - Line 292:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup38"><code class="language-python text-sm text-gray-800">def cancel(
        self,
        fine_tuning_job_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FineTuningJob:
        &quot;&quot;&quot;
        Immediately cancel a fine-tune job.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuning_job_id:
            raise ValueError(f&quot;Expected a non-empty value for `fine_tuning_job_id` but received {fine_tuning_job_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 672:2 - Line 692:15), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 292:2 - Line 312:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup39"><code class="language-python text-sm text-gray-800">self._post(
            f&quot;/fine_tuning/jobs/{fine_tuning_job_id}/cancel&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=FineTuningJob,
        )

    def list_events(
        self,
        fine_tuning_job_id: str,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 730:2 - Line 755:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 350:5 - Line 375:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup40"><code class="language-python text-sm text-gray-800">def pause(
        self,
        fine_tuning_job_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FineTuningJob:
        &quot;&quot;&quot;
        Pause a fine-tune job.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuning_job_id:
            raise ValueError(f&quot;Expected a non-empty value for `fine_tuning_job_id` but received {fine_tuning_job_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 763:2 - Line 788:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 383:5 - Line 408:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup41"><code class="language-python text-sm text-gray-800">def resume(
        self,
        fine_tuning_job_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FineTuningJob:
        &quot;&quot;&quot;
        Resume a fine-tune job.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuning_job_id:
            raise ValueError(f&quot;Expected a non-empty value for `fine_tuning_job_id` but received {fine_tuning_job_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/checkpoints.py (Line 129:9 - Line 148:16), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/checkpoints.py (Line 58:9 - Line 77:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup42"><code class="language-python text-sm text-gray-800">List checkpoints for a fine-tuning job.

        Args:
          after: Identifier for the last checkpoint ID from the previous pagination request.

          limit: Number of checkpoints to retrieve.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuning_job_id:
            raise ValueError(f&quot;Expected a non-empty value for `fine_tuning_job_id` but received {fine_tuning_job_id!r}&quot;)
        return self._get_api_list(
            f&quot;/fine_tuning/jobs/{fine_tuning_job_id}/checkpoints&quot;,
            page=AsyncCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/permissions.py (Line 226:9 - Line 248:10), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/permissions.py (Line 58:9 - Line 80:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup43"><code class="language-python text-sm text-gray-800">**NOTE:** Calling this endpoint requires an [admin API key](../admin-api-keys).

        This enables organization owners to share fine-tuned models with other projects
        in their organization.

        Args:
          project_ids: The project identifiers to grant access to.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuned_model_checkpoint:
            raise ValueError(
                f&quot;Expected a non-empty value for `fine_tuned_model_checkpoint` but received {fine_tuned_model_checkpoint!r}&quot;
            )
        return self._get_api_list(
            f&quot;/fine_tuning/checkpoints/{fine_tuned_model_checkpoint}/permissions&quot;,
            page=AsyncPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/permissions.py (Line 257:2 - Line 299:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/permissions.py (Line 89:5 - Line 131:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup44"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        fine_tuned_model_checkpoint: str,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;ascending&quot;, &quot;descending&quot;] | Omit = omit,
        project_id: str | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; PermissionRetrieveResponse:
        &quot;&quot;&quot;
        **NOTE:** This endpoint requires an [admin API key](../admin-api-keys).

        Organization owners can use this endpoint to view all permissions for a
        fine-tuned model checkpoint.

        Args:
          after: Identifier for the last permission ID from the previous pagination request.

          limit: Number of permissions to retrieve.

          order: The order in which to retrieve permissions.

          project_id: The ID of the project to get permissions for.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuned_model_checkpoint:
            raise ValueError(
                f&quot;Expected a non-empty value for `fine_tuned_model_checkpoint` but received {fine_tuned_model_checkpoint!r}&quot;
            )
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/permissions.py (Line 319:2 - Line 352:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/permissions.py (Line 151:5 - Line 184:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup45"><code class="language-python text-sm text-gray-800">def delete(
        self,
        permission_id: str,
        *,
        fine_tuned_model_checkpoint: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; PermissionDeleteResponse:
        &quot;&quot;&quot;
        **NOTE:** This endpoint requires an [admin API key](../admin-api-keys).

        Organization owners can use this endpoint to delete a permission for a
        fine-tuned model checkpoint.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not fine_tuned_model_checkpoint:
            raise ValueError(
                f&quot;Expected a non-empty value for `fine_tuned_model_checkpoint` but received {fine_tuned_model_checkpoint!r}&quot;
            )
        if not permission_id:
            raise ValueError(f&quot;Expected a non-empty value for `permission_id` but received {permission_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/checkpoints/checkpoints.py (Line 24:5 - Line 51:12), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/checkpoints.py (Line 25:5 - Line 57:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup46"><code class="language-python text-sm text-gray-800">@cached_property
    def with_raw_response(self) -&gt; CheckpointsWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return CheckpointsWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; CheckpointsWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return CheckpointsWithStreamingResponse(self)


class AsyncCheckpoints(AsyncAPIResource):
    @cached_property
    def permissions(self) -&gt; AsyncPermissions:
        return AsyncPermissions(self._client)

    @cached_property
    def with_raw_response(self) -&gt; AsyncCheckpointsWithRawResponse:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/alpha/graders.py (Line 163:9 - Line 186:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/alpha/graders.py (Line 55:9 - Line 78:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup47"><code class="language-python text-sm text-gray-800">Run a grader.

        Args:
          grader: The grader used for the fine-tuning job.

          model_sample: The model sample to be evaluated. This value will be used to populate the
              `sample` namespace. See
              [the guide](https://platform.openai.com/docs/guides/graders) for more details.
              The `output_json` variable will be populated if the model sample is a valid JSON
              string.

          item: The dataset item provided to the grader. This will be used to populate the
              `item` namespace. See
              [the guide](https://platform.openai.com/docs/guides/graders) for more details.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/fine_tuning/alpha/graders.py (Line 202:2 - Line 227:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/alpha/graders.py (Line 94:5 - Line 119:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup48"><code class="language-python text-sm text-gray-800">def validate(
        self,
        *,
        grader: grader_validate_params.Grader,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; GraderValidateResponse:
        &quot;&quot;&quot;
        Validate a grader.

        Args:
          grader: The grader used for the fine-tuning job.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 8:1 - Line 16:13), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/alpha/graders.py (Line 5:1 - Line 13:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup49"><code class="language-python text-sm text-gray-800">import httpx

from .... import _legacy_response
from ...._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ...._utils import maybe_transform, async_maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from .output_items</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 81:7 - Line 90:5), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 115:4 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup50"><code class="language-python text-sm text-gray-800">.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 326:9 - Line 352:6), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 76:9 - Line 102:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup51"><code class="language-python text-sm text-gray-800">Kicks off a new run for a given evaluation, specifying the data source, and what
        model configuration to use to test. The datasource will be validated against the
        schema specified in the config of the evaluation.

        Args:
          data_source: Details about the run's data source.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: The name of the run.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 368:2 - Line 396:6), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 118:5 - Line 146:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup52"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        run_id: str,
        *,
        eval_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; RunRetrieveResponse:
        &quot;&quot;&quot;
        Get an evaluation run by ID.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        if not run_id:
            raise ValueError(f&quot;Expected a non-empty value for `run_id` but received {run_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 396:2 - Line 418:15), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 146:2 - Line 168:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup53"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/evals/{eval_id}/runs/{run_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=RunRetrieveResponse,
        )

    def list(
        self,
        eval_id: str,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        status: Literal[&quot;queued&quot;, &quot;in_progress&quot;, &quot;completed&quot;, &quot;canceled&quot;, &quot;failed&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 445:16 - Line 464:6), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 195:15 - Line 214:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup54"><code class="language-python text-sm text-gray-800">[RunListResponse],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                        &quot;status&quot;: status,
                    },
                    run_list_params.RunListParams,
                ),
            ),
            model=RunListResponse,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 464:2 - Line 492:6), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 214:5 - Line 242:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup55"><code class="language-python text-sm text-gray-800">def delete(
        self,
        run_id: str,
        *,
        eval_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; RunDeleteResponse:
        &quot;&quot;&quot;
        Delete an eval run.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        if not run_id:
            raise ValueError(f&quot;Expected a non-empty value for `run_id` but received {run_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 500:2 - Line 528:6), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 250:5 - Line 278:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup56"><code class="language-python text-sm text-gray-800">def cancel(
        self,
        run_id: str,
        *,
        eval_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; RunCancelResponse:
        &quot;&quot;&quot;
        Cancel an ongoing evaluation run.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        if not run_id:
            raise ValueError(f&quot;Expected a non-empty value for `run_id` but received {run_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 7:1 - Line 16:15), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/checkpoints.py (Line 5:1 - Line 14:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup57"><code class="language-python text-sm text-gray-800">import httpx

from .... import _legacy_response
from ...._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ...._utils import maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ....pagination import SyncCursorPage, AsyncCursorPage
from ...._base_client import AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 181:9 - Line 198:6), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 58:9 - Line 75:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup58"><code class="language-python text-sm text-gray-800">Get an evaluation run output item by ID.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        if not run_id:
            raise ValueError(f&quot;Expected a non-empty value for `run_id` but received {run_id!r}&quot;)
        if not output_item_id:
            raise ValueError(f&quot;Expected a non-empty value for `output_item_id` but received {output_item_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 198:2 - Line 221:15), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 75:2 - Line 98:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup59"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/evals/{eval_id}/runs/{run_id}/output_items/{output_item_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=OutputItemRetrieveResponse,
        )

    def list(
        self,
        run_id: str,
        *,
        eval_id: str,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        status: Literal[&quot;fail&quot;, &quot;pass&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 250:16 - Line 270:27), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 127:15 - Line 147:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup60"><code class="language-python text-sm text-gray-800">[OutputItemListResponse],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                        &quot;status&quot;: status,
                    },
                    output_item_list_params.OutputItemListParams,
                ),
            ),
            model=OutputItemListResponse,
        )


class OutputItemsWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 153:2 - Line 162:17), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 108:2 - Line 117:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup61"><code class="language-python text-sm text-gray-800">| Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncCursorPage[FileListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 285:9 - Line 316:6), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 72:9 - Line 103:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup62"><code class="language-python text-sm text-gray-800">Create a Container File

        You can send either a multipart/form-data request with the raw file content, or
        a JSON request with a file ID.

        Args:
          file: The File object (not file name) to be uploaded.

          file_id: Name of the file to create.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not container_id:
            raise ValueError(f&quot;Expected a non-empty value for `container_id` but received {container_id!r}&quot;)
        body = deepcopy_minimal(
            {
                &quot;file&quot;: file,
                &quot;file_id&quot;: file_id,
            }
        )
        files = extract_files(cast(Mapping[str, object], body), paths=[[&quot;file&quot;]])
        # It should be noted that the actual Content-Type header that will be
        # sent to the server will contain a `boundary` parameter, e.g.
        # multipart/form-data; boundary=---abc--
        extra_headers = {&quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 326:2 - Line 354:6), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 113:5 - Line 141:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup63"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        file_id: str,
        *,
        container_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FileRetrieveResponse:
        &quot;&quot;&quot;
        Retrieve Container File

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not container_id:
            raise ValueError(f&quot;Expected a non-empty value for `container_id` but received {container_id!r}&quot;)
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 354:2 - Line 375:17), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 141:2 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup64"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/containers/{container_id}/files/{file_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=FileRetrieveResponse,
        )

    def list(
        self,
        container_id: str,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[FileListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 422:2 - Line 451:6), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 209:5 - Line 238:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup65"><code class="language-python text-sm text-gray-800">def delete(
        self,
        file_id: str,
        *,
        container_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; None:
        &quot;&quot;&quot;
        Delete Container File

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not container_id:
            raise ValueError(f&quot;Expected a non-empty value for `container_id` but received {container_id!r}&quot;)
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;*/*&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/files/content.py (Line 113:9 - Line 129:6), .venv/lib/python3.14/site-packages/openai/resources/containers/files/content.py (Line 55:9 - Line 71:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup66"><code class="language-python text-sm text-gray-800">Retrieve Container File Content

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not container_id:
            raise ValueError(f&quot;Expected a non-empty value for `container_id` but received {container_id!r}&quot;)
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;application/binary&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/chat/completions/messages.py (Line 1:1 - Line 17:5), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 1:1 - Line 17:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup67"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from __future__ import annotations

from typing_extensions import Literal

import httpx

from .... import _legacy_response
from ...._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ...._utils import maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ....pagination import SyncCursorPage, AsyncCursorPage
from ...._base_client import AsyncPaginator, make_request_options
from ....types.chat</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/chat/completions/messages.py (Line 135:12 - Line 160:16), .venv/lib/python3.14/site-packages/openai/resources/chat/completions/messages.py (Line 57:12 - Line 82:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup68"><code class="language-python text-sm text-gray-800">Get the messages in a stored chat completion.

        Only Chat Completions that have
        been created with the `store` parameter set to `true` will be returned.

        Args:
          after: Identifier for the last message from the previous pagination request.

          limit: Number of messages to retrieve.

          order: Sort order for messages by timestamp. Use `asc` for ascending order or `desc`
              for descending order. Defaults to `asc`.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not completion_id:
            raise ValueError(f&quot;Expected a non-empty value for `completion_id` but received {completion_id!r}&quot;)
        return self._get_api_list(
            f&quot;/chat/completions/{completion_id}/messages&quot;,
            page=AsyncCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 6:2 - Line 17:11), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/runs.py (Line 5:2 - Line 13:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup69"><code class="language-python text-sm text-gray-800">Optional
from typing_extensions import Literal

import httpx

from .... import _legacy_response
from ...._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ...._utils import maybe_transform, async_maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ....pagination</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 28:1 - Line 67:12), .venv/lib/python3.14/site-packages/openai/resources/chat/completions/messages.py (Line 20:1 - Line 57:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup70"><code class="language-python text-sm text-gray-800">__all__ = [&quot;Messages&quot;, &quot;AsyncMessages&quot;]


class Messages(SyncAPIResource):
    @cached_property
    def with_raw_response(self) -&gt; MessagesWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return MessagesWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; MessagesWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return MessagesWithStreamingResponse(self)

    @typing_extensions.deprecated(&quot;The Assistants API is deprecated in favor of the Responses API&quot;)
    def create(
        self,
        thread_id: str,
        *,
        content: Union[str, Iterable[MessageContentPartParam]],
        role: Literal[&quot;user&quot;, &quot;assistant&quot;],
        attachments: Optional[Iterable[message_create_params.Attachment]] | Omit = omit,
        metadata: Optional[Metadata] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Message:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 74:15 - Line 81:12), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 207:8 - Line 216:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup71"><code class="language-python text-sm text-gray-800">The role of the entity that is creating the message. Allowed values include:

              - `user`: Indicates the message is sent by an actual user and should be used in
                most cases to represent user-generated messages.
              - `assistant`: Indicates the message is generated by the assistant. Use this
                value to insert messages from the assistant into the conversation.

          attachments</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 81:3 - Line 90:14), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 115:4 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup72"><code class="language-python text-sm text-gray-800">.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          extra_headers</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 310:15 - Line 350:12), .venv/lib/python3.14/site-packages/openai/resources/chat/completions/messages.py (Line 97:27 - Line 135:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup73"><code class="language-python text-sm text-gray-800">,
        )


class AsyncMessages(AsyncAPIResource):
    @cached_property
    def with_raw_response(self) -&gt; AsyncMessagesWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return AsyncMessagesWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; AsyncMessagesWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return AsyncMessagesWithStreamingResponse(self)

    @typing_extensions.deprecated(&quot;The Assistants API is deprecated in favor of the Responses API&quot;)
    async def create(
        self,
        thread_id: str,
        *,
        content: Union[str, Iterable[MessageContentPartParam]],
        role: Literal[&quot;user&quot;, &quot;assistant&quot;],
        attachments: Optional[Iterable[message_create_params.Attachment]] | Omit = omit,
        metadata: Optional[Metadata] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Message:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 351:9 - Line 384:6), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 68:9 - Line 101:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup74"><code class="language-python text-sm text-gray-800">Create a message.

        Args:
          content: The text contents of the message.

          role:
              The role of the entity that is creating the message. Allowed values include:

              - `user`: Indicates the message is sent by an actual user and should be used in
                most cases to represent user-generated messages.
              - `assistant`: Indicates the message is generated by the assistant. Use this
                value to insert messages from the assistant into the conversation.

          attachments: A list of files attached to the message, and the tools they should be added to.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 402:2 - Line 431:6), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 119:5 - Line 148:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup75"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        message_id: str,
        *,
        thread_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Message:
        &quot;&quot;&quot;
        Retrieve a message.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        if not message_id:
            raise ValueError(f&quot;Expected a non-empty value for `message_id` but received {message_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 440:2 - Line 477:6), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 157:5 - Line 194:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup76"><code class="language-python text-sm text-gray-800">def update(
        self,
        message_id: str,
        *,
        thread_id: str,
        metadata: Optional[Metadata] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Message:
        &quot;&quot;&quot;
        Modifies a message.

        Args:
          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        if not message_id:
            raise ValueError(f&quot;Expected a non-empty value for `message_id` but received {message_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 479:22 - Line 502:15), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 196:16 - Line 219:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup77"><code class="language-python text-sm text-gray-800">({&quot;metadata&quot;: metadata}, message_update_params.MessageUpdateParams),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=Message,
        )

    @typing_extensions.deprecated(&quot;The Assistants API is deprecated in favor of the Responses API&quot;)
    def list(
        self,
        thread_id: str,
        *,
        after: str | Omit = omit,
        before: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        run_id: str | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 538:16 - Line 559:6), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 255:15 - Line 276:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup78"><code class="language-python text-sm text-gray-800">[Message],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                        &quot;run_id&quot;: run_id,
                    },
                    message_list_params.MessageListParams,
                ),
            ),
            model=Message,
        )

    @typing_extensions.deprecated(&quot;The Assistants API is deprecated in favor of the Responses API&quot;)
    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 559:2 - Line 588:6), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/messages.py (Line 276:5 - Line 305:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup79"><code class="language-python text-sm text-gray-800">def delete(
        self,
        message_id: str,
        *,
        thread_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; MessageDeleted:
        &quot;&quot;&quot;
        Deletes a message.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        if not message_id:
            raise ValueError(f&quot;Expected a non-empty value for `message_id` but received {message_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 82:2 - Line 88:26), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 141:8 - Line 150:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup80"><code class="language-python text-sm text-gray-800">Configuration for input audio noise reduction. This can be set to `null` to turn
              off. Noise reduction filters audio added to the input audio buffer before it is
              sent to VAD and the model. Filtering the audio can improve VAD and turn
              detection accuracy (reducing false positives) and model performance by improving
              perception of the input audio.

          input_audio_transcription</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 95:2 - Line 106:14), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/transcription_session_update_param.py (Line 163:8 - Line 179:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup81"><code class="language-python text-sm text-gray-800">Configuration for turn detection, ether Server VAD or Semantic VAD. This can be
              set to `null` to turn off, in which case the client must manually trigger model
              response. Server VAD means that the model will detect the start and end of
              speech based on audio volume and respond at the end of user speech. Semantic VAD
              is more advanced and uses a turn detection model (in conjunction with VAD) to
              semantically estimate whether the user has finished speaking, then dynamically
              sets a timeout based on this probability. For example, if user audio trails off
              with &quot;uhhm&quot;, the model will score a low probability of turn end and wait longer
              for the user to continue speaking. This can be useful for more natural
              conversations, but may have a higher latency.

          extra_headers</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 175:9 - Line 226:3), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 62:9 - Line 139:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup82"><code class="language-python text-sm text-gray-800">Create an ephemeral API token for use in client-side applications with the
        Realtime API specifically for realtime transcriptions. Can be configured with
        the same session parameters as the `transcription_session.update` client event.

        It responds with a session object, plus a `client_secret` key which contains a
        usable ephemeral API token that can be used to authenticate browser clients for
        the Realtime API.

        Args:
          client_secret: Configuration options for the generated client secret.

          include:
              The set of items to include in the transcription. Current available items are:

              - `item.input_audio_transcription.logprobs`

          input_audio_format: The format of input audio. Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. For
              `pcm16`, input audio must be 16-bit PCM at a 24kHz sample rate, single channel
              (mono), and little-endian byte order.

          input_audio_noise_reduction: Configuration for input audio noise reduction. This can be set to `null` to turn
              off. Noise reduction filters audio added to the input audio buffer before it is
              sent to VAD and the model. Filtering the audio can improve VAD and turn
              detection accuracy (reducing false positives) and model performance by improving
              perception of the input audio.

          input_audio_transcription: Configuration for input audio transcription. The client can optionally set the
              language and prompt for transcription, these offer additional guidance to the
              transcription service.

          modalities: The set of modalities the model can respond with. To disable audio, set this to
              [&quot;text&quot;].

          turn_detection: Configuration for turn detection, ether Server VAD or Semantic VAD. This can be
              set to `null` to turn off, in which case the client must manually trigger model
              response. Server VAD means that the model will detect the start and end of
              speech based on audio volume and respond at the end of user speech. Semantic VAD
              is more advanced and uses a turn detection model (in conjunction with VAD) to
              semantically estimate whether the user has finished speaking, then dynamically
              sets a timeout based on this probability. For example, if user audio trails off
              with &quot;uhhm&quot;, the model will score a low probability of turn end and wait longer
              for the user to continue speaking. This can be useful for more natural
              conversations, but may have a higher latency.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 6:1 - Line 17:22), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 6:1 - Line 17:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup83"><code class="language-python text-sm text-gray-800">from typing_extensions import Literal

import httpx

from .... import _legacy_response
from ...._types import NOT_GIVEN, Body, Query, Headers, NotGiven
from ...._utils import maybe_transform, async_maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ...._base_client import make_request_options
from ....types.beta.realtime import session_create_params</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 92:11 - Line 102:2), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 78:11 - Line 88:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup84"><code class="language-python text-sm text-gray-800">input_audio_format: The format of input audio. Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. For
              `pcm16`, input audio must be 16-bit PCM at a 24kHz sample rate, single channel
              (mono), and little-endian byte order.

          input_audio_noise_reduction: Configuration for input audio noise reduction. This can be set to `null` to turn
              off. Noise reduction filters audio added to the input audio buffer before it is
              sent to VAD and the model. Filtering the audio can improve VAD and turn
              detection accuracy (reducing false positives) and model performance by improving
              perception of the input audio.

          input_audio_transcription: Configuration for input audio transcription,</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 102:2 - Line 111:13), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event_param.py (Line 187:5 - Line 198:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup85"><code class="language-python text-sm text-gray-800">Configuration for input audio transcription, defaults to off and can be set to
              `null` to turn off once on. Input audio transcription is not native to the
              model, since the model consumes audio directly. Transcription runs
              asynchronously through
              [the /audio/transcriptions endpoint](https://platform.openai.com/docs/api-reference/audio/createTranscription)
              and should be treated as guidance of input audio content rather than precisely
              what the model heard. The client can optionally set the language and prompt for
              transcription, these offer additional guidance to the transcription service.

          instructions</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 151:9 - Line 164:6), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 93:2 - Line 179:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup86"><code class="language-python text-sm text-gray-800">.

          turn_detection: Configuration for turn detection, ether Server VAD or Semantic VAD. This can be
              set to `null` to turn off, in which case the client must manually trigger model
              response. Server VAD means that the model will detect the start and end of
              speech based on audio volume and respond at the end of user speech. Semantic VAD
              is more advanced and uses a turn detection model (in conjunction with VAD) to
              semantically estimate whether the user has finished speaking, then dynamically
              sets a timeout based on this probability. For example, if user audio trails off
              with &quot;uhhm&quot;, the model will score a low probability of turn end and wait longer
              for the user to continue speaking. This can be useful for more natural
              conversations, but may have a higher latency.

          voice</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 265:9 - Line 359:3), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 81:9 - Line 210:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup87"><code class="language-python text-sm text-gray-800">Create an ephemeral API token for use in client-side applications with the
        Realtime API. Can be configured with the same session parameters as the
        `session.update` client event.

        It responds with a session object, plus a `client_secret` key which contains a
        usable ephemeral API token that can be used to authenticate browser clients for
        the Realtime API.

        Args:
          client_secret: Configuration options for the generated client secret.

          input_audio_format: The format of input audio. Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. For
              `pcm16`, input audio must be 16-bit PCM at a 24kHz sample rate, single channel
              (mono), and little-endian byte order.

          input_audio_noise_reduction: Configuration for input audio noise reduction. This can be set to `null` to turn
              off. Noise reduction filters audio added to the input audio buffer before it is
              sent to VAD and the model. Filtering the audio can improve VAD and turn
              detection accuracy (reducing false positives) and model performance by improving
              perception of the input audio.

          input_audio_transcription: Configuration for input audio transcription, defaults to off and can be set to
              `null` to turn off once on. Input audio transcription is not native to the
              model, since the model consumes audio directly. Transcription runs
              asynchronously through
              [the /audio/transcriptions endpoint](https://platform.openai.com/docs/api-reference/audio/createTranscription)
              and should be treated as guidance of input audio content rather than precisely
              what the model heard. The client can optionally set the language and prompt for
              transcription, these offer additional guidance to the transcription service.

          instructions: The default system instructions (i.e. system message) prepended to model calls.
              This field allows the client to guide the model on desired responses. The model
              can be instructed on response content and format, (e.g. &quot;be extremely succinct&quot;,
              &quot;act friendly&quot;, &quot;here are examples of good responses&quot;) and on audio behavior
              (e.g. &quot;talk quickly&quot;, &quot;inject emotion into your voice&quot;, &quot;laugh frequently&quot;). The
              instructions are not guaranteed to be followed by the model, but they provide
              guidance to the model on the desired behavior.

              Note that the server sets default instructions which will be used if this field
              is not set and are visible in the `session.created` event at the start of the
              session.

          max_response_output_tokens: Maximum number of output tokens for a single assistant response, inclusive of
              tool calls. Provide an integer between 1 and 4096 to limit output tokens, or
              `inf` for the maximum available tokens for a given model. Defaults to `inf`.

          modalities: The set of modalities the model can respond with. To disable audio, set this to
              [&quot;text&quot;].

          model: The Realtime model used for this session.

          output_audio_format: The format of output audio. Options are `pcm16`, `g711_ulaw`, or `g711_alaw`.
              For `pcm16`, output audio is sampled at a rate of 24kHz.

          speed: The speed of the model's spoken response. 1.0 is the default speed. 0.25 is the
              minimum speed. 1.5 is the maximum speed. This value can only be changed in
              between model turns, not while a response is in progress.

          temperature: Sampling temperature for the model, limited to [0.6, 1.2]. For audio models a
              temperature of 0.8 is highly recommended for best performance.

          tool_choice: How the model chooses tools. Options are `auto`, `none`, `required`, or specify
              a function.

          tools: Tools (functions) available to the model.

          tracing: Configuration options for tracing. Set to null to disable tracing. Once tracing
              is enabled for a session, the configuration cannot be modified.

              `auto` will create a trace for the session with default values for the workflow
              name, group id, and metadata.

          turn_detection: Configuration for turn detection, ether Server VAD or Semantic VAD. This can be
              set to `null` to turn off, in which case the client must manually trigger model
              response. Server VAD means that the model will detect the start and end of
              speech based on audio volume and respond at the end of user speech. Semantic VAD
              is more advanced and uses a turn detection model (in conjunction with VAD) to
              semantically estimate whether the user has finished speaking, then dynamically
              sets a timeout based on this probability. For example, if user audio trails off
              with &quot;uhhm&quot;, the model will score a low probability of turn end and wait longer
              for the user to continue speaking. This can be useful for more natural
              conversations, but may have a higher latency.

          voice: The voice the model uses to respond. Voice cannot be changed during the session
              once the model has responded with audio at least once. Current voice options are
              `alloy`, `ash`, `ballad`, `coral`, `echo`, `sage`, `shimmer`, and `verse`.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 350:8 - Line 362:21), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 217:8 - Line 229:35)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup88"><code class="language-python text-sm text-gray-800">.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await self._post(
            &quot;/realtime/sessions&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 6:1 - Line 16:27), .venv/lib/python3.14/site-packages/openai/resources/evals/runs/output_items.py (Line 5:1 - Line 13:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup89"><code class="language-python text-sm text-gray-800">from typing_extensions import Literal

import httpx

from .... import _legacy_response
from ...._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ...._utils import maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ....pagination import SyncConversationCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 182:7 - Line 191:27), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 153:6 - Line 117:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup90"><code class="language-python text-sm text-gray-800">: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncConversationCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 271:9 - Line 285:6), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 58:9 - Line 72:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup91"><code class="language-python text-sm text-gray-800">Retrieve a ChatKit thread

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;chatkit_beta=v1&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 285:2 - Line 307:15), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 72:2 - Line 94:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup92"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/chatkit/threads/{thread_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=ChatKitThread,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        before: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        user: str | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 336:28 - Line 356:6), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 123:27 - Line 143:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup93"><code class="language-python text-sm text-gray-800">[ChatKitThread],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                        &quot;user&quot;: user,
                    },
                    thread_list_params.ThreadListParams,
                ),
            ),
            model=ChatKitThread,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 356:2 - Line 382:6), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 143:5 - Line 169:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup94"><code class="language-python text-sm text-gray-800">def delete(
        self,
        thread_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ThreadDeleteResponse:
        &quot;&quot;&quot;
        Delete a ChatKit thread

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not thread_id:
            raise ValueError(f&quot;Expected a non-empty value for `thread_id` but received {thread_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;chatkit_beta=v1&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 382:2 - Line 404:5), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 169:2 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup95"><code class="language-python text-sm text-gray-800">self._delete(
            f&quot;/chatkit/threads/{thread_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=ThreadDeleteResponse,
        )

    def list_items(
        self,
        thread_id: str,
        *,
        after: str | Omit = omit,
        before: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[Data</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 432:28 - Line 452:23), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 219:27 - Line 239:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup96"><code class="language-python text-sm text-gray-800">[Data],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    thread_list_items_params.ThreadListItemsParams,
                ),
            ),
            model=cast(Any, Data),  # Union types cannot be passed in as arguments in the type system
        )


class ThreadsWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/sessions.py (Line 1:1 - Line 14:5), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/alpha/graders.py (Line 1:1 - Line 14:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup97"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from __future__ import annotations

import httpx

from .... import _legacy_response
from ...._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ...._utils import maybe_transform, async_maybe_transform
from ...._compat import cached_property
from ...._resource import SyncAPIResource, AsyncAPIResource
from ...._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ...._base_client import make_request_options
from ....types.beta</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/sessions.py (Line 27:1 - Line 65:12), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/sessions.py (Line 20:1 - Line 80:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup98"><code class="language-python text-sm text-gray-800">__all__ = [&quot;Sessions&quot;, &quot;AsyncSessions&quot;]


class Sessions(SyncAPIResource):
    @cached_property
    def with_raw_response(self) -&gt; SessionsWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return SessionsWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; SessionsWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return SessionsWithStreamingResponse(self)

    def create(
        self,
        *,
        user: str,
        workflow: ChatSessionWorkflowParam,
        chatkit_configuration: ChatSessionChatKitConfigurationParam | Omit = omit,
        expires_after: ChatSessionExpiresAfterParam | Omit = omit,
        rate_limits: ChatSessionRateLimitsParam | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ChatSession:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/sessions.py (Line 179:9 - Line 203:6), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/sessions.py (Line 66:9 - Line 90:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup99"><code class="language-python text-sm text-gray-800">Create a ChatKit session

        Args:
          user: A free-form string that identifies your end user; ensures this Session can
              access other objects that have the same `user` scope.

          workflow: Workflow that powers the session.

          chatkit_configuration: Optional overrides for ChatKit runtime configuration features

          expires_after: Optional override for session expiration timing in seconds from creation.
              Defaults to 10 minutes.

          rate_limits: Optional override for per-minute request limits. When omitted, defaults to 10.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;chatkit_beta=v1&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/sessions.py (Line 221:2 - Line 247:6), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/sessions.py (Line 108:5 - Line 134:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup100"><code class="language-python text-sm text-gray-800">def cancel(
        self,
        session_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ChatSession:
        &quot;&quot;&quot;
        Cancel a ChatKit session

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not session_id:
            raise ValueError(f&quot;Expected a non-empty value for `session_id` but received {session_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;chatkit_beta=v1&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/streaming/responses/_responses.py (Line 136:12 - Line 147:6), .venv/lib/python3.14/site-packages/openai/lib/streaming/responses/_responses.py (Line 34:7 - Line 45:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup101"><code class="language-python text-sm text-gray-800">[RawResponseStreamEvent],
        text_format: type[TextFormatT] | Omit,
        input_tools: Iterable[ToolParam] | Omit,
        starting_after: int | None,
    ) -&gt; None:
        self._raw_stream = raw_stream
        self._response = raw_stream.response
        self._iterator = self.__stream__()
        self._state = ResponseStreamState(text_format=text_format, input_tools=input_tools)
        self._starting_after = starting_after

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/streaming/chat/_completions.py (Line 182:12 - Line 191:6), .venv/lib/python3.14/site-packages/openai/lib/streaming/chat/_completions.py (Line 59:7 - Line 68:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup102"><code class="language-python text-sm text-gray-800">[ChatCompletionChunk],
        response_format: type[ResponseFormatT] | ResponseFormatParam | Omit,
        input_tools: Iterable[ChatCompletionToolUnionParam] | Omit,
    ) -&gt; None:
        self._raw_stream = raw_stream
        self._response = raw_stream.response
        self._iterator = self.__stream__()
        self._state = ChatCompletionStreamState(response_format=response_format, input_tools=input_tools)

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/streaming/chat/_completions.py (Line 198:5 - Line 217:21), .venv/lib/python3.14/site-packages/openai/lib/streaming/responses/_responses.py (Line 161:5 - Line 180:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup103"><code class="language-python text-sm text-gray-800">async def __aenter__(self) -&gt; Self:
        return self

    async def __aexit__(
        self,
        exc_type: type[BaseException] | None,
        exc: BaseException | None,
        exc_tb: TracebackType | None,
    ) -&gt; None:
        await self.close()

    async def close(self) -&gt; None:
        &quot;&quot;&quot;
        Close the response and release the connection.

        Automatically called if the response body is read to completion.
        &quot;&quot;&quot;
        await self._response.aclose()

    async def get_final_completion</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_generated/types/text_to_audio.py (Line 20:31 - Line 75:22), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_generated/types/text_to_speech.py (Line 20:32 - Line 75:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup104"><code class="language-python text-sm text-gray-800">]] = None
    &quot;&quot;&quot;Controls the stopping condition for beam-based methods.&quot;&quot;&quot;
    epsilon_cutoff: Optional[float] = None
    &quot;&quot;&quot;If set to float strictly between 0 and 1, only tokens with a conditional probability
    greater than epsilon_cutoff will be sampled. In the paper, suggested values range from
    3e-4 to 9e-4, depending on the size of the model. See [Truncation Sampling as Language
    Model Desmoothing](https://hf.co/papers/2210.15191) for more details.
    &quot;&quot;&quot;
    eta_cutoff: Optional[float] = None
    &quot;&quot;&quot;Eta sampling is a hybrid of locally typical sampling and epsilon sampling. If set to
    float strictly between 0 and 1, a token is only considered if it is greater than either
    eta_cutoff or sqrt(eta_cutoff) * exp(-entropy(softmax(next_token_logits))). The latter
    term is intuitively the expected next token probability, scaled by sqrt(eta_cutoff). In
    the paper, suggested values range from 3e-4 to 2e-3, depending on the size of the model.
    See [Truncation Sampling as Language Model Desmoothing](https://hf.co/papers/2210.15191)
    for more details.
    &quot;&quot;&quot;
    max_length: Optional[int] = None
    &quot;&quot;&quot;The maximum length (in tokens) of the generated text, including the input.&quot;&quot;&quot;
    max_new_tokens: Optional[int] = None
    &quot;&quot;&quot;The maximum number of tokens to generate. Takes precedence over max_length.&quot;&quot;&quot;
    min_length: Optional[int] = None
    &quot;&quot;&quot;The minimum length (in tokens) of the generated text, including the input.&quot;&quot;&quot;
    min_new_tokens: Optional[int] = None
    &quot;&quot;&quot;The minimum number of tokens to generate. Takes precedence over min_length.&quot;&quot;&quot;
    num_beam_groups: Optional[int] = None
    &quot;&quot;&quot;Number of groups to divide num_beams into in order to ensure diversity among different
    groups of beams. See [this paper](https://hf.co/papers/1610.02424) for more details.
    &quot;&quot;&quot;
    num_beams: Optional[int] = None
    &quot;&quot;&quot;Number of beams to use for beam search.&quot;&quot;&quot;
    penalty_alpha: Optional[float] = None
    &quot;&quot;&quot;The value balances the model confidence and the degeneration penalty in contrastive
    search decoding.
    &quot;&quot;&quot;
    temperature: Optional[float] = None
    &quot;&quot;&quot;The value used to modulate the next token probabilities.&quot;&quot;&quot;
    top_k: Optional[int] = None
    &quot;&quot;&quot;The number of highest probability vocabulary tokens to keep for top-k-filtering.&quot;&quot;&quot;
    top_p: Optional[float] = None
    &quot;&quot;&quot;If set to float &lt; 1, only the smallest set of most probable tokens with probabilities
    that add up to top_p or higher are kept for generation.
    &quot;&quot;&quot;
    typical_p: Optional[float] = None
    &quot;&quot;&quot;Local typicality measures how similar the conditional probability of predicting a target
    token next is to the expected conditional probability of predicting a random token next,
    given the partial text already generated. If set to float &lt; 1, the smallest set of the
    most locally typical tokens with probabilities that add up to typical_p or higher are
    kept for generation. See [this paper](https://hf.co/papers/2202.00666) for more details.
    &quot;&quot;&quot;
    use_cache: Optional[bool] = None
    &quot;&quot;&quot;Whether the model should use the past last key/values attentions to speed up decoding&quot;&quot;&quot;


@dataclass_with_extra
class TextToAudioParameters</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_generated/types/image_to_text.py (Line 20:31 - Line 75:22), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_generated/types/text_to_speech.py (Line 20:32 - Line 75:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup105"><code class="language-python text-sm text-gray-800">]] = None
    &quot;&quot;&quot;Controls the stopping condition for beam-based methods.&quot;&quot;&quot;
    epsilon_cutoff: Optional[float] = None
    &quot;&quot;&quot;If set to float strictly between 0 and 1, only tokens with a conditional probability
    greater than epsilon_cutoff will be sampled. In the paper, suggested values range from
    3e-4 to 9e-4, depending on the size of the model. See [Truncation Sampling as Language
    Model Desmoothing](https://hf.co/papers/2210.15191) for more details.
    &quot;&quot;&quot;
    eta_cutoff: Optional[float] = None
    &quot;&quot;&quot;Eta sampling is a hybrid of locally typical sampling and epsilon sampling. If set to
    float strictly between 0 and 1, a token is only considered if it is greater than either
    eta_cutoff or sqrt(eta_cutoff) * exp(-entropy(softmax(next_token_logits))). The latter
    term is intuitively the expected next token probability, scaled by sqrt(eta_cutoff). In
    the paper, suggested values range from 3e-4 to 2e-3, depending on the size of the model.
    See [Truncation Sampling as Language Model Desmoothing](https://hf.co/papers/2210.15191)
    for more details.
    &quot;&quot;&quot;
    max_length: Optional[int] = None
    &quot;&quot;&quot;The maximum length (in tokens) of the generated text, including the input.&quot;&quot;&quot;
    max_new_tokens: Optional[int] = None
    &quot;&quot;&quot;The maximum number of tokens to generate. Takes precedence over max_length.&quot;&quot;&quot;
    min_length: Optional[int] = None
    &quot;&quot;&quot;The minimum length (in tokens) of the generated text, including the input.&quot;&quot;&quot;
    min_new_tokens: Optional[int] = None
    &quot;&quot;&quot;The minimum number of tokens to generate. Takes precedence over min_length.&quot;&quot;&quot;
    num_beam_groups: Optional[int] = None
    &quot;&quot;&quot;Number of groups to divide num_beams into in order to ensure diversity among different
    groups of beams. See [this paper](https://hf.co/papers/1610.02424) for more details.
    &quot;&quot;&quot;
    num_beams: Optional[int] = None
    &quot;&quot;&quot;Number of beams to use for beam search.&quot;&quot;&quot;
    penalty_alpha: Optional[float] = None
    &quot;&quot;&quot;The value balances the model confidence and the degeneration penalty in contrastive
    search decoding.
    &quot;&quot;&quot;
    temperature: Optional[float] = None
    &quot;&quot;&quot;The value used to modulate the next token probabilities.&quot;&quot;&quot;
    top_k: Optional[int] = None
    &quot;&quot;&quot;The number of highest probability vocabulary tokens to keep for top-k-filtering.&quot;&quot;&quot;
    top_p: Optional[float] = None
    &quot;&quot;&quot;If set to float &lt; 1, only the smallest set of most probable tokens with probabilities
    that add up to top_p or higher are kept for generation.
    &quot;&quot;&quot;
    typical_p: Optional[float] = None
    &quot;&quot;&quot;Local typicality measures how similar the conditional probability of predicting a target
    token next is to the expected conditional probability of predicting a random token next,
    given the partial text already generated. If set to float &lt; 1, the smallest set of the
    most locally typical tokens with probabilities that add up to typical_p or higher are
    kept for generation. See [this paper](https://hf.co/papers/2202.00666) for more details.
    &quot;&quot;&quot;
    use_cache: Optional[bool] = None
    &quot;&quot;&quot;Whether the model should use the past last key/values attentions to speed up decoding&quot;&quot;&quot;


@dataclass_with_extra
class ImageToTextParameters</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_generated/types/automatic_speech_recognition.py (Line 20:46 - Line 75:37), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_generated/types/text_to_speech.py (Line 20:32 - Line 75:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup106"><code class="language-python text-sm text-gray-800">]] = None
    &quot;&quot;&quot;Controls the stopping condition for beam-based methods.&quot;&quot;&quot;
    epsilon_cutoff: Optional[float] = None
    &quot;&quot;&quot;If set to float strictly between 0 and 1, only tokens with a conditional probability
    greater than epsilon_cutoff will be sampled. In the paper, suggested values range from
    3e-4 to 9e-4, depending on the size of the model. See [Truncation Sampling as Language
    Model Desmoothing](https://hf.co/papers/2210.15191) for more details.
    &quot;&quot;&quot;
    eta_cutoff: Optional[float] = None
    &quot;&quot;&quot;Eta sampling is a hybrid of locally typical sampling and epsilon sampling. If set to
    float strictly between 0 and 1, a token is only considered if it is greater than either
    eta_cutoff or sqrt(eta_cutoff) * exp(-entropy(softmax(next_token_logits))). The latter
    term is intuitively the expected next token probability, scaled by sqrt(eta_cutoff). In
    the paper, suggested values range from 3e-4 to 2e-3, depending on the size of the model.
    See [Truncation Sampling as Language Model Desmoothing](https://hf.co/papers/2210.15191)
    for more details.
    &quot;&quot;&quot;
    max_length: Optional[int] = None
    &quot;&quot;&quot;The maximum length (in tokens) of the generated text, including the input.&quot;&quot;&quot;
    max_new_tokens: Optional[int] = None
    &quot;&quot;&quot;The maximum number of tokens to generate. Takes precedence over max_length.&quot;&quot;&quot;
    min_length: Optional[int] = None
    &quot;&quot;&quot;The minimum length (in tokens) of the generated text, including the input.&quot;&quot;&quot;
    min_new_tokens: Optional[int] = None
    &quot;&quot;&quot;The minimum number of tokens to generate. Takes precedence over min_length.&quot;&quot;&quot;
    num_beam_groups: Optional[int] = None
    &quot;&quot;&quot;Number of groups to divide num_beams into in order to ensure diversity among different
    groups of beams. See [this paper](https://hf.co/papers/1610.02424) for more details.
    &quot;&quot;&quot;
    num_beams: Optional[int] = None
    &quot;&quot;&quot;Number of beams to use for beam search.&quot;&quot;&quot;
    penalty_alpha: Optional[float] = None
    &quot;&quot;&quot;The value balances the model confidence and the degeneration penalty in contrastive
    search decoding.
    &quot;&quot;&quot;
    temperature: Optional[float] = None
    &quot;&quot;&quot;The value used to modulate the next token probabilities.&quot;&quot;&quot;
    top_k: Optional[int] = None
    &quot;&quot;&quot;The number of highest probability vocabulary tokens to keep for top-k-filtering.&quot;&quot;&quot;
    top_p: Optional[float] = None
    &quot;&quot;&quot;If set to float &lt; 1, only the smallest set of most probable tokens with probabilities
    that add up to top_p or higher are kept for generation.
    &quot;&quot;&quot;
    typical_p: Optional[float] = None
    &quot;&quot;&quot;Local typicality measures how similar the conditional probability of predicting a target
    token next is to the expected conditional probability of predicting a random token next,
    given the partial text already generated. If set to float &lt; 1, the smallest set of the
    most locally typical tokens with probabilities that add up to typical_p or higher are
    kept for generation. See [this paper](https://hf.co/papers/2202.00666) for more details.
    &quot;&quot;&quot;
    use_cache: Optional[bool] = None
    &quot;&quot;&quot;Whether the model should use the past last key/values attentions to speed up decoding&quot;&quot;&quot;


@dataclass_with_extra
class AutomaticSpeechRecognitionParameters</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/contrib/emscripten/fetch.py (Line 344:5 - Line 361:15), .venv/lib/python3.14/site-packages/urllib3/contrib/emscripten/fetch.py (Line 124:5 - Line 141:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup107"><code class="language-python text-sm text-gray-800">def __del__(self) -&gt; None:
        self.close()

    # this is compatible with _base_connection
    def is_closed(self) -&gt; bool:
        return self._is_closed

    # for compatibility with RawIOBase
    @property
    def closed(self) -&gt; bool:
        return self.is_closed()

    def close(self) -&gt; None:
        if self.is_closed():
            return
        self.read_len = 0
        self.read_pos = 0
        self.js_read_stream</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/truststore/_macos.py (Line 133:5 - Line 166:14), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/_securetransport/bindings.py (Line 331:5 - Line 364:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup108"><code class="language-python text-sm text-gray-800">CoreFoundation.CFRelease.argtypes = [CFTypeRef]
    CoreFoundation.CFRelease.restype = None

    CoreFoundation.CFGetTypeID.argtypes = [CFTypeRef]
    CoreFoundation.CFGetTypeID.restype = CFTypeID

    CoreFoundation.CFStringCreateWithCString.argtypes = [
        CFAllocatorRef,
        c_char_p,
        CFStringEncoding,
    ]
    CoreFoundation.CFStringCreateWithCString.restype = CFStringRef

    CoreFoundation.CFStringGetCStringPtr.argtypes = [CFStringRef, CFStringEncoding]
    CoreFoundation.CFStringGetCStringPtr.restype = c_char_p

    CoreFoundation.CFStringGetCString.argtypes = [
        CFStringRef,
        c_char_p,
        CFIndex,
        CFStringEncoding,
    ]
    CoreFoundation.CFStringGetCString.restype = c_bool

    CoreFoundation.CFDataCreate.argtypes = [CFAllocatorRef, c_char_p, CFIndex]
    CoreFoundation.CFDataCreate.restype = CFDataRef

    CoreFoundation.CFDataGetLength.argtypes = [CFDataRef]
    CoreFoundation.CFDataGetLength.restype = CFIndex

    CoreFoundation.CFDataGetBytePtr.argtypes = [CFDataRef]
    CoreFoundation.CFDataGetBytePtr.restype = c_void_p

    CoreFoundation.CFArrayCreate</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/truststore/_macos.py (Line 166:5 - Line 190:15), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/_securetransport/bindings.py (Line 377:5 - Line 401:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup109"><code class="language-python text-sm text-gray-800">CoreFoundation.CFArrayCreate.argtypes = [
        CFAllocatorRef,
        POINTER(CFTypeRef),
        CFIndex,
        CFArrayCallBacks,
    ]
    CoreFoundation.CFArrayCreate.restype = CFArrayRef

    CoreFoundation.CFArrayCreateMutable.argtypes = [
        CFAllocatorRef,
        CFIndex,
        CFArrayCallBacks,
    ]
    CoreFoundation.CFArrayCreateMutable.restype = CFMutableArrayRef

    CoreFoundation.CFArrayAppendValue.argtypes = [CFMutableArrayRef, c_void_p]
    CoreFoundation.CFArrayAppendValue.restype = None

    CoreFoundation.CFArrayGetCount.argtypes = [CFArrayRef]
    CoreFoundation.CFArrayGetCount.restype = CFIndex

    CoreFoundation.CFArrayGetValueAtIndex.argtypes = [CFArrayRef, CFIndex]
    CoreFoundation.CFArrayGetValueAtIndex.restype = c_void_p

    CoreFoundation.CFErrorGetCode</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/traceback.py (Line 289:2 - Line 299:5), .venv/lib/python3.14/site-packages/pip/_vendor/rich/traceback.py (Line 85:5 - Line 95:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup110"><code class="language-python text-sm text-gray-800">,
        width: Optional[int] = 100,
        code_width: Optional[int] = 88,
        extra_lines: int = 3,
        theme: Optional[str] = None,
        word_wrap: bool = False,
        show_locals: bool = False,
        locals_max_length: int = LOCALS_MAX_LENGTH,
        locals_max_string: int = LOCALS_MAX_STRING,
        locals_hide_dunder: bool = True,
        locals_hide_sunder: bool</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/traceback.py (Line 344:2 - Line 359:2), .venv/lib/python3.14/site-packages/pip/_vendor/rich/traceback.py (Line 288:5 - Line 303:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup111"><code class="language-python text-sm text-gray-800">,
        *,
        width: Optional[int] = 100,
        code_width: Optional[int] = 88,
        extra_lines: int = 3,
        theme: Optional[str] = None,
        word_wrap: bool = False,
        show_locals: bool = False,
        locals_max_length: int = LOCALS_MAX_LENGTH,
        locals_max_string: int = LOCALS_MAX_STRING,
        locals_hide_dunder: bool = True,
        locals_hide_sunder: bool = False,
        indent_guides: bool = True,
        suppress: Iterable[Union[str, ModuleType]] = (),
        max_frames: int = 100,
    ) -</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/style.py (Line 651:9 - Line 660:5), .venv/lib/python3.14/site-packages/pip/_vendor/rich/style.py (Line 628:9 - Line 637:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup112"><code class="language-python text-sm text-gray-800">if self._null:
            return NULL_STYLE
        style: Style = self.__new__(Style)
        style._ansi = self._ansi
        style._style_definition = self._style_definition
        style._color = self._color
        style._bgcolor = self._bgcolor
        style._attributes = self._attributes
        style._set_attributes = self._set_attributes
        style._link = None</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/prompt.py (Line 95:5 - Line 107:7), .venv/lib/python3.14/site-packages/pip/_vendor/rich/prompt.py (Line 78:5 - Line 90:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup113"><code class="language-python text-sm text-gray-800">@classmethod
    @overload
    def ask(
        cls,
        prompt: TextType = &quot;&quot;,
        *,
        console: Optional[Console] = None,
        password: bool = False,
        choices: Optional[List[str]] = None,
        case_sensitive: bool = True,
        show_default: bool = True,
        show_choices: bool = True,
        stream</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/prompt.py (Line 112:5 - Line 122:4), .venv/lib/python3.14/site-packages/pip/_vendor/rich/prompt.py (Line 80:5 - Line 90:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup114"><code class="language-python text-sm text-gray-800">def ask(
        cls,
        prompt: TextType = &quot;&quot;,
        *,
        console: Optional[Console] = None,
        password: bool = False,
        choices: Optional[List[str]] = None,
        case_sensitive: bool = True,
        show_default: bool = True,
        show_choices: bool = True,
        default: Any</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/json.py (Line 56:4 - Line 65:7), .venv/lib/python3.14/site-packages/pip/_vendor/rich/json.py (Line 27:4 - Line 36:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup115"><code class="language-python text-sm text-gray-800">,
        indent: Union[None, int, str] = 2,
        highlight: bool = True,
        skip_keys: bool = False,
        ensure_ascii: bool = False,
        check_circular: bool = True,
        allow_nan: bool = True,
        default: Optional[Callable[[Any], Any]] = None,
        sort_keys: bool = False,
    ) -&gt; &quot;JSON&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/_palettes.py (Line 51:5 - Line 60:2), .venv/lib/python3.14/site-packages/pip/_vendor/rich/terminal_theme.py (Line 35:5 - Line 44:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup116"><code class="language-python text-sm text-gray-800">[
        (0, 0, 0),
        (128, 0, 0),
        (0, 128, 0),
        (128, 128, 0),
        (0, 0, 128),
        (128, 0, 128),
        (0, 128, 128),
        (192, 192, 192),
        (</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/_palettes.py (Line 60:9 - Line 68:2), .venv/lib/python3.14/site-packages/pip/_vendor/rich/terminal_theme.py (Line 46:9 - Line 54:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup117"><code class="language-python text-sm text-gray-800">(128, 128, 128),
        (255, 0, 0),
        (0, 255, 0),
        (255, 255, 0),
        (0, 0, 255),
        (255, 0, 255),
        (0, 255, 255),
        (255, 255, 255),
        (</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/__main__.py (Line 27:3 - Line 33:4), .venv/lib/python3.14/site-packages/pip/_vendor/rich/palette.py (Line 93:2 - Line 99:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup118"><code class="language-python text-sm text-gray-800">, 1.0)
                bgcolor = Color.from_rgb(r1 * 255, g1 * 255, b1 * 255)
                color = Color.from_rgb(r2 * 255, g2 * 255, b2 * 255)
                yield Segment(&quot;â–„&quot;, Style(color=color, bgcolor=bgcolor))
            yield Segment.line()

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/rich/__init__.py (Line 80:5 - Line 104:8), .venv/lib/python3.14/site-packages/pip/_vendor/rich/json.py (Line 27:4 - Line 37:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup119"><code class="language-python text-sm text-gray-800">,
    indent: Union[None, int, str] = 2,
    highlight: bool = True,
    skip_keys: bool = False,
    ensure_ascii: bool = False,
    check_circular: bool = True,
    allow_nan: bool = True,
    default: Optional[Callable[[Any], Any]] = None,
    sort_keys: bool = False,
) -&gt; None:
    &quot;&quot;&quot;Pretty prints JSON. Output will be valid JSON.

    Args:
        json (str): A string containing JSON.
        data (Any): If json is not supplied, then encode this data.
        indent (int, optional): Number of spaces to indent. Defaults to 2.
        highlight (bool, optional): Enable highlighting of output: Defaults to True.
        skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.
        ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.
        check_circular (bool, optional): Check for circular references. Defaults to True.
        allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.
        default (Callable, optional): A callable that converts values that can not be encoded
            in to something that can be JSON encoded. Defaults to None.
        sort_keys (bool, optional): Sort dictionary keys. Defaults to False.
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/msgpack/fallback.py (Line 845:17 - Line 857:2), .venv/lib/python3.14/site-packages/pip/_vendor/msgpack/fallback.py (Line 756:5 - Line 768:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup120"><code class="language-python text-sm text-gray-800">)
        if L == 1:
            self._buffer.write(b&quot;\xd4&quot;)
        elif L == 2:
            self._buffer.write(b&quot;\xd5&quot;)
        elif L == 4:
            self._buffer.write(b&quot;\xd6&quot;)
        elif L == 8:
            self._buffer.write(b&quot;\xd7&quot;)
        elif L == 16:
            self._buffer.write(b&quot;\xd8&quot;)
        elif L &lt;= 0xFF:
            self._buffer.write(b</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_vendor/dependency_groups/_lint_dependency_groups.py (Line 23:5 - Line 37:4), .venv/lib/python3.14/site-packages/pip/_vendor/dependency_groups/_pip_wrapper.py (Line 26:5 - Line 40:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup122"><code class="language-python text-sm text-gray-800">)
    parser.add_argument(
        &quot;-f&quot;,
        &quot;--pyproject-file&quot;,
        default=&quot;pyproject.toml&quot;,
        help=&quot;The pyproject.toml file. Defaults to trying in the current directory.&quot;,
    )
    args = parser.parse_args(argv if argv is not None else sys.argv[1:])

    with open(args.pyproject_file, &quot;rb&quot;) as fp:
        pyproject = tomllib.load(fp)
    dependency_groups_raw = pyproject.get(&quot;dependency-groups&quot;, {})

    errors: list[str] = []
    try</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/utils/glibc.py (Line 53:5 - Line 75:67), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_manylinux.py (Line 126:5 - Line 148:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup123"><code class="language-python text-sm text-gray-800">try:
        process_namespace = ctypes.CDLL(None)
    except OSError:
        return None

    try:
        gnu_get_libc_version = process_namespace.gnu_get_libc_version
    except AttributeError:
        # Symbol doesn't exist -&gt; therefore, we are not linked to
        # glibc.
        return None

    # Call gnu_get_libc_version, which returns a string like &quot;2.5&quot;
    gnu_get_libc_version.restype = ctypes.c_char_p
    version_str: str = gnu_get_libc_version()
    # py2 / py3 compatibility:
    if not isinstance(version_str, str):
        version_str = version_str.decode(&quot;ascii&quot;)

    return version_str


# platform.libc_ver regularly returns completely nonsensical glibc</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/network/session.py (Line 314:20 - Line 325:11), .venv/lib/python3.14/site-packages/pip/_internal/network/session.py (Line 303:12 - Line 314:28)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup124"><code class="language-python text-sm text-gray-800">):
    def cert_verify(
        self,
        conn: ConnectionPool,
        url: str,
        verify: bool | str,
        cert: str | tuple[str, str] | None,
    ) -&gt; None:
        super().cert_verify(conn=conn, url=url, verify=False, cert=cert)


class PipSession</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/lock.py (Line 78:13 - Line 90:7), .venv/lib/python3.14/site-packages/pip/_internal/commands/wheel.py (Line 89:15 - Line 101:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup125"><code class="language-python text-sm text-gray-800">())

        index_opts = cmdoptions.make_option_group(
            cmdoptions.index_group,
            self.parser,
        )

        self.parser.insert_option_group(0, index_opts)
        self.parser.insert_option_group(0, self.cmd_opts)

    @with_cleanup
    def run(self, options: Values, args: list[str]) -&gt; int:
        logger</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/install.py (Line 87:9 - Line 95:12), .venv/lib/python3.14/site-packages/pip/_internal/commands/lock.py (Line 57:9 - Line 65:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup126"><code class="language-python text-sm text-gray-800">self.cmd_opts.add_option(cmdoptions.requirements())
        self.cmd_opts.add_option(cmdoptions.constraints())
        self.cmd_opts.add_option(cmdoptions.build_constraints())
        self.cmd_opts.add_option(cmdoptions.no_deps())
        self.cmd_opts.add_option(cmdoptions.pre())

        self.cmd_opts.add_option(cmdoptions.editable())
        self.cmd_opts.add_option(
            &quot;--dry-run&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/install.py (Line 246:9 - Line 252:5), .venv/lib/python3.14/site-packages/pip/_internal/commands/lock.py (Line 72:2 - Line 80:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup127"><code class="language-python text-sm text-gray-800">)
        self.cmd_opts.add_option(cmdoptions.no_binary())
        self.cmd_opts.add_option(cmdoptions.only_binary())
        self.cmd_opts.add_option(cmdoptions.prefer_binary())
        self.cmd_opts.add_option(cmdoptions.require_hashes())
        self.cmd_opts.add_option(cmdoptions.progress_bar())
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/install.py (Line 354:13 - Line 370:8), .venv/lib/python3.14/site-packages/pip/_internal/commands/lock.py (Line 115:9 - Line 131:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup128"><code class="language-python text-sm text-gray-800">reqs = self.get_requirements(args, options, finder, session)

            wheel_cache = WheelCache(options.cache_dir)

            # Only when installing is it permitted to use PEP 660.
            # In other circumstances (pip wheel, pip download) we generate
            # regular (i.e. non editable) metadata and wheels.
            for req in reqs:
                req.permit_editable_wheels = True

            preparer = self.make_requirement_preparer(
                temp_build_dir=directory,
                options=options,
                build_tracker=build_tracker,
                session=session,
                finder=finder,
                use_user_site=options</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/download.py (Line 85:13 - Line 101:11), .venv/lib/python3.14/site-packages/pip/_internal/commands/install.py (Line 334:16 - Line 349:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup129"><code class="language-python text-sm text-gray-800">)

        session = self.get_default_session(options)

        target_python = make_target_python(options)
        finder = self._build_package_finder(
            options=options,
            session=session,
            target_python=target_python,
            ignore_requires_python=options.ignore_requires_python,
        )

        build_tracker = self.enter_context(get_build_tracker())

        directory = TempDirectory(
            delete=not options.no_clean,
            kind=&quot;download&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/configuration.py (Line 105:19 - Line 121:55), .venv/lib/python3.14/site-packages/pip/_internal/commands/index.py (Line 58:31 - Line 74:59)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup130"><code class="language-python text-sm text-gray-800">,
        }

    def run(self, options: Values, args: list[str]) -&gt; int:
        handler_map = self.handler_map()

        # Determine action
        if not args or args[0] not in handler_map:
            logger.error(
                &quot;Need an action (%s) to perform.&quot;,
                &quot;, &quot;.join(sorted(handler_map)),
            )
            return ERROR

        action = args[0]

        # Determine which configuration files are to be loaded</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pip/_internal/commands/cache.py (Line 68:9 - Line 87:14), .venv/lib/python3.14/site-packages/pip/_internal/commands/index.py (Line 64:9 - Line 83:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup131"><code class="language-python text-sm text-gray-800"># Determine action
        if not args or args[0] not in handler_map:
            logger.error(
                &quot;Need an action (%s) to perform.&quot;,
                &quot;, &quot;.join(sorted(handler_map)),
            )
            return ERROR

        action = args[0]

        # Error handling happens here, not in the action-handlers.
        try:
            handler_map[action](options, args[1:])
        except PipError as e:
            logger.error(e.args[0])
            return ERROR

        return SUCCESS

    def get_cache_dir</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/shared/chat_model.py (Line 3:1 - Line 70:2), .venv/lib/python3.14/site-packages/openai/types/shared_params/chat_model.py (Line 5:1 - Line 72:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup132"><code class="language-python text-sm text-gray-800">from typing_extensions import Literal, TypeAlias

__all__ = [&quot;ChatModel&quot;]

ChatModel: TypeAlias = Literal[
    &quot;gpt-5&quot;,
    &quot;gpt-5-mini&quot;,
    &quot;gpt-5-nano&quot;,
    &quot;gpt-5-2025-08-07&quot;,
    &quot;gpt-5-mini-2025-08-07&quot;,
    &quot;gpt-5-nano-2025-08-07&quot;,
    &quot;gpt-5-chat-latest&quot;,
    &quot;gpt-4.1&quot;,
    &quot;gpt-4.1-mini&quot;,
    &quot;gpt-4.1-nano&quot;,
    &quot;gpt-4.1-2025-04-14&quot;,
    &quot;gpt-4.1-mini-2025-04-14&quot;,
    &quot;gpt-4.1-nano-2025-04-14&quot;,
    &quot;o4-mini&quot;,
    &quot;o4-mini-2025-04-16&quot;,
    &quot;o3&quot;,
    &quot;o3-2025-04-16&quot;,
    &quot;o3-mini&quot;,
    &quot;o3-mini-2025-01-31&quot;,
    &quot;o1&quot;,
    &quot;o1-2024-12-17&quot;,
    &quot;o1-preview&quot;,
    &quot;o1-preview-2024-09-12&quot;,
    &quot;o1-mini&quot;,
    &quot;o1-mini-2024-09-12&quot;,
    &quot;gpt-4o&quot;,
    &quot;gpt-4o-2024-11-20&quot;,
    &quot;gpt-4o-2024-08-06&quot;,
    &quot;gpt-4o-2024-05-13&quot;,
    &quot;gpt-4o-audio-preview&quot;,
    &quot;gpt-4o-audio-preview-2024-10-01&quot;,
    &quot;gpt-4o-audio-preview-2024-12-17&quot;,
    &quot;gpt-4o-audio-preview-2025-06-03&quot;,
    &quot;gpt-4o-mini-audio-preview&quot;,
    &quot;gpt-4o-mini-audio-preview-2024-12-17&quot;,
    &quot;gpt-4o-search-preview&quot;,
    &quot;gpt-4o-mini-search-preview&quot;,
    &quot;gpt-4o-search-preview-2025-03-11&quot;,
    &quot;gpt-4o-mini-search-preview-2025-03-11&quot;,
    &quot;chatgpt-4o-latest&quot;,
    &quot;codex-mini-latest&quot;,
    &quot;gpt-4o-mini&quot;,
    &quot;gpt-4o-mini-2024-07-18&quot;,
    &quot;gpt-4-turbo&quot;,
    &quot;gpt-4-turbo-2024-04-09&quot;,
    &quot;gpt-4-0125-preview&quot;,
    &quot;gpt-4-turbo-preview&quot;,
    &quot;gpt-4-1106-preview&quot;,
    &quot;gpt-4-vision-preview&quot;,
    &quot;gpt-4&quot;,
    &quot;gpt-4-0314&quot;,
    &quot;gpt-4-0613&quot;,
    &quot;gpt-4-32k&quot;,
    &quot;gpt-4-32k-0314&quot;,
    &quot;gpt-4-32k-0613&quot;,
    &quot;gpt-3.5-turbo&quot;,
    &quot;gpt-3.5-turbo-16k&quot;,
    &quot;gpt-3.5-turbo-0301&quot;,
    &quot;gpt-3.5-turbo-0613&quot;,
    &quot;gpt-3.5-turbo-1106&quot;,
    &quot;gpt-3.5-turbo-0125&quot;,
    &quot;gpt-3.5-turbo-16k-0613&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/shared/__init__.py (Line 8:1 - Line 17:25), .venv/lib/python3.14/site-packages/openai/types/shared_params/__init__.py (Line 6:1 - Line 15:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup133"><code class="language-python text-sm text-gray-800">from .compound_filter import CompoundFilter as CompoundFilter
from .responses_model import ResponsesModel as ResponsesModel
from .reasoning_effort import ReasoningEffort as ReasoningEffort
from .comparison_filter import ComparisonFilter as ComparisonFilter
from .function_definition import FunctionDefinition as FunctionDefinition
from .function_parameters import FunctionParameters as FunctionParameters
from .response_format_text import ResponseFormatText as ResponseFormatText
from .custom_tool_input_format import CustomToolInputFormat as CustomToolInputFormat
from .response_format_json_object import ResponseFormatJSONObject as ResponseFormatJSONObject
from .response_format_json_schema import ResponseFormatJSONSchema as ResponseFormatJSONSchema</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_item.py (Line 28:10 - Line 83:21), .venv/lib/python3.14/site-packages/openai/types/responses/response_output_item.py (Line 25:21 - Line 80:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup134"><code class="language-python text-sm text-gray-800">,
]


class ImageGenerationCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the image generation call.&quot;&quot;&quot;

    result: Optional[str] = None
    &quot;&quot;&quot;The generated image encoded in base64.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;generating&quot;, &quot;failed&quot;]
    &quot;&quot;&quot;The status of the image generation call.&quot;&quot;&quot;

    type: Literal[&quot;image_generation_call&quot;]
    &quot;&quot;&quot;The type of the image generation call. Always `image_generation_call`.&quot;&quot;&quot;


class LocalShellCallAction(BaseModel):
    command: List[str]
    &quot;&quot;&quot;The command to run.&quot;&quot;&quot;

    env: Dict[str, str]
    &quot;&quot;&quot;Environment variables to set for the command.&quot;&quot;&quot;

    type: Literal[&quot;exec&quot;]
    &quot;&quot;&quot;The type of the local shell action. Always `exec`.&quot;&quot;&quot;

    timeout_ms: Optional[int] = None
    &quot;&quot;&quot;Optional timeout in milliseconds for the command.&quot;&quot;&quot;

    user: Optional[str] = None
    &quot;&quot;&quot;Optional user to run the command as.&quot;&quot;&quot;

    working_directory: Optional[str] = None
    &quot;&quot;&quot;Optional working directory to run the command in.&quot;&quot;&quot;


class LocalShellCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the local shell call.&quot;&quot;&quot;

    action: LocalShellCallAction
    &quot;&quot;&quot;Execute a shell command on the server.&quot;&quot;&quot;

    call_id: str
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]
    &quot;&quot;&quot;The status of the local shell call.&quot;&quot;&quot;

    type: Literal[&quot;local_shell_call&quot;]
    &quot;&quot;&quot;The type of the local shell call. Always `local_shell_call`.&quot;&quot;&quot;


class LocalShellCallOutput</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_item.py (Line 97:1 - Line 145:6), .venv/lib/python3.14/site-packages/openai/types/responses/response_output_item.py (Line 116:1 - Line 164:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup135"><code class="language-python text-sm text-gray-800">class McpListToolsTool(BaseModel):
    input_schema: object
    &quot;&quot;&quot;The JSON schema describing the tool's input.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool.&quot;&quot;&quot;

    annotations: Optional[object] = None
    &quot;&quot;&quot;Additional annotations about the tool.&quot;&quot;&quot;

    description: Optional[str] = None
    &quot;&quot;&quot;The description of the tool.&quot;&quot;&quot;


class McpListTools(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the list.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server.&quot;&quot;&quot;

    tools: List[McpListToolsTool]
    &quot;&quot;&quot;The tools available on the server.&quot;&quot;&quot;

    type: Literal[&quot;mcp_list_tools&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_list_tools`.&quot;&quot;&quot;

    error: Optional[str] = None
    &quot;&quot;&quot;Error message if the server could not list tools.&quot;&quot;&quot;


class McpApprovalRequest(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the approval request.&quot;&quot;&quot;

    arguments: str
    &quot;&quot;&quot;A JSON string of arguments for the tool.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool to run.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server making the request.&quot;&quot;&quot;

    type: Literal[&quot;mcp_approval_request&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_approval_request`.&quot;&quot;&quot;


class</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_item.py (Line 162:1 - Line 198:13), .venv/lib/python3.14/site-packages/openai/types/responses/response_output_item.py (Line 80:1 - Line 116:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup136"><code class="language-python text-sm text-gray-800">class McpCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the tool call.&quot;&quot;&quot;

    arguments: str
    &quot;&quot;&quot;A JSON string of the arguments passed to the tool.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool that was run.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server running the tool.&quot;&quot;&quot;

    type: Literal[&quot;mcp_call&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_call`.&quot;&quot;&quot;

    approval_request_id: Optional[str] = None
    &quot;&quot;&quot;
    Unique identifier for the MCP tool call approval request. Include this value in
    a subsequent `mcp_approval_response` input to approve or reject the
    corresponding tool call.
    &quot;&quot;&quot;

    error: Optional[str] = None
    &quot;&quot;&quot;The error from the tool call, if any.&quot;&quot;&quot;

    output: Optional[str] = None
    &quot;&quot;&quot;The output from the tool call.&quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;, &quot;calling&quot;, &quot;failed&quot;]] = None
    &quot;&quot;&quot;The status of the tool call.

    One of `in_progress`, `completed`, `incomplete`, `calling`, or `failed`.
    &quot;&quot;&quot;


ResponseItem</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_input_item_param.py (Line 5:5 - Line 24:25), .venv/lib/python3.14/site-packages/openai/types/responses/response_input_param.py (Line 5:5 - Line 24:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup137"><code class="language-python text-sm text-gray-800">, Union, Iterable, Optional
from typing_extensions import Literal, Required, TypeAlias, TypedDict

from ..._types import SequenceNotStr
from .easy_input_message_param import EasyInputMessageParam
from .response_output_message_param import ResponseOutputMessageParam
from .response_reasoning_item_param import ResponseReasoningItemParam
from .response_custom_tool_call_param import ResponseCustomToolCallParam
from .response_computer_tool_call_param import ResponseComputerToolCallParam
from .response_function_tool_call_param import ResponseFunctionToolCallParam
from .response_function_web_search_param import ResponseFunctionWebSearchParam
from .response_file_search_tool_call_param import ResponseFileSearchToolCallParam
from .response_custom_tool_call_output_param import ResponseCustomToolCallOutputParam
from .response_code_interpreter_tool_call_param import ResponseCodeInterpreterToolCallParam
from .response_input_message_content_list_param import ResponseInputMessageContentListParam
from .response_function_call_output_item_list_param import ResponseFunctionCallOutputItemListParam
from .response_computer_tool_call_output_screenshot_param import ResponseComputerToolCallOutputScreenshotParam

__all__ = [
    &quot;ResponseInputItemParam&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_input_item_param.py (Line 24:5 - Line 321:2), .venv/lib/python3.14/site-packages/openai/types/responses/response_input_param.py (Line 25:5 - Line 322:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup138"><code class="language-python text-sm text-gray-800">&quot;ResponseInputItemParam&quot;,
    &quot;Message&quot;,
    &quot;ComputerCallOutput&quot;,
    &quot;ComputerCallOutputAcknowledgedSafetyCheck&quot;,
    &quot;FunctionCallOutput&quot;,
    &quot;ImageGenerationCall&quot;,
    &quot;LocalShellCall&quot;,
    &quot;LocalShellCallAction&quot;,
    &quot;LocalShellCallOutput&quot;,
    &quot;McpListTools&quot;,
    &quot;McpListToolsTool&quot;,
    &quot;McpApprovalRequest&quot;,
    &quot;McpApprovalResponse&quot;,
    &quot;McpCall&quot;,
    &quot;ItemReference&quot;,
]


class Message(TypedDict, total=False):
    content: Required[ResponseInputMessageContentListParam]
    &quot;&quot;&quot;
    A list of one or many input items to the model, containing different content
    types.
    &quot;&quot;&quot;

    role: Required[Literal[&quot;user&quot;, &quot;system&quot;, &quot;developer&quot;]]
    &quot;&quot;&quot;The role of the message input. One of `user`, `system`, or `developer`.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]
    &quot;&quot;&quot;The status of item.

    One of `in_progress`, `completed`, or `incomplete`. Populated when items are
    returned via API.
    &quot;&quot;&quot;

    type: Literal[&quot;message&quot;]
    &quot;&quot;&quot;The type of the message input. Always set to `message`.&quot;&quot;&quot;


class ComputerCallOutputAcknowledgedSafetyCheck(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The ID of the pending safety check.&quot;&quot;&quot;

    code: Optional[str]
    &quot;&quot;&quot;The type of the pending safety check.&quot;&quot;&quot;

    message: Optional[str]
    &quot;&quot;&quot;Details about the pending safety check.&quot;&quot;&quot;


class ComputerCallOutput(TypedDict, total=False):
    call_id: Required[str]
    &quot;&quot;&quot;The ID of the computer tool call that produced the output.&quot;&quot;&quot;

    output: Required[ResponseComputerToolCallOutputScreenshotParam]
    &quot;&quot;&quot;A computer screenshot image used with the computer use tool.&quot;&quot;&quot;

    type: Required[Literal[&quot;computer_call_output&quot;]]
    &quot;&quot;&quot;The type of the computer tool call output. Always `computer_call_output`.&quot;&quot;&quot;

    id: Optional[str]
    &quot;&quot;&quot;The ID of the computer tool call output.&quot;&quot;&quot;

    acknowledged_safety_checks: Optional[Iterable[ComputerCallOutputAcknowledgedSafetyCheck]]
    &quot;&quot;&quot;
    The safety checks reported by the API that have been acknowledged by the
    developer.
    &quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]]
    &quot;&quot;&quot;The status of the message input.

    One of `in_progress`, `completed`, or `incomplete`. Populated when input items
    are returned via API.
    &quot;&quot;&quot;


class FunctionCallOutput(TypedDict, total=False):
    call_id: Required[str]
    &quot;&quot;&quot;The unique ID of the function tool call generated by the model.&quot;&quot;&quot;

    output: Required[Union[str, ResponseFunctionCallOutputItemListParam]]
    &quot;&quot;&quot;Text, image, or file output of the function tool call.&quot;&quot;&quot;

    type: Required[Literal[&quot;function_call_output&quot;]]
    &quot;&quot;&quot;The type of the function tool call output. Always `function_call_output`.&quot;&quot;&quot;

    id: Optional[str]
    &quot;&quot;&quot;The unique ID of the function tool call output.

    Populated when this item is returned via API.
    &quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]]
    &quot;&quot;&quot;The status of the item.

    One of `in_progress`, `completed`, or `incomplete`. Populated when items are
    returned via API.
    &quot;&quot;&quot;


class ImageGenerationCall(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The unique ID of the image generation call.&quot;&quot;&quot;

    result: Required[Optional[str]]
    &quot;&quot;&quot;The generated image encoded in base64.&quot;&quot;&quot;

    status: Required[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;generating&quot;, &quot;failed&quot;]]
    &quot;&quot;&quot;The status of the image generation call.&quot;&quot;&quot;

    type: Required[Literal[&quot;image_generation_call&quot;]]
    &quot;&quot;&quot;The type of the image generation call. Always `image_generation_call`.&quot;&quot;&quot;


class LocalShellCallAction(TypedDict, total=False):
    command: Required[SequenceNotStr[str]]
    &quot;&quot;&quot;The command to run.&quot;&quot;&quot;

    env: Required[Dict[str, str]]
    &quot;&quot;&quot;Environment variables to set for the command.&quot;&quot;&quot;

    type: Required[Literal[&quot;exec&quot;]]
    &quot;&quot;&quot;The type of the local shell action. Always `exec`.&quot;&quot;&quot;

    timeout_ms: Optional[int]
    &quot;&quot;&quot;Optional timeout in milliseconds for the command.&quot;&quot;&quot;

    user: Optional[str]
    &quot;&quot;&quot;Optional user to run the command as.&quot;&quot;&quot;

    working_directory: Optional[str]
    &quot;&quot;&quot;Optional working directory to run the command in.&quot;&quot;&quot;


class LocalShellCall(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The unique ID of the local shell call.&quot;&quot;&quot;

    action: Required[LocalShellCallAction]
    &quot;&quot;&quot;Execute a shell command on the server.&quot;&quot;&quot;

    call_id: Required[str]
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    status: Required[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]]
    &quot;&quot;&quot;The status of the local shell call.&quot;&quot;&quot;

    type: Required[Literal[&quot;local_shell_call&quot;]]
    &quot;&quot;&quot;The type of the local shell call. Always `local_shell_call`.&quot;&quot;&quot;


class LocalShellCallOutput(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    output: Required[str]
    &quot;&quot;&quot;A JSON string of the output of the local shell tool call.&quot;&quot;&quot;

    type: Required[Literal[&quot;local_shell_call_output&quot;]]
    &quot;&quot;&quot;The type of the local shell tool call output. Always `local_shell_call_output`.&quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]]
    &quot;&quot;&quot;The status of the item. One of `in_progress`, `completed`, or `incomplete`.&quot;&quot;&quot;


class McpListToolsTool(TypedDict, total=False):
    input_schema: Required[object]
    &quot;&quot;&quot;The JSON schema describing the tool's input.&quot;&quot;&quot;

    name: Required[str]
    &quot;&quot;&quot;The name of the tool.&quot;&quot;&quot;

    annotations: Optional[object]
    &quot;&quot;&quot;Additional annotations about the tool.&quot;&quot;&quot;

    description: Optional[str]
    &quot;&quot;&quot;The description of the tool.&quot;&quot;&quot;


class McpListTools(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The unique ID of the list.&quot;&quot;&quot;

    server_label: Required[str]
    &quot;&quot;&quot;The label of the MCP server.&quot;&quot;&quot;

    tools: Required[Iterable[McpListToolsTool]]
    &quot;&quot;&quot;The tools available on the server.&quot;&quot;&quot;

    type: Required[Literal[&quot;mcp_list_tools&quot;]]
    &quot;&quot;&quot;The type of the item. Always `mcp_list_tools`.&quot;&quot;&quot;

    error: Optional[str]
    &quot;&quot;&quot;Error message if the server could not list tools.&quot;&quot;&quot;


class McpApprovalRequest(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The unique ID of the approval request.&quot;&quot;&quot;

    arguments: Required[str]
    &quot;&quot;&quot;A JSON string of arguments for the tool.&quot;&quot;&quot;

    name: Required[str]
    &quot;&quot;&quot;The name of the tool to run.&quot;&quot;&quot;

    server_label: Required[str]
    &quot;&quot;&quot;The label of the MCP server making the request.&quot;&quot;&quot;

    type: Required[Literal[&quot;mcp_approval_request&quot;]]
    &quot;&quot;&quot;The type of the item. Always `mcp_approval_request`.&quot;&quot;&quot;


class McpApprovalResponse(TypedDict, total=False):
    approval_request_id: Required[str]
    &quot;&quot;&quot;The ID of the approval request being answered.&quot;&quot;&quot;

    approve: Required[bool]
    &quot;&quot;&quot;Whether the request was approved.&quot;&quot;&quot;

    type: Required[Literal[&quot;mcp_approval_response&quot;]]
    &quot;&quot;&quot;The type of the item. Always `mcp_approval_response`.&quot;&quot;&quot;

    id: Optional[str]
    &quot;&quot;&quot;The unique ID of the approval response&quot;&quot;&quot;

    reason: Optional[str]
    &quot;&quot;&quot;Optional reason for the decision.&quot;&quot;&quot;


class McpCall(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The unique ID of the tool call.&quot;&quot;&quot;

    arguments: Required[str]
    &quot;&quot;&quot;A JSON string of the arguments passed to the tool.&quot;&quot;&quot;

    name: Required[str]
    &quot;&quot;&quot;The name of the tool that was run.&quot;&quot;&quot;

    server_label: Required[str]
    &quot;&quot;&quot;The label of the MCP server running the tool.&quot;&quot;&quot;

    type: Required[Literal[&quot;mcp_call&quot;]]
    &quot;&quot;&quot;The type of the item. Always `mcp_call`.&quot;&quot;&quot;

    approval_request_id: Optional[str]
    &quot;&quot;&quot;
    Unique identifier for the MCP tool call approval request. Include this value in
    a subsequent `mcp_approval_response` input to approve or reject the
    corresponding tool call.
    &quot;&quot;&quot;

    error: Optional[str]
    &quot;&quot;&quot;The error from the tool call, if any.&quot;&quot;&quot;

    output: Optional[str]
    &quot;&quot;&quot;The output from the tool call.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;, &quot;calling&quot;, &quot;failed&quot;]
    &quot;&quot;&quot;The status of the tool call.

    One of `in_progress`, `completed`, `incomplete`, `calling`, or `failed`.
    &quot;&quot;&quot;


class ItemReference(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The ID of the item to reference.&quot;&quot;&quot;

    type: Optional[Literal[&quot;item_reference&quot;]]
    &quot;&quot;&quot;The type of item to reference. Always `item_reference`.&quot;&quot;&quot;


ResponseInputItemParam: TypeAlias = Union[
    EasyInputMessageParam,
    Message,
    ResponseOutputMessageParam,
    ResponseFileSearchToolCallParam,
    ResponseComputerToolCallParam,
    ComputerCallOutput,
    ResponseFunctionWebSearchParam,
    ResponseFunctionToolCallParam,
    FunctionCallOutput,
    ResponseReasoningItemParam,
    ImageGenerationCall,
    ResponseCodeInterpreterToolCallParam,
    LocalShellCall,
    LocalShellCallOutput,
    McpListTools,
    McpApprovalRequest,
    McpApprovalResponse,
    McpCall,
    ResponseCustomToolCallOutputParam,
    ResponseCustomToolCallParam,
    ItemReference,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_input_item.py (Line 124:1 - Line 238:20), .venv/lib/python3.14/site-packages/openai/types/responses/response_output_item.py (Line 29:1 - Line 146:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup139"><code class="language-python text-sm text-gray-800">class ImageGenerationCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the image generation call.&quot;&quot;&quot;

    result: Optional[str] = None
    &quot;&quot;&quot;The generated image encoded in base64.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;generating&quot;, &quot;failed&quot;]
    &quot;&quot;&quot;The status of the image generation call.&quot;&quot;&quot;

    type: Literal[&quot;image_generation_call&quot;]
    &quot;&quot;&quot;The type of the image generation call. Always `image_generation_call`.&quot;&quot;&quot;


class LocalShellCallAction(BaseModel):
    command: List[str]
    &quot;&quot;&quot;The command to run.&quot;&quot;&quot;

    env: Dict[str, str]
    &quot;&quot;&quot;Environment variables to set for the command.&quot;&quot;&quot;

    type: Literal[&quot;exec&quot;]
    &quot;&quot;&quot;The type of the local shell action. Always `exec`.&quot;&quot;&quot;

    timeout_ms: Optional[int] = None
    &quot;&quot;&quot;Optional timeout in milliseconds for the command.&quot;&quot;&quot;

    user: Optional[str] = None
    &quot;&quot;&quot;Optional user to run the command as.&quot;&quot;&quot;

    working_directory: Optional[str] = None
    &quot;&quot;&quot;Optional working directory to run the command in.&quot;&quot;&quot;


class LocalShellCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the local shell call.&quot;&quot;&quot;

    action: LocalShellCallAction
    &quot;&quot;&quot;Execute a shell command on the server.&quot;&quot;&quot;

    call_id: str
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]
    &quot;&quot;&quot;The status of the local shell call.&quot;&quot;&quot;

    type: Literal[&quot;local_shell_call&quot;]
    &quot;&quot;&quot;The type of the local shell call. Always `local_shell_call`.&quot;&quot;&quot;


class LocalShellCallOutput(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    output: str
    &quot;&quot;&quot;A JSON string of the output of the local shell tool call.&quot;&quot;&quot;

    type: Literal[&quot;local_shell_call_output&quot;]
    &quot;&quot;&quot;The type of the local shell tool call output. Always `local_shell_call_output`.&quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]] = None
    &quot;&quot;&quot;The status of the item. One of `in_progress`, `completed`, or `incomplete`.&quot;&quot;&quot;


class McpListToolsTool(BaseModel):
    input_schema: object
    &quot;&quot;&quot;The JSON schema describing the tool's input.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool.&quot;&quot;&quot;

    annotations: Optional[object] = None
    &quot;&quot;&quot;Additional annotations about the tool.&quot;&quot;&quot;

    description: Optional[str] = None
    &quot;&quot;&quot;The description of the tool.&quot;&quot;&quot;


class McpListTools(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the list.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server.&quot;&quot;&quot;

    tools: List[McpListToolsTool]
    &quot;&quot;&quot;The tools available on the server.&quot;&quot;&quot;

    type: Literal[&quot;mcp_list_tools&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_list_tools`.&quot;&quot;&quot;

    error: Optional[str] = None
    &quot;&quot;&quot;Error message if the server could not list tools.&quot;&quot;&quot;


class McpApprovalRequest(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the approval request.&quot;&quot;&quot;

    arguments: str
    &quot;&quot;&quot;A JSON string of arguments for the tool.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool to run.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server making the request.&quot;&quot;&quot;

    type: Literal[&quot;mcp_approval_request&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_approval_request`.&quot;&quot;&quot;


class McpApprovalResponse(BaseModel):
    approval_request_id</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_input_item.py (Line 250:5 - Line 290:14), .venv/lib/python3.14/site-packages/openai/types/responses/response_item.py (Line 158:5 - Line 116:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup140"><code class="language-python text-sm text-gray-800">reason: Optional[str] = None
    &quot;&quot;&quot;Optional reason for the decision.&quot;&quot;&quot;


class McpCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the tool call.&quot;&quot;&quot;

    arguments: str
    &quot;&quot;&quot;A JSON string of the arguments passed to the tool.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool that was run.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server running the tool.&quot;&quot;&quot;

    type: Literal[&quot;mcp_call&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_call`.&quot;&quot;&quot;

    approval_request_id: Optional[str] = None
    &quot;&quot;&quot;
    Unique identifier for the MCP tool call approval request. Include this value in
    a subsequent `mcp_approval_response` input to approve or reject the
    corresponding tool call.
    &quot;&quot;&quot;

    error: Optional[str] = None
    &quot;&quot;&quot;The error from the tool call, if any.&quot;&quot;&quot;

    output: Optional[str] = None
    &quot;&quot;&quot;The output from the tool call.&quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;, &quot;calling&quot;, &quot;failed&quot;]] = None
    &quot;&quot;&quot;The status of the tool call.

    One of `in_progress`, `completed`, `incomplete`, `calling`, or `failed`.
    &quot;&quot;&quot;


class ItemReference</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 301:5 - Line 312:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_retrieve_params.py (Line 50:5 - Line 56:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup141"><code class="language-python text-sm text-gray-800">If set to true, the model response data will be streamed to the client as it is
    generated using
    [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
    See the
    [Streaming section below](https://platform.openai.com/docs/api-reference/responses-streaming)
    for more information.
    &quot;&quot;&quot;


class ResponseCreateParamsStreaming(ResponseCreateParamsBase):
    stream: Required[Literal[True]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 313:5 - Line 322:21), .venv/lib/python3.14/site-packages/openai/types/responses/response_retrieve_params.py (Line 50:5 - Line 59:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup142"><code class="language-python text-sm text-gray-800">If set to true, the model response data will be streamed to the client as it is
    generated using
    [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
    See the
    [Streaming section below](https://platform.openai.com/docs/api-reference/responses-streaming)
    for more information.
    &quot;&quot;&quot;


ResponseCreateParams</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response.py (Line 204:5 - Line 212:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 158:5 - Line 166:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup143"><code class="language-python text-sm text-gray-800">A stable identifier used to help detect users of your application that may be
    violating OpenAI's usage policies. The IDs should be a string that uniquely
    identifies each user. We recommend hashing their username or email address, in
    order to avoid sending us any identifying information.
    [Learn more](https://platform.openai.com/docs/guides/safety-best-practices#safety-identifiers).
    &quot;&quot;&quot;

    service_tier: Optional[Literal[&quot;auto&quot;, &quot;default&quot;, &quot;flex&quot;, &quot;scale&quot;, &quot;priority&quot;]] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response.py (Line 212:8 - Line 231:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 166:8 - Line 185:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup144"><code class="language-python text-sm text-gray-800">Specifies the processing type used for serving the request.

    - If set to 'auto', then the request will be processed with the service tier
      configured in the Project settings. Unless otherwise configured, the Project
      will use 'default'.
    - If set to 'default', then the request will be processed with the standard
      pricing and performance for the selected model.
    - If set to '[flex](https://platform.openai.com/docs/guides/flex-processing)' or
      '[priority](https://openai.com/api-priority-processing/)', then the request
      will be processed with the corresponding service tier.
    - When not set, the default behavior is 'auto'.

    When the `service_tier` parameter is set, the response body will include the
    `service_tier` value based on the processing mode actually used to serve the
    request. This response value may be different from the value set in the
    parameter.
    &quot;&quot;&quot;

    status: Optional[ResponseStatus] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response.py (Line 238:8 - Line 247:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 199:8 - Line 208:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup145"><code class="language-python text-sm text-gray-800">Configuration options for a text response from the model.

    Can be plain text or structured JSON data. Learn more:

    - [Text inputs and outputs](https://platform.openai.com/docs/guides/text)
    - [Structured Outputs](https://platform.openai.com/docs/guides/structured-outputs)
    &quot;&quot;&quot;

    top_logprobs: Optional[int] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response.py (Line 253:8 - Line 263:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 253:8 - Line 263:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup146"><code class="language-python text-sm text-gray-800">The truncation strategy to use for the model response.

    - `auto`: If the input to this Response exceeds the model's context window size,
      the model will truncate the response to fit the context window by dropping
      items from the beginning of the conversation.
    - `disabled` (default): If the input size will exceed the context window size
      for a model, the request will fail with a 400 error.
    &quot;&quot;&quot;

    usage: Optional[ResponseUsage] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/responses/response.py (Line 269:8 - Line 279:12), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 263:8 - Line 277:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup147"><code class="language-python text-sm text-gray-800">This field is being replaced by `safety_identifier` and `prompt_cache_key`.

    Use `prompt_cache_key` instead to maintain caching optimizations. A stable
    identifier for your end-users. Used to boost cache hit rates by better bucketing
    similar requests and to help OpenAI detect and prevent abuse.
    [Learn more](https://platform.openai.com/docs/guides/safety-best-practices#safety-identifiers).
    &quot;&quot;&quot;

    @property
    def output_text(self) -&gt; str:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/response_content_part_done_event.py (Line 6:2 - Line 45:60), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/response_content_part_done_event.py (Line 6:2 - Line 45:60)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup148"><code class="language-python text-sm text-gray-800">..._models import BaseModel

__all__ = [&quot;ResponseContentPartDoneEvent&quot;, &quot;Part&quot;]


class Part(BaseModel):
    audio: Optional[str] = None
    &quot;&quot;&quot;Base64-encoded audio data (if type is &quot;audio&quot;).&quot;&quot;&quot;

    text: Optional[str] = None
    &quot;&quot;&quot;The text content (if type is &quot;text&quot;).&quot;&quot;&quot;

    transcript: Optional[str] = None
    &quot;&quot;&quot;The transcript of the audio (if type is &quot;audio&quot;).&quot;&quot;&quot;

    type: Optional[Literal[&quot;text&quot;, &quot;audio&quot;]] = None
    &quot;&quot;&quot;The content type (&quot;text&quot;, &quot;audio&quot;).&quot;&quot;&quot;


class ResponseContentPartDoneEvent(BaseModel):
    content_index: int
    &quot;&quot;&quot;The index of the content part in the item's content array.&quot;&quot;&quot;

    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    item_id: str
    &quot;&quot;&quot;The ID of the item.&quot;&quot;&quot;

    output_index: int
    &quot;&quot;&quot;The index of the output item in the response.&quot;&quot;&quot;

    part: Part
    &quot;&quot;&quot;The content part that is done.&quot;&quot;&quot;

    response_id: str
    &quot;&quot;&quot;The ID of the response.&quot;&quot;&quot;

    type: Literal[&quot;response.content_part.done&quot;]
    &quot;&quot;&quot;The event type, must be `response.content_part.done`.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/response_content_part_added_event.py (Line 6:2 - Line 45:61), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/response_content_part_added_event.py (Line 6:2 - Line 45:61)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup149"><code class="language-python text-sm text-gray-800">..._models import BaseModel

__all__ = [&quot;ResponseContentPartAddedEvent&quot;, &quot;Part&quot;]


class Part(BaseModel):
    audio: Optional[str] = None
    &quot;&quot;&quot;Base64-encoded audio data (if type is &quot;audio&quot;).&quot;&quot;&quot;

    text: Optional[str] = None
    &quot;&quot;&quot;The text content (if type is &quot;text&quot;).&quot;&quot;&quot;

    transcript: Optional[str] = None
    &quot;&quot;&quot;The transcript of the audio (if type is &quot;audio&quot;).&quot;&quot;&quot;

    type: Optional[Literal[&quot;text&quot;, &quot;audio&quot;]] = None
    &quot;&quot;&quot;The content type (&quot;text&quot;, &quot;audio&quot;).&quot;&quot;&quot;


class ResponseContentPartAddedEvent(BaseModel):
    content_index: int
    &quot;&quot;&quot;The index of the content part in the item's content array.&quot;&quot;&quot;

    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    item_id: str
    &quot;&quot;&quot;The ID of the item to which the content part was added.&quot;&quot;&quot;

    output_index: int
    &quot;&quot;&quot;The index of the output item in the response.&quot;&quot;&quot;

    part: Part
    &quot;&quot;&quot;The content part that was added.&quot;&quot;&quot;

    response_id: str
    &quot;&quot;&quot;The ID of the response.&quot;&quot;&quot;

    type: Literal[&quot;response.content_part.added&quot;]
    &quot;&quot;&quot;The event type, must be `response.content_part.added`.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_tools_config_union_param.py (Line 23:1 - Line 137:3), .venv/lib/python3.14/site-packages/openai/types/responses/tool_param.py (Line 40:1 - Line 159:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup150"><code class="language-python text-sm text-gray-800">class McpAllowedToolsMcpToolFilter(TypedDict, total=False):
    read_only: bool
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: SequenceNotStr[str]
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


McpAllowedTools: TypeAlias = Union[SequenceNotStr[str], McpAllowedToolsMcpToolFilter]


class McpRequireApprovalMcpToolApprovalFilterAlways(TypedDict, total=False):
    read_only: bool
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: SequenceNotStr[str]
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


class McpRequireApprovalMcpToolApprovalFilterNever(TypedDict, total=False):
    read_only: bool
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: SequenceNotStr[str]
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


class McpRequireApprovalMcpToolApprovalFilter(TypedDict, total=False):
    always: McpRequireApprovalMcpToolApprovalFilterAlways
    &quot;&quot;&quot;A filter object to specify which tools are allowed.&quot;&quot;&quot;

    never: McpRequireApprovalMcpToolApprovalFilterNever
    &quot;&quot;&quot;A filter object to specify which tools are allowed.&quot;&quot;&quot;


McpRequireApproval: TypeAlias = Union[McpRequireApprovalMcpToolApprovalFilter, Literal[&quot;always&quot;, &quot;never&quot;]]


class Mcp(TypedDict, total=False):
    server_label: Required[str]
    &quot;&quot;&quot;A label for this MCP server, used to identify it in tool calls.&quot;&quot;&quot;

    type: Required[Literal[&quot;mcp&quot;]]
    &quot;&quot;&quot;The type of the MCP tool. Always `mcp`.&quot;&quot;&quot;

    allowed_tools: Optional[McpAllowedTools]
    &quot;&quot;&quot;List of allowed tool names or a filter object.&quot;&quot;&quot;

    authorization: str
    &quot;&quot;&quot;
    An OAuth access token that can be used with a remote MCP server, either with a
    custom MCP server URL or a service connector. Your application must handle the
    OAuth authorization flow and provide the token here.
    &quot;&quot;&quot;

    connector_id: Literal[
        &quot;connector_dropbox&quot;,
        &quot;connector_gmail&quot;,
        &quot;connector_googlecalendar&quot;,
        &quot;connector_googledrive&quot;,
        &quot;connector_microsoftteams&quot;,
        &quot;connector_outlookcalendar&quot;,
        &quot;connector_outlookemail&quot;,
        &quot;connector_sharepoint&quot;,
    ]
    &quot;&quot;&quot;Identifier for service connectors, like those available in ChatGPT.

    One of `server_url` or `connector_id` must be provided. Learn more about service
    connectors
    [here](https://platform.openai.com/docs/guides/tools-remote-mcp#connectors).

    Currently supported `connector_id` values are:

    - Dropbox: `connector_dropbox`
    - Gmail: `connector_gmail`
    - Google Calendar: `connector_googlecalendar`
    - Google Drive: `connector_googledrive`
    - Microsoft Teams: `connector_microsoftteams`
    - Outlook Calendar: `connector_outlookcalendar`
    - Outlook Email: `connector_outlookemail`
    - SharePoint: `connector_sharepoint`
    &quot;&quot;&quot;

    headers: Optional[Dict[str, str]]
    &quot;&quot;&quot;Optional HTTP headers to send to the MCP server.

    Use for authentication or other purposes.
    &quot;&quot;&quot;

    require_approval: Optional[McpRequireApproval]
    &quot;&quot;&quot;Specify which of the MCP server's tools require approval.&quot;&quot;&quot;

    server_description: str
    &quot;&quot;&quot;Optional description of the MCP server, used to provide more context.&quot;&quot;&quot;

    server_url: str
    &quot;&quot;&quot;The URL for the MCP server.

    One of `server_url` or `connector_id` must be provided.
    &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_tools_config_union.py (Line 22:1 - Line 138:3), .venv/lib/python3.14/site-packages/openai/types/responses/tool.py (Line 38:1 - Line 159:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup151"><code class="language-python text-sm text-gray-800">class McpAllowedToolsMcpToolFilter(BaseModel):
    read_only: Optional[bool] = None
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: Optional[List[str]] = None
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


McpAllowedTools: TypeAlias = Union[List[str], McpAllowedToolsMcpToolFilter, None]


class McpRequireApprovalMcpToolApprovalFilterAlways(BaseModel):
    read_only: Optional[bool] = None
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: Optional[List[str]] = None
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


class McpRequireApprovalMcpToolApprovalFilterNever(BaseModel):
    read_only: Optional[bool] = None
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: Optional[List[str]] = None
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


class McpRequireApprovalMcpToolApprovalFilter(BaseModel):
    always: Optional[McpRequireApprovalMcpToolApprovalFilterAlways] = None
    &quot;&quot;&quot;A filter object to specify which tools are allowed.&quot;&quot;&quot;

    never: Optional[McpRequireApprovalMcpToolApprovalFilterNever] = None
    &quot;&quot;&quot;A filter object to specify which tools are allowed.&quot;&quot;&quot;


McpRequireApproval: TypeAlias = Union[McpRequireApprovalMcpToolApprovalFilter, Literal[&quot;always&quot;, &quot;never&quot;], None]


class Mcp(BaseModel):
    server_label: str
    &quot;&quot;&quot;A label for this MCP server, used to identify it in tool calls.&quot;&quot;&quot;

    type: Literal[&quot;mcp&quot;]
    &quot;&quot;&quot;The type of the MCP tool. Always `mcp`.&quot;&quot;&quot;

    allowed_tools: Optional[McpAllowedTools] = None
    &quot;&quot;&quot;List of allowed tool names or a filter object.&quot;&quot;&quot;

    authorization: Optional[str] = None
    &quot;&quot;&quot;
    An OAuth access token that can be used with a remote MCP server, either with a
    custom MCP server URL or a service connector. Your application must handle the
    OAuth authorization flow and provide the token here.
    &quot;&quot;&quot;

    connector_id: Optional[
        Literal[
            &quot;connector_dropbox&quot;,
            &quot;connector_gmail&quot;,
            &quot;connector_googlecalendar&quot;,
            &quot;connector_googledrive&quot;,
            &quot;connector_microsoftteams&quot;,
            &quot;connector_outlookcalendar&quot;,
            &quot;connector_outlookemail&quot;,
            &quot;connector_sharepoint&quot;,
        ]
    ] = None
    &quot;&quot;&quot;Identifier for service connectors, like those available in ChatGPT.

    One of `server_url` or `connector_id` must be provided. Learn more about service
    connectors
    [here](https://platform.openai.com/docs/guides/tools-remote-mcp#connectors).

    Currently supported `connector_id` values are:

    - Dropbox: `connector_dropbox`
    - Gmail: `connector_gmail`
    - Google Calendar: `connector_googlecalendar`
    - Google Drive: `connector_googledrive`
    - Microsoft Teams: `connector_microsoftteams`
    - Outlook Calendar: `connector_outlookcalendar`
    - Outlook Email: `connector_outlookemail`
    - SharePoint: `connector_sharepoint`
    &quot;&quot;&quot;

    headers: Optional[Dict[str, str]] = None
    &quot;&quot;&quot;Optional HTTP headers to send to the MCP server.

    Use for authentication or other purposes.
    &quot;&quot;&quot;

    require_approval: Optional[McpRequireApproval] = None
    &quot;&quot;&quot;Specify which of the MCP server's tools require approval.&quot;&quot;&quot;

    server_description: Optional[str] = None
    &quot;&quot;&quot;Optional description of the MCP server, used to provide more context.&quot;&quot;&quot;

    server_url: Optional[str] = None
    &quot;&quot;&quot;The URL for the MCP server.

    One of `server_url` or `connector_id` must be provided.
    &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_tools_config_param.py (Line 13:5 - Line 141:2), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_tools_config_union_param.py (Line 12:5 - Line 140:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup152"><code class="language-python text-sm text-gray-800">&quot;RealtimeToolsConfigUnionParam&quot;,
    &quot;Mcp&quot;,
    &quot;McpAllowedTools&quot;,
    &quot;McpAllowedToolsMcpToolFilter&quot;,
    &quot;McpRequireApproval&quot;,
    &quot;McpRequireApprovalMcpToolApprovalFilter&quot;,
    &quot;McpRequireApprovalMcpToolApprovalFilterAlways&quot;,
    &quot;McpRequireApprovalMcpToolApprovalFilterNever&quot;,
]


class McpAllowedToolsMcpToolFilter(TypedDict, total=False):
    read_only: bool
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: SequenceNotStr[str]
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


McpAllowedTools: TypeAlias = Union[SequenceNotStr[str], McpAllowedToolsMcpToolFilter]


class McpRequireApprovalMcpToolApprovalFilterAlways(TypedDict, total=False):
    read_only: bool
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: SequenceNotStr[str]
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


class McpRequireApprovalMcpToolApprovalFilterNever(TypedDict, total=False):
    read_only: bool
    &quot;&quot;&quot;Indicates whether or not a tool modifies data or is read-only.

    If an MCP server is
    [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),
    it will match this filter.
    &quot;&quot;&quot;

    tool_names: SequenceNotStr[str]
    &quot;&quot;&quot;List of allowed tool names.&quot;&quot;&quot;


class McpRequireApprovalMcpToolApprovalFilter(TypedDict, total=False):
    always: McpRequireApprovalMcpToolApprovalFilterAlways
    &quot;&quot;&quot;A filter object to specify which tools are allowed.&quot;&quot;&quot;

    never: McpRequireApprovalMcpToolApprovalFilterNever
    &quot;&quot;&quot;A filter object to specify which tools are allowed.&quot;&quot;&quot;


McpRequireApproval: TypeAlias = Union[McpRequireApprovalMcpToolApprovalFilter, Literal[&quot;always&quot;, &quot;never&quot;]]


class Mcp(TypedDict, total=False):
    server_label: Required[str]
    &quot;&quot;&quot;A label for this MCP server, used to identify it in tool calls.&quot;&quot;&quot;

    type: Required[Literal[&quot;mcp&quot;]]
    &quot;&quot;&quot;The type of the MCP tool. Always `mcp`.&quot;&quot;&quot;

    allowed_tools: Optional[McpAllowedTools]
    &quot;&quot;&quot;List of allowed tool names or a filter object.&quot;&quot;&quot;

    authorization: str
    &quot;&quot;&quot;
    An OAuth access token that can be used with a remote MCP server, either with a
    custom MCP server URL or a service connector. Your application must handle the
    OAuth authorization flow and provide the token here.
    &quot;&quot;&quot;

    connector_id: Literal[
        &quot;connector_dropbox&quot;,
        &quot;connector_gmail&quot;,
        &quot;connector_googlecalendar&quot;,
        &quot;connector_googledrive&quot;,
        &quot;connector_microsoftteams&quot;,
        &quot;connector_outlookcalendar&quot;,
        &quot;connector_outlookemail&quot;,
        &quot;connector_sharepoint&quot;,
    ]
    &quot;&quot;&quot;Identifier for service connectors, like those available in ChatGPT.

    One of `server_url` or `connector_id` must be provided. Learn more about service
    connectors
    [here](https://platform.openai.com/docs/guides/tools-remote-mcp#connectors).

    Currently supported `connector_id` values are:

    - Dropbox: `connector_dropbox`
    - Gmail: `connector_gmail`
    - Google Calendar: `connector_googlecalendar`
    - Google Drive: `connector_googledrive`
    - Microsoft Teams: `connector_microsoftteams`
    - Outlook Calendar: `connector_outlookcalendar`
    - Outlook Email: `connector_outlookemail`
    - SharePoint: `connector_sharepoint`
    &quot;&quot;&quot;

    headers: Optional[Dict[str, str]]
    &quot;&quot;&quot;Optional HTTP headers to send to the MCP server.

    Use for authentication or other purposes.
    &quot;&quot;&quot;

    require_approval: Optional[McpRequireApproval]
    &quot;&quot;&quot;Specify which of the MCP server's tools require approval.&quot;&quot;&quot;

    server_description: str
    &quot;&quot;&quot;Optional description of the MCP server, used to provide more context.&quot;&quot;&quot;

    server_url: str
    &quot;&quot;&quot;The URL for the MCP server.

    One of `server_url` or `connector_id` must be provided.
    &quot;&quot;&quot;


RealtimeToolsConfigUnionParam: TypeAlias = Union[RealtimeFunctionToolParam, Mcp]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_response.py (Line 51:33 - Line 108:35), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_transcription_session_audio_input_turn_detection.py (Line 12:10 - Line 69:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup153"><code class="language-python text-sm text-gray-800">(BaseModel):
    type: Literal[&quot;server_vad&quot;]
    &quot;&quot;&quot;Type of turn detection, `server_vad` to turn on simple Server VAD.&quot;&quot;&quot;

    create_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    idle_timeout_ms: Optional[int] = None
    &quot;&quot;&quot;Optional timeout after which a model response will be triggered automatically.

    This is useful for situations in which a long pause from the user is unexpected,
    such as a phone call. The model will effectively prompt the user to continue the
    conversation based on the current context.

    The timeout value will be applied after the last model response's audio has
    finished playing, i.e. it's set to the `response.done` time plus audio playback
    duration.

    An `input_audio_buffer.timeout_triggered` event (plus events associated with the
    Response) will be emitted when the timeout is reached. Idle timeout is currently
    only supported for `server_vad` mode.
    &quot;&quot;&quot;

    interrupt_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: Optional[float] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;


class AudioInputTurnDetectionSemanticVad</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_response.py (Line 282:24 - Line 329:8), .venv/lib/python3.14/site-packages/openai/types/responses/tool.py (Line 98:16 - Line 145:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup154"><code class="language-python text-sm text-gray-800">] = None
    &quot;&quot;&quot;List of allowed tool names or a filter object.&quot;&quot;&quot;

    authorization: Optional[str] = None
    &quot;&quot;&quot;
    An OAuth access token that can be used with a remote MCP server, either with a
    custom MCP server URL or a service connector. Your application must handle the
    OAuth authorization flow and provide the token here.
    &quot;&quot;&quot;

    connector_id: Optional[
        Literal[
            &quot;connector_dropbox&quot;,
            &quot;connector_gmail&quot;,
            &quot;connector_googlecalendar&quot;,
            &quot;connector_googledrive&quot;,
            &quot;connector_microsoftteams&quot;,
            &quot;connector_outlookcalendar&quot;,
            &quot;connector_outlookemail&quot;,
            &quot;connector_sharepoint&quot;,
        ]
    ] = None
    &quot;&quot;&quot;Identifier for service connectors, like those available in ChatGPT.

    One of `server_url` or `connector_id` must be provided. Learn more about service
    connectors
    [here](https://platform.openai.com/docs/guides/tools-remote-mcp#connectors).

    Currently supported `connector_id` values are:

    - Dropbox: `connector_dropbox`
    - Gmail: `connector_gmail`
    - Google Calendar: `connector_googlecalendar`
    - Google Drive: `connector_googledrive`
    - Microsoft Teams: `connector_microsoftteams`
    - Outlook Calendar: `connector_outlookcalendar`
    - Outlook Email: `connector_outlookemail`
    - SharePoint: `connector_sharepoint`
    &quot;&quot;&quot;

    headers: Optional[Dict[str, str]] = None
    &quot;&quot;&quot;Optional HTTP headers to send to the MCP server.

    Use for authentication or other purposes.
    &quot;&quot;&quot;

    require_approval: Optional[ToolMcpToolRequireApproval] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_response.py (Line 381:14 - Line 401:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/session_update_event.py (Line 194:8 - Line 214:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup155"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    instructions: Optional[str] = None
    &quot;&quot;&quot;The default system instructions (i.e.

    system message) prepended to model calls. This field allows the client to guide
    the model on desired responses. The model can be instructed on response content
    and format, (e.g. &quot;be extremely succinct&quot;, &quot;act friendly&quot;, &quot;here are examples of
    good responses&quot;) and on audio behavior (e.g. &quot;talk quickly&quot;, &quot;inject emotion
    into your voice&quot;, &quot;laugh frequently&quot;). The instructions are not guaranteed to be
    followed by the model, but they provide guidance to the model on the desired
    behavior.

    Note that the server sets default instructions which will be used if this field
    is not set and are visible in the `session.created` event at the start of the
    session.
    &quot;&quot;&quot;

    max_output_tokens: Union[int, Literal[&quot;inf&quot;], None] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_request_param.py (Line 99:5 - Line 108:8), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_response.py (Line 452:5 - Line 461:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup156"><code class="language-python text-sm text-gray-800">Realtime API can write session traces to the
    [Traces Dashboard](/logs?api=traces). Set to null to disable tracing. Once
    tracing is enabled for a session, the configuration cannot be modified.

    `auto` will create a trace for the session with default values for the workflow
    name, group id, and metadata.
    &quot;&quot;&quot;

    truncation: RealtimeTruncationParam
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_request.py (Line 99:5 - Line 111:2), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_response.py (Line 452:5 - Line 464:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup157"><code class="language-python text-sm text-gray-800">Realtime API can write session traces to the
    [Traces Dashboard](/logs?api=traces). Set to null to disable tracing. Once
    tracing is enabled for a session, the configuration cannot be modified.

    `auto` will create a trace for the session with default values for the workflow
    name, group id, and metadata.
    &quot;&quot;&quot;

    truncation: Optional[RealtimeTruncation] = None
    &quot;&quot;&quot;
    Controls how the realtime conversation is truncated prior to model inference.
    The default is `auto`.
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_server_event.py (Line 69:5 - Line 116:19), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/realtime_server_event.py (Line 58:5 - Line 105:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup158"><code class="language-python text-sm text-gray-800">type: Literal[&quot;conversation.item.retrieved&quot;]
    &quot;&quot;&quot;The event type, must be `conversation.item.retrieved`.&quot;&quot;&quot;


class OutputAudioBufferStarted(BaseModel):
    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    response_id: str
    &quot;&quot;&quot;The unique ID of the response that produced the audio.&quot;&quot;&quot;

    type: Literal[&quot;output_audio_buffer.started&quot;]
    &quot;&quot;&quot;The event type, must be `output_audio_buffer.started`.&quot;&quot;&quot;


class OutputAudioBufferStopped(BaseModel):
    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    response_id: str
    &quot;&quot;&quot;The unique ID of the response that produced the audio.&quot;&quot;&quot;

    type: Literal[&quot;output_audio_buffer.stopped&quot;]
    &quot;&quot;&quot;The event type, must be `output_audio_buffer.stopped`.&quot;&quot;&quot;


class OutputAudioBufferCleared(BaseModel):
    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    response_id: str
    &quot;&quot;&quot;The unique ID of the response that produced the audio.&quot;&quot;&quot;

    type: Literal[&quot;output_audio_buffer.cleared&quot;]
    &quot;&quot;&quot;The event type, must be `output_audio_buffer.cleared`.&quot;&quot;&quot;


RealtimeServerEvent: TypeAlias = Annotated[
    Union[
        ConversationCreatedEvent,
        ConversationItemCreatedEvent,
        ConversationItemDeletedEvent,
        ConversationItemInputAudioTranscriptionCompletedEvent,
        ConversationItemInputAudioTranscriptionDeltaEvent,
        ConversationItemInputAudioTranscriptionFailedEvent,
        ConversationItemRetrieved,
        ConversationItemTruncatedEvent,
        RealtimeErrorEvent</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_response_status.py (Line 6:2 - Line 39:8), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/realtime_response_status.py (Line 6:2 - Line 39:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup159"><code class="language-python text-sm text-gray-800">..._models import BaseModel

__all__ = [&quot;RealtimeResponseStatus&quot;, &quot;Error&quot;]


class Error(BaseModel):
    code: Optional[str] = None
    &quot;&quot;&quot;Error code, if any.&quot;&quot;&quot;

    type: Optional[str] = None
    &quot;&quot;&quot;The type of error.&quot;&quot;&quot;


class RealtimeResponseStatus(BaseModel):
    error: Optional[Error] = None
    &quot;&quot;&quot;
    A description of the error that caused the response to fail, populated when the
    `status` is `failed`.
    &quot;&quot;&quot;

    reason: Optional[Literal[&quot;turn_detected&quot;, &quot;client_cancelled&quot;, &quot;max_output_tokens&quot;, &quot;content_filter&quot;]] = None
    &quot;&quot;&quot;The reason the Response did not complete.

    For a `cancelled` Response, one of `turn_detected` (the server VAD detected a
    new start of speech) or `client_cancelled` (the client sent a cancel event). For
    an `incomplete` Response, one of `max_output_tokens` or `content_filter` (the
    server-side safety filter activated and cut off the response).
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;completed&quot;, &quot;cancelled&quot;, &quot;incomplete&quot;, &quot;failed&quot;]] = None
    &quot;&quot;&quot;
    The type of error that caused the response to fail, corresponding with the
    `status` field (`completed`, `cancelled`, `incomplete`, `failed`).
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_response_create_mcp_tool.py (Line 79:13 - Line 126:8), .venv/lib/python3.14/site-packages/openai/types/responses/tool.py (Line 98:16 - Line 145:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn160" onclick="toggleCodeBlock('cloneGroup160', 'expandBtn160', 'collapseBtn160')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn160" onclick="toggleCodeBlock('cloneGroup160', 'expandBtn160', 'collapseBtn160')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup160"><code class="language-python text-sm text-gray-800">] = None
    &quot;&quot;&quot;List of allowed tool names or a filter object.&quot;&quot;&quot;

    authorization: Optional[str] = None
    &quot;&quot;&quot;
    An OAuth access token that can be used with a remote MCP server, either with a
    custom MCP server URL or a service connector. Your application must handle the
    OAuth authorization flow and provide the token here.
    &quot;&quot;&quot;

    connector_id: Optional[
        Literal[
            &quot;connector_dropbox&quot;,
            &quot;connector_gmail&quot;,
            &quot;connector_googlecalendar&quot;,
            &quot;connector_googledrive&quot;,
            &quot;connector_microsoftteams&quot;,
            &quot;connector_outlookcalendar&quot;,
            &quot;connector_outlookemail&quot;,
            &quot;connector_sharepoint&quot;,
        ]
    ] = None
    &quot;&quot;&quot;Identifier for service connectors, like those available in ChatGPT.

    One of `server_url` or `connector_id` must be provided. Learn more about service
    connectors
    [here](https://platform.openai.com/docs/guides/tools-remote-mcp#connectors).

    Currently supported `connector_id` values are:

    - Dropbox: `connector_dropbox`
    - Gmail: `connector_gmail`
    - Google Calendar: `connector_googlecalendar`
    - Google Drive: `connector_googledrive`
    - Microsoft Teams: `connector_microsoftteams`
    - Outlook Calendar: `connector_outlookcalendar`
    - Outlook Email: `connector_outlookemail`
    - SharePoint: `connector_sharepoint`
    &quot;&quot;&quot;

    headers: Optional[Dict[str, str]] = None
    &quot;&quot;&quot;Optional HTTP headers to send to the MCP server.

    Use for authentication or other purposes.
    &quot;&quot;&quot;

    require_approval: Optional[RequireApproval] = None
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_audio_input_turn_detection_param.py (Line 8:39 - Line 95:37), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_transcription_session_audio_input_turn_detection_param.py (Line 8:59 - Line 95:57)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn161" onclick="toggleCodeBlock('cloneGroup161', 'expandBtn161', 'collapseBtn161')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn161" onclick="toggleCodeBlock('cloneGroup161', 'expandBtn161', 'collapseBtn161')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup161"><code class="language-python text-sm text-gray-800">, &quot;ServerVad&quot;, &quot;SemanticVad&quot;]


class ServerVad(TypedDict, total=False):
    type: Required[Literal[&quot;server_vad&quot;]]
    &quot;&quot;&quot;Type of turn detection, `server_vad` to turn on simple Server VAD.&quot;&quot;&quot;

    create_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    idle_timeout_ms: Optional[int]
    &quot;&quot;&quot;Optional timeout after which a model response will be triggered automatically.

    This is useful for situations in which a long pause from the user is unexpected,
    such as a phone call. The model will effectively prompt the user to continue the
    conversation based on the current context.

    The timeout value will be applied after the last model response's audio has
    finished playing, i.e. it's set to the `response.done` time plus audio playback
    duration.

    An `input_audio_buffer.timeout_triggered` event (plus events associated with the
    Response) will be emitted when the timeout is reached. Idle timeout is currently
    only supported for `server_vad` mode.
    &quot;&quot;&quot;

    interrupt_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: int
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: float
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;


class SemanticVad(TypedDict, total=False):
    type: Required[Literal[&quot;semantic_vad&quot;]]
    &quot;&quot;&quot;Type of turn detection, `semantic_vad` to turn on Semantic VAD.&quot;&quot;&quot;

    create_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    eagerness: Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`. `low`, `medium`, and `high` have max timeouts of 8s,
    4s, and 2s respectively.
    &quot;&quot;&quot;

    interrupt_response: bool
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;


RealtimeAudioInputTurnDetectionParam</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/realtime_audio_input_turn_detection.py (Line 9:34 - Line 96:32), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_transcription_session_audio_input_turn_detection.py (Line 9:54 - Line 96:52)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn162" onclick="toggleCodeBlock('cloneGroup162', 'expandBtn162', 'collapseBtn162')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn162" onclick="toggleCodeBlock('cloneGroup162', 'expandBtn162', 'collapseBtn162')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup162"><code class="language-python text-sm text-gray-800">, &quot;ServerVad&quot;, &quot;SemanticVad&quot;]


class ServerVad(BaseModel):
    type: Literal[&quot;server_vad&quot;]
    &quot;&quot;&quot;Type of turn detection, `server_vad` to turn on simple Server VAD.&quot;&quot;&quot;

    create_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    idle_timeout_ms: Optional[int] = None
    &quot;&quot;&quot;Optional timeout after which a model response will be triggered automatically.

    This is useful for situations in which a long pause from the user is unexpected,
    such as a phone call. The model will effectively prompt the user to continue the
    conversation based on the current context.

    The timeout value will be applied after the last model response's audio has
    finished playing, i.e. it's set to the `response.done` time plus audio playback
    duration.

    An `input_audio_buffer.timeout_triggered` event (plus events associated with the
    Response) will be emitted when the timeout is reached. Idle timeout is currently
    only supported for `server_vad` mode.
    &quot;&quot;&quot;

    interrupt_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;

    prefix_padding_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Amount of audio to include before the VAD detected speech (in milliseconds).
    Defaults to 300ms.
    &quot;&quot;&quot;

    silence_duration_ms: Optional[int] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Duration of silence to detect speech stop (in milliseconds). Defaults to 500ms.
    With shorter values the model will respond more quickly, but may jump in on
    short pauses from the user.
    &quot;&quot;&quot;

    threshold: Optional[float] = None
    &quot;&quot;&quot;Used only for `server_vad` mode.

    Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A higher
    threshold will require louder audio to activate the model, and thus might
    perform better in noisy environments.
    &quot;&quot;&quot;


class SemanticVad(BaseModel):
    type: Literal[&quot;semantic_vad&quot;]
    &quot;&quot;&quot;Type of turn detection, `semantic_vad` to turn on Semantic VAD.&quot;&quot;&quot;

    create_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically generate a response when a VAD stop event
    occurs.
    &quot;&quot;&quot;

    eagerness: Optional[Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;auto&quot;]] = None
    &quot;&quot;&quot;Used only for `semantic_vad` mode.

    The eagerness of the model to respond. `low` will wait longer for the user to
    continue speaking, `high` will respond more quickly. `auto` is the default and
    is equivalent to `medium`. `low`, `medium`, and `high` have max timeouts of 8s,
    4s, and 2s respectively.
    &quot;&quot;&quot;

    interrupt_response: Optional[bool] = None
    &quot;&quot;&quot;
    Whether or not to automatically interrupt any ongoing response with output to
    the default conversation (i.e. `conversation` of `auto`) when a VAD start event
    occurs.
    &quot;&quot;&quot;


RealtimeAudioInputTurnDetection</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/rate_limits_updated_event.py (Line 6:2 - Line 33:53), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/rate_limits_updated_event.py (Line 6:2 - Line 33:53)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn163" onclick="toggleCodeBlock('cloneGroup163', 'expandBtn163', 'collapseBtn163')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn163" onclick="toggleCodeBlock('cloneGroup163', 'expandBtn163', 'collapseBtn163')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup163"><code class="language-python text-sm text-gray-800">..._models import BaseModel

__all__ = [&quot;RateLimitsUpdatedEvent&quot;, &quot;RateLimit&quot;]


class RateLimit(BaseModel):
    limit: Optional[int] = None
    &quot;&quot;&quot;The maximum allowed value for the rate limit.&quot;&quot;&quot;

    name: Optional[Literal[&quot;requests&quot;, &quot;tokens&quot;]] = None
    &quot;&quot;&quot;The name of the rate limit (`requests`, `tokens`).&quot;&quot;&quot;

    remaining: Optional[int] = None
    &quot;&quot;&quot;The remaining value before the limit is reached.&quot;&quot;&quot;

    reset_seconds: Optional[float] = None
    &quot;&quot;&quot;Seconds until the rate limit resets.&quot;&quot;&quot;


class RateLimitsUpdatedEvent(BaseModel):
    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    rate_limits: List[RateLimit]
    &quot;&quot;&quot;List of rate limit information.&quot;&quot;&quot;

    type: Literal[&quot;rate_limits.updated&quot;]
    &quot;&quot;&quot;The event type, must be `rate_limits.updated`.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/conversation_item_input_audio_transcription_failed_event.py (Line 6:2 - Line 39:84), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/conversation_item_input_audio_transcription_failed_event.py (Line 6:2 - Line 39:84)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn164" onclick="toggleCodeBlock('cloneGroup164', 'expandBtn164', 'collapseBtn164')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn164" onclick="toggleCodeBlock('cloneGroup164', 'expandBtn164', 'collapseBtn164')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup164"><code class="language-python text-sm text-gray-800">..._models import BaseModel

__all__ = [&quot;ConversationItemInputAudioTranscriptionFailedEvent&quot;, &quot;Error&quot;]


class Error(BaseModel):
    code: Optional[str] = None
    &quot;&quot;&quot;Error code, if any.&quot;&quot;&quot;

    message: Optional[str] = None
    &quot;&quot;&quot;A human-readable error message.&quot;&quot;&quot;

    param: Optional[str] = None
    &quot;&quot;&quot;Parameter related to the error, if any.&quot;&quot;&quot;

    type: Optional[str] = None
    &quot;&quot;&quot;The type of error.&quot;&quot;&quot;


class ConversationItemInputAudioTranscriptionFailedEvent(BaseModel):
    content_index: int
    &quot;&quot;&quot;The index of the content part containing the audio.&quot;&quot;&quot;

    error: Error
    &quot;&quot;&quot;Details of the transcription error.&quot;&quot;&quot;

    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    item_id: str
    &quot;&quot;&quot;The ID of the user message item.&quot;&quot;&quot;

    type: Literal[&quot;conversation.item.input_audio_transcription.failed&quot;]
    &quot;&quot;&quot;The event type, must be `conversation.item.input_audio_transcription.failed`.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/conversation_item_input_audio_transcription_completed_event.py (Line 14:35 - Line 54:54), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/conversation_item_input_audio_transcription_completed_event.py (Line 14:10 - Line 54:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn165" onclick="toggleCodeBlock('cloneGroup165', 'expandBtn165', 'collapseBtn165')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn165" onclick="toggleCodeBlock('cloneGroup165', 'expandBtn165', 'collapseBtn165')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup165"><code class="language-python text-sm text-gray-800">,
]


class UsageTranscriptTextUsageTokensInputTokenDetails(BaseModel):
    audio_tokens: Optional[int] = None
    &quot;&quot;&quot;Number of audio tokens billed for this request.&quot;&quot;&quot;

    text_tokens: Optional[int] = None
    &quot;&quot;&quot;Number of text tokens billed for this request.&quot;&quot;&quot;


class UsageTranscriptTextUsageTokens(BaseModel):
    input_tokens: int
    &quot;&quot;&quot;Number of input tokens billed for this request.&quot;&quot;&quot;

    output_tokens: int
    &quot;&quot;&quot;Number of output tokens generated.&quot;&quot;&quot;

    total_tokens: int
    &quot;&quot;&quot;Total number of tokens used (input + output).&quot;&quot;&quot;

    type: Literal[&quot;tokens&quot;]
    &quot;&quot;&quot;The type of the usage object. Always `tokens` for this variant.&quot;&quot;&quot;

    input_token_details: Optional[UsageTranscriptTextUsageTokensInputTokenDetails] = None
    &quot;&quot;&quot;Details about the input tokens billed for this request.&quot;&quot;&quot;


class UsageTranscriptTextUsageDuration(BaseModel):
    seconds: float
    &quot;&quot;&quot;Duration of the input audio in seconds.&quot;&quot;&quot;

    type: Literal[&quot;duration&quot;]
    &quot;&quot;&quot;The type of the usage object. Always `duration` for this variant.&quot;&quot;&quot;


Usage: TypeAlias = Union[UsageTranscriptTextUsageTokens, UsageTranscriptTextUsageDuration]


class ConversationItemInputAudioTranscriptionCompletedEvent</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/conversation_created_event.py (Line 6:2 - Line 27:54), .venv/lib/python3.14/site-packages/openai/types/beta/realtime/conversation_created_event.py (Line 6:2 - Line 27:54)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn166" onclick="toggleCodeBlock('cloneGroup166', 'expandBtn166', 'collapseBtn166')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn166" onclick="toggleCodeBlock('cloneGroup166', 'expandBtn166', 'collapseBtn166')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup166"><code class="language-python text-sm text-gray-800">..._models import BaseModel

__all__ = [&quot;ConversationCreatedEvent&quot;, &quot;Conversation&quot;]


class Conversation(BaseModel):
    id: Optional[str] = None
    &quot;&quot;&quot;The unique ID of the conversation.&quot;&quot;&quot;

    object: Optional[Literal[&quot;realtime.conversation&quot;]] = None
    &quot;&quot;&quot;The object type, must be `realtime.conversation`.&quot;&quot;&quot;


class ConversationCreatedEvent(BaseModel):
    conversation: Conversation
    &quot;&quot;&quot;The conversation resource.&quot;&quot;&quot;

    event_id: str
    &quot;&quot;&quot;The unique ID of the server event.&quot;&quot;&quot;

    type: Literal[&quot;conversation.created&quot;]
    &quot;&quot;&quot;The event type, must be `conversation.created`.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/realtime/call_accept_params.py (Line 18:17 - Line 111:2), .venv/lib/python3.14/site-packages/openai/types/realtime/realtime_session_create_request_param.py (Line 18:34 - Line 111:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn167" onclick="toggleCodeBlock('cloneGroup167', 'expandBtn167', 'collapseBtn167')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn167" onclick="toggleCodeBlock('cloneGroup167', 'expandBtn167', 'collapseBtn167')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup167"><code class="language-python text-sm text-gray-800">(TypedDict, total=False):
    type: Required[Literal[&quot;realtime&quot;]]
    &quot;&quot;&quot;The type of session to create. Always `realtime` for the Realtime API.&quot;&quot;&quot;

    audio: RealtimeAudioConfigParam
    &quot;&quot;&quot;Configuration for input and output audio.&quot;&quot;&quot;

    include: List[Literal[&quot;item.input_audio_transcription.logprobs&quot;]]
    &quot;&quot;&quot;Additional fields to include in server outputs.

    `item.input_audio_transcription.logprobs`: Include logprobs for input audio
    transcription.
    &quot;&quot;&quot;

    instructions: str
    &quot;&quot;&quot;The default system instructions (i.e.

    system message) prepended to model calls. This field allows the client to guide
    the model on desired responses. The model can be instructed on response content
    and format, (e.g. &quot;be extremely succinct&quot;, &quot;act friendly&quot;, &quot;here are examples of
    good responses&quot;) and on audio behavior (e.g. &quot;talk quickly&quot;, &quot;inject emotion
    into your voice&quot;, &quot;laugh frequently&quot;). The instructions are not guaranteed to be
    followed by the model, but they provide guidance to the model on the desired
    behavior.

    Note that the server sets default instructions which will be used if this field
    is not set and are visible in the `session.created` event at the start of the
    session.
    &quot;&quot;&quot;

    max_output_tokens: Union[int, Literal[&quot;inf&quot;]]
    &quot;&quot;&quot;
    Maximum number of output tokens for a single assistant response, inclusive of
    tool calls. Provide an integer between 1 and 4096 to limit output tokens, or
    `inf` for the maximum available tokens for a given model. Defaults to `inf`.
    &quot;&quot;&quot;

    model: Union[
        str,
        Literal[
            &quot;gpt-realtime&quot;,
            &quot;gpt-realtime-2025-08-28&quot;,
            &quot;gpt-4o-realtime-preview&quot;,
            &quot;gpt-4o-realtime-preview-2024-10-01&quot;,
            &quot;gpt-4o-realtime-preview-2024-12-17&quot;,
            &quot;gpt-4o-realtime-preview-2025-06-03&quot;,
            &quot;gpt-4o-mini-realtime-preview&quot;,
            &quot;gpt-4o-mini-realtime-preview-2024-12-17&quot;,
            &quot;gpt-realtime-mini&quot;,
            &quot;gpt-realtime-mini-2025-10-06&quot;,
            &quot;gpt-audio-mini&quot;,
            &quot;gpt-audio-mini-2025-10-06&quot;,
        ],
    ]
    &quot;&quot;&quot;The Realtime model used for this session.&quot;&quot;&quot;

    output_modalities: List[Literal[&quot;text&quot;, &quot;audio&quot;]]
    &quot;&quot;&quot;The set of modalities the model can respond with.

    It defaults to `[&quot;audio&quot;]`, indicating that the model will respond with audio
    plus a transcript. `[&quot;text&quot;]` can be used to make the model respond with text
    only. It is not possible to request both `text` and `audio` at the same time.
    &quot;&quot;&quot;

    prompt: Optional[ResponsePromptParam]
    &quot;&quot;&quot;
    Reference to a prompt template and its variables.
    [Learn more](https://platform.openai.com/docs/guides/text?api-mode=responses#reusable-prompts).
    &quot;&quot;&quot;

    tool_choice: RealtimeToolChoiceConfigParam
    &quot;&quot;&quot;How the model chooses tools.

    Provide one of the string modes or force a specific function/MCP tool.
    &quot;&quot;&quot;

    tools: RealtimeToolsConfigParam
    &quot;&quot;&quot;Tools available to the model.&quot;&quot;&quot;

    tracing: Optional[RealtimeTracingConfigParam]
    &quot;&quot;&quot;
    Realtime API can write session traces to the
    [Traces Dashboard](/logs?api=traces). Set to null to disable tracing. Once
    tracing is enabled for a session, the configuration cannot be modified.

    `auto` will create a trace for the session with default values for the workflow
    name, group id, and metadata.
    &quot;&quot;&quot;

    truncation: RealtimeTruncationParam
    &quot;&quot;&quot;
    Controls how the realtime conversation is truncated prior to model inference.
    The default is `auto`.
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/graders/label_model_grader_param.py (Line 12:25 - Line 61:22), .venv/lib/python3.14/site-packages/openai/types/graders/score_model_grader_param.py (Line 19:1 - Line 68:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn168" onclick="toggleCodeBlock('cloneGroup168', 'expandBtn168', 'collapseBtn168')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn168" onclick="toggleCodeBlock('cloneGroup168', 'expandBtn168', 'collapseBtn168')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup168"><code class="language-python text-sm text-gray-800">]


class InputContentOutputText(TypedDict, total=False):
    text: Required[str]
    &quot;&quot;&quot;The text output from the model.&quot;&quot;&quot;

    type: Required[Literal[&quot;output_text&quot;]]
    &quot;&quot;&quot;The type of the output text. Always `output_text`.&quot;&quot;&quot;


class InputContentInputImage(TypedDict, total=False):
    image_url: Required[str]
    &quot;&quot;&quot;The URL of the image input.&quot;&quot;&quot;

    type: Required[Literal[&quot;input_image&quot;]]
    &quot;&quot;&quot;The type of the image input. Always `input_image`.&quot;&quot;&quot;

    detail: str
    &quot;&quot;&quot;The detail level of the image to be sent to the model.

    One of `high`, `low`, or `auto`. Defaults to `auto`.
    &quot;&quot;&quot;


InputContent: TypeAlias = Union[
    str,
    ResponseInputTextParam,
    InputContentOutputText,
    InputContentInputImage,
    ResponseInputAudioParam,
    Iterable[object],
]


class Input(TypedDict, total=False):
    content: Required[InputContent]
    &quot;&quot;&quot;Inputs to the model - can contain template strings.&quot;&quot;&quot;

    role: Required[Literal[&quot;user&quot;, &quot;assistant&quot;, &quot;system&quot;, &quot;developer&quot;]]
    &quot;&quot;&quot;The role of the message input.

    One of `user`, `assistant`, `system`, or `developer`.
    &quot;&quot;&quot;

    type: Literal[&quot;message&quot;]
    &quot;&quot;&quot;The type of the message input. Always `message`.&quot;&quot;&quot;


class LabelModelGraderParam</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/graders/label_model_grader.py (Line 10:25 - Line 54:17), .venv/lib/python3.14/site-packages/openai/types/graders/score_model_grader.py (Line 18:1 - Line 62:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn169" onclick="toggleCodeBlock('cloneGroup169', 'expandBtn169', 'collapseBtn169')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn169" onclick="toggleCodeBlock('cloneGroup169', 'expandBtn169', 'collapseBtn169')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup169"><code class="language-python text-sm text-gray-800">]


class InputContentOutputText(BaseModel):
    text: str
    &quot;&quot;&quot;The text output from the model.&quot;&quot;&quot;

    type: Literal[&quot;output_text&quot;]
    &quot;&quot;&quot;The type of the output text. Always `output_text`.&quot;&quot;&quot;


class InputContentInputImage(BaseModel):
    image_url: str
    &quot;&quot;&quot;The URL of the image input.&quot;&quot;&quot;

    type: Literal[&quot;input_image&quot;]
    &quot;&quot;&quot;The type of the image input. Always `input_image`.&quot;&quot;&quot;

    detail: Optional[str] = None
    &quot;&quot;&quot;The detail level of the image to be sent to the model.

    One of `high`, `low`, or `auto`. Defaults to `auto`.
    &quot;&quot;&quot;


InputContent: TypeAlias = Union[
    str, ResponseInputText, InputContentOutputText, InputContentInputImage, ResponseInputAudio, List[object]
]


class Input(BaseModel):
    content: InputContent
    &quot;&quot;&quot;Inputs to the model - can contain template strings.&quot;&quot;&quot;

    role: Literal[&quot;user&quot;, &quot;assistant&quot;, &quot;system&quot;, &quot;developer&quot;]
    &quot;&quot;&quot;The role of the message input.

    One of `user`, `assistant`, `system`, or `developer`.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;message&quot;]] = None
    &quot;&quot;&quot;The type of the message input. Always `message`.&quot;&quot;&quot;


class LabelModelGrader</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/fine_tuning/job_create_params.py (Line 26:2 - Line 47:8), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 93:2 - Line 112:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn170" onclick="toggleCodeBlock('cloneGroup170', 'expandBtn170', 'collapseBtn170')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn170" onclick="toggleCodeBlock('cloneGroup170', 'expandBtn170', 'collapseBtn170')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup170"><code class="language-python text-sm text-gray-800">ID of an uploaded file that contains training data.

    See [upload file](https://platform.openai.com/docs/api-reference/files/create)
    for how to upload a file.

    Your dataset must be formatted as a JSONL file. Additionally, you must upload
    your file with the purpose `fine-tune`.

    The contents of the file should differ depending on if the model uses the
    [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input),
    [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)
    format, or if the fine-tuning method uses the
    [preference](https://platform.openai.com/docs/api-reference/fine-tuning/preference-input)
    format.

    See the
    [fine-tuning guide](https://platform.openai.com/docs/guides/model-optimization)
    for more details.
    &quot;&quot;&quot;

    hyperparameters: Hyperparameters
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/fine_tuning/job_create_params.py (Line 53:4 - Line 66:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 82:5 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn171" onclick="toggleCodeBlock('cloneGroup171', 'expandBtn171', 'collapseBtn171')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn171" onclick="toggleCodeBlock('cloneGroup171', 'expandBtn171', 'collapseBtn171')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup171"><code class="language-python text-sm text-gray-800">.&quot;&quot;&quot;

    metadata: Optional[Metadata]
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;

    method: Method
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/fine_tuning/job_create_params.py (Line 86:8 - Line 104:8), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 136:2 - Line 150:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn172" onclick="toggleCodeBlock('cloneGroup172', 'expandBtn172', 'collapseBtn172')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn172" onclick="toggleCodeBlock('cloneGroup172', 'expandBtn172', 'collapseBtn172')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup172"><code class="language-python text-sm text-gray-800">The ID of an uploaded file that contains validation data.

    If you provide this file, the data is used to generate validation metrics
    periodically during fine-tuning. These metrics can be viewed in the fine-tuning
    results file. The same data should not be present in both train and validation
    files.

    Your dataset must be formatted as a JSONL file. You must upload your file with
    the purpose `fine-tune`.

    See the
    [fine-tuning guide](https://platform.openai.com/docs/guides/model-optimization)
    for more details.
    &quot;&quot;&quot;


class Hyperparameters(TypedDict, total=False):
    batch_size: Union[Literal[&quot;auto&quot;], int]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_list_response.py (Line 1:1 - Line 21:18), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 1:1 - Line 21:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn173" onclick="toggleCodeBlock('cloneGroup173', 'expandBtn173', 'collapseBtn173')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn173" onclick="toggleCodeBlock('cloneGroup173', 'expandBtn173', 'collapseBtn173')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup173"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import Dict, List, Union, Optional
from typing_extensions import Literal, Annotated, TypeAlias

from pydantic import Field as FieldInfo

from ..._utils import PropertyInfo
from ..._models import BaseModel
from .eval_api_error import EvalAPIError
from ..responses.tool import Tool
from ..shared.metadata import Metadata
from ..shared.reasoning_effort import ReasoningEffort
from ..responses.response_input_text import ResponseInputText
from ..responses.response_input_audio import ResponseInputAudio
from .create_eval_jsonl_run_data_source import CreateEvalJSONLRunDataSource
from ..responses.response_format_text_config import ResponseFormatTextConfig
from .create_eval_completions_run_data_source import CreateEvalCompletionsRunDataSource

__all__ = [
    &quot;RunListResponse&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_list_response.py (Line 21:18 - Line 361:16), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 21:22 - Line 361:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn174" onclick="toggleCodeBlock('cloneGroup174', 'expandBtn174', 'collapseBtn174')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn174" onclick="toggleCodeBlock('cloneGroup174', 'expandBtn174', 'collapseBtn174')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup174"><code class="language-python text-sm text-gray-800">,
    &quot;DataSource&quot;,
    &quot;DataSourceResponses&quot;,
    &quot;DataSourceResponsesSource&quot;,
    &quot;DataSourceResponsesSourceFileContent&quot;,
    &quot;DataSourceResponsesSourceFileContentContent&quot;,
    &quot;DataSourceResponsesSourceFileID&quot;,
    &quot;DataSourceResponsesSourceResponses&quot;,
    &quot;DataSourceResponsesInputMessages&quot;,
    &quot;DataSourceResponsesInputMessagesTemplate&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplate&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateChatMessage&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItem&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage&quot;,
    &quot;DataSourceResponsesInputMessagesItemReference&quot;,
    &quot;DataSourceResponsesSamplingParams&quot;,
    &quot;DataSourceResponsesSamplingParamsText&quot;,
    &quot;PerModelUsage&quot;,
    &quot;PerTestingCriteriaResult&quot;,
    &quot;ResultCounts&quot;,
]


class DataSourceResponsesSourceFileContentContent(BaseModel):
    item: Dict[str, object]

    sample: Optional[Dict[str, object]] = None


class DataSourceResponsesSourceFileContent(BaseModel):
    content: List[DataSourceResponsesSourceFileContentContent]
    &quot;&quot;&quot;The content of the jsonl file.&quot;&quot;&quot;

    type: Literal[&quot;file_content&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_content`.&quot;&quot;&quot;


class DataSourceResponsesSourceFileID(BaseModel):
    id: str
    &quot;&quot;&quot;The identifier of the file.&quot;&quot;&quot;

    type: Literal[&quot;file_id&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_id`.&quot;&quot;&quot;


class DataSourceResponsesSourceResponses(BaseModel):
    type: Literal[&quot;responses&quot;]
    &quot;&quot;&quot;The type of run data source. Always `responses`.&quot;&quot;&quot;

    created_after: Optional[int] = None
    &quot;&quot;&quot;Only include items created after this timestamp (inclusive).

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    created_before: Optional[int] = None
    &quot;&quot;&quot;Only include items created before this timestamp (inclusive).

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    instructions_search: Optional[str] = None
    &quot;&quot;&quot;Optional string to search the 'instructions' field.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    metadata: Optional[object] = None
    &quot;&quot;&quot;Metadata filter for the responses.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    model: Optional[str] = None
    &quot;&quot;&quot;The name of the model to find responses for.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort] = None
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;Sampling temperature. This is a query parameter used to select responses.&quot;&quot;&quot;

    tools: Optional[List[str]] = None
    &quot;&quot;&quot;List of tool names. This is a query parameter used to select responses.&quot;&quot;&quot;

    top_p: Optional[float] = None
    &quot;&quot;&quot;Nucleus sampling parameter. This is a query parameter used to select responses.&quot;&quot;&quot;

    users: Optional[List[str]] = None
    &quot;&quot;&quot;List of user identifiers. This is a query parameter used to select responses.&quot;&quot;&quot;


DataSourceResponsesSource: TypeAlias = Annotated[
    Union[DataSourceResponsesSourceFileContent, DataSourceResponsesSourceFileID, DataSourceResponsesSourceResponses],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class DataSourceResponsesInputMessagesTemplateTemplateChatMessage(BaseModel):
    content: str
    &quot;&quot;&quot;The content of the message.&quot;&quot;&quot;

    role: str
    &quot;&quot;&quot;The role of the message (e.g. &quot;system&quot;, &quot;assistant&quot;, &quot;user&quot;).&quot;&quot;&quot;


class DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText(BaseModel):
    text: str
    &quot;&quot;&quot;The text output from the model.&quot;&quot;&quot;

    type: Literal[&quot;output_text&quot;]
    &quot;&quot;&quot;The type of the output text. Always `output_text`.&quot;&quot;&quot;


class DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage(BaseModel):
    image_url: str
    &quot;&quot;&quot;The URL of the image input.&quot;&quot;&quot;

    type: Literal[&quot;input_image&quot;]
    &quot;&quot;&quot;The type of the image input. Always `input_image`.&quot;&quot;&quot;

    detail: Optional[str] = None
    &quot;&quot;&quot;The detail level of the image to be sent to the model.

    One of `high`, `low`, or `auto`. Defaults to `auto`.
    &quot;&quot;&quot;


DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent: TypeAlias = Union[
    str,
    ResponseInputText,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage,
    ResponseInputAudio,
    List[object],
]


class DataSourceResponsesInputMessagesTemplateTemplateEvalItem(BaseModel):
    content: DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent
    &quot;&quot;&quot;Inputs to the model - can contain template strings.&quot;&quot;&quot;

    role: Literal[&quot;user&quot;, &quot;assistant&quot;, &quot;system&quot;, &quot;developer&quot;]
    &quot;&quot;&quot;The role of the message input.

    One of `user`, `assistant`, `system`, or `developer`.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;message&quot;]] = None
    &quot;&quot;&quot;The type of the message input. Always `message`.&quot;&quot;&quot;


DataSourceResponsesInputMessagesTemplateTemplate: TypeAlias = Union[
    DataSourceResponsesInputMessagesTemplateTemplateChatMessage,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItem,
]


class DataSourceResponsesInputMessagesTemplate(BaseModel):
    template: List[DataSourceResponsesInputMessagesTemplateTemplate]
    &quot;&quot;&quot;A list of chat messages forming the prompt or context.

    May include variable references to the `item` namespace, ie {{item.name}}.
    &quot;&quot;&quot;

    type: Literal[&quot;template&quot;]
    &quot;&quot;&quot;The type of input messages. Always `template`.&quot;&quot;&quot;


class DataSourceResponsesInputMessagesItemReference(BaseModel):
    item_reference: str
    &quot;&quot;&quot;A reference to a variable in the `item` namespace. Ie, &quot;item.name&quot; &quot;&quot;&quot;

    type: Literal[&quot;item_reference&quot;]
    &quot;&quot;&quot;The type of input messages. Always `item_reference`.&quot;&quot;&quot;


DataSourceResponsesInputMessages: TypeAlias = Annotated[
    Union[DataSourceResponsesInputMessagesTemplate, DataSourceResponsesInputMessagesItemReference],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class DataSourceResponsesSamplingParamsText(BaseModel):
    format: Optional[ResponseFormatTextConfig] = None
    &quot;&quot;&quot;An object specifying the format that the model must output.

    Configuring `{ &quot;type&quot;: &quot;json_schema&quot; }` enables Structured Outputs, which
    ensures the model will match your supplied JSON schema. Learn more in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    The default format is `{ &quot;type&quot;: &quot;text&quot; }` with no additional options.

    **Not recommended for gpt-4o and newer models:**

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables the older JSON mode, which
    ensures the message the model generates is valid JSON. Using `json_schema` is
    preferred for models that support it.
    &quot;&quot;&quot;


class DataSourceResponsesSamplingParams(BaseModel):
    max_completion_tokens: Optional[int] = None
    &quot;&quot;&quot;The maximum number of tokens in the generated output.&quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort] = None
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    seed: Optional[int] = None
    &quot;&quot;&quot;A seed value to initialize the randomness, during sampling.&quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;A higher temperature increases randomness in the outputs.&quot;&quot;&quot;

    text: Optional[DataSourceResponsesSamplingParamsText] = None
    &quot;&quot;&quot;Configuration options for a text response from the model.

    Can be plain text or structured JSON data. Learn more:

    - [Text inputs and outputs](https://platform.openai.com/docs/guides/text)
    - [Structured Outputs](https://platform.openai.com/docs/guides/structured-outputs)
    &quot;&quot;&quot;

    tools: Optional[List[Tool]] = None
    &quot;&quot;&quot;An array of tools the model may call while generating a response.

    You can specify which tool to use by setting the `tool_choice` parameter.

    The two categories of tools you can provide the model are:

    - **Built-in tools**: Tools that are provided by OpenAI that extend the model's
      capabilities, like
      [web search](https://platform.openai.com/docs/guides/tools-web-search) or
      [file search](https://platform.openai.com/docs/guides/tools-file-search).
      Learn more about
      [built-in tools](https://platform.openai.com/docs/guides/tools).
    - **Function calls (custom tools)**: Functions that are defined by you, enabling
      the model to call your own code. Learn more about
      [function calling](https://platform.openai.com/docs/guides/function-calling).
    &quot;&quot;&quot;

    top_p: Optional[float] = None
    &quot;&quot;&quot;An alternative to temperature for nucleus sampling; 1.0 includes all tokens.&quot;&quot;&quot;


class DataSourceResponses(BaseModel):
    source: DataSourceResponsesSource
    &quot;&quot;&quot;Determines what populates the `item` namespace in this run's data source.&quot;&quot;&quot;

    type: Literal[&quot;responses&quot;]
    &quot;&quot;&quot;The type of run data source. Always `responses`.&quot;&quot;&quot;

    input_messages: Optional[DataSourceResponsesInputMessages] = None
    &quot;&quot;&quot;Used when sampling from a model.

    Dictates the structure of the messages passed into the model. Can either be a
    reference to a prebuilt trajectory (ie, `item.input_trajectory`), or a template
    with variable references to the `item` namespace.
    &quot;&quot;&quot;

    model: Optional[str] = None
    &quot;&quot;&quot;The name of the model to use for generating completions (e.g. &quot;o3-mini&quot;).&quot;&quot;&quot;

    sampling_params: Optional[DataSourceResponsesSamplingParams] = None


DataSource: TypeAlias = Annotated[
    Union[CreateEvalJSONLRunDataSource, CreateEvalCompletionsRunDataSource, DataSourceResponses],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class PerModelUsage(BaseModel):
    cached_tokens: int
    &quot;&quot;&quot;The number of tokens retrieved from cache.&quot;&quot;&quot;

    completion_tokens: int
    &quot;&quot;&quot;The number of completion tokens generated.&quot;&quot;&quot;

    invocation_count: int
    &quot;&quot;&quot;The number of invocations.&quot;&quot;&quot;

    run_model_name: str = FieldInfo(alias=&quot;model_name&quot;)
    &quot;&quot;&quot;The name of the model.&quot;&quot;&quot;

    prompt_tokens: int
    &quot;&quot;&quot;The number of prompt tokens used.&quot;&quot;&quot;

    total_tokens: int
    &quot;&quot;&quot;The total number of tokens used.&quot;&quot;&quot;


class PerTestingCriteriaResult(BaseModel):
    failed: int
    &quot;&quot;&quot;Number of tests failed for this criteria.&quot;&quot;&quot;

    passed: int
    &quot;&quot;&quot;Number of tests passed for this criteria.&quot;&quot;&quot;

    testing_criteria: str
    &quot;&quot;&quot;A description of the testing criteria.&quot;&quot;&quot;


class ResultCounts(BaseModel):
    errored: int
    &quot;&quot;&quot;Number of output items that resulted in an error.&quot;&quot;&quot;

    failed: int
    &quot;&quot;&quot;Number of output items that failed to pass the evaluation.&quot;&quot;&quot;

    passed: int
    &quot;&quot;&quot;Number of output items that passed the evaluation.&quot;&quot;&quot;

    total: int
    &quot;&quot;&quot;Total number of executed output items.&quot;&quot;&quot;


class RunListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_list_response.py (Line 361:16 - Line 409:40), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 361:20 - Line 409:40)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn175" onclick="toggleCodeBlock('cloneGroup175', 'expandBtn175', 'collapseBtn175')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn175" onclick="toggleCodeBlock('cloneGroup175', 'expandBtn175', 'collapseBtn175')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup175"><code class="language-python text-sm text-gray-800">(BaseModel):
    id: str
    &quot;&quot;&quot;Unique identifier for the evaluation run.&quot;&quot;&quot;

    created_at: int
    &quot;&quot;&quot;Unix timestamp (in seconds) when the evaluation run was created.&quot;&quot;&quot;

    data_source: DataSource
    &quot;&quot;&quot;Information about the run's data source.&quot;&quot;&quot;

    error: EvalAPIError
    &quot;&quot;&quot;An object representing an error response from the Eval API.&quot;&quot;&quot;

    eval_id: str
    &quot;&quot;&quot;The identifier of the associated evaluation.&quot;&quot;&quot;

    metadata: Optional[Metadata] = None
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;

    model: str
    &quot;&quot;&quot;The model that is evaluated, if applicable.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the evaluation run.&quot;&quot;&quot;

    object: Literal[&quot;eval.run&quot;]
    &quot;&quot;&quot;The type of the object. Always &quot;eval.run&quot;.&quot;&quot;&quot;

    per_model_usage: List[PerModelUsage]
    &quot;&quot;&quot;Usage statistics for each model during the evaluation run.&quot;&quot;&quot;

    per_testing_criteria_results: List[PerTestingCriteriaResult]
    &quot;&quot;&quot;Results per testing criteria applied during the evaluation run.&quot;&quot;&quot;

    report_url: str
    &quot;&quot;&quot;The URL to the rendered evaluation run report on the UI dashboard.&quot;&quot;&quot;

    result_counts: ResultCounts
    &quot;&quot;&quot;Counters summarizing the outcomes of the evaluation run.&quot;&quot;&quot;

    status: str
    &quot;&quot;&quot;The status of the evaluation run.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_create_response.py (Line 1:1 - Line 21:20), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 1:1 - Line 21:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn176" onclick="toggleCodeBlock('cloneGroup176', 'expandBtn176', 'collapseBtn176')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn176" onclick="toggleCodeBlock('cloneGroup176', 'expandBtn176', 'collapseBtn176')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup176"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import Dict, List, Union, Optional
from typing_extensions import Literal, Annotated, TypeAlias

from pydantic import Field as FieldInfo

from ..._utils import PropertyInfo
from ..._models import BaseModel
from .eval_api_error import EvalAPIError
from ..responses.tool import Tool
from ..shared.metadata import Metadata
from ..shared.reasoning_effort import ReasoningEffort
from ..responses.response_input_text import ResponseInputText
from ..responses.response_input_audio import ResponseInputAudio
from .create_eval_jsonl_run_data_source import CreateEvalJSONLRunDataSource
from ..responses.response_format_text_config import ResponseFormatTextConfig
from .create_eval_completions_run_data_source import CreateEvalCompletionsRunDataSource

__all__ = [
    &quot;RunCreateResponse&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_create_response.py (Line 21:20 - Line 361:18), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 21:22 - Line 361:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn177" onclick="toggleCodeBlock('cloneGroup177', 'expandBtn177', 'collapseBtn177')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn177" onclick="toggleCodeBlock('cloneGroup177', 'expandBtn177', 'collapseBtn177')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup177"><code class="language-python text-sm text-gray-800">,
    &quot;DataSource&quot;,
    &quot;DataSourceResponses&quot;,
    &quot;DataSourceResponsesSource&quot;,
    &quot;DataSourceResponsesSourceFileContent&quot;,
    &quot;DataSourceResponsesSourceFileContentContent&quot;,
    &quot;DataSourceResponsesSourceFileID&quot;,
    &quot;DataSourceResponsesSourceResponses&quot;,
    &quot;DataSourceResponsesInputMessages&quot;,
    &quot;DataSourceResponsesInputMessagesTemplate&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplate&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateChatMessage&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItem&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage&quot;,
    &quot;DataSourceResponsesInputMessagesItemReference&quot;,
    &quot;DataSourceResponsesSamplingParams&quot;,
    &quot;DataSourceResponsesSamplingParamsText&quot;,
    &quot;PerModelUsage&quot;,
    &quot;PerTestingCriteriaResult&quot;,
    &quot;ResultCounts&quot;,
]


class DataSourceResponsesSourceFileContentContent(BaseModel):
    item: Dict[str, object]

    sample: Optional[Dict[str, object]] = None


class DataSourceResponsesSourceFileContent(BaseModel):
    content: List[DataSourceResponsesSourceFileContentContent]
    &quot;&quot;&quot;The content of the jsonl file.&quot;&quot;&quot;

    type: Literal[&quot;file_content&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_content`.&quot;&quot;&quot;


class DataSourceResponsesSourceFileID(BaseModel):
    id: str
    &quot;&quot;&quot;The identifier of the file.&quot;&quot;&quot;

    type: Literal[&quot;file_id&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_id`.&quot;&quot;&quot;


class DataSourceResponsesSourceResponses(BaseModel):
    type: Literal[&quot;responses&quot;]
    &quot;&quot;&quot;The type of run data source. Always `responses`.&quot;&quot;&quot;

    created_after: Optional[int] = None
    &quot;&quot;&quot;Only include items created after this timestamp (inclusive).

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    created_before: Optional[int] = None
    &quot;&quot;&quot;Only include items created before this timestamp (inclusive).

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    instructions_search: Optional[str] = None
    &quot;&quot;&quot;Optional string to search the 'instructions' field.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    metadata: Optional[object] = None
    &quot;&quot;&quot;Metadata filter for the responses.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    model: Optional[str] = None
    &quot;&quot;&quot;The name of the model to find responses for.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort] = None
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;Sampling temperature. This is a query parameter used to select responses.&quot;&quot;&quot;

    tools: Optional[List[str]] = None
    &quot;&quot;&quot;List of tool names. This is a query parameter used to select responses.&quot;&quot;&quot;

    top_p: Optional[float] = None
    &quot;&quot;&quot;Nucleus sampling parameter. This is a query parameter used to select responses.&quot;&quot;&quot;

    users: Optional[List[str]] = None
    &quot;&quot;&quot;List of user identifiers. This is a query parameter used to select responses.&quot;&quot;&quot;


DataSourceResponsesSource: TypeAlias = Annotated[
    Union[DataSourceResponsesSourceFileContent, DataSourceResponsesSourceFileID, DataSourceResponsesSourceResponses],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class DataSourceResponsesInputMessagesTemplateTemplateChatMessage(BaseModel):
    content: str
    &quot;&quot;&quot;The content of the message.&quot;&quot;&quot;

    role: str
    &quot;&quot;&quot;The role of the message (e.g. &quot;system&quot;, &quot;assistant&quot;, &quot;user&quot;).&quot;&quot;&quot;


class DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText(BaseModel):
    text: str
    &quot;&quot;&quot;The text output from the model.&quot;&quot;&quot;

    type: Literal[&quot;output_text&quot;]
    &quot;&quot;&quot;The type of the output text. Always `output_text`.&quot;&quot;&quot;


class DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage(BaseModel):
    image_url: str
    &quot;&quot;&quot;The URL of the image input.&quot;&quot;&quot;

    type: Literal[&quot;input_image&quot;]
    &quot;&quot;&quot;The type of the image input. Always `input_image`.&quot;&quot;&quot;

    detail: Optional[str] = None
    &quot;&quot;&quot;The detail level of the image to be sent to the model.

    One of `high`, `low`, or `auto`. Defaults to `auto`.
    &quot;&quot;&quot;


DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent: TypeAlias = Union[
    str,
    ResponseInputText,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage,
    ResponseInputAudio,
    List[object],
]


class DataSourceResponsesInputMessagesTemplateTemplateEvalItem(BaseModel):
    content: DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent
    &quot;&quot;&quot;Inputs to the model - can contain template strings.&quot;&quot;&quot;

    role: Literal[&quot;user&quot;, &quot;assistant&quot;, &quot;system&quot;, &quot;developer&quot;]
    &quot;&quot;&quot;The role of the message input.

    One of `user`, `assistant`, `system`, or `developer`.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;message&quot;]] = None
    &quot;&quot;&quot;The type of the message input. Always `message`.&quot;&quot;&quot;


DataSourceResponsesInputMessagesTemplateTemplate: TypeAlias = Union[
    DataSourceResponsesInputMessagesTemplateTemplateChatMessage,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItem,
]


class DataSourceResponsesInputMessagesTemplate(BaseModel):
    template: List[DataSourceResponsesInputMessagesTemplateTemplate]
    &quot;&quot;&quot;A list of chat messages forming the prompt or context.

    May include variable references to the `item` namespace, ie {{item.name}}.
    &quot;&quot;&quot;

    type: Literal[&quot;template&quot;]
    &quot;&quot;&quot;The type of input messages. Always `template`.&quot;&quot;&quot;


class DataSourceResponsesInputMessagesItemReference(BaseModel):
    item_reference: str
    &quot;&quot;&quot;A reference to a variable in the `item` namespace. Ie, &quot;item.name&quot; &quot;&quot;&quot;

    type: Literal[&quot;item_reference&quot;]
    &quot;&quot;&quot;The type of input messages. Always `item_reference`.&quot;&quot;&quot;


DataSourceResponsesInputMessages: TypeAlias = Annotated[
    Union[DataSourceResponsesInputMessagesTemplate, DataSourceResponsesInputMessagesItemReference],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class DataSourceResponsesSamplingParamsText(BaseModel):
    format: Optional[ResponseFormatTextConfig] = None
    &quot;&quot;&quot;An object specifying the format that the model must output.

    Configuring `{ &quot;type&quot;: &quot;json_schema&quot; }` enables Structured Outputs, which
    ensures the model will match your supplied JSON schema. Learn more in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    The default format is `{ &quot;type&quot;: &quot;text&quot; }` with no additional options.

    **Not recommended for gpt-4o and newer models:**

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables the older JSON mode, which
    ensures the message the model generates is valid JSON. Using `json_schema` is
    preferred for models that support it.
    &quot;&quot;&quot;


class DataSourceResponsesSamplingParams(BaseModel):
    max_completion_tokens: Optional[int] = None
    &quot;&quot;&quot;The maximum number of tokens in the generated output.&quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort] = None
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    seed: Optional[int] = None
    &quot;&quot;&quot;A seed value to initialize the randomness, during sampling.&quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;A higher temperature increases randomness in the outputs.&quot;&quot;&quot;

    text: Optional[DataSourceResponsesSamplingParamsText] = None
    &quot;&quot;&quot;Configuration options for a text response from the model.

    Can be plain text or structured JSON data. Learn more:

    - [Text inputs and outputs](https://platform.openai.com/docs/guides/text)
    - [Structured Outputs](https://platform.openai.com/docs/guides/structured-outputs)
    &quot;&quot;&quot;

    tools: Optional[List[Tool]] = None
    &quot;&quot;&quot;An array of tools the model may call while generating a response.

    You can specify which tool to use by setting the `tool_choice` parameter.

    The two categories of tools you can provide the model are:

    - **Built-in tools**: Tools that are provided by OpenAI that extend the model's
      capabilities, like
      [web search](https://platform.openai.com/docs/guides/tools-web-search) or
      [file search](https://platform.openai.com/docs/guides/tools-file-search).
      Learn more about
      [built-in tools](https://platform.openai.com/docs/guides/tools).
    - **Function calls (custom tools)**: Functions that are defined by you, enabling
      the model to call your own code. Learn more about
      [function calling](https://platform.openai.com/docs/guides/function-calling).
    &quot;&quot;&quot;

    top_p: Optional[float] = None
    &quot;&quot;&quot;An alternative to temperature for nucleus sampling; 1.0 includes all tokens.&quot;&quot;&quot;


class DataSourceResponses(BaseModel):
    source: DataSourceResponsesSource
    &quot;&quot;&quot;Determines what populates the `item` namespace in this run's data source.&quot;&quot;&quot;

    type: Literal[&quot;responses&quot;]
    &quot;&quot;&quot;The type of run data source. Always `responses`.&quot;&quot;&quot;

    input_messages: Optional[DataSourceResponsesInputMessages] = None
    &quot;&quot;&quot;Used when sampling from a model.

    Dictates the structure of the messages passed into the model. Can either be a
    reference to a prebuilt trajectory (ie, `item.input_trajectory`), or a template
    with variable references to the `item` namespace.
    &quot;&quot;&quot;

    model: Optional[str] = None
    &quot;&quot;&quot;The name of the model to use for generating completions (e.g. &quot;o3-mini&quot;).&quot;&quot;&quot;

    sampling_params: Optional[DataSourceResponsesSamplingParams] = None


DataSource: TypeAlias = Annotated[
    Union[CreateEvalJSONLRunDataSource, CreateEvalCompletionsRunDataSource, DataSourceResponses],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class PerModelUsage(BaseModel):
    cached_tokens: int
    &quot;&quot;&quot;The number of tokens retrieved from cache.&quot;&quot;&quot;

    completion_tokens: int
    &quot;&quot;&quot;The number of completion tokens generated.&quot;&quot;&quot;

    invocation_count: int
    &quot;&quot;&quot;The number of invocations.&quot;&quot;&quot;

    run_model_name: str = FieldInfo(alias=&quot;model_name&quot;)
    &quot;&quot;&quot;The name of the model.&quot;&quot;&quot;

    prompt_tokens: int
    &quot;&quot;&quot;The number of prompt tokens used.&quot;&quot;&quot;

    total_tokens: int
    &quot;&quot;&quot;The total number of tokens used.&quot;&quot;&quot;


class PerTestingCriteriaResult(BaseModel):
    failed: int
    &quot;&quot;&quot;Number of tests failed for this criteria.&quot;&quot;&quot;

    passed: int
    &quot;&quot;&quot;Number of tests passed for this criteria.&quot;&quot;&quot;

    testing_criteria: str
    &quot;&quot;&quot;A description of the testing criteria.&quot;&quot;&quot;


class ResultCounts(BaseModel):
    errored: int
    &quot;&quot;&quot;Number of output items that resulted in an error.&quot;&quot;&quot;

    failed: int
    &quot;&quot;&quot;Number of output items that failed to pass the evaluation.&quot;&quot;&quot;

    passed: int
    &quot;&quot;&quot;Number of output items that passed the evaluation.&quot;&quot;&quot;

    total: int
    &quot;&quot;&quot;Total number of executed output items.&quot;&quot;&quot;


class RunCreateResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_create_response.py (Line 361:18 - Line 409:40), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 361:20 - Line 409:40)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn178" onclick="toggleCodeBlock('cloneGroup178', 'expandBtn178', 'collapseBtn178')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn178" onclick="toggleCodeBlock('cloneGroup178', 'expandBtn178', 'collapseBtn178')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup178"><code class="language-python text-sm text-gray-800">(BaseModel):
    id: str
    &quot;&quot;&quot;Unique identifier for the evaluation run.&quot;&quot;&quot;

    created_at: int
    &quot;&quot;&quot;Unix timestamp (in seconds) when the evaluation run was created.&quot;&quot;&quot;

    data_source: DataSource
    &quot;&quot;&quot;Information about the run's data source.&quot;&quot;&quot;

    error: EvalAPIError
    &quot;&quot;&quot;An object representing an error response from the Eval API.&quot;&quot;&quot;

    eval_id: str
    &quot;&quot;&quot;The identifier of the associated evaluation.&quot;&quot;&quot;

    metadata: Optional[Metadata] = None
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;

    model: str
    &quot;&quot;&quot;The model that is evaluated, if applicable.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the evaluation run.&quot;&quot;&quot;

    object: Literal[&quot;eval.run&quot;]
    &quot;&quot;&quot;The type of the object. Always &quot;eval.run&quot;.&quot;&quot;&quot;

    per_model_usage: List[PerModelUsage]
    &quot;&quot;&quot;Usage statistics for each model during the evaluation run.&quot;&quot;&quot;

    per_testing_criteria_results: List[PerTestingCriteriaResult]
    &quot;&quot;&quot;Results per testing criteria applied during the evaluation run.&quot;&quot;&quot;

    report_url: str
    &quot;&quot;&quot;The URL to the rendered evaluation run report on the UI dashboard.&quot;&quot;&quot;

    result_counts: ResultCounts
    &quot;&quot;&quot;Counters summarizing the outcomes of the evaluation run.&quot;&quot;&quot;

    status: str
    &quot;&quot;&quot;The status of the evaluation run.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_cancel_response.py (Line 1:1 - Line 21:20), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 1:1 - Line 21:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn179" onclick="toggleCodeBlock('cloneGroup179', 'expandBtn179', 'collapseBtn179')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn179" onclick="toggleCodeBlock('cloneGroup179', 'expandBtn179', 'collapseBtn179')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup179"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import Dict, List, Union, Optional
from typing_extensions import Literal, Annotated, TypeAlias

from pydantic import Field as FieldInfo

from ..._utils import PropertyInfo
from ..._models import BaseModel
from .eval_api_error import EvalAPIError
from ..responses.tool import Tool
from ..shared.metadata import Metadata
from ..shared.reasoning_effort import ReasoningEffort
from ..responses.response_input_text import ResponseInputText
from ..responses.response_input_audio import ResponseInputAudio
from .create_eval_jsonl_run_data_source import CreateEvalJSONLRunDataSource
from ..responses.response_format_text_config import ResponseFormatTextConfig
from .create_eval_completions_run_data_source import CreateEvalCompletionsRunDataSource

__all__ = [
    &quot;RunCancelResponse&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_cancel_response.py (Line 21:20 - Line 361:18), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 21:22 - Line 361:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn180" onclick="toggleCodeBlock('cloneGroup180', 'expandBtn180', 'collapseBtn180')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn180" onclick="toggleCodeBlock('cloneGroup180', 'expandBtn180', 'collapseBtn180')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup180"><code class="language-python text-sm text-gray-800">,
    &quot;DataSource&quot;,
    &quot;DataSourceResponses&quot;,
    &quot;DataSourceResponsesSource&quot;,
    &quot;DataSourceResponsesSourceFileContent&quot;,
    &quot;DataSourceResponsesSourceFileContentContent&quot;,
    &quot;DataSourceResponsesSourceFileID&quot;,
    &quot;DataSourceResponsesSourceResponses&quot;,
    &quot;DataSourceResponsesInputMessages&quot;,
    &quot;DataSourceResponsesInputMessagesTemplate&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplate&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateChatMessage&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItem&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText&quot;,
    &quot;DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage&quot;,
    &quot;DataSourceResponsesInputMessagesItemReference&quot;,
    &quot;DataSourceResponsesSamplingParams&quot;,
    &quot;DataSourceResponsesSamplingParamsText&quot;,
    &quot;PerModelUsage&quot;,
    &quot;PerTestingCriteriaResult&quot;,
    &quot;ResultCounts&quot;,
]


class DataSourceResponsesSourceFileContentContent(BaseModel):
    item: Dict[str, object]

    sample: Optional[Dict[str, object]] = None


class DataSourceResponsesSourceFileContent(BaseModel):
    content: List[DataSourceResponsesSourceFileContentContent]
    &quot;&quot;&quot;The content of the jsonl file.&quot;&quot;&quot;

    type: Literal[&quot;file_content&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_content`.&quot;&quot;&quot;


class DataSourceResponsesSourceFileID(BaseModel):
    id: str
    &quot;&quot;&quot;The identifier of the file.&quot;&quot;&quot;

    type: Literal[&quot;file_id&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_id`.&quot;&quot;&quot;


class DataSourceResponsesSourceResponses(BaseModel):
    type: Literal[&quot;responses&quot;]
    &quot;&quot;&quot;The type of run data source. Always `responses`.&quot;&quot;&quot;

    created_after: Optional[int] = None
    &quot;&quot;&quot;Only include items created after this timestamp (inclusive).

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    created_before: Optional[int] = None
    &quot;&quot;&quot;Only include items created before this timestamp (inclusive).

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    instructions_search: Optional[str] = None
    &quot;&quot;&quot;Optional string to search the 'instructions' field.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    metadata: Optional[object] = None
    &quot;&quot;&quot;Metadata filter for the responses.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    model: Optional[str] = None
    &quot;&quot;&quot;The name of the model to find responses for.

    This is a query parameter used to select responses.
    &quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort] = None
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;Sampling temperature. This is a query parameter used to select responses.&quot;&quot;&quot;

    tools: Optional[List[str]] = None
    &quot;&quot;&quot;List of tool names. This is a query parameter used to select responses.&quot;&quot;&quot;

    top_p: Optional[float] = None
    &quot;&quot;&quot;Nucleus sampling parameter. This is a query parameter used to select responses.&quot;&quot;&quot;

    users: Optional[List[str]] = None
    &quot;&quot;&quot;List of user identifiers. This is a query parameter used to select responses.&quot;&quot;&quot;


DataSourceResponsesSource: TypeAlias = Annotated[
    Union[DataSourceResponsesSourceFileContent, DataSourceResponsesSourceFileID, DataSourceResponsesSourceResponses],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class DataSourceResponsesInputMessagesTemplateTemplateChatMessage(BaseModel):
    content: str
    &quot;&quot;&quot;The content of the message.&quot;&quot;&quot;

    role: str
    &quot;&quot;&quot;The role of the message (e.g. &quot;system&quot;, &quot;assistant&quot;, &quot;user&quot;).&quot;&quot;&quot;


class DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText(BaseModel):
    text: str
    &quot;&quot;&quot;The text output from the model.&quot;&quot;&quot;

    type: Literal[&quot;output_text&quot;]
    &quot;&quot;&quot;The type of the output text. Always `output_text`.&quot;&quot;&quot;


class DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage(BaseModel):
    image_url: str
    &quot;&quot;&quot;The URL of the image input.&quot;&quot;&quot;

    type: Literal[&quot;input_image&quot;]
    &quot;&quot;&quot;The type of the image input. Always `input_image`.&quot;&quot;&quot;

    detail: Optional[str] = None
    &quot;&quot;&quot;The detail level of the image to be sent to the model.

    One of `high`, `low`, or `auto`. Defaults to `auto`.
    &quot;&quot;&quot;


DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent: TypeAlias = Union[
    str,
    ResponseInputText,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentOutputText,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItemContentInputImage,
    ResponseInputAudio,
    List[object],
]


class DataSourceResponsesInputMessagesTemplateTemplateEvalItem(BaseModel):
    content: DataSourceResponsesInputMessagesTemplateTemplateEvalItemContent
    &quot;&quot;&quot;Inputs to the model - can contain template strings.&quot;&quot;&quot;

    role: Literal[&quot;user&quot;, &quot;assistant&quot;, &quot;system&quot;, &quot;developer&quot;]
    &quot;&quot;&quot;The role of the message input.

    One of `user`, `assistant`, `system`, or `developer`.
    &quot;&quot;&quot;

    type: Optional[Literal[&quot;message&quot;]] = None
    &quot;&quot;&quot;The type of the message input. Always `message`.&quot;&quot;&quot;


DataSourceResponsesInputMessagesTemplateTemplate: TypeAlias = Union[
    DataSourceResponsesInputMessagesTemplateTemplateChatMessage,
    DataSourceResponsesInputMessagesTemplateTemplateEvalItem,
]


class DataSourceResponsesInputMessagesTemplate(BaseModel):
    template: List[DataSourceResponsesInputMessagesTemplateTemplate]
    &quot;&quot;&quot;A list of chat messages forming the prompt or context.

    May include variable references to the `item` namespace, ie {{item.name}}.
    &quot;&quot;&quot;

    type: Literal[&quot;template&quot;]
    &quot;&quot;&quot;The type of input messages. Always `template`.&quot;&quot;&quot;


class DataSourceResponsesInputMessagesItemReference(BaseModel):
    item_reference: str
    &quot;&quot;&quot;A reference to a variable in the `item` namespace. Ie, &quot;item.name&quot; &quot;&quot;&quot;

    type: Literal[&quot;item_reference&quot;]
    &quot;&quot;&quot;The type of input messages. Always `item_reference`.&quot;&quot;&quot;


DataSourceResponsesInputMessages: TypeAlias = Annotated[
    Union[DataSourceResponsesInputMessagesTemplate, DataSourceResponsesInputMessagesItemReference],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class DataSourceResponsesSamplingParamsText(BaseModel):
    format: Optional[ResponseFormatTextConfig] = None
    &quot;&quot;&quot;An object specifying the format that the model must output.

    Configuring `{ &quot;type&quot;: &quot;json_schema&quot; }` enables Structured Outputs, which
    ensures the model will match your supplied JSON schema. Learn more in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    The default format is `{ &quot;type&quot;: &quot;text&quot; }` with no additional options.

    **Not recommended for gpt-4o and newer models:**

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables the older JSON mode, which
    ensures the message the model generates is valid JSON. Using `json_schema` is
    preferred for models that support it.
    &quot;&quot;&quot;


class DataSourceResponsesSamplingParams(BaseModel):
    max_completion_tokens: Optional[int] = None
    &quot;&quot;&quot;The maximum number of tokens in the generated output.&quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort] = None
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    seed: Optional[int] = None
    &quot;&quot;&quot;A seed value to initialize the randomness, during sampling.&quot;&quot;&quot;

    temperature: Optional[float] = None
    &quot;&quot;&quot;A higher temperature increases randomness in the outputs.&quot;&quot;&quot;

    text: Optional[DataSourceResponsesSamplingParamsText] = None
    &quot;&quot;&quot;Configuration options for a text response from the model.

    Can be plain text or structured JSON data. Learn more:

    - [Text inputs and outputs](https://platform.openai.com/docs/guides/text)
    - [Structured Outputs](https://platform.openai.com/docs/guides/structured-outputs)
    &quot;&quot;&quot;

    tools: Optional[List[Tool]] = None
    &quot;&quot;&quot;An array of tools the model may call while generating a response.

    You can specify which tool to use by setting the `tool_choice` parameter.

    The two categories of tools you can provide the model are:

    - **Built-in tools**: Tools that are provided by OpenAI that extend the model's
      capabilities, like
      [web search](https://platform.openai.com/docs/guides/tools-web-search) or
      [file search](https://platform.openai.com/docs/guides/tools-file-search).
      Learn more about
      [built-in tools](https://platform.openai.com/docs/guides/tools).
    - **Function calls (custom tools)**: Functions that are defined by you, enabling
      the model to call your own code. Learn more about
      [function calling](https://platform.openai.com/docs/guides/function-calling).
    &quot;&quot;&quot;

    top_p: Optional[float] = None
    &quot;&quot;&quot;An alternative to temperature for nucleus sampling; 1.0 includes all tokens.&quot;&quot;&quot;


class DataSourceResponses(BaseModel):
    source: DataSourceResponsesSource
    &quot;&quot;&quot;Determines what populates the `item` namespace in this run's data source.&quot;&quot;&quot;

    type: Literal[&quot;responses&quot;]
    &quot;&quot;&quot;The type of run data source. Always `responses`.&quot;&quot;&quot;

    input_messages: Optional[DataSourceResponsesInputMessages] = None
    &quot;&quot;&quot;Used when sampling from a model.

    Dictates the structure of the messages passed into the model. Can either be a
    reference to a prebuilt trajectory (ie, `item.input_trajectory`), or a template
    with variable references to the `item` namespace.
    &quot;&quot;&quot;

    model: Optional[str] = None
    &quot;&quot;&quot;The name of the model to use for generating completions (e.g. &quot;o3-mini&quot;).&quot;&quot;&quot;

    sampling_params: Optional[DataSourceResponsesSamplingParams] = None


DataSource: TypeAlias = Annotated[
    Union[CreateEvalJSONLRunDataSource, CreateEvalCompletionsRunDataSource, DataSourceResponses],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class PerModelUsage(BaseModel):
    cached_tokens: int
    &quot;&quot;&quot;The number of tokens retrieved from cache.&quot;&quot;&quot;

    completion_tokens: int
    &quot;&quot;&quot;The number of completion tokens generated.&quot;&quot;&quot;

    invocation_count: int
    &quot;&quot;&quot;The number of invocations.&quot;&quot;&quot;

    run_model_name: str = FieldInfo(alias=&quot;model_name&quot;)
    &quot;&quot;&quot;The name of the model.&quot;&quot;&quot;

    prompt_tokens: int
    &quot;&quot;&quot;The number of prompt tokens used.&quot;&quot;&quot;

    total_tokens: int
    &quot;&quot;&quot;The total number of tokens used.&quot;&quot;&quot;


class PerTestingCriteriaResult(BaseModel):
    failed: int
    &quot;&quot;&quot;Number of tests failed for this criteria.&quot;&quot;&quot;

    passed: int
    &quot;&quot;&quot;Number of tests passed for this criteria.&quot;&quot;&quot;

    testing_criteria: str
    &quot;&quot;&quot;A description of the testing criteria.&quot;&quot;&quot;


class ResultCounts(BaseModel):
    errored: int
    &quot;&quot;&quot;Number of output items that resulted in an error.&quot;&quot;&quot;

    failed: int
    &quot;&quot;&quot;Number of output items that failed to pass the evaluation.&quot;&quot;&quot;

    passed: int
    &quot;&quot;&quot;Number of output items that passed the evaluation.&quot;&quot;&quot;

    total: int
    &quot;&quot;&quot;Total number of executed output items.&quot;&quot;&quot;


class RunCancelResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/run_cancel_response.py (Line 361:18 - Line 409:40), .venv/lib/python3.14/site-packages/openai/types/evals/run_retrieve_response.py (Line 361:20 - Line 409:40)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn181" onclick="toggleCodeBlock('cloneGroup181', 'expandBtn181', 'collapseBtn181')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn181" onclick="toggleCodeBlock('cloneGroup181', 'expandBtn181', 'collapseBtn181')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup181"><code class="language-python text-sm text-gray-800">(BaseModel):
    id: str
    &quot;&quot;&quot;Unique identifier for the evaluation run.&quot;&quot;&quot;

    created_at: int
    &quot;&quot;&quot;Unix timestamp (in seconds) when the evaluation run was created.&quot;&quot;&quot;

    data_source: DataSource
    &quot;&quot;&quot;Information about the run's data source.&quot;&quot;&quot;

    error: EvalAPIError
    &quot;&quot;&quot;An object representing an error response from the Eval API.&quot;&quot;&quot;

    eval_id: str
    &quot;&quot;&quot;The identifier of the associated evaluation.&quot;&quot;&quot;

    metadata: Optional[Metadata] = None
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;

    model: str
    &quot;&quot;&quot;The model that is evaluated, if applicable.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the evaluation run.&quot;&quot;&quot;

    object: Literal[&quot;eval.run&quot;]
    &quot;&quot;&quot;The type of the object. Always &quot;eval.run&quot;.&quot;&quot;&quot;

    per_model_usage: List[PerModelUsage]
    &quot;&quot;&quot;Usage statistics for each model during the evaluation run.&quot;&quot;&quot;

    per_testing_criteria_results: List[PerTestingCriteriaResult]
    &quot;&quot;&quot;Results per testing criteria applied during the evaluation run.&quot;&quot;&quot;

    report_url: str
    &quot;&quot;&quot;The URL to the rendered evaluation run report on the UI dashboard.&quot;&quot;&quot;

    result_counts: ResultCounts
    &quot;&quot;&quot;Counters summarizing the outcomes of the evaluation run.&quot;&quot;&quot;

    status: str
    &quot;&quot;&quot;The status of the evaluation run.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/create_eval_completions_run_data_source_param.py (Line 34:31 - Line 60:6), .venv/lib/python3.14/site-packages/openai/types/evals/create_eval_jsonl_run_data_source_param.py (Line 13:15 - Line 39:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn182" onclick="toggleCodeBlock('cloneGroup182', 'expandBtn182', 'collapseBtn182')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn182" onclick="toggleCodeBlock('cloneGroup182', 'expandBtn182', 'collapseBtn182')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup182"><code class="language-python text-sm text-gray-800">,
]


class SourceFileContentContent(TypedDict, total=False):
    item: Required[Dict[str, object]]

    sample: Dict[str, object]


class SourceFileContent(TypedDict, total=False):
    content: Required[Iterable[SourceFileContentContent]]
    &quot;&quot;&quot;The content of the jsonl file.&quot;&quot;&quot;

    type: Required[Literal[&quot;file_content&quot;]]
    &quot;&quot;&quot;The type of jsonl source. Always `file_content`.&quot;&quot;&quot;


class SourceFileID(TypedDict, total=False):
    id: Required[str]
    &quot;&quot;&quot;The identifier of the file.&quot;&quot;&quot;

    type: Required[Literal[&quot;file_id&quot;]]
    &quot;&quot;&quot;The type of jsonl source. Always `file_id`.&quot;&quot;&quot;


class</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/evals/create_eval_completions_run_data_source.py (Line 35:1 - Line 60:6), .venv/lib/python3.14/site-packages/openai/types/evals/create_eval_jsonl_run_data_source.py (Line 9:15 - Line 34:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn183" onclick="toggleCodeBlock('cloneGroup183', 'expandBtn183', 'collapseBtn183')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn183" onclick="toggleCodeBlock('cloneGroup183', 'expandBtn183', 'collapseBtn183')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup183"><code class="language-python text-sm text-gray-800">]


class SourceFileContentContent(BaseModel):
    item: Dict[str, object]

    sample: Optional[Dict[str, object]] = None


class SourceFileContent(BaseModel):
    content: List[SourceFileContentContent]
    &quot;&quot;&quot;The content of the jsonl file.&quot;&quot;&quot;

    type: Literal[&quot;file_content&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_content`.&quot;&quot;&quot;


class SourceFileID(BaseModel):
    id: str
    &quot;&quot;&quot;The identifier of the file.&quot;&quot;&quot;

    type: Literal[&quot;file_id&quot;]
    &quot;&quot;&quot;The type of jsonl source. Always `file_id`.&quot;&quot;&quot;


class</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/conversations/conversation_item.py (Line 21:19 - Line 200:17), .venv/lib/python3.14/site-packages/openai/types/responses/response_item.py (Line 19:15 - Line 116:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn184" onclick="toggleCodeBlock('cloneGroup184', 'expandBtn184', 'collapseBtn184')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn184" onclick="toggleCodeBlock('cloneGroup184', 'expandBtn184', 'collapseBtn184')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup184"><code class="language-python text-sm text-gray-800">,
    &quot;ImageGenerationCall&quot;,
    &quot;LocalShellCall&quot;,
    &quot;LocalShellCallAction&quot;,
    &quot;LocalShellCallOutput&quot;,
    &quot;McpListTools&quot;,
    &quot;McpListToolsTool&quot;,
    &quot;McpApprovalRequest&quot;,
    &quot;McpApprovalResponse&quot;,
    &quot;McpCall&quot;,
]


class ImageGenerationCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the image generation call.&quot;&quot;&quot;

    result: Optional[str] = None
    &quot;&quot;&quot;The generated image encoded in base64.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;generating&quot;, &quot;failed&quot;]
    &quot;&quot;&quot;The status of the image generation call.&quot;&quot;&quot;

    type: Literal[&quot;image_generation_call&quot;]
    &quot;&quot;&quot;The type of the image generation call. Always `image_generation_call`.&quot;&quot;&quot;


class LocalShellCallAction(BaseModel):
    command: List[str]
    &quot;&quot;&quot;The command to run.&quot;&quot;&quot;

    env: Dict[str, str]
    &quot;&quot;&quot;Environment variables to set for the command.&quot;&quot;&quot;

    type: Literal[&quot;exec&quot;]
    &quot;&quot;&quot;The type of the local shell action. Always `exec`.&quot;&quot;&quot;

    timeout_ms: Optional[int] = None
    &quot;&quot;&quot;Optional timeout in milliseconds for the command.&quot;&quot;&quot;

    user: Optional[str] = None
    &quot;&quot;&quot;Optional user to run the command as.&quot;&quot;&quot;

    working_directory: Optional[str] = None
    &quot;&quot;&quot;Optional working directory to run the command in.&quot;&quot;&quot;


class LocalShellCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the local shell call.&quot;&quot;&quot;

    action: LocalShellCallAction
    &quot;&quot;&quot;Execute a shell command on the server.&quot;&quot;&quot;

    call_id: str
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    status: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]
    &quot;&quot;&quot;The status of the local shell call.&quot;&quot;&quot;

    type: Literal[&quot;local_shell_call&quot;]
    &quot;&quot;&quot;The type of the local shell call. Always `local_shell_call`.&quot;&quot;&quot;


class LocalShellCallOutput(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the local shell tool call generated by the model.&quot;&quot;&quot;

    output: str
    &quot;&quot;&quot;A JSON string of the output of the local shell tool call.&quot;&quot;&quot;

    type: Literal[&quot;local_shell_call_output&quot;]
    &quot;&quot;&quot;The type of the local shell tool call output. Always `local_shell_call_output`.&quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;]] = None
    &quot;&quot;&quot;The status of the item. One of `in_progress`, `completed`, or `incomplete`.&quot;&quot;&quot;


class McpListToolsTool(BaseModel):
    input_schema: object
    &quot;&quot;&quot;The JSON schema describing the tool's input.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool.&quot;&quot;&quot;

    annotations: Optional[object] = None
    &quot;&quot;&quot;Additional annotations about the tool.&quot;&quot;&quot;

    description: Optional[str] = None
    &quot;&quot;&quot;The description of the tool.&quot;&quot;&quot;


class McpListTools(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the list.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server.&quot;&quot;&quot;

    tools: List[McpListToolsTool]
    &quot;&quot;&quot;The tools available on the server.&quot;&quot;&quot;

    type: Literal[&quot;mcp_list_tools&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_list_tools`.&quot;&quot;&quot;

    error: Optional[str] = None
    &quot;&quot;&quot;Error message if the server could not list tools.&quot;&quot;&quot;


class McpApprovalRequest(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the approval request.&quot;&quot;&quot;

    arguments: str
    &quot;&quot;&quot;A JSON string of arguments for the tool.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool to run.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server making the request.&quot;&quot;&quot;

    type: Literal[&quot;mcp_approval_request&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_approval_request`.&quot;&quot;&quot;


class McpApprovalResponse(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the approval response&quot;&quot;&quot;

    approval_request_id: str
    &quot;&quot;&quot;The ID of the approval request being answered.&quot;&quot;&quot;

    approve: bool
    &quot;&quot;&quot;Whether the request was approved.&quot;&quot;&quot;

    type: Literal[&quot;mcp_approval_response&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_approval_response`.&quot;&quot;&quot;

    reason: Optional[str] = None
    &quot;&quot;&quot;Optional reason for the decision.&quot;&quot;&quot;


class McpCall(BaseModel):
    id: str
    &quot;&quot;&quot;The unique ID of the tool call.&quot;&quot;&quot;

    arguments: str
    &quot;&quot;&quot;A JSON string of the arguments passed to the tool.&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The name of the tool that was run.&quot;&quot;&quot;

    server_label: str
    &quot;&quot;&quot;The label of the MCP server running the tool.&quot;&quot;&quot;

    type: Literal[&quot;mcp_call&quot;]
    &quot;&quot;&quot;The type of the item. Always `mcp_call`.&quot;&quot;&quot;

    approval_request_id: Optional[str] = None
    &quot;&quot;&quot;
    Unique identifier for the MCP tool call approval request. Include this value in
    a subsequent `mcp_approval_response` input to approve or reject the
    corresponding tool call.
    &quot;&quot;&quot;

    error: Optional[str] = None
    &quot;&quot;&quot;The error from the tool call, if any.&quot;&quot;&quot;

    output: Optional[str] = None
    &quot;&quot;&quot;The output from the tool call.&quot;&quot;&quot;

    status: Optional[Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;incomplete&quot;, &quot;calling&quot;, &quot;failed&quot;]] = None
    &quot;&quot;&quot;The status of the tool call.

    One of `in_progress`, `completed`, `incomplete`, `calling`, or `failed`.
    &quot;&quot;&quot;


ConversationItem</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/chat/completion_create_params.py (Line 185:2 - Line 201:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 107:4 - Line 123:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn185" onclick="toggleCodeBlock('cloneGroup185', 'expandBtn185', 'collapseBtn185')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn185" onclick="toggleCodeBlock('cloneGroup185', 'expandBtn185', 'collapseBtn185')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup185"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort]
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    response_format: ResponseFormat
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/chat/completion_create_params.py (Line 201:7 - Line 208:4), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 127:2 - Line 134:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn186" onclick="toggleCodeBlock('cloneGroup186', 'expandBtn186', 'collapseBtn186')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn186" onclick="toggleCodeBlock('cloneGroup186', 'expandBtn186', 'collapseBtn186')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup186"><code class="language-python text-sm text-gray-800">.

    Setting to `{ &quot;type&quot;: &quot;json_schema&quot;, &quot;json_schema&quot;: {...} }` enables Structured
    Outputs which ensures the model will match your supplied JSON schema. Learn more
    in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables the</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/chat/completion_create_params.py (Line 210:3 - Line 223:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 153:2 - Line 166:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn187" onclick="toggleCodeBlock('cloneGroup187', 'expandBtn187', 'collapseBtn187')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn187" onclick="toggleCodeBlock('cloneGroup187', 'expandBtn187', 'collapseBtn187')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup187"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    safety_identifier: str
    &quot;&quot;&quot;
    A stable identifier used to help detect users of your application that may be
    violating OpenAI's usage policies. The IDs should be a string that uniquely
    identifies each user. We recommend hashing their username or email address, in
    order to avoid sending us any identifying information.
    [Learn more](https://platform.openai.com/docs/guides/safety-best-practices#safety-identifiers).
    &quot;&quot;&quot;

    seed: Optional[int]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/chat/completion_create_params.py (Line 229:5 - Line 251:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 163:5 - Line 185:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn188" onclick="toggleCodeBlock('cloneGroup188', 'expandBtn188', 'collapseBtn188')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn188" onclick="toggleCodeBlock('cloneGroup188', 'expandBtn188', 'collapseBtn188')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup188"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;

    service_tier: Optional[Literal[&quot;auto&quot;, &quot;default&quot;, &quot;flex&quot;, &quot;scale&quot;, &quot;priority&quot;]]
    &quot;&quot;&quot;Specifies the processing type used for serving the request.

    - If set to 'auto', then the request will be processed with the service tier
      configured in the Project settings. Unless otherwise configured, the Project
      will use 'default'.
    - If set to 'default', then the request will be processed with the standard
      pricing and performance for the selected model.
    - If set to '[flex](https://platform.openai.com/docs/guides/flex-processing)' or
      '[priority](https://openai.com/api-priority-processing/)', then the request
      will be processed with the corresponding service tier.
    - When not set, the default behavior is 'auto'.

    When the `service_tier` parameter is set, the response body will include the
    `service_tier` value based on the processing mode actually used to serve the
    request. This response value may be different from the value set in the
    parameter.
    &quot;&quot;&quot;

    stop: Union[Optional[str], SequenceNotStr[str], None]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/chat/completion_create_params.py (Line 311:5 - Line 324:8), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 259:6 - Line 277:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn189" onclick="toggleCodeBlock('cloneGroup189', 'expandBtn189', 'collapseBtn189')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn189" onclick="toggleCodeBlock('cloneGroup189', 'expandBtn189', 'collapseBtn189')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup189"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    user: str
    &quot;&quot;&quot;This field is being replaced by `safety_identifier` and `prompt_cache_key`.

    Use `prompt_cache_key` instead to maintain caching optimizations. A stable
    identifier for your end-users. Used to boost cache hit rates by better bucketing
    similar requests and to help OpenAI detect and prevent abuse.
    [Learn more](https://platform.openai.com/docs/guides/safety-best-practices#safety-identifiers).
    &quot;&quot;&quot;

    verbosity: Optional[Literal[&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/chat/completion_create_params.py (Line 427:5 - Line 435:3), .venv/lib/python3.14/site-packages/openai/types/responses/response_retrieve_params.py (Line 50:5 - Line 426:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn190" onclick="toggleCodeBlock('cloneGroup190', 'expandBtn190', 'collapseBtn190')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn190" onclick="toggleCodeBlock('cloneGroup190', 'expandBtn190', 'collapseBtn190')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup190"><code class="language-python text-sm text-gray-800">If set to true, the model response data will be streamed to the client as it is
    generated using
    [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
    See the
    [Streaming section below](https://platform.openai.com/docs/api-reference/chat/streaming)
    for more information, along with the
    [streaming responses](https://platform.openai.com/docs/guides/streaming-responses)
    guide for more information on how to handle the streaming events.
    &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 99:2 - Line 130:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 123:2 - Line 154:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn191" onclick="toggleCodeBlock('cloneGroup191', 'expandBtn191', 'collapseBtn191')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn191" onclick="toggleCodeBlock('cloneGroup191', 'expandBtn191', 'collapseBtn191')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup191"><code class="language-python text-sm text-gray-800">the format that the model must output.

    Compatible with [GPT-4o](https://platform.openai.com/docs/models#gpt-4o),
    [GPT-4 Turbo](https://platform.openai.com/docs/models#gpt-4-turbo-and-gpt-4),
    and all GPT-3.5 Turbo models since `gpt-3.5-turbo-1106`.

    Setting to `{ &quot;type&quot;: &quot;json_schema&quot;, &quot;json_schema&quot;: {...} }` enables Structured
    Outputs which ensures the model will match your supplied JSON schema. Learn more
    in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables JSON mode, which ensures the
    message the model generates is valid JSON.

    **Important:** when using JSON mode, you **must** also instruct the model to
    produce JSON yourself via a system or user message. Without this, the model may
    generate an unending stream of whitespace until the generation reaches the token
    limit, resulting in a long-running and seemingly &quot;stuck&quot; request. Also note that
    the message content may be partially cut off if `finish_reason=&quot;length&quot;`, which
    indicates the generation exceeded `max_tokens` or the conversation exceeded the
    max context length.
    &quot;&quot;&quot;

    temperature: Optional[float]
    &quot;&quot;&quot;What sampling temperature to use, between 0 and 2.

    Higher values like 0.8 will make the output more random, while lower values like
    0.2 will make it more focused and deterministic.
    &quot;&quot;&quot;

    thread: Thread
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 133:8 - Line 148:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 150:14 - Line 165:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn192" onclick="toggleCodeBlock('cloneGroup192', 'expandBtn192', 'collapseBtn192')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn192" onclick="toggleCodeBlock('cloneGroup192', 'expandBtn192', 'collapseBtn192')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup192"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    tool_choice: Optional[AssistantToolChoiceOptionParam]
    &quot;&quot;&quot;
    Controls which (if any) tool is called by the model. `none` means the model will
    not call any tools and instead generates a message. `auto` is the default value
    and means the model can pick between generating a message or calling one or more
    tools. `required` means the model must call one or more tools before responding
    to the user. Specifying a particular tool like `{&quot;type&quot;: &quot;file_search&quot;}` or
    `{&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: {&quot;name&quot;: &quot;my_function&quot;}}` forces the model to
    call that tool.
    &quot;&quot;&quot;

    tool_resources: Optional[ToolResources]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 152:4 - Line 179:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 161:5 - Line 188:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn193" onclick="toggleCodeBlock('cloneGroup193', 'expandBtn193', 'collapseBtn193')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn193" onclick="toggleCodeBlock('cloneGroup193', 'expandBtn193', 'collapseBtn193')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup193"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    tools: Optional[Iterable[AssistantToolParam]]
    &quot;&quot;&quot;Override the tools the assistant can use for this run.

    This is useful for modifying the behavior on a per-run basis.
    &quot;&quot;&quot;

    top_p: Optional[float]
    &quot;&quot;&quot;
    An alternative to sampling with temperature, called nucleus sampling, where the
    model considers the results of the tokens with top_p probability mass. So 0.1
    means only the tokens comprising the top 10% probability mass are considered.

    We generally recommend altering this or temperature but not both.
    &quot;&quot;&quot;

    truncation_strategy: Optional[TruncationStrategy]
    &quot;&quot;&quot;Controls for how a thread will be truncated prior to the run.

    Use this to control the initial context window of the run.
    &quot;&quot;&quot;


class ThreadMessageAttachmentToolFileSearch(TypedDict, total=False):
    type: Required[Literal[&quot;file_search&quot;]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 195:8 - Line 207:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 204:8 - Line 216:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn194" onclick="toggleCodeBlock('cloneGroup194', 'expandBtn194', 'collapseBtn194')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn194" onclick="toggleCodeBlock('cloneGroup194', 'expandBtn194', 'collapseBtn194')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup194"><code class="language-python text-sm text-gray-800">The text contents of the message.&quot;&quot;&quot;

    role: Required[Literal[&quot;user&quot;, &quot;assistant&quot;]]
    &quot;&quot;&quot;The role of the entity that is creating the message. Allowed values include:

    - `user`: Indicates the message is sent by an actual user and should be used in
      most cases to represent user-generated messages.
    - `assistant`: Indicates the message is generated by the assistant. Use this
      value to insert messages from the assistant into the conversation.
    &quot;&quot;&quot;

    attachments: Optional[Iterable[ThreadMessageAttachment]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 207:8 - Line 222:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 216:8 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn195" onclick="toggleCodeBlock('cloneGroup195', 'expandBtn195', 'collapseBtn195')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn195" onclick="toggleCodeBlock('cloneGroup195', 'expandBtn195', 'collapseBtn195')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup195"><code class="language-python text-sm text-gray-800">A list of files attached to the message, and the tools they should be added to.&quot;&quot;&quot;

    metadata: Optional[Metadata]
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


class ThreadToolResourcesCodeInterpreter(TypedDict, total=False):
    file_ids: SequenceNotStr[str]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 273:6 - Line 289:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 82:5 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn196" onclick="toggleCodeBlock('cloneGroup196', 'expandBtn196', 'collapseBtn196')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn196" onclick="toggleCodeBlock('cloneGroup196', 'expandBtn196', 'collapseBtn196')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup196"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    metadata: Optional[Metadata]
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


class ThreadToolResourcesFileSearch(TypedDict, total=False):
    vector_store_ids: SequenceNotStr[str]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 315:5 - Line 329:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 82:5 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn197" onclick="toggleCodeBlock('cloneGroup197', 'expandBtn197', 'collapseBtn197')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn197" onclick="toggleCodeBlock('cloneGroup197', 'expandBtn197', 'collapseBtn197')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup197"><code class="language-python text-sm text-gray-800">.
    &quot;&quot;&quot;

    metadata: Optional[Metadata]
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;

    tool_resources: Optional[ThreadToolResources]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 364:8 - Line 381:8), .venv/lib/python3.14/site-packages/openai/types/beta/threads/run_create_params.py (Line 231:8 - Line 248:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn198" onclick="toggleCodeBlock('cloneGroup198', 'expandBtn198', 'collapseBtn198')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn198" onclick="toggleCodeBlock('cloneGroup198', 'expandBtn198', 'collapseBtn198')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup198"><code class="language-python text-sm text-gray-800">The truncation strategy to use for the thread.

    The default is `auto`. If set to `last_messages`, the thread will be truncated
    to the n most recent messages in the thread. When set to `auto`, messages in the
    middle of the thread will be dropped to fit the context length of the model,
    `max_prompt_tokens`.
    &quot;&quot;&quot;

    last_messages: Optional[int]
    &quot;&quot;&quot;
    The number of most recent messages from the thread when constructing the context
    for the run.
    &quot;&quot;&quot;


class ThreadCreateAndRunParamsNonStreaming(ThreadCreateAndRunParamsBase, total=False):
    stream: Optional[Literal[False]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/file_search_tool.py (Line 39:5 - Line 52:8), .venv/lib/python3.14/site-packages/openai/types/beta/file_search_tool_param.py (Line 38:5 - Line 51:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn199" onclick="toggleCodeBlock('cloneGroup199', 'expandBtn199', 'collapseBtn199')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn199" onclick="toggleCodeBlock('cloneGroup199', 'expandBtn199', 'collapseBtn199')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup199"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;The ranking options for the file search.

    If not specified, the file search tool will use the `auto` ranker and a
    score_threshold of 0.

    See the
    [file search tool documentation](https://platform.openai.com/docs/assistants/tools/file-search#customizing-file-search-settings)
    for more information.
    &quot;&quot;&quot;


class FileSearchTool(BaseModel):
    type: Literal[&quot;file_search&quot;]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/assistant_create_params.py (Line 58:5 - Line 132:2), .venv/lib/python3.14/site-packages/openai/types/beta/assistant_update_params.py (Line 93:5 - Line 167:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn200" onclick="toggleCodeBlock('cloneGroup200', 'expandBtn200', 'collapseBtn200')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn200" onclick="toggleCodeBlock('cloneGroup200', 'expandBtn200', 'collapseBtn200')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup200"><code class="language-python text-sm text-gray-800">name: Optional[str]
    &quot;&quot;&quot;The name of the assistant. The maximum length is 256 characters.&quot;&quot;&quot;

    reasoning_effort: Optional[ReasoningEffort]
    &quot;&quot;&quot;
    Constrains effort on reasoning for
    [reasoning models](https://platform.openai.com/docs/guides/reasoning). Currently
    supported values are `minimal`, `low`, `medium`, and `high`. Reducing reasoning
    effort can result in faster responses and fewer tokens used on reasoning in a
    response.

    Note: The `gpt-5-pro` model defaults to (and only supports) `high` reasoning
    effort.
    &quot;&quot;&quot;

    response_format: Optional[AssistantResponseFormatOptionParam]
    &quot;&quot;&quot;Specifies the format that the model must output.

    Compatible with [GPT-4o](https://platform.openai.com/docs/models#gpt-4o),
    [GPT-4 Turbo](https://platform.openai.com/docs/models#gpt-4-turbo-and-gpt-4),
    and all GPT-3.5 Turbo models since `gpt-3.5-turbo-1106`.

    Setting to `{ &quot;type&quot;: &quot;json_schema&quot;, &quot;json_schema&quot;: {...} }` enables Structured
    Outputs which ensures the model will match your supplied JSON schema. Learn more
    in the
    [Structured Outputs guide](https://platform.openai.com/docs/guides/structured-outputs).

    Setting to `{ &quot;type&quot;: &quot;json_object&quot; }` enables JSON mode, which ensures the
    message the model generates is valid JSON.

    **Important:** when using JSON mode, you **must** also instruct the model to
    produce JSON yourself via a system or user message. Without this, the model may
    generate an unending stream of whitespace until the generation reaches the token
    limit, resulting in a long-running and seemingly &quot;stuck&quot; request. Also note that
    the message content may be partially cut off if `finish_reason=&quot;length&quot;`, which
    indicates the generation exceeded `max_tokens` or the conversation exceeded the
    max context length.
    &quot;&quot;&quot;

    temperature: Optional[float]
    &quot;&quot;&quot;What sampling temperature to use, between 0 and 2.

    Higher values like 0.8 will make the output more random, while lower values like
    0.2 will make it more focused and deterministic.
    &quot;&quot;&quot;

    tool_resources: Optional[ToolResources]
    &quot;&quot;&quot;A set of resources that are used by the assistant's tools.

    The resources are specific to the type of tool. For example, the
    `code_interpreter` tool requires a list of file IDs, while the `file_search`
    tool requires a list of vector store IDs.
    &quot;&quot;&quot;

    tools: Iterable[AssistantToolParam]
    &quot;&quot;&quot;A list of tool enabled on the assistant.

    There can be a maximum of 128 tools per assistant. Tools can be of types
    `code_interpreter`, `file_search`, or `function`.
    &quot;&quot;&quot;

    top_p: Optional[float]
    &quot;&quot;&quot;
    An alternative to sampling with temperature, called nucleus sampling, where the
    model considers the results of the tokens with top_p probability mass. So 0.1
    means only the tokens comprising the top 10% probability mass are considered.

    We generally recommend altering this or temperature but not both.
    &quot;&quot;&quot;


class ToolResourcesCodeInterpreter(TypedDict, total=False):
    file_ids: SequenceNotStr[str]
    &quot;&quot;&quot;
    A</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/assistant_create_params.py (Line 145:8 - Line 162:8), .venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 236:8 - Line 253:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn201" onclick="toggleCodeBlock('cloneGroup201', 'expandBtn201', 'collapseBtn201')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn201" onclick="toggleCodeBlock('cloneGroup201', 'expandBtn201', 'collapseBtn201')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup201"><code class="language-python text-sm text-gray-800">The number of tokens that overlap between chunks. The default value is `400`.

    Note that the overlap must not exceed half of `max_chunk_size_tokens`.
    &quot;&quot;&quot;

    max_chunk_size_tokens: Required[int]
    &quot;&quot;&quot;The maximum number of tokens in each chunk.

    The default value is `800`. The minimum value is `100` and the maximum value is
    `4096`.
    &quot;&quot;&quot;


class ToolResourcesFileSearchVectorStoreChunkingStrategyStatic(TypedDict, total=False):
    static: Required[ToolResourcesFileSearchVectorStoreChunkingStrategyStaticStatic]

    type: Required[Literal[&quot;static&quot;]]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/beta/assistant_create_params.py (Line 172:8 - Line 197:8), .venv/lib/python3.14/site-packages/openai/types/beta/thread_create_and_run_params.py (Line 264:8 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn202" onclick="toggleCodeBlock('cloneGroup202', 'expandBtn202', 'collapseBtn202')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn202" onclick="toggleCodeBlock('cloneGroup202', 'expandBtn202', 'collapseBtn202')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup202"><code class="language-python text-sm text-gray-800">The chunking strategy used to chunk the file(s).

    If not set, will use the `auto` strategy.
    &quot;&quot;&quot;

    file_ids: SequenceNotStr[str]
    &quot;&quot;&quot;
    A list of [file](https://platform.openai.com/docs/api-reference/files) IDs to
    add to the vector store. There can be a maximum of 10000 files in a vector
    store.
    &quot;&quot;&quot;

    metadata: Optional[Metadata]
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


class ToolResourcesFileSearch(TypedDict, total=False):
    vector_store_ids: SequenceNotStr[str]
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/audio/transcription_create_params.py (Line 161:5 - Line 169:3), .venv/lib/python3.14/site-packages/openai/types/audio/transcription_create_params.py (Line 147:5 - Line 160:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn203" onclick="toggleCodeBlock('cloneGroup203', 'expandBtn203', 'collapseBtn203')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn203" onclick="toggleCodeBlock('cloneGroup203', 'expandBtn203', 'collapseBtn203')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup203"><code class="language-python text-sm text-gray-800">If set to true, the model response data will be streamed to the client as it is
    generated using
    [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
    See the
    [Streaming section of the Speech-to-Text guide](https://platform.openai.com/docs/guides/speech-to-text?lang=curl#streaming-transcriptions)
    for more information.

    Note: Streaming is not supported for the `whisper-1` model and will be ignored.
    &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/audio/transcription.py (Line 23:1 - Line 59:14), .venv/lib/python3.14/site-packages/openai/types/audio/transcription_diarized.py (Line 13:1 - Line 49:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn204" onclick="toggleCodeBlock('cloneGroup204', 'expandBtn204', 'collapseBtn204')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn204" onclick="toggleCodeBlock('cloneGroup204', 'expandBtn204', 'collapseBtn204')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup204"><code class="language-python text-sm text-gray-800">class UsageTokensInputTokenDetails(BaseModel):
    audio_tokens: Optional[int] = None
    &quot;&quot;&quot;Number of audio tokens billed for this request.&quot;&quot;&quot;

    text_tokens: Optional[int] = None
    &quot;&quot;&quot;Number of text tokens billed for this request.&quot;&quot;&quot;


class UsageTokens(BaseModel):
    input_tokens: int
    &quot;&quot;&quot;Number of input tokens billed for this request.&quot;&quot;&quot;

    output_tokens: int
    &quot;&quot;&quot;Number of output tokens generated.&quot;&quot;&quot;

    total_tokens: int
    &quot;&quot;&quot;Total number of tokens used (input + output).&quot;&quot;&quot;

    type: Literal[&quot;tokens&quot;]
    &quot;&quot;&quot;The type of the usage object. Always `tokens` for this variant.&quot;&quot;&quot;

    input_token_details: Optional[UsageTokensInputTokenDetails] = None
    &quot;&quot;&quot;Details about the input tokens billed for this request.&quot;&quot;&quot;


class UsageDuration(BaseModel):
    seconds: float
    &quot;&quot;&quot;Duration of the input audio in seconds.&quot;&quot;&quot;

    type: Literal[&quot;duration&quot;]
    &quot;&quot;&quot;The type of the usage object. Always `duration` for this variant.&quot;&quot;&quot;


Usage: TypeAlias = Annotated[Union[UsageTokens, UsageDuration], PropertyInfo(discriminator=&quot;type&quot;)]


class Transcription</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 108:6 - Line 117:7), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 115:4 - Line 90:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn205" onclick="toggleCodeBlock('cloneGroup205', 'expandBtn205', 'collapseBtn205')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn205" onclick="toggleCodeBlock('cloneGroup205', 'expandBtn205', 'collapseBtn205')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup205"><code class="language-python text-sm text-gray-800">.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: The name of the vector</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 238:5 - Line 250:12), .venv/lib/python3.14/site-packages/openai/resources/beta/chatkit/threads.py (Line 179:4 - Line 117:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn206" onclick="toggleCodeBlock('cloneGroup206', 'expandBtn206', 'collapseBtn206')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn206" onclick="toggleCodeBlock('cloneGroup206', 'expandBtn206', 'collapseBtn206')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup206"><code class="language-python text-sm text-gray-800">,
        *,
        after: str | Omit = omit,
        before: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncCursorPage[VectorStore</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 445:9 - Line 478:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 95:9 - Line 128:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn207" onclick="toggleCodeBlock('cloneGroup207', 'expandBtn207', 'collapseBtn207')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn207" onclick="toggleCodeBlock('cloneGroup207', 'expandBtn207', 'collapseBtn207')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup207"><code class="language-python text-sm text-gray-800">Create a vector store.

        Args:
          chunking_strategy: The chunking strategy used to chunk the file(s). If not set, will use the `auto`
              strategy. Only applicable if `file_ids` is non-empty.

          description: A description for the vector store. Can be used to describe the vector store's
              purpose.

          expires_after: The expiration policy for a vector store.

          file_ids: A list of [File](https://platform.openai.com/docs/api-reference/files) IDs that
              the vector store should use. Useful for tools like `file_search` that can access
              files.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: The name of the vector store.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 467:6 - Line 479:17), .venv/lib/python3.14/site-packages/openai/resources/beta/realtime/transcription_sessions.py (Line 217:8 - Line 229:35)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn208" onclick="toggleCodeBlock('cloneGroup208', 'expandBtn208', 'collapseBtn208')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn208" onclick="toggleCodeBlock('cloneGroup208', 'expandBtn208', 'collapseBtn208')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup208"><code class="language-python text-sm text-gray-800">.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await self._post(
            &quot;/vector_stores&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 480:22 - Line 497:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 130:16 - Line 147:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn209" onclick="toggleCodeBlock('cloneGroup209', 'expandBtn209', 'collapseBtn209')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn209" onclick="toggleCodeBlock('cloneGroup209', 'expandBtn209', 'collapseBtn209')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup209"><code class="language-python text-sm text-gray-800">(
                {
                    &quot;chunking_strategy&quot;: chunking_strategy,
                    &quot;description&quot;: description,
                    &quot;expires_after&quot;: expires_after,
                    &quot;file_ids&quot;: file_ids,
                    &quot;metadata&quot;: metadata,
                    &quot;name&quot;: name,
                },
                vector_store_create_params.VectorStoreCreateParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=VectorStore,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 497:2 - Line 523:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 147:5 - Line 173:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn210" onclick="toggleCodeBlock('cloneGroup210', 'expandBtn210', 'collapseBtn210')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn210" onclick="toggleCodeBlock('cloneGroup210', 'expandBtn210', 'collapseBtn210')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup210"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        vector_store_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStore:
        &quot;&quot;&quot;
        Retrieves a vector store.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 531:2 - Line 571:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 181:5 - Line 221:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn211" onclick="toggleCodeBlock('cloneGroup211', 'expandBtn211', 'collapseBtn211')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn211" onclick="toggleCodeBlock('cloneGroup211', 'expandBtn211', 'collapseBtn211')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup211"><code class="language-python text-sm text-gray-800">def update(
        self,
        vector_store_id: str,
        *,
        expires_after: Optional[vector_store_update_params.ExpiresAfter] | Omit = omit,
        metadata: Optional[Metadata] | Omit = omit,
        name: Optional[str] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStore:
        &quot;&quot;&quot;
        Modifies a vector store.

        Args:
          expires_after: The expiration policy for a vector store.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: The name of the vector store.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 573:22 - Line 600:12), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 223:16 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn212" onclick="toggleCodeBlock('cloneGroup212', 'expandBtn212', 'collapseBtn212')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn212" onclick="toggleCodeBlock('cloneGroup212', 'expandBtn212', 'collapseBtn212')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup212"><code class="language-python text-sm text-gray-800">(
                {
                    &quot;expires_after&quot;: expires_after,
                    &quot;metadata&quot;: metadata,
                    &quot;name&quot;: name,
                },
                vector_store_update_params.VectorStoreUpdateParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=VectorStore,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        before: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[VectorStore</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 633:16 - Line 652:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 283:15 - Line 302:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn213" onclick="toggleCodeBlock('cloneGroup213', 'expandBtn213', 'collapseBtn213')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn213" onclick="toggleCodeBlock('cloneGroup213', 'expandBtn213', 'collapseBtn213')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup213"><code class="language-python text-sm text-gray-800">[VectorStore],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    vector_store_list_params.VectorStoreListParams,
                ),
            ),
            model=VectorStore,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 652:2 - Line 678:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 302:5 - Line 328:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn214" onclick="toggleCodeBlock('cloneGroup214', 'expandBtn214', 'collapseBtn214')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn214" onclick="toggleCodeBlock('cloneGroup214', 'expandBtn214', 'collapseBtn214')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup214"><code class="language-python text-sm text-gray-800">def delete(
        self,
        vector_store_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreDeleted:
        &quot;&quot;&quot;
        Delete a vector store.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 678:2 - Line 701:15), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 328:2 - Line 351:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn215" onclick="toggleCodeBlock('cloneGroup215', 'expandBtn215', 'collapseBtn215')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn215" onclick="toggleCodeBlock('cloneGroup215', 'expandBtn215', 'collapseBtn215')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup215"><code class="language-python text-sm text-gray-800">self._delete(
            f&quot;/vector_stores/{vector_store_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=VectorStoreDeleted,
        )

    def search(
        self,
        vector_store_id: str,
        *,
        query: Union[str, SequenceNotStr[str]],
        filters: vector_store_search_params.Filters | Omit = omit,
        max_num_results: int | Omit = omit,
        ranking_options: vector_store_search_params.RankingOptions | Omit = omit,
        rewrite_query: bool | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 731:10 - Line 750:28), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/vector_stores.py (Line 381:9 - Line 400:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn216" onclick="toggleCodeBlock('cloneGroup216', 'expandBtn216', 'collapseBtn216')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn216" onclick="toggleCodeBlock('cloneGroup216', 'expandBtn216', 'collapseBtn216')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup216"><code class="language-python text-sm text-gray-800">[VectorStoreSearchResponse],
            body=maybe_transform(
                {
                    &quot;query&quot;: query,
                    &quot;filters&quot;: filters,
                    &quot;max_num_results&quot;: max_num_results,
                    &quot;ranking_options&quot;: ranking_options,
                    &quot;rewrite_query&quot;: rewrite_query,
                },
                vector_store_search_params.VectorStoreSearchParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            model=VectorStoreSearchResponse,
            method=&quot;post&quot;,
        )


class VectorStoresWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 29:5 - Line 62:12), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 39:5 - Line 71:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn217" onclick="toggleCodeBlock('cloneGroup217', 'expandBtn217', 'collapseBtn217')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn217" onclick="toggleCodeBlock('cloneGroup217', 'expandBtn217', 'collapseBtn217')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup217"><code class="language-python text-sm text-gray-800">@cached_property
    def with_raw_response(self) -&gt; FilesWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return FilesWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; FilesWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return FilesWithStreamingResponse(self)

    def create(
        self,
        vector_store_id: str,
        *,
        file_id: str,
        attributes: Optional[Dict[str, Union[str, float, bool]]] | Omit = omit,
        chunking_strategy: FileChunkingStrategyParam | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 196:12 - Line 205:16), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 108:15 - Line 117:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn218" onclick="toggleCodeBlock('cloneGroup218', 'expandBtn218', 'collapseBtn218')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn218" onclick="toggleCodeBlock('cloneGroup218', 'expandBtn218', 'collapseBtn218')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup218"><code class="language-python text-sm text-gray-800">] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncCursorPage[VectorStoreFile</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 437:5 - Line 470:12), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 252:5 - Line 284:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn219" onclick="toggleCodeBlock('cloneGroup219', 'expandBtn219', 'collapseBtn219')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn219" onclick="toggleCodeBlock('cloneGroup219', 'expandBtn219', 'collapseBtn219')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup219"><code class="language-python text-sm text-gray-800">@cached_property
    def with_raw_response(self) -&gt; AsyncFilesWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return AsyncFilesWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; AsyncFilesWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return AsyncFilesWithStreamingResponse(self)

    async def create(
        self,
        vector_store_id: str,
        *,
        file_id: str,
        attributes: Optional[Dict[str, Union[str, float, bool]]] | Omit = omit,
        chunking_strategy: FileChunkingStrategyParam | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 471:9 - Line 500:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 63:9 - Line 92:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn220" onclick="toggleCodeBlock('cloneGroup220', 'expandBtn220', 'collapseBtn220')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn220" onclick="toggleCodeBlock('cloneGroup220', 'expandBtn220', 'collapseBtn220')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup220"><code class="language-python text-sm text-gray-800">Create a vector store file by attaching a
        [File](https://platform.openai.com/docs/api-reference/files) to a
        [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).

        Args:
          file_id: A [File](https://platform.openai.com/docs/api-reference/files) ID that the
              vector store should use. Useful for tools like `file_search` that can access
              files.

          attributes: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard. Keys are strings with a maximum
              length of 64 characters. Values are strings with a maximum length of 512
              characters, booleans, or numbers.

          chunking_strategy: The chunking strategy used to chunk the file(s). If not set, will use the `auto`
              strategy. Only applicable if `file_ids` is non-empty.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 516:2 - Line 545:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 108:5 - Line 137:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn221" onclick="toggleCodeBlock('cloneGroup221', 'expandBtn221', 'collapseBtn221')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn221" onclick="toggleCodeBlock('cloneGroup221', 'expandBtn221', 'collapseBtn221')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup221"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        file_id: str,
        *,
        vector_store_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;
        Retrieves a vector store file.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 553:2 - Line 589:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 145:5 - Line 181:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn222" onclick="toggleCodeBlock('cloneGroup222', 'expandBtn222', 'collapseBtn222')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn222" onclick="toggleCodeBlock('cloneGroup222', 'expandBtn222', 'collapseBtn222')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup222"><code class="language-python text-sm text-gray-800">def update(
        self,
        file_id: str,
        *,
        vector_store_id: str,
        attributes: Optional[Dict[str, Union[str, float, bool]]],
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;
        Update attributes on a vector store file.

        Args:
          attributes: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard. Keys are strings with a maximum
              length of 64 characters. Values are strings with a maximum length of 512
              characters, booleans, or numbers.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 591:22 - Line 613:16), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 183:16 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn223" onclick="toggleCodeBlock('cloneGroup223', 'expandBtn223', 'collapseBtn223')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn223" onclick="toggleCodeBlock('cloneGroup223', 'expandBtn223', 'collapseBtn223')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup223"><code class="language-python text-sm text-gray-800">({&quot;attributes&quot;: attributes}, file_update_params.FileUpdateParams),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=VectorStoreFile,
        )

    def list(
        self,
        vector_store_id: str,
        *,
        after: str | Omit = omit,
        before: str | Omit = omit,
        filter: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;failed&quot;, &quot;cancelled&quot;] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[VectorStoreFile</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 649:16 - Line 669:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 241:15 - Line 261:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn224" onclick="toggleCodeBlock('cloneGroup224', 'expandBtn224', 'collapseBtn224')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn224" onclick="toggleCodeBlock('cloneGroup224', 'expandBtn224', 'collapseBtn224')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup224"><code class="language-python text-sm text-gray-800">[VectorStoreFile],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;filter&quot;: filter,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    file_list_params.FileListParams,
                ),
            ),
            model=VectorStoreFile,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 669:2 - Line 702:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 261:5 - Line 294:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn225" onclick="toggleCodeBlock('cloneGroup225', 'expandBtn225', 'collapseBtn225')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn225" onclick="toggleCodeBlock('cloneGroup225', 'expandBtn225', 'collapseBtn225')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup225"><code class="language-python text-sm text-gray-800">def delete(
        self,
        file_id: str,
        *,
        vector_store_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFileDeleted:
        &quot;&quot;&quot;Delete a vector store file.

        This will remove the file from the vector store but
        the file itself will not be deleted. To delete the file, use the
        [delete file](https://platform.openai.com/docs/api-reference/files/delete)
        endpoint.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 710:2 - Line 720:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 302:5 - Line 312:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn226" onclick="toggleCodeBlock('cloneGroup226', 'expandBtn226', 'collapseBtn226')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn226" onclick="toggleCodeBlock('cloneGroup226', 'expandBtn226', 'collapseBtn226')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup226"><code class="language-python text-sm text-gray-800">def create_and_poll(
        self,
        file_id: str,
        *,
        vector_store_id: str,
        attributes: Optional[Dict[str, Union[str, float, bool]]] | Omit = omit,
        poll_interval_ms: int | Omit = omit,
        chunking_strategy: FileChunkingStrategyParam | Omit = omit,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;Attach a file to the given vector store and wait for it to be processed.&quot;&quot;&quot;
        await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 730:2 - Line 747:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 322:5 - Line 339:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn227" onclick="toggleCodeBlock('cloneGroup227', 'expandBtn227', 'collapseBtn227')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn227" onclick="toggleCodeBlock('cloneGroup227', 'expandBtn227', 'collapseBtn227')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup227"><code class="language-python text-sm text-gray-800">def poll(
        self,
        file_id: str,
        *,
        vector_store_id: str,
        poll_interval_ms: int | Omit = omit,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;Wait for the vector store file to finish processing.

        Note: this will return even if the file failed to process, you need to check
        file.last_error and file.status to handle these cases
        &quot;&quot;&quot;
        headers: dict[str, str] = {&quot;X-Stainless-Poll-Helper&quot;: &quot;true&quot;}
        if is_given(poll_interval_ms):
            headers[&quot;X-Stainless-Custom-Poll-Interval&quot;] = str(poll_interval_ms)

        while True:
            response = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 747:2 - Line 762:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 339:2 - Line 354:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn228" onclick="toggleCodeBlock('cloneGroup228', 'expandBtn228', 'collapseBtn228')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn228" onclick="toggleCodeBlock('cloneGroup228', 'expandBtn228', 'collapseBtn228')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup228"><code class="language-python text-sm text-gray-800">self.with_raw_response.retrieve(
                file_id,
                vector_store_id=vector_store_id,
                extra_headers=headers,
            )

            file = response.parse()
            if file.status == &quot;in_progress&quot;:
                if not is_given(poll_interval_ms):
                    from_header = response.headers.get(&quot;openai-poll-after-ms&quot;)
                    if from_header is not None:
                        poll_interval_ms = int(from_header)
                    else:
                        poll_interval_ms = 1000

                await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 788:2 - Line 798:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 378:5 - Line 388:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn229" onclick="toggleCodeBlock('cloneGroup229', 'expandBtn229', 'collapseBtn229')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn229" onclick="toggleCodeBlock('cloneGroup229', 'expandBtn229', 'collapseBtn229')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup229"><code class="language-python text-sm text-gray-800">def upload_and_poll(
        self,
        *,
        vector_store_id: str,
        file: FileTypes,
        attributes: Optional[Dict[str, Union[str, float, bool]]] | Omit = omit,
        poll_interval_ms: int | Omit = omit,
        chunking_strategy: FileChunkingStrategyParam | Omit = omit,
    ) -&gt; VectorStoreFile:
        &quot;&quot;&quot;Add a file to a vector store and poll until processing is complete.&quot;&quot;&quot;
        file_obj = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 803:18 - Line 818:15), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 393:17 - Line 408:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn230" onclick="toggleCodeBlock('cloneGroup230', 'expandBtn230', 'collapseBtn230')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn230" onclick="toggleCodeBlock('cloneGroup230', 'expandBtn230', 'collapseBtn230')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup230"><code class="language-python text-sm text-gray-800">,
            attributes=attributes,
        )

    def content(
        self,
        file_id: str,
        *,
        vector_store_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 69:2 - Line 94:48), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 68:2 - Line 93:41)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn231" onclick="toggleCodeBlock('cloneGroup231', 'expandBtn231', 'collapseBtn231')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn231" onclick="toggleCodeBlock('cloneGroup231', 'expandBtn231', 'collapseBtn231')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup231"><code class="language-python text-sm text-gray-800">that
              the vector store should use. Useful for tools like `file_search` that can access
              files.

          attributes: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard. Keys are strings with a maximum
              length of 64 characters. Values are strings with a maximum length of 512
              characters, booleans, or numbers.

          chunking_strategy: The chunking strategy used to chunk the file(s). If not set, will use the `auto`
              strategy. Only applicable if `file_ids` is non-empty.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return self._post(
            f&quot;/vector_stores/{vector_store_id}/file_batches&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 210:4 - Line 252:12), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 193:2 - Line 235:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn232" onclick="toggleCodeBlock('cloneGroup232', 'expandBtn232', 'collapseBtn232')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn232" onclick="toggleCodeBlock('cloneGroup232', 'expandBtn232', 'collapseBtn232')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup232"><code class="language-python text-sm text-gray-800">,
        after: str | Omit = omit,
        before: str | Omit = omit,
        filter: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;failed&quot;, &quot;cancelled&quot;] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncCursorPage[VectorStoreFile]:
        &quot;&quot;&quot;
        Returns a list of vector store files in a batch.

        Args:
          after: A cursor for use in pagination. `after` is an object ID that defines your place
              in the list. For instance, if you make a list request and receive 100 objects,
              ending with obj_foo, your subsequent call can include after=obj_foo in order to
              fetch the next page of the list.

          before: A cursor for use in pagination. `before` is an object ID that defines your place
              in the list. For instance, if you make a list request and receive 100 objects,
              starting with obj_foo, your subsequent call can include before=obj_foo in order
              to fetch the previous page of the list.

          filter: Filter by file status. One of `in_progress`, `completed`, `failed`, `cancelled`.

          limit: A limit on the number of objects to be returned. Limit can range between 1 and
              100, and the default is 20.

          order: Sort order by the `created_at` timestamp of the objects. `asc` for ascending
              order and `desc` for descending order.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 403:9 - Line 431:48), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 66:9 - Line 501:41)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn233" onclick="toggleCodeBlock('cloneGroup233', 'expandBtn233', 'collapseBtn233')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn233" onclick="toggleCodeBlock('cloneGroup233', 'expandBtn233', 'collapseBtn233')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup233"><code class="language-python text-sm text-gray-800">Create a vector store file batch.

        Args:
          file_ids: A list of [File](https://platform.openai.com/docs/api-reference/files) IDs that
              the vector store should use. Useful for tools like `file_search` that can access
              files.

          attributes: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard. Keys are strings with a maximum
              length of 64 characters. Values are strings with a maximum length of 512
              characters, booleans, or numbers.

          chunking_strategy: The chunking strategy used to chunk the file(s). If not set, will use the `auto`
              strategy. Only applicable if `file_ids` is non-empty.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await self._post(
            f&quot;/vector_stores/{vector_store_id}/file_batches&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 446:2 - Line 475:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 109:5 - Line 138:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn234" onclick="toggleCodeBlock('cloneGroup234', 'expandBtn234', 'collapseBtn234')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn234" onclick="toggleCodeBlock('cloneGroup234', 'expandBtn234', 'collapseBtn234')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup234"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        batch_id: str,
        *,
        vector_store_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFileBatch:
        &quot;&quot;&quot;
        Retrieves a vector store file batch.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        if not batch_id:
            raise ValueError(f&quot;Expected a non-empty value for `batch_id` but received {batch_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 483:2 - Line 514:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 146:5 - Line 177:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn235" onclick="toggleCodeBlock('cloneGroup235', 'expandBtn235', 'collapseBtn235')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn235" onclick="toggleCodeBlock('cloneGroup235', 'expandBtn235', 'collapseBtn235')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup235"><code class="language-python text-sm text-gray-800">def cancel(
        self,
        batch_id: str,
        *,
        vector_store_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VectorStoreFileBatch:
        &quot;&quot;&quot;Cancel a vector store file batch.

        This attempts to cancel the processing of
        files in this batch as soon as possible.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not vector_store_id:
            raise ValueError(f&quot;Expected a non-empty value for `vector_store_id` but received {vector_store_id!r}&quot;)
        if not batch_id:
            raise ValueError(f&quot;Expected a non-empty value for `batch_id` but received {batch_id!r}&quot;)
        extra_headers = {&quot;OpenAI-Beta&quot;: &quot;assistants=v2&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 537:2 - Line 589:12), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 200:2 - Line 643:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn236" onclick="toggleCodeBlock('cloneGroup236', 'expandBtn236', 'collapseBtn236')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn236" onclick="toggleCodeBlock('cloneGroup236', 'expandBtn236', 'collapseBtn236')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup236"><code class="language-python text-sm text-gray-800">self.poll(
            batch.id,
            vector_store_id=vector_store_id,
            poll_interval_ms=poll_interval_ms,
        )

    def list_files(
        self,
        batch_id: str,
        *,
        vector_store_id: str,
        after: str | Omit = omit,
        before: str | Omit = omit,
        filter: Literal[&quot;in_progress&quot;, &quot;completed&quot;, &quot;failed&quot;, &quot;cancelled&quot;] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[VectorStoreFile, AsyncCursorPage[VectorStoreFile]]:
        &quot;&quot;&quot;
        Returns a list of vector store files in a batch.

        Args:
          after: A cursor for use in pagination. `after` is an object ID that defines your place
              in the list. For instance, if you make a list request and receive 100 objects,
              ending with obj_foo, your subsequent call can include after=obj_foo in order to
              fetch the next page of the list.

          before: A cursor for use in pagination. `before` is an object ID that defines your place
              in the list. For instance, if you make a list request and receive 100 objects,
              starting with obj_foo, your subsequent call can include before=obj_foo in order
              to fetch the previous page of the list.

          filter: Filter by file status. One of `in_progress`, `completed`, `failed`, `cancelled`.

          limit: A limit on the number of objects to be returned. Limit can range between 1 and
              100, and the default is 20.

          order: Sort order by the `created_at` timestamp of the objects. `asc` for ascending
              order and `desc` for descending order.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 597:16 - Line 617:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 260:15 - Line 280:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn237" onclick="toggleCodeBlock('cloneGroup237', 'expandBtn237', 'collapseBtn237')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn237" onclick="toggleCodeBlock('cloneGroup237', 'expandBtn237', 'collapseBtn237')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup237"><code class="language-python text-sm text-gray-800">[VectorStoreFile],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;before&quot;: before,
                        &quot;filter&quot;: filter,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    file_batch_list_files_params.FileBatchListFilesParams,
                ),
            ),
            model=VectorStoreFile,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 617:2 - Line 634:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 280:5 - Line 297:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn238" onclick="toggleCodeBlock('cloneGroup238', 'expandBtn238', 'collapseBtn238')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn238" onclick="toggleCodeBlock('cloneGroup238', 'expandBtn238', 'collapseBtn238')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup238"><code class="language-python text-sm text-gray-800">def poll(
        self,
        batch_id: str,
        *,
        vector_store_id: str,
        poll_interval_ms: int | Omit = omit,
    ) -&gt; VectorStoreFileBatch:
        &quot;&quot;&quot;Wait for the given file batch to be processed.

        Note: this will return even if one of the files failed to process, you need to
        check batch.file_counts.failed_count to handle this case.
        &quot;&quot;&quot;
        headers: dict[str, str] = {&quot;X-Stainless-Poll-Helper&quot;: &quot;true&quot;}
        if is_given(poll_interval_ms):
            headers[&quot;X-Stainless-Custom-Poll-Interval&quot;] = str(poll_interval_ms)

        while True:
            response = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 634:2 - Line 649:6), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/file_batches.py (Line 297:2 - Line 312:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn239" onclick="toggleCodeBlock('cloneGroup239', 'expandBtn239', 'collapseBtn239')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn239" onclick="toggleCodeBlock('cloneGroup239', 'expandBtn239', 'collapseBtn239')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup239"><code class="language-python text-sm text-gray-800">self.with_raw_response.retrieve(
                batch_id,
                vector_store_id=vector_store_id,
                extra_headers=headers,
            )

            batch = response.parse()
            if batch.file_counts.in_progress &gt; 0:
                if not is_given(poll_interval_ms):
                    from_header = response.headers.get(&quot;openai-poll-after-ms&quot;)
                    if from_header is not None:
                        poll_interval_ms = int(from_header)
                    else:
                        poll_interval_ms = 1000

                await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 490:9 - Line 536:6), .venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 182:9 - Line 228:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn240" onclick="toggleCodeBlock('cloneGroup240', 'expandBtn240', 'collapseBtn240')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn240" onclick="toggleCodeBlock('cloneGroup240', 'expandBtn240', 'collapseBtn240')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup240"><code class="language-python text-sm text-gray-800">Creates an intermediate
        [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object
        that you can add
        [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.
        Currently, an Upload can accept at most 8 GB in total and expires after an hour
        after you create it.

        Once you complete the Upload, we will create a
        [File](https://platform.openai.com/docs/api-reference/files/object) object that
        contains all the parts you uploaded. This File is usable in the rest of our
        platform as a regular File object.

        For certain `purpose` values, the correct `mime_type` must be specified. Please
        refer to documentation for the
        [supported MIME types for your use case](https://platform.openai.com/docs/assistants/tools/file-search#supported-files).

        For guidance on the proper filename extensions for each purpose, please follow
        the documentation on
        [creating a File](https://platform.openai.com/docs/api-reference/files/create).

        Args:
          bytes: The number of bytes in the file you are uploading.

          filename: The name of the file to upload.

          mime_type: The MIME type of the file.

              This must fall within the supported MIME types for your file purpose. See the
              supported MIME types for assistants and vision.

          purpose: The intended purpose of the uploaded file.

              See the
              [documentation on File purposes](https://platform.openai.com/docs/api-reference/files/create#files-create-purpose).

          expires_after: The expiration policy for a file. By default, files with `purpose=batch` expire
              after 30 days and all other files are persisted until they are manually deleted.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 554:2 - Line 580:6), .venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 246:5 - Line 272:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn241" onclick="toggleCodeBlock('cloneGroup241', 'expandBtn241', 'collapseBtn241')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn241" onclick="toggleCodeBlock('cloneGroup241', 'expandBtn241', 'collapseBtn241')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup241"><code class="language-python text-sm text-gray-800">def cancel(
        self,
        upload_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Upload:
        &quot;&quot;&quot;Cancels the Upload.

        No Parts may be added after an Upload is cancelled.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not upload_id:
            raise ValueError(f&quot;Expected a non-empty value for `upload_id` but received {upload_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 588:2 - Line 632:6), .venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 280:5 - Line 324:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn242" onclick="toggleCodeBlock('cloneGroup242', 'expandBtn242', 'collapseBtn242')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn242" onclick="toggleCodeBlock('cloneGroup242', 'expandBtn242', 'collapseBtn242')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup242"><code class="language-python text-sm text-gray-800">def complete(
        self,
        upload_id: str,
        *,
        part_ids: SequenceNotStr[str],
        md5: str | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Upload:
        &quot;&quot;&quot;
        Completes the
        [Upload](https://platform.openai.com/docs/api-reference/uploads/object).

        Within the returned Upload object, there is a nested
        [File](https://platform.openai.com/docs/api-reference/files/object) object that
        is ready to use in the rest of the platform.

        You can specify the order of the Parts by passing in an ordered list of the Part
        IDs.

        The number of bytes uploaded upon completion must match the number of bytes
        initially specified when creating the Upload object. No Parts may be added after
        an Upload is completed.

        Args:
          part_ids: The ordered list of Part IDs.

          md5: The optional md5 checksum for the file contents to verify if the bytes uploaded
              matches what you expect.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not upload_id:
            raise ValueError(f&quot;Expected a non-empty value for `upload_id` but received {upload_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/uploads/parts.py (Line 130:9 - Line 161:6), .venv/lib/python3.14/site-packages/openai/resources/uploads/parts.py (Line 55:9 - Line 86:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn243" onclick="toggleCodeBlock('cloneGroup243', 'expandBtn243', 'collapseBtn243')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn243" onclick="toggleCodeBlock('cloneGroup243', 'expandBtn243', 'collapseBtn243')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup243"><code class="language-python text-sm text-gray-800">Adds a
        [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an
        [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.
        A Part represents a chunk of bytes from the file you are trying to upload.

        Each Part can be at most 64 MB, and you can add Parts until you hit the Upload
        maximum of 8 GB.

        It is possible to add multiple Parts in parallel. You can decide the intended
        order of the Parts when you
        [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).

        Args:
          data: The chunk of bytes for this Part.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not upload_id:
            raise ValueError(f&quot;Expected a non-empty value for `upload_id` but received {upload_id!r}&quot;)
        body = deepcopy_minimal({&quot;data&quot;: data})
        files = extract_files(cast(Mapping[str, object], body), paths=[[&quot;data&quot;]])
        # It should be noted that the actual Content-Type header that will be
        # sent to the server will contain a `boundary` parameter, e.g.
        # multipart/form-data; boundary=---abc--
        extra_headers = {&quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 99:2 - Line 105:12), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 199:8 - Line 208:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn244" onclick="toggleCodeBlock('cloneGroup244', 'expandBtn244', 'collapseBtn244')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn244" onclick="toggleCodeBlock('cloneGroup244', 'expandBtn244', 'collapseBtn244')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup244"><code class="language-python text-sm text-gray-800">Configuration options for a text response from the model. Can be plain text or
              structured JSON data. Learn more:

              - [Text inputs and outputs](https://platform.openai.com/docs/guides/text)
              - [Structured Outputs](https://platform.openai.com/docs/guides/structured-outputs)

          tool_choice</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 112:2 - Line 118:14), .venv/lib/python3.14/site-packages/openai/types/responses/response_create_params.py (Line 253:8 - Line 263:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn245" onclick="toggleCodeBlock('cloneGroup245', 'expandBtn245', 'collapseBtn245')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn245" onclick="toggleCodeBlock('cloneGroup245', 'expandBtn245', 'collapseBtn245')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup245"><code class="language-python text-sm text-gray-800">The truncation strategy to use for the model response. - `auto`: If the input to
              this Response exceeds the model's context window size, the model will truncate
              the response to fit the context window by dropping items from the beginning of
              the conversation. - `disabled` (default): If the input size will exceed the
              context window size for a model, the request will fail with a 400 error.

          extra_headers</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 193:9 - Line 251:6), .venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 68:9 - Line 126:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn246" onclick="toggleCodeBlock('cloneGroup246', 'expandBtn246', 'collapseBtn246')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn246" onclick="toggleCodeBlock('cloneGroup246', 'expandBtn246', 'collapseBtn246')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup246"><code class="language-python text-sm text-gray-800">Get input token counts

        Args:
          conversation: The conversation that this response belongs to. Items from this conversation are
              prepended to `input_items` for this response request. Input items and output
              items from this response are automatically added to this conversation after this
              response completes.

          input: Text, image, or file inputs to the model, used to generate a response

          instructions: A system (or developer) message inserted into the model's context. When used
              along with `previous_response_id`, the instructions from a previous response
              will not be carried over to the next response. This makes it simple to swap out
              system (or developer) messages in new responses.

          model: Model ID used to generate the response, like `gpt-4o` or `o3`. OpenAI offers a
              wide range of models with different capabilities, performance characteristics,
              and price points. Refer to the
              [model guide](https://platform.openai.com/docs/models) to browse and compare
              available models.

          parallel_tool_calls: Whether to allow the model to run tool calls in parallel.

          previous_response_id: The unique ID of the previous response to the model. Use this to create
              multi-turn conversations. Learn more about
              [conversation state](https://platform.openai.com/docs/guides/conversation-state).
              Cannot be used in conjunction with `conversation`.

          reasoning: **gpt-5 and o-series models only** Configuration options for
              [reasoning models](https://platform.openai.com/docs/guides/reasoning).

          text: Configuration options for a text response from the model. Can be plain text or
              structured JSON data. Learn more:

              - [Text inputs and outputs](https://platform.openai.com/docs/guides/text)
              - [Structured Outputs](https://platform.openai.com/docs/guides/structured-outputs)

          tool_choice: How the model should select which tool (or tools) to use when generating a
              response. See the `tools` parameter to see how to specify which tools the model
              can call.

          tools: An array of tools the model may call while generating a response. You can
              specify which tool to use by setting the `tool_choice` parameter.

          truncation: The truncation strategy to use for the model response. - `auto`: If the input to
              this Response exceeds the model's context window size, the model will truncate
              the response to fit the context window by dropping items from the beginning of
              the conversation. - `disabled` (default): If the input size will exceed the
              context window size for a model, the request will fail with a 400 error.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 253:22 - Line 276:27), .venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 128:16 - Line 151:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn247" onclick="toggleCodeBlock('cloneGroup247', 'expandBtn247', 'collapseBtn247')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn247" onclick="toggleCodeBlock('cloneGroup247', 'expandBtn247', 'collapseBtn247')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup247"><code class="language-python text-sm text-gray-800">(
                {
                    &quot;conversation&quot;: conversation,
                    &quot;input&quot;: input,
                    &quot;instructions&quot;: instructions,
                    &quot;model&quot;: model,
                    &quot;parallel_tool_calls&quot;: parallel_tool_calls,
                    &quot;previous_response_id&quot;: previous_response_id,
                    &quot;reasoning&quot;: reasoning,
                    &quot;text&quot;: text,
                    &quot;tool_choice&quot;: tool_choice,
                    &quot;tools&quot;: tools,
                    &quot;truncation&quot;: truncation,
                },
                input_token_count_params.InputTokenCountParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=InputTokenCountResponse,
        )


class InputTokensWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/responses/input_items.py (Line 145:9 - Line 173:16), .venv/lib/python3.14/site-packages/openai/resources/responses/input_items.py (Line 61:9 - Line 89:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn248" onclick="toggleCodeBlock('cloneGroup248', 'expandBtn248', 'collapseBtn248')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn248" onclick="toggleCodeBlock('cloneGroup248', 'expandBtn248', 'collapseBtn248')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup248"><code class="language-python text-sm text-gray-800">Returns a list of input items for a given response.

        Args:
          after: An item ID to list items after, used in pagination.

          include: Additional fields to include in the response. See the `include` parameter for
              Response creation above for more information.

          limit: A limit on the number of objects to be returned. Limit can range between 1 and
              100, and the default is 20.

          order: The order to return the input items in. Default is `desc`.

              - `asc`: Return the input items in ascending order.
              - `desc`: Return the input items in descending order.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not response_id:
            raise ValueError(f&quot;Expected a non-empty value for `response_id` but received {response_id!r}&quot;)
        return self._get_api_list(
            f&quot;/responses/{response_id}/input_items&quot;,
            page=AsyncCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/responses/input_items.py (Line 173:16 - Line 193:26), .venv/lib/python3.14/site-packages/openai/resources/responses/input_items.py (Line 89:15 - Line 109:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn249" onclick="toggleCodeBlock('cloneGroup249', 'expandBtn249', 'collapseBtn249')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn249" onclick="toggleCodeBlock('cloneGroup249', 'expandBtn249', 'collapseBtn249')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup249"><code class="language-python text-sm text-gray-800">[ResponseItem],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;include&quot;: include,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    input_item_list_params.InputItemListParams,
                ),
            ),
            model=cast(Any, ResponseItem),  # Union types cannot be passed in as arguments in the type system
        )


class InputItemsWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/client_secrets.py (Line 5:1 - Line 14:9), .venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 8:1 - Line 17:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn250" onclick="toggleCodeBlock('cloneGroup250', 'expandBtn250', 'collapseBtn250')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn250" onclick="toggleCodeBlock('cloneGroup250', 'expandBtn250', 'collapseBtn250')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup250"><code class="language-python text-sm text-gray-800">import httpx

from ... import _legacy_response
from ..._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ..._utils import maybe_transform, async_maybe_transform
from ..._compat import cached_property
from ..._resource import SyncAPIResource, AsyncAPIResource
from ..._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ..._base_client import make_request_options
from ...types.realtime</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/client_secrets.py (Line 121:9 - Line 140:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/client_secrets.py (Line 53:9 - Line 72:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn251" onclick="toggleCodeBlock('cloneGroup251', 'expandBtn251', 'collapseBtn251')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn251" onclick="toggleCodeBlock('cloneGroup251', 'expandBtn251', 'collapseBtn251')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup251"><code class="language-python text-sm text-gray-800">Create a Realtime client secret with an associated session configuration.

        Args:
          expires_after: Configuration for the client secret expiration. Expiration refers to the time
              after which a client secret will no longer be valid for creating sessions. The
              session itself may continue after that time once started. A secret can be used
              to create multiple sessions until it expires.

          session: Session configuration to use for the client secret. Choose either a realtime
              session or a transcription session.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 383:9 - Line 400:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 74:9 - Line 91:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn252" onclick="toggleCodeBlock('cloneGroup252', 'expandBtn252', 'collapseBtn252')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn252" onclick="toggleCodeBlock('cloneGroup252', 'expandBtn252', 'collapseBtn252')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup252"><code class="language-python text-sm text-gray-800">Create a new Realtime API call over WebRTC and receive the SDP answer needed to
        complete the peer connection.

        Args:
          sdp: WebRTC Session Description Protocol (SDP) offer generated by the caller.

          session: Realtime session object configuration.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        extra_headers = {&quot;Accept&quot;: &quot;application/sdp&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 415:2 - Line 521:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 106:5 - Line 212:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn253" onclick="toggleCodeBlock('cloneGroup253', 'expandBtn253', 'collapseBtn253')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn253" onclick="toggleCodeBlock('cloneGroup253', 'expandBtn253', 'collapseBtn253')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup253"><code class="language-python text-sm text-gray-800">def accept(
        self,
        call_id: str,
        *,
        type: Literal[&quot;realtime&quot;],
        audio: RealtimeAudioConfigParam | Omit = omit,
        include: List[Literal[&quot;item.input_audio_transcription.logprobs&quot;]] | Omit = omit,
        instructions: str | Omit = omit,
        max_output_tokens: Union[int, Literal[&quot;inf&quot;]] | Omit = omit,
        model: Union[
            str,
            Literal[
                &quot;gpt-realtime&quot;,
                &quot;gpt-realtime-2025-08-28&quot;,
                &quot;gpt-4o-realtime-preview&quot;,
                &quot;gpt-4o-realtime-preview-2024-10-01&quot;,
                &quot;gpt-4o-realtime-preview-2024-12-17&quot;,
                &quot;gpt-4o-realtime-preview-2025-06-03&quot;,
                &quot;gpt-4o-mini-realtime-preview&quot;,
                &quot;gpt-4o-mini-realtime-preview-2024-12-17&quot;,
                &quot;gpt-realtime-mini&quot;,
                &quot;gpt-realtime-mini-2025-10-06&quot;,
                &quot;gpt-audio-mini&quot;,
                &quot;gpt-audio-mini-2025-10-06&quot;,
            ],
        ]
        | Omit = omit,
        output_modalities: List[Literal[&quot;text&quot;, &quot;audio&quot;]] | Omit = omit,
        prompt: Optional[ResponsePromptParam] | Omit = omit,
        tool_choice: RealtimeToolChoiceConfigParam | Omit = omit,
        tools: RealtimeToolsConfigParam | Omit = omit,
        tracing: Optional[RealtimeTracingConfigParam] | Omit = omit,
        truncation: RealtimeTruncationParam | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; None:
        &quot;&quot;&quot;
        Accept an incoming SIP call and configure the realtime session that will handle
        it.

        Args:
          type: The type of session to create. Always `realtime` for the Realtime API.

          audio: Configuration for input and output audio.

          include: Additional fields to include in server outputs.

              `item.input_audio_transcription.logprobs`: Include logprobs for input audio
              transcription.

          instructions: The default system instructions (i.e. system message) prepended to model calls.
              This field allows the client to guide the model on desired responses. The model
              can be instructed on response content and format, (e.g. &quot;be extremely succinct&quot;,
              &quot;act friendly&quot;, &quot;here are examples of good responses&quot;) and on audio behavior
              (e.g. &quot;talk quickly&quot;, &quot;inject emotion into your voice&quot;, &quot;laugh frequently&quot;). The
              instructions are not guaranteed to be followed by the model, but they provide
              guidance to the model on the desired behavior.

              Note that the server sets default instructions which will be used if this field
              is not set and are visible in the `session.created` event at the start of the
              session.

          max_output_tokens: Maximum number of output tokens for a single assistant response, inclusive of
              tool calls. Provide an integer between 1 and 4096 to limit output tokens, or
              `inf` for the maximum available tokens for a given model. Defaults to `inf`.

          model: The Realtime model used for this session.

          output_modalities: The set of modalities the model can respond with. It defaults to `[&quot;audio&quot;]`,
              indicating that the model will respond with audio plus a transcript. `[&quot;text&quot;]`
              can be used to make the model respond with text only. It is not possible to
              request both `text` and `audio` at the same time.

          prompt: Reference to a prompt template and its variables.
              [Learn more](https://platform.openai.com/docs/guides/text?api-mode=responses#reusable-prompts).

          tool_choice: How the model chooses tools. Provide one of the string modes or force a specific
              function/MCP tool.

          tools: Tools available to the model.

          tracing: Realtime API can write session traces to the
              [Traces Dashboard](/logs?api=traces). Set to null to disable tracing. Once
              tracing is enabled for a session, the configuration cannot be modified.

              `auto` will create a trace for the session with default values for the workflow
              name, group id, and metadata.

          truncation: Controls how the realtime conversation is truncated prior to model inference.
              The default is `auto`.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not call_id:
            raise ValueError(f&quot;Expected a non-empty value for `call_id` but received {call_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;*/*&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 523:22 - Line 546:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 214:16 - Line 237:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn254" onclick="toggleCodeBlock('cloneGroup254', 'expandBtn254', 'collapseBtn254')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn254" onclick="toggleCodeBlock('cloneGroup254', 'expandBtn254', 'collapseBtn254')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup254"><code class="language-python text-sm text-gray-800">(
                {
                    &quot;type&quot;: type,
                    &quot;audio&quot;: audio,
                    &quot;include&quot;: include,
                    &quot;instructions&quot;: instructions,
                    &quot;max_output_tokens&quot;: max_output_tokens,
                    &quot;model&quot;: model,
                    &quot;output_modalities&quot;: output_modalities,
                    &quot;prompt&quot;: prompt,
                    &quot;tool_choice&quot;: tool_choice,
                    &quot;tools&quot;: tools,
                    &quot;tracing&quot;: tracing,
                    &quot;truncation&quot;: truncation,
                },
                call_accept_params.CallAcceptParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=NoneType,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 546:2 - Line 572:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 237:5 - Line 263:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn255" onclick="toggleCodeBlock('cloneGroup255', 'expandBtn255', 'collapseBtn255')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn255" onclick="toggleCodeBlock('cloneGroup255', 'expandBtn255', 'collapseBtn255')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup255"><code class="language-python text-sm text-gray-800">def hangup(
        self,
        call_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; None:
        &quot;&quot;&quot;
        End an active Realtime API call, whether it was initiated over SIP or WebRTC.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not call_id:
            raise ValueError(f&quot;Expected a non-empty value for `call_id` but received {call_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;*/*&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 580:2 - Line 610:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 271:5 - Line 301:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn256" onclick="toggleCodeBlock('cloneGroup256', 'expandBtn256', 'collapseBtn256')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn256" onclick="toggleCodeBlock('cloneGroup256', 'expandBtn256', 'collapseBtn256')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup256"><code class="language-python text-sm text-gray-800">def refer(
        self,
        call_id: str,
        *,
        target_uri: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; None:
        &quot;&quot;&quot;
        Transfer an active SIP call to a new destination using the SIP REFER verb.

        Args:
          target_uri: URI that should appear in the SIP Refer-To header. Supports values like
              `tel:+14155550123` or `sip:agent@example.com`.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not call_id:
            raise ValueError(f&quot;Expected a non-empty value for `call_id` but received {call_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;*/*&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 619:2 - Line 649:6), .venv/lib/python3.14/site-packages/openai/resources/realtime/calls.py (Line 310:5 - Line 340:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn257" onclick="toggleCodeBlock('cloneGroup257', 'expandBtn257', 'collapseBtn257')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn257" onclick="toggleCodeBlock('cloneGroup257', 'expandBtn257', 'collapseBtn257')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup257"><code class="language-python text-sm text-gray-800">def reject(
        self,
        call_id: str,
        *,
        status_code: int | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; None:
        &quot;&quot;&quot;
        Decline an incoming SIP call by returning a SIP status code to the caller.

        Args:
          status_code: SIP response code to send back to the caller. Defaults to `603` (Decline) when
              omitted.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not call_id:
            raise ValueError(f&quot;Expected a non-empty value for `call_id` but received {call_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;*/*&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 90:2 - Line 99:11), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 115:4 - Line 90:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn258" onclick="toggleCodeBlock('cloneGroup258', 'expandBtn258', 'collapseBtn258')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn258" onclick="toggleCodeBlock('cloneGroup258', 'expandBtn258', 'collapseBtn258')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup258"><code class="language-python text-sm text-gray-800">.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: The name of the evaluation</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 340:9 - Line 373:6), .venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 76:9 - Line 109:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn259" onclick="toggleCodeBlock('cloneGroup259', 'expandBtn259', 'collapseBtn259')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn259" onclick="toggleCodeBlock('cloneGroup259', 'expandBtn259', 'collapseBtn259')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup259"><code class="language-python text-sm text-gray-800">Create the structure of an evaluation that can be used to test a model's
        performance. An evaluation is a set of testing criteria and the config for a
        data source, which dictates the schema of the data used in the evaluation. After
        creating an evaluation, you can run it on different models and model parameters.
        We support several types of graders and datasources. For more information, see
        the [Evals guide](https://platform.openai.com/docs/guides/evals).

        Args:
          data_source_config: The configuration for the data source used for the evaluation runs. Dictates the
              schema of the data used in the evaluation.

          testing_criteria: A list of graders for all eval runs in this group. Graders can reference
              variables in the data source using double curly braces notation, like
              `{{item.variable_name}}`. To reference the model's output, use the `sample`
              namespace (ie, `{{sample.output_text}}`).

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: The name of the evaluation.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 390:2 - Line 415:6), .venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 126:5 - Line 151:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn260" onclick="toggleCodeBlock('cloneGroup260', 'expandBtn260', 'collapseBtn260')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn260" onclick="toggleCodeBlock('cloneGroup260', 'expandBtn260', 'collapseBtn260')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup260"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        eval_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; EvalRetrieveResponse:
        &quot;&quot;&quot;
        Get an evaluation by ID.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 423:2 - Line 459:6), .venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 159:5 - Line 195:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn261" onclick="toggleCodeBlock('cloneGroup261', 'expandBtn261', 'collapseBtn261')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn261" onclick="toggleCodeBlock('cloneGroup261', 'expandBtn261', 'collapseBtn261')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup261"><code class="language-python text-sm text-gray-800">def update(
        self,
        eval_id: str,
        *,
        metadata: Optional[Metadata] | Omit = omit,
        name: str | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; EvalUpdateResponse:
        &quot;&quot;&quot;
        Update certain properties of an evaluation.

        Args:
          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          name: Rename the evaluation.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 461:22 - Line 487:15), .venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 197:16 - Line 223:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn262" onclick="toggleCodeBlock('cloneGroup262', 'expandBtn262', 'collapseBtn262')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn262" onclick="toggleCodeBlock('cloneGroup262', 'expandBtn262', 'collapseBtn262')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup262"><code class="language-python text-sm text-gray-800">(
                {
                    &quot;metadata&quot;: metadata,
                    &quot;name&quot;: name,
                },
                eval_update_params.EvalUpdateParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=EvalUpdateResponse,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        order_by: Literal[&quot;created_at&quot;, &quot;updated_at&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 512:16 - Line 531:6), .venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 248:15 - Line 267:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn263" onclick="toggleCodeBlock('cloneGroup263', 'expandBtn263', 'collapseBtn263')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn263" onclick="toggleCodeBlock('cloneGroup263', 'expandBtn263', 'collapseBtn263')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup263"><code class="language-python text-sm text-gray-800">[EvalListResponse],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                        &quot;order_by&quot;: order_by,
                    },
                    eval_list_params.EvalListParams,
                ),
            ),
            model=EvalListResponse,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 531:2 - Line 556:6), .venv/lib/python3.14/site-packages/openai/resources/evals/evals.py (Line 267:5 - Line 292:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn264" onclick="toggleCodeBlock('cloneGroup264', 'expandBtn264', 'collapseBtn264')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn264" onclick="toggleCodeBlock('cloneGroup264', 'expandBtn264', 'collapseBtn264')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup264"><code class="language-python text-sm text-gray-800">def delete(
        self,
        eval_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; EvalDeleteResponse:
        &quot;&quot;&quot;
        Delete an evaluation.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not eval_id:
            raise ValueError(f&quot;Expected a non-empty value for `eval_id` but received {eval_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 6:1 - Line 16:11), .venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 6:1 - Line 16:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn265" onclick="toggleCodeBlock('cloneGroup265', 'expandBtn265', 'collapseBtn265')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn265" onclick="toggleCodeBlock('cloneGroup265', 'expandBtn265', 'collapseBtn265')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup265"><code class="language-python text-sm text-gray-800">from typing_extensions import Literal

import httpx

from ... import _legacy_response
from ..._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ..._utils import maybe_transform, async_maybe_transform
from ..._compat import cached_property
from ..._resource import SyncAPIResource, AsyncAPIResource
from ..._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ...pagination</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 147:19 - Line 156:17), .venv/lib/python3.14/site-packages/openai/resources/beta/threads/runs/steps.py (Line 108:15 - Line 191:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn266" onclick="toggleCodeBlock('cloneGroup266', 'expandBtn266', 'collapseBtn266')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn266" onclick="toggleCodeBlock('cloneGroup266', 'expandBtn266', 'collapseBtn266')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup266"><code class="language-python text-sm text-gray-800">] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncConversationCursorPage[ConversationItem</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 292:9 - Line 311:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 62:9 - Line 81:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn267" onclick="toggleCodeBlock('cloneGroup267', 'expandBtn267', 'collapseBtn267')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn267" onclick="toggleCodeBlock('cloneGroup267', 'expandBtn267', 'collapseBtn267')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup267"><code class="language-python text-sm text-gray-800">Create items in a conversation with the given ID.

        Args:
          items: The items to add to the conversation. You may add up to 20 items at a time.

          include: Additional fields to include in the response. See the `include` parameter for
              [listing Conversation items above](https://platform.openai.com/docs/api-reference/conversations/list-items#conversations_list_items-include)
              for more information.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not conversation_id:
            raise ValueError(f&quot;Expected a non-empty value for `conversation_id` but received {conversation_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 324:2 - Line 359:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 94:5 - Line 129:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn268" onclick="toggleCodeBlock('cloneGroup268', 'expandBtn268', 'collapseBtn268')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn268" onclick="toggleCodeBlock('cloneGroup268', 'expandBtn268', 'collapseBtn268')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup268"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        item_id: str,
        *,
        conversation_id: str,
        include: List[ResponseIncludable] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ConversationItem:
        &quot;&quot;&quot;
        Get a single item from a conversation with the given IDs.

        Args:
          include: Additional fields to include in the response. See the `include` parameter for
              [listing Conversation items above](https://platform.openai.com/docs/api-reference/conversations/list-items#conversations_list_items-include)
              for more information.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not conversation_id:
            raise ValueError(f&quot;Expected a non-empty value for `conversation_id` but received {conversation_id!r}&quot;)
        if not item_id:
            raise ValueError(f&quot;Expected a non-empty value for `item_id` but received {item_id!r}&quot;)
        return cast(
            ConversationItem,
            await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 366:22 - Line 386:17), .venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 136:16 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn269" onclick="toggleCodeBlock('cloneGroup269', 'expandBtn269', 'collapseBtn269')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn269" onclick="toggleCodeBlock('cloneGroup269', 'expandBtn269', 'collapseBtn269')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup269"><code class="language-python text-sm text-gray-800">({&quot;include&quot;: include}, item_retrieve_params.ItemRetrieveParams),
                ),
                cast_to=cast(Any, ConversationItem),  # Union types cannot be passed in as arguments in the type system
            ),
        )

    def list(
        self,
        conversation_id: str,
        *,
        after: str | Omit = omit,
        include: List[ResponseIncludable] | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[ConversationItem</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 432:28 - Line 451:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 202:27 - Line 221:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn270" onclick="toggleCodeBlock('cloneGroup270', 'expandBtn270', 'collapseBtn270')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn270" onclick="toggleCodeBlock('cloneGroup270', 'expandBtn270', 'collapseBtn270')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup270"><code class="language-python text-sm text-gray-800">[ConversationItem],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;include&quot;: include,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                    },
                    item_list_params.ItemListParams,
                ),
            ),
            model=cast(Any, ConversationItem),  # Union types cannot be passed in as arguments in the type system
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 451:2 - Line 479:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/items.py (Line 221:5 - Line 249:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn271" onclick="toggleCodeBlock('cloneGroup271', 'expandBtn271', 'collapseBtn271')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn271" onclick="toggleCodeBlock('cloneGroup271', 'expandBtn271', 'collapseBtn271')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup271"><code class="language-python text-sm text-gray-800">def delete(
        self,
        item_id: str,
        *,
        conversation_id: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Conversation:
        &quot;&quot;&quot;
        Delete an item from a conversation with the given IDs.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not conversation_id:
            raise ValueError(f&quot;Expected a non-empty value for `conversation_id` but received {conversation_id!r}&quot;)
        if not item_id:
            raise ValueError(f&quot;Expected a non-empty value for `item_id` but received {item_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 18:1 - Line 24:14), .venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 11:1 - Line 17:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn272" onclick="toggleCodeBlock('cloneGroup272', 'expandBtn272', 'collapseBtn272')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn272" onclick="toggleCodeBlock('cloneGroup272', 'expandBtn272', 'collapseBtn272')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup272"><code class="language-python text-sm text-gray-800">from ..._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ..._utils import maybe_transform, async_maybe_transform
from ..._compat import cached_property
from ..._resource import SyncAPIResource, AsyncAPIResource
from ..._response import to_streamed_response_wrapper, async_to_streamed_response_wrapper
from ..._base_client import make_request_options
from ...types.conversations</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 74:5 - Line 91:7), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 115:4 - Line 98:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn273" onclick="toggleCodeBlock('cloneGroup273', 'expandBtn273', 'collapseBtn273')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn273" onclick="toggleCodeBlock('cloneGroup273', 'expandBtn273', 'collapseBtn273')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup273"><code class="language-python text-sm text-gray-800">.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 253:9 - Line 274:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 70:9 - Line 91:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn274" onclick="toggleCodeBlock('cloneGroup274', 'expandBtn274', 'collapseBtn274')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn274" onclick="toggleCodeBlock('cloneGroup274', 'expandBtn274', 'collapseBtn274')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup274"><code class="language-python text-sm text-gray-800">Create a conversation.

        Args:
          items: Initial items to include in the conversation context. You may add up to 20 items
              at a time.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 289:2 - Line 314:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 106:5 - Line 131:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn275" onclick="toggleCodeBlock('cloneGroup275', 'expandBtn275', 'collapseBtn275')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn275" onclick="toggleCodeBlock('cloneGroup275', 'expandBtn275', 'collapseBtn275')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup275"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        conversation_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Conversation:
        &quot;&quot;&quot;
        Get a conversation

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not conversation_id:
            raise ValueError(f&quot;Expected a non-empty value for `conversation_id` but received {conversation_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 322:2 - Line 355:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 139:5 - Line 172:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn276" onclick="toggleCodeBlock('cloneGroup276', 'expandBtn276', 'collapseBtn276')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn276" onclick="toggleCodeBlock('cloneGroup276', 'expandBtn276', 'collapseBtn276')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup276"><code class="language-python text-sm text-gray-800">def update(
        self,
        conversation_id: str,
        *,
        metadata: Optional[Metadata],
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Conversation:
        &quot;&quot;&quot;
        Update a conversation

        Args:
          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not conversation_id:
            raise ValueError(f&quot;Expected a non-empty value for `conversation_id` but received {conversation_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 366:2 - Line 392:6), .venv/lib/python3.14/site-packages/openai/resources/conversations/conversations.py (Line 181:5 - Line 207:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn277" onclick="toggleCodeBlock('cloneGroup277', 'expandBtn277', 'collapseBtn277')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn277" onclick="toggleCodeBlock('cloneGroup277', 'expandBtn277', 'collapseBtn277')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup277"><code class="language-python text-sm text-gray-800">def delete(
        self,
        conversation_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ConversationDeletedResource:
        &quot;&quot;&quot;Delete a conversation.

        Items in the conversation will not be deleted.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not conversation_id:
            raise ValueError(f&quot;Expected a non-empty value for `conversation_id` but received {conversation_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 138:5 - Line 149:22), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 151:4 - Line 117:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn278" onclick="toggleCodeBlock('cloneGroup278', 'expandBtn278', 'collapseBtn278')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn278" onclick="toggleCodeBlock('cloneGroup278', 'expandBtn278', 'collapseBtn278')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup278"><code class="language-python text-sm text-gray-800">,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncCursorPage[ContainerListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 267:9 - Line 311:12), .venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 71:9 - Line 115:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn279" onclick="toggleCodeBlock('cloneGroup279', 'expandBtn279', 'collapseBtn279')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn279" onclick="toggleCodeBlock('cloneGroup279', 'expandBtn279', 'collapseBtn279')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup279"><code class="language-python text-sm text-gray-800">Create Container

        Args:
          name: Name of the container to create.

          expires_after: Container expiration time in seconds relative to the 'anchor' time.

          file_ids: IDs of files to copy to the container.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await self._post(
            &quot;/containers&quot;,
            body=await async_maybe_transform(
                {
                    &quot;name&quot;: name,
                    &quot;expires_after&quot;: expires_after,
                    &quot;file_ids&quot;: file_ids,
                },
                container_create_params.ContainerCreateParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=ContainerCreateResponse,
        )

    async def retrieve(
        self,
        container_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ContainerRetrieveResponse:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 325:2 - Line 345:22), .venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 129:2 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn280" onclick="toggleCodeBlock('cloneGroup280', 'expandBtn280', 'collapseBtn280')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn280" onclick="toggleCodeBlock('cloneGroup280', 'expandBtn280', 'collapseBtn280')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup280"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/containers/{container_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=ContainerRetrieveResponse,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[ContainerListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 390:2 - Line 416:6), .venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 194:5 - Line 220:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn281" onclick="toggleCodeBlock('cloneGroup281', 'expandBtn281', 'collapseBtn281')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn281" onclick="toggleCodeBlock('cloneGroup281', 'expandBtn281', 'collapseBtn281')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup281"><code class="language-python text-sm text-gray-800">def delete(
        self,
        container_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; None:
        &quot;&quot;&quot;
        Delete Container

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not container_id:
            raise ValueError(f&quot;Expected a non-empty value for `container_id` but received {container_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;*/*&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/translations.py (Line 133:2 - Line 139:14), .venv/lib/python3.14/site-packages/openai/types/audio/transcription_create_params.py (Line 100:8 - Line 109:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn282" onclick="toggleCodeBlock('cloneGroup282', 'expandBtn282', 'collapseBtn282')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn282" onclick="toggleCodeBlock('cloneGroup282', 'expandBtn282', 'collapseBtn282')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup282"><code class="language-python text-sm text-gray-800">The sampling temperature, between 0 and 1. Higher values like 0.8 will make the
              output more random, while lower values like 0.2 will make it more focused and
              deterministic. If set to 0, the model will use
              [log probability](https://en.wikipedia.org/wiki/Log_probability) to
              automatically increase the temperature until certain thresholds are hit.

          extra_headers</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/translations.py (Line 259:9 - Line 304:6), .venv/lib/python3.14/site-packages/openai/resources/audio/translations.py (Line 116:9 - Line 161:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn283" onclick="toggleCodeBlock('cloneGroup283', 'expandBtn283', 'collapseBtn283')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn283" onclick="toggleCodeBlock('cloneGroup283', 'expandBtn283', 'collapseBtn283')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup283"><code class="language-python text-sm text-gray-800">Translates audio into English.

        Args:
          file: The audio file object (not file name) translate, in one of these formats: flac,
              mp3, mp4, mpeg, mpga, m4a, ogg, wav, or webm.

          model: ID of the model to use. Only `whisper-1` (which is powered by our open source
              Whisper V2 model) is currently available.

          prompt: An optional text to guide the model's style or continue a previous audio
              segment. The
              [prompt](https://platform.openai.com/docs/guides/speech-to-text#prompting)
              should be in English.

          response_format: The format of the output, in one of these options: `json`, `text`, `srt`,
              `verbose_json`, or `vtt`.

          temperature: The sampling temperature, between 0 and 1. Higher values like 0.8 will make the
              output more random, while lower values like 0.2 will make it more focused and
              deterministic. If set to 0, the model will use
              [log probability](https://en.wikipedia.org/wiki/Log_probability) to
              automatically increase the temperature until certain thresholds are hit.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        body = deepcopy_minimal(
            {
                &quot;file&quot;: file,
                &quot;model&quot;: model,
                &quot;prompt&quot;: prompt,
                &quot;response_format&quot;: response_format,
                &quot;temperature&quot;: temperature,
            }
        )
        files = extract_files(cast(Mapping[str, object], body), paths=[[&quot;file&quot;]])
        # It should be noted that the actual Content-Type header that will be
        # sent to the server will contain a `boundary` parameter, e.g.
        # multipart/form-data; boundary=---abc--
        extra_headers = {&quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 121:2 - Line 130:12), .venv/lib/python3.14/site-packages/openai/types/audio/transcription_create_params.py (Line 147:5 - Line 160:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn284" onclick="toggleCodeBlock('cloneGroup284', 'expandBtn284', 'collapseBtn284')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn284" onclick="toggleCodeBlock('cloneGroup284', 'expandBtn284', 'collapseBtn284')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup284"><code class="language-python text-sm text-gray-800">If set to true, the model response data will be streamed to the client as it is
              generated using
              [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
              See the
              [Streaming section of the Speech-to-Text guide](https://platform.openai.com/docs/guides/speech-to-text?lang=curl#streaming-transcriptions)
              for more information.

              Note: Streaming is not supported for the `whisper-1` model and will be ignored.

          temperature</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 128:8 - Line 136:24), .venv/lib/python3.14/site-packages/openai/resources/audio/translations.py (Line 131:6 - Line 109:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn285" onclick="toggleCodeBlock('cloneGroup285', 'expandBtn285', 'collapseBtn285')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn285" onclick="toggleCodeBlock('cloneGroup285', 'expandBtn285', 'collapseBtn285')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup285"><code class="language-python text-sm text-gray-800">.

          temperature: The sampling temperature, between 0 and 1. Higher values like 0.8 will make the
              output more random, while lower values like 0.2 will make it more focused and
              deterministic. If set to 0, the model will use
              [log probability](https://en.wikipedia.org/wiki/Log_probability) to
              automatically increase the temperature until certain thresholds are hit.

          timestamp_granularities</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 234:9 - Line 242:9), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 86:9 - Line 94:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn286" onclick="toggleCodeBlock('cloneGroup286', 'expandBtn286', 'collapseBtn286')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn286" onclick="toggleCodeBlock('cloneGroup286', 'expandBtn286', 'collapseBtn286')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup286"><code class="language-python text-sm text-gray-800">Transcribes audio into the input language.

        Args:
          file:
              The audio file object (not file name) to transcribe, in one of these formats:
              flac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, or webm.

          model: ID of the model to use. The options are `gpt-4o-transcribe`,
              `gpt-4o-mini-transcribe`, `whisper</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 243:9 - Line 254:18), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 119:7 - Line 160:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn287" onclick="toggleCodeBlock('cloneGroup287', 'expandBtn287', 'collapseBtn287')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn287" onclick="toggleCodeBlock('cloneGroup287', 'expandBtn287', 'collapseBtn287')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup287"><code class="language-python text-sm text-gray-800">.

          stream: If set to true, the model response data will be streamed to the client as it is
              generated using
              [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
              See the
              [Streaming section of the Speech-to-Text guide](https://platform.openai.com/docs/guides/speech-to-text?lang=curl#streaming-transcriptions)
              for more information.

              Note: Streaming is not supported for the `whisper-1` model and will be ignored.

          chunking_strategy</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 252:8 - Line 258:9), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 95:2 - Line 102:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn288" onclick="toggleCodeBlock('cloneGroup288', 'expandBtn288', 'collapseBtn288')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn288" onclick="toggleCodeBlock('cloneGroup288', 'expandBtn288', 'collapseBtn288')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup288"><code class="language-python text-sm text-gray-800">.

          chunking_strategy: Controls how the audio is cut into chunks. When set to `&quot;auto&quot;`, the server
              first normalizes loudness and then uses voice activity detection (VAD) to choose
              boundaries. `server_vad` object can be provided to tweak VAD detection
              parameters manually. If unset, the audio is transcribed as a single block.
              Required</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 259:8 - Line 265:5), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 100:6 - Line 108:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn289" onclick="toggleCodeBlock('cloneGroup289', 'expandBtn289', 'collapseBtn289')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn289" onclick="toggleCodeBlock('cloneGroup289', 'expandBtn289', 'collapseBtn289')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup289"><code class="language-python text-sm text-gray-800">.

          include: Additional information to include in the transcription response. `logprobs` will
              return the log probabilities of the tokens in the response to understand the
              model's confidence in the transcription. `logprobs` only works with
              response_format set to `json` and only with the models `gpt-4o-transcribe` and
              `gpt-4o-mini-transcribe`. This</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 276:2 - Line 285:5), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 106:12 - Line 117:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn290" onclick="toggleCodeBlock('cloneGroup290', 'expandBtn290', 'collapseBtn290')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn290" onclick="toggleCodeBlock('cloneGroup290', 'expandBtn290', 'collapseBtn290')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup290"><code class="language-python text-sm text-gray-800">.

          language: The language of the input audio. Supplying the input language in
              [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (e.g. `en`)
              format will improve accuracy and latency.

          prompt: An optional text to guide the model's style or continue a previous audio
              segment. The
              [prompt](https://platform.openai.com/docs/guides/speech-to-text#prompting)
              should match the audio language. This</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 288:2 - Line 294:12), .venv/lib/python3.14/site-packages/openai/types/audio/transcription_create_params.py (Line 92:5 - Line 100:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn291" onclick="toggleCodeBlock('cloneGroup291', 'expandBtn291', 'collapseBtn291')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn291" onclick="toggleCodeBlock('cloneGroup291', 'expandBtn291', 'collapseBtn291')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup291"><code class="language-python text-sm text-gray-800">The format of the output, in one of these options: `json`, `text`, `srt`,
              `verbose_json`, `vtt`, or `diarized_json`. For `gpt-4o-transcribe` and
              `gpt-4o-mini-transcribe`, the only supported format is `json`. For
              `gpt-4o-transcribe-diarize`, the supported formats are `json`, `text`, and
              `diarized_json`, with `diarized_json` required to receive speaker annotations.

          temperature</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 292:12 - Line 304:5), .venv/lib/python3.14/site-packages/openai/resources/audio/translations.py (Line 131:6 - Line 142:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn292" onclick="toggleCodeBlock('cloneGroup292', 'expandBtn292', 'collapseBtn292')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn292" onclick="toggleCodeBlock('cloneGroup292', 'expandBtn292', 'collapseBtn292')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup292"><code class="language-python text-sm text-gray-800">.

          temperature: The sampling temperature, between 0 and 1. Higher values like 0.8 will make the
              output more random, while lower values like 0.2 will make it more focused and
              deterministic. If set to 0, the model will use
              [log probability](https://en.wikipedia.org/wiki/Log_probability) to
              automatically increase the temperature until certain thresholds are hit.

          timestamp_granularities: The timestamp granularities to populate for this transcription.
              `response_format` must be set `verbose_json` to use timestamp granularities.
              Either or both of these options are supported: `word`, or `segment`. Note: There
              is no additional latency for segment timestamps, but generating word timestamps
              incurs additional latency. This</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 300:2 - Line 307:14), .venv/lib/python3.14/site-packages/openai/types/audio/transcription_create_params.py (Line 109:8 - Line 121:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn293" onclick="toggleCodeBlock('cloneGroup293', 'expandBtn293', 'collapseBtn293')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn293" onclick="toggleCodeBlock('cloneGroup293', 'expandBtn293', 'collapseBtn293')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup293"><code class="language-python text-sm text-gray-800">The timestamp granularities to populate for this transcription.
              `response_format` must be set `verbose_json` to use timestamp granularities.
              Either or both of these options are supported: `word`, or `segment`. Note: There
              is no additional latency for segment timestamps, but generating word timestamps
              incurs additional latency. This option is not available for
              `gpt-4o-transcribe-diarize`.

          extra_headers</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 341:9 - Line 489:12), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 86:9 - Line 340:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn294" onclick="toggleCodeBlock('cloneGroup294', 'expandBtn294', 'collapseBtn294')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn294" onclick="toggleCodeBlock('cloneGroup294', 'expandBtn294', 'collapseBtn294')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup294"><code class="language-python text-sm text-gray-800">Transcribes audio into the input language.

        Args:
          file:
              The audio file object (not file name) to transcribe, in one of these formats:
              flac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, or webm.

          model: ID of the model to use. The options are `gpt-4o-transcribe`,
              `gpt-4o-mini-transcribe`, `whisper-1` (which is powered by our open source
              Whisper V2 model), and `gpt-4o-transcribe-diarize`.

          stream: If set to true, the model response data will be streamed to the client as it is
              generated using
              [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format).
              See the
              [Streaming section of the Speech-to-Text guide](https://platform.openai.com/docs/guides/speech-to-text?lang=curl#streaming-transcriptions)
              for more information.

              Note: Streaming is not supported for the `whisper-1` model and will be ignored.

          chunking_strategy: Controls how the audio is cut into chunks. When set to `&quot;auto&quot;`, the server
              first normalizes loudness and then uses voice activity detection (VAD) to choose
              boundaries. `server_vad` object can be provided to tweak VAD detection
              parameters manually. If unset, the audio is transcribed as a single block.
              Required when using `gpt-4o-transcribe-diarize` for inputs longer than 30
              seconds.

          include: Additional information to include in the transcription response. `logprobs` will
              return the log probabilities of the tokens in the response to understand the
              model's confidence in the transcription. `logprobs` only works with
              response_format set to `json` and only with the models `gpt-4o-transcribe` and
              `gpt-4o-mini-transcribe`. This field is not supported when using
              `gpt-4o-transcribe-diarize`.

          known_speaker_names: Optional list of speaker names that correspond to the audio samples provided in
              `known_speaker_references[]`. Each entry should be a short identifier (for
              example `customer` or `agent`). Up to 4 speakers are supported.

          known_speaker_references: Optional list of audio samples (as
              [data URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs))
              that contain known speaker references matching `known_speaker_names[]`. Each
              sample must be between 2 and 10 seconds, and can use any of the same input audio
              formats supported by `file`.

          language: The language of the input audio. Supplying the input language in
              [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (e.g. `en`)
              format will improve accuracy and latency.

          prompt: An optional text to guide the model's style or continue a previous audio
              segment. The
              [prompt](https://platform.openai.com/docs/guides/speech-to-text#prompting)
              should match the audio language. This field is not supported when using
              `gpt-4o-transcribe-diarize`.

          response_format: The format of the output, in one of these options: `json`, `text`, `srt`,
              `verbose_json`, `vtt`, or `diarized_json`. For `gpt-4o-transcribe` and
              `gpt-4o-mini-transcribe`, the only supported format is `json`. For
              `gpt-4o-transcribe-diarize`, the supported formats are `json`, `text`, and
              `diarized_json`, with `diarized_json` required to receive speaker annotations.

          temperature: The sampling temperature, between 0 and 1. Higher values like 0.8 will make the
              output more random, while lower values like 0.2 will make it more focused and
              deterministic. If set to 0, the model will use
              [log probability](https://en.wikipedia.org/wiki/Log_probability) to
              automatically increase the temperature until certain thresholds are hit.

          timestamp_granularities: The timestamp granularities to populate for this transcription.
              `response_format` must be set `verbose_json` to use timestamp granularities.
              Either or both of these options are supported: `word`, or `segment`. Note: There
              is no additional latency for segment timestamps, but generating word timestamps
              incurs additional latency. This option is not available for
              `gpt-4o-transcribe-diarize`.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        ...

    @required_args([&quot;file&quot;, &quot;model&quot;], [&quot;file&quot;, &quot;model&quot;, &quot;stream&quot;])
    def create(
        self,
        *,
        file: FileTypes,
        model: Union[str, AudioModel],
        chunking_strategy: Optional[transcription_create_params.ChunkingStrategy] | Omit = omit,
        include: List[TranscriptionInclude] | Omit = omit,
        known_speaker_names: SequenceNotStr[str] | Omit = omit,
        known_speaker_references: SequenceNotStr[str] | Omit = omit,
        language: str | Omit = omit,
        prompt: str | Omit = omit,
        response_format: Union[AudioResponseFormat, Omit] = omit,
        stream: Optional[Literal[False]] | Literal[True] | Omit = omit,
        temperature: float | Omit = omit,
        timestamp_granularities: List[Literal[&quot;word&quot;, &quot;segment&quot;]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; str | Transcription | TranscriptionDiarized | TranscriptionVerbose | Stream[TranscriptionStreamEvent]:
        body = deepcopy_minimal(
            {
                &quot;file&quot;: file,
                &quot;model&quot;: model,
                &quot;chunking_strategy&quot;: chunking_strategy,
                &quot;include&quot;: include,
                &quot;known_speaker_names&quot;: known_speaker_names,
                &quot;known_speaker_references&quot;: known_speaker_references,
                &quot;language&quot;: language,
                &quot;prompt&quot;: prompt,
                &quot;response_format&quot;: response_format,
                &quot;stream&quot;: stream,
                &quot;temperature&quot;: temperature,
                &quot;timestamp_granularities&quot;: timestamp_granularities,
            }
        )
        files = extract_files(cast(Mapping[str, object], body), paths=[[&quot;file&quot;]])
        # It should be noted that the actual Content-Type header that will be
        # sent to the server will contain a `boundary` parameter, e.g.
        # multipart/form-data; boundary=---abc--
        extra_headers = {&quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        return self._post(  # type: ignore[return-value]
            &quot;/audio/transcriptions&quot;,
            body=maybe_transform(
                body,
                transcription_create_params.TranscriptionCreateParamsStreaming
                if stream
                else transcription_create_params.TranscriptionCreateParamsNonStreaming,
            ),
            files=files,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=_get_response_format_type(response_format),
            stream=stream or False,
            stream_cls=Stream[TranscriptionStreamEvent],
        )


class AsyncTranscriptions(AsyncAPIResource):
    @cached_property
    def with_raw_response(self) -&gt; AsyncTranscriptionsWithRawResponse:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 618:2 - Line 627:21), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 519:2 - Line 528:28)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn295" onclick="toggleCodeBlock('cloneGroup295', 'expandBtn295', 'collapseBtn295')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn295" onclick="toggleCodeBlock('cloneGroup295', 'expandBtn295', 'collapseBtn295')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup295"><code class="language-python text-sm text-gray-800">| Omit = omit,
        temperature: float | Omit = omit,
        timestamp_granularities: List[Literal[&quot;word&quot;, &quot;segment&quot;]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; TranscriptionVerbose</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 637:6 - Line 648:4), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 616:15 - Line 528:28)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn296" onclick="toggleCodeBlock('cloneGroup296', 'expandBtn296', 'collapseBtn296')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn296" onclick="toggleCodeBlock('cloneGroup296', 'expandBtn296', 'collapseBtn296')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup296"><code class="language-python text-sm text-gray-800">],
        language: str | Omit = omit,
        prompt: str | Omit = omit,
        temperature: float | Omit = omit,
        timestamp_granularities: List[Literal[&quot;word&quot;, &quot;segment&quot;]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; str</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 656:5 - Line 663:20), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 511:11 - Line 518:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn297" onclick="toggleCodeBlock('cloneGroup297', 'expandBtn297', 'collapseBtn297')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn297" onclick="toggleCodeBlock('cloneGroup297', 'expandBtn297', 'collapseBtn297')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup297"><code class="language-python text-sm text-gray-800">],
        chunking_strategy: Optional[transcription_create_params.ChunkingStrategy] | Omit = omit,
        include: List[TranscriptionInclude] | Omit = omit,
        known_speaker_names: SequenceNotStr[str] | Omit = omit,
        known_speaker_references: SequenceNotStr[str] | Omit = omit,
        language: str | Omit = omit,
        prompt: str | Omit = omit,
        response_format: Union[AudioResponseFormat</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 663:2 - Line 672:12), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 519:2 - Line 528:28)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn298" onclick="toggleCodeBlock('cloneGroup298', 'expandBtn298', 'collapseBtn298')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn298" onclick="toggleCodeBlock('cloneGroup298', 'expandBtn298', 'collapseBtn298')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup298"><code class="language-python text-sm text-gray-800">= omit,
        temperature: float | Omit = omit,
        timestamp_granularities: List[Literal[&quot;word&quot;, &quot;segment&quot;]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncStream</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 763:5 - Line 779:2), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 511:2 - Line 528:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn299" onclick="toggleCodeBlock('cloneGroup299', 'expandBtn299', 'collapseBtn299')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn299" onclick="toggleCodeBlock('cloneGroup299', 'expandBtn299', 'collapseBtn299')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup299"><code class="language-python text-sm text-gray-800">,
        chunking_strategy: Optional[transcription_create_params.ChunkingStrategy] | Omit = omit,
        include: List[TranscriptionInclude] | Omit = omit,
        known_speaker_names: SequenceNotStr[str] | Omit = omit,
        known_speaker_references: SequenceNotStr[str] | Omit = omit,
        language: str | Omit = omit,
        prompt: str | Omit = omit,
        response_format: Union[AudioResponseFormat, Omit] = omit,
        temperature: float | Omit = omit,
        timestamp_granularities: List[Literal[&quot;word&quot;, &quot;segment&quot;]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; TranscriptionCreateResponse |</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 865:5 - Line 877:7), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 507:5 - Line 664:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn300" onclick="toggleCodeBlock('cloneGroup300', 'expandBtn300', 'collapseBtn300')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn300" onclick="toggleCodeBlock('cloneGroup300', 'expandBtn300', 'collapseBtn300')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup300"><code class="language-python text-sm text-gray-800">async def create(
        self,
        *,
        file: FileTypes,
        model: Union[str, AudioModel],
        chunking_strategy: Optional[transcription_create_params.ChunkingStrategy] | Omit = omit,
        include: List[TranscriptionInclude] | Omit = omit,
        known_speaker_names: SequenceNotStr[str] | Omit = omit,
        known_speaker_references: SequenceNotStr[str] | Omit = omit,
        language: str | Omit = omit,
        prompt: str | Omit = omit,
        response_format: Union[AudioResponseFormat, Omit] = omit,
        stream</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 877:5 - Line 886:14), .venv/lib/python3.14/site-packages/openai/resources/audio/transcriptions.py (Line 519:2 - Line 528:28)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn301" onclick="toggleCodeBlock('cloneGroup301', 'expandBtn301', 'collapseBtn301')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn301" onclick="toggleCodeBlock('cloneGroup301', 'expandBtn301', 'collapseBtn301')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup301"><code class="language-python text-sm text-gray-800">] | Omit = omit,
        temperature: float | Omit = omit,
        timestamp_granularities: List[Literal[&quot;word&quot;, &quot;segment&quot;]] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Transcription</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/speech.py (Line 6:1 - Line 15:2), .venv/lib/python3.14/site-packages/openai/resources/responses/input_tokens.py (Line 6:1 - Line 15:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn302" onclick="toggleCodeBlock('cloneGroup302', 'expandBtn302', 'collapseBtn302')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn302" onclick="toggleCodeBlock('cloneGroup302', 'expandBtn302', 'collapseBtn302')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup302"><code class="language-python text-sm text-gray-800">from typing_extensions import Literal

import httpx

from ... import _legacy_response
from ..._types import Body, Omit, Query, Headers, NotGiven, omit, not_given
from ..._utils import maybe_transform, async_maybe_transform
from ..._compat import cached_property
from ..._resource import SyncAPIResource, AsyncAPIResource
from ..._response import (</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/speech.py (Line 164:9 - Line 199:6), .venv/lib/python3.14/site-packages/openai/resources/audio/speech.py (Line 68:9 - Line 103:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn303" onclick="toggleCodeBlock('cloneGroup303', 'expandBtn303', 'collapseBtn303')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn303" onclick="toggleCodeBlock('cloneGroup303', 'expandBtn303', 'collapseBtn303')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup303"><code class="language-python text-sm text-gray-800">Generates audio from the input text.

        Args:
          input: The text to generate audio for. The maximum length is 4096 characters.

          model:
              One of the available [TTS models](https://platform.openai.com/docs/models#tts):
              `tts-1`, `tts-1-hd` or `gpt-4o-mini-tts`.

          voice: The voice to use when generating the audio. Supported voices are `alloy`, `ash`,
              `ballad`, `coral`, `echo`, `fable`, `onyx`, `nova`, `sage`, `shimmer`, and
              `verse`. Previews of the voices are available in the
              [Text to speech guide](https://platform.openai.com/docs/guides/text-to-speech#voice-options).

          instructions: Control the voice of your generated audio with additional instructions. Does not
              work with `tts-1` or `tts-1-hd`.

          response_format: The format to audio in. Supported formats are `mp3`, `opus`, `aac`, `flac`,
              `wav`, and `pcm`.

          speed: The speed of the generated audio. Select a value from `0.25` to `4.0`. `1.0` is
              the default.

          stream_format: The format to stream the audio in. Supported formats are `sse` and `audio`.
              `sse` is not supported for `tts-1` or `tts-1-hd`.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        extra_headers = {&quot;Accept&quot;: &quot;application/octet-stream&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/audio/speech.py (Line 201:22 - Line 220:22), .venv/lib/python3.14/site-packages/openai/resources/audio/speech.py (Line 105:16 - Line 124:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn304" onclick="toggleCodeBlock('cloneGroup304', 'expandBtn304', 'collapseBtn304')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn304" onclick="toggleCodeBlock('cloneGroup304', 'expandBtn304', 'collapseBtn304')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup304"><code class="language-python text-sm text-gray-800">(
                {
                    &quot;input&quot;: input,
                    &quot;model&quot;: model,
                    &quot;voice&quot;: voice,
                    &quot;instructions&quot;: instructions,
                    &quot;response_format&quot;: response_format,
                    &quot;speed&quot;: speed,
                    &quot;stream_format&quot;: stream_format,
                },
                speech_create_params.SpeechCreateParams,
            ),
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=_legacy_response.HttpxBinaryResponseContent,
        )


class SpeechWithRawResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/cli/_api/image.py (Line 47:4 - Line 58:13), .venv/lib/python3.14/site-packages/openai/cli/_api/image.py (Line 26:5 - Line 37:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn305" onclick="toggleCodeBlock('cloneGroup305', 'expandBtn305', 'collapseBtn305')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn305" onclick="toggleCodeBlock('cloneGroup305', 'expandBtn305', 'collapseBtn305')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup305"><code class="language-python text-sm text-gray-800">)
    sub.add_argument(&quot;-n&quot;, &quot;--num-images&quot;, type=int, default=1)
    sub.add_argument(
        &quot;-I&quot;,
        &quot;--image&quot;,
        type=str,
        required=True,
        help=&quot;Image to modify. Should be a local path and a PNG encoded image.&quot;,
    )
    sub.add_argument(&quot;-s&quot;, &quot;--size&quot;, type=str, default=&quot;1024x1024&quot;, help=&quot;Size of the output image&quot;)
    sub.add_argument(&quot;--response-format&quot;, type=str, default=&quot;url&quot;)
    sub.set_defaults</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/sambanova.py (Line 29:27 - Line 42:2), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/scaleway.py (Line 15:26 - Line 28:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn306" onclick="toggleCodeBlock('cloneGroup306', 'expandBtn306', 'collapseBtn306')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn306" onclick="toggleCodeBlock('cloneGroup306', 'expandBtn306', 'collapseBtn306')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup306"><code class="language-python text-sm text-gray-800">, task=&quot;feature-extraction&quot;)

    def _prepare_route(self, mapped_model: str, api_key: str) -&gt; str:
        return &quot;/v1/embeddings&quot;

    def _prepare_payload_as_dict(
        self, inputs: Any, parameters: Dict, provider_mapping_info: InferenceProviderMapping
    ) -&gt; Optional[Dict]:
        parameters = filter_none(parameters)
        return {&quot;input&quot;: inputs, &quot;model&quot;: provider_mapping_info.provider_id, **parameters}

    def get_response(self, response: Union[bytes, Dict], request_params: Optional[RequestParameters] = None) -&gt; Any:
        embeddings = _as_dict(response)[&quot;data&quot;]
        return [embedding[&quot;embedding&quot;] for embedding in embeddings]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/novita.py (Line 26:5 - Line 37:25), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/together.py (Line 39:5 - Line 50:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn307" onclick="toggleCodeBlock('cloneGroup307', 'expandBtn307', 'collapseBtn307')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn307" onclick="toggleCodeBlock('cloneGroup307', 'expandBtn307', 'collapseBtn307')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup307"><code class="language-python text-sm text-gray-800">def get_response(self, response: Union[bytes, Dict], request_params: Optional[RequestParameters] = None) -&gt; Any:
        output = _as_dict(response)[&quot;choices&quot;][0]
        return {
            &quot;generated_text&quot;: output[&quot;text&quot;],
            &quot;details&quot;: {
                &quot;finish_reason&quot;: output.get(&quot;finish_reason&quot;),
                &quot;seed&quot;: output.get(&quot;seed&quot;),
            },
        }


class NovitaConversationalTask</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/nebius.py (Line 16:31 - Line 29:25), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/together.py (Line 37:10 - Line 50:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn308" onclick="toggleCodeBlock('cloneGroup308', 'expandBtn308', 'collapseBtn308')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn308" onclick="toggleCodeBlock('cloneGroup308', 'expandBtn308', 'collapseBtn308')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup308"><code class="language-python text-sm text-gray-800">)

    def get_response(self, response: Union[bytes, Dict], request_params: Optional[RequestParameters] = None) -&gt; Any:
        output = _as_dict(response)[&quot;choices&quot;][0]
        return {
            &quot;generated_text&quot;: output[&quot;text&quot;],
            &quot;details&quot;: {
                &quot;finish_reason&quot;: output.get(&quot;finish_reason&quot;),
                &quot;seed&quot;: output.get(&quot;seed&quot;),
            },
        }


class NebiusConversationalTask</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/nebius.py (Line 31:31 - Line 41:14), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/together.py (Line 52:10 - Line 62:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn309" onclick="toggleCodeBlock('cloneGroup309', 'expandBtn309', 'collapseBtn309')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn309" onclick="toggleCodeBlock('cloneGroup309', 'expandBtn309', 'collapseBtn309')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup309"><code class="language-python text-sm text-gray-800">)

    def _prepare_payload_as_dict(
        self, inputs: Any, parameters: Dict, provider_mapping_info: InferenceProviderMapping
    ) -&gt; Optional[Dict]:
        payload = super()._prepare_payload_as_dict(inputs, parameters, provider_mapping_info)
        response_format = parameters.get(&quot;response_format&quot;)
        if isinstance(response_format, dict) and response_format.get(&quot;type&quot;) == &quot;json_schema&quot;:
            json_schema_details = response_format.get(&quot;json_schema&quot;)
            if isinstance(json_schema_details, dict) and &quot;schema&quot; in json_schema_details:
                payload[&quot;guided_json&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fireworks_ai.py (Line 15:5 - Line 27:8), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/together.py (Line 54:5 - Line 67:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn310" onclick="toggleCodeBlock('cloneGroup310', 'expandBtn310', 'collapseBtn310')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn310" onclick="toggleCodeBlock('cloneGroup310', 'expandBtn310', 'collapseBtn310')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup310"><code class="language-python text-sm text-gray-800">def _prepare_payload_as_dict(
        self, inputs: Any, parameters: Dict, provider_mapping_info: InferenceProviderMapping
    ) -&gt; Optional[Dict]:
        payload = super()._prepare_payload_as_dict(inputs, parameters, provider_mapping_info)
        response_format = parameters.get(&quot;response_format&quot;)
        if isinstance(response_format, dict) and response_format.get(&quot;type&quot;) == &quot;json_schema&quot;:
            json_schema_details = response_format.get(&quot;json_schema&quot;)
            if isinstance(json_schema_details, dict) and &quot;schema&quot; in json_schema_details:
                payload[&quot;response_format&quot;] = {  # type: ignore [index]
                    &quot;type&quot;: &quot;json_object&quot;,
                    &quot;schema&quot;: json_schema_details[&quot;schema&quot;],
                }
        return payload</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/featherless_ai.py (Line 25:5 - Line 36:30), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/together.py (Line 39:5 - Line 50:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn311" onclick="toggleCodeBlock('cloneGroup311', 'expandBtn311', 'collapseBtn311')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn311" onclick="toggleCodeBlock('cloneGroup311', 'expandBtn311', 'collapseBtn311')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup311"><code class="language-python text-sm text-gray-800">def get_response(self, response: Union[bytes, Dict], request_params: Optional[RequestParameters] = None) -&gt; Any:
        output = _as_dict(response)[&quot;choices&quot;][0]
        return {
            &quot;generated_text&quot;: output[&quot;text&quot;],
            &quot;details&quot;: {
                &quot;finish_reason&quot;: output.get(&quot;finish_reason&quot;),
                &quot;seed&quot;: output.get(&quot;seed&quot;),
            },
        }


class FeatherlessConversationalTask</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fal_ai.py (Line 37:24 - Line 46:3), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fal_ai.py (Line 23:18 - Line 32:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn312" onclick="toggleCodeBlock('cloneGroup312', 'expandBtn312', 'collapseBtn312')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn312" onclick="toggleCodeBlock('cloneGroup312', 'expandBtn312', 'collapseBtn312')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup312"><code class="language-python text-sm text-gray-800">, task=task)

    def _prepare_headers(self, headers: Dict, api_key: str) -&gt; Dict[str, Any]:
        headers = super()._prepare_headers(headers, api_key)
        if not api_key.startswith(&quot;hf_&quot;):
            headers[&quot;authorization&quot;] = f&quot;Key {api_key}&quot;
        return headers

    def _prepare_route(self, mapped_model: str, api_key: str) -&gt; str:
        if</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fal_ai.py (Line 227:13 - Line 247:8), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fal_ai.py (Line 195:14 - Line 216:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn313" onclick="toggleCodeBlock('cloneGroup313', 'expandBtn313', 'collapseBtn313')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn313" onclick="toggleCodeBlock('cloneGroup313', 'expandBtn313', 'collapseBtn313')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup313"><code class="language-python text-sm text-gray-800">)
        payload: Dict[str, Any] = {
            &quot;image_url&quot;: image_url,
            **filter_none(parameters),
        }
        if provider_mapping_info.adapter_weights_path is not None:
            lora_path = constants.HUGGINGFACE_CO_URL_TEMPLATE.format(
                repo_id=provider_mapping_info.hf_model_id,
                revision=&quot;main&quot;,
                filename=provider_mapping_info.adapter_weights_path,
            )
            payload[&quot;loras&quot;] = [{&quot;path&quot;: lora_path, &quot;scale&quot;: 1}]
        return payload

    def get_response(
        self,
        response: Union[bytes, Dict],
        request_params: Optional[RequestParameters] = None,
    ) -&gt; Any:
        output = super().get_response(response, request_params)
        url = _as_dict(output)[&quot;video&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fal_ai.py (Line 241:5 - Line 248:8), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/fal_ai.py (Line 176:5 - Line 183:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn314" onclick="toggleCodeBlock('cloneGroup314', 'expandBtn314', 'collapseBtn314')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn314" onclick="toggleCodeBlock('cloneGroup314', 'expandBtn314', 'collapseBtn314')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup314"><code class="language-python text-sm text-gray-800">def get_response(
        self,
        response: Union[bytes, Dict],
        request_params: Optional[RequestParameters] = None,
    ) -&gt; Any:
        output = super().get_response(response, request_params)
        url = _as_dict(output)[&quot;video&quot;][&quot;url&quot;]
        return get_session().get(url).content</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/cohere.py (Line 19:5 - Line 32:8), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_providers/together.py (Line 54:5 - Line 67:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn315" onclick="toggleCodeBlock('cloneGroup315', 'expandBtn315', 'collapseBtn315')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn315" onclick="toggleCodeBlock('cloneGroup315', 'expandBtn315', 'collapseBtn315')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup315"><code class="language-python text-sm text-gray-800">def _prepare_payload_as_dict(
        self, inputs: Any, parameters: Dict, provider_mapping_info: InferenceProviderMapping
    ) -&gt; Optional[Dict]:
        payload = super()._prepare_payload_as_dict(inputs, parameters, provider_mapping_info)
        response_format = parameters.get(&quot;response_format&quot;)
        if isinstance(response_format, dict) and response_format.get(&quot;type&quot;) == &quot;json_schema&quot;:
            json_schema_details = response_format.get(&quot;json_schema&quot;)
            if isinstance(json_schema_details, dict) and &quot;schema&quot; in json_schema_details:
                payload[&quot;response_format&quot;] = {  # type: ignore [index]
                    &quot;type&quot;: &quot;json_object&quot;,
                    &quot;schema&quot;: json_schema_details[&quot;schema&quot;],
                }

        return payload</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 291:17 - Line 305:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 141:17 - Line 155:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn316" onclick="toggleCodeBlock('cloneGroup316', 'expandBtn316', 'collapseBtn316')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn316" onclick="toggleCodeBlock('cloneGroup316', 'expandBtn316', 'collapseBtn316')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup316"><code class="language-python text-sm text-gray-800">assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
                assert fs.isdir(fs_join(target, &quot;nesteddir&quot;))
                assert fs.isfile(fs_join(target, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                        fs_join(target, &quot;nesteddir&quot;),
                    ],
                    recursive=True,
                )
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 316:17 - Line 328:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 170:17 - Line 182:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn317" onclick="toggleCodeBlock('cloneGroup317', 'expandBtn317', 'collapseBtn317')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn317" onclick="toggleCodeBlock('cloneGroup317', 'expandBtn317', 'collapseBtn317')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup317"><code class="language-python text-sm text-gray-800">assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
                assert not fs.exists(fs_join(target, &quot;nesteddir&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                    ],
                    recursive=True,
                )
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 318:12 - Line 332:4), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 274:13 - Line 288:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn318" onclick="toggleCodeBlock('cloneGroup318', 'expandBtn318', 'collapseBtn318')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn318" onclick="toggleCodeBlock('cloneGroup318', 'expandBtn318', 'collapseBtn318')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup318"><code class="language-python text-sm text-gray-800">))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                    ],
                    recursive=True,
                )
                assert fs.ls(target, detail=False) == (
                    [] if supports_empty_directories else [dummy]
                )

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 347:2 - Line 352:9), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 236:2 - Line 241:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn319" onclick="toggleCodeBlock('cloneGroup319', 'expandBtn319', 'collapseBtn319')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn319" onclick="toggleCodeBlock('cloneGroup319', 'expandBtn319', 'collapseBtn319')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup319"><code class="language-python text-sm text-gray-800">)
            assert fs.isdir(fs_join(target, &quot;newdir&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
            assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
            assert not fs.exists(fs_join(target, &quot;newdir&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 361:10 - Line 368:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 224:5 - Line 232:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn320" onclick="toggleCodeBlock('cloneGroup320', 'expandBtn320', 'collapseBtn320')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn320" onclick="toggleCodeBlock('cloneGroup320', 'expandBtn320', 'collapseBtn320')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup320"><code class="language-python text-sm text-gray-800">)
                assert fs.isdir(fs_join(target, &quot;newdir&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
                assert fs.isdir(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 366:7 - Line 373:30), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 352:7 - Line 359:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn321" onclick="toggleCodeBlock('cloneGroup321', 'expandBtn321', 'collapseBtn321')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn321" onclick="toggleCodeBlock('cloneGroup321', 'expandBtn321', 'collapseBtn321')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup321"><code class="language-python text-sm text-gray-800">(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))
                assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;subdir&quot;))

                fs.rm(fs_join(target, &quot;newdir&quot;), recursive=True)
                assert not fs.exists(fs_join(target, &quot;newdir&quot;))

                # Limit recursive by maxdepth</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 379:17 - Line 385:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 236:2 - Line 243:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn322" onclick="toggleCodeBlock('cloneGroup322', 'expandBtn322', 'collapseBtn322')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn322" onclick="toggleCodeBlock('cloneGroup322', 'expandBtn322', 'collapseBtn322')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup322"><code class="language-python text-sm text-gray-800">)
                assert fs.isdir(fs_join(target, &quot;newdir&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
                assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 283:17 - Line 297:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 143:17 - Line 157:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn323" onclick="toggleCodeBlock('cloneGroup323', 'expandBtn323', 'collapseBtn323')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn323" onclick="toggleCodeBlock('cloneGroup323', 'expandBtn323', 'collapseBtn323')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup323"><code class="language-python text-sm text-gray-800">assert local_fs.isfile(local_join(target, &quot;subfile1&quot;))
                assert local_fs.isfile(local_join(target, &quot;subfile2&quot;))
                assert local_fs.isdir(local_join(target, &quot;nesteddir&quot;))
                assert local_fs.isfile(local_join(target, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not local_fs.exists(local_join(target, &quot;subdir&quot;))

                local_fs.rm(
                    [
                        local_join(target, &quot;subfile1&quot;),
                        local_join(target, &quot;subfile2&quot;),
                        local_join(target, &quot;nesteddir&quot;),
                    ],
                    recursive=True,
                )
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 303:17 - Line 315:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 172:17 - Line 184:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn324" onclick="toggleCodeBlock('cloneGroup324', 'expandBtn324', 'collapseBtn324')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn324" onclick="toggleCodeBlock('cloneGroup324', 'expandBtn324', 'collapseBtn324')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup324"><code class="language-python text-sm text-gray-800">assert local_fs.isfile(local_join(target, &quot;subfile1&quot;))
                assert local_fs.isfile(local_join(target, &quot;subfile2&quot;))
                assert not local_fs.exists(local_join(target, &quot;nesteddir&quot;))
                assert not local_fs.exists(local_join(target, &quot;subdir&quot;))

                local_fs.rm(
                    [
                        local_join(target, &quot;subfile1&quot;),
                        local_join(target, &quot;subfile2&quot;),
                    ],
                    recursive=True,
                )
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 338:2 - Line 344:9), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 235:2 - Line 240:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn325" onclick="toggleCodeBlock('cloneGroup325', 'expandBtn325', 'collapseBtn325')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn325" onclick="toggleCodeBlock('cloneGroup325', 'expandBtn325', 'collapseBtn325')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup325"><code class="language-python text-sm text-gray-800">)
            assert local_fs.isdir(local_join(target, &quot;newdir&quot;))
            assert local_fs.isfile(local_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
            assert local_fs.isfile(local_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
            assert not local_fs.exists(local_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
            assert not local_fs.exists(
                local_join(target, &quot;newdir&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 354:10 - Line 363:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 221:5 - Line 231:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn326" onclick="toggleCodeBlock('cloneGroup326', 'expandBtn326', 'collapseBtn326')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn326" onclick="toggleCodeBlock('cloneGroup326', 'expandBtn326', 'collapseBtn326')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup326"><code class="language-python text-sm text-gray-800">)
                assert local_fs.isdir(local_join(target, &quot;newdir&quot;))
                assert local_fs.isfile(local_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
                assert local_fs.isfile(local_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
                assert local_fs.isdir(local_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
                assert local_fs.isfile(
                    local_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;)
                )
                assert not local_fs.exists(local_join(target, &quot;subdir&quot;))
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 370:10 - Line 377:7), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/get.py (Line 235:5 - Line 242:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn327" onclick="toggleCodeBlock('cloneGroup327', 'expandBtn327', 'collapseBtn327')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn327" onclick="toggleCodeBlock('cloneGroup327', 'expandBtn327', 'collapseBtn327')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup327"><code class="language-python text-sm text-gray-800">, maxdepth=1
                )
                assert local_fs.isdir(local_join(target, &quot;newdir&quot;))
                assert local_fs.isfile(local_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
                assert local_fs.isfile(local_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
                assert not local_fs.exists(local_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
                assert not local_fs.exists(local_join(target, &quot;subdir&quot;))
                assert</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 115:9 - Line 130:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 118:9 - Line 133:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn328" onclick="toggleCodeBlock('cloneGroup328', 'expandBtn328', 'collapseBtn328')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn328" onclick="toggleCodeBlock('cloneGroup328', 'expandBtn328', 'collapseBtn328')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup328"><code class="language-python text-sm text-gray-800">target = fs_target
        fs.mkdir(target)
        if not supports_empty_directories:
            # Force target directory to exist by adding a dummy file
            dummy = fs_join(target, &quot;dummy&quot;)
            fs.touch(dummy)
        assert fs.isdir(target)

        for source_slash, target_slash in zip([False, True], [False, True]):
            s = fs_join(source, &quot;subdir&quot;)
            if source_slash:
                s += &quot;/&quot;
            t = target + &quot;/&quot; if target_slash else target

            # Without recursive does nothing
            fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 136:3 - Line 165:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 139:4 - Line 168:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn329" onclick="toggleCodeBlock('cloneGroup329', 'expandBtn329', 'collapseBtn329')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn329" onclick="toggleCodeBlock('cloneGroup329', 'expandBtn329', 'collapseBtn329')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup329"><code class="language-python text-sm text-gray-800">(s, t, recursive=True)
            if source_slash:
                assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
                assert fs.isdir(fs_join(target, &quot;nesteddir&quot;))
                assert fs.isfile(fs_join(target, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                        fs_join(target, &quot;nesteddir&quot;),
                    ],
                    recursive=True,
                )
            else:
                assert fs.isdir(fs_join(target, &quot;subdir&quot;))
                assert fs.isfile(fs_join(target, &quot;subdir&quot;, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subdir&quot;, &quot;subfile2&quot;))
                assert fs.isdir(fs_join(target, &quot;subdir&quot;, &quot;nesteddir&quot;))
                assert fs.isfile(fs_join(target, &quot;subdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;))

                fs.rm(fs_join(target, &quot;subdir&quot;), recursive=True)
            assert fs.ls(target, detail=False) == (
                [] if supports_empty_directories else [dummy]
            )

            # Limit recursive by maxdepth
            fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 165:3 - Line 190:37), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 168:4 - Line 193:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn330" onclick="toggleCodeBlock('cloneGroup330', 'expandBtn330', 'collapseBtn330')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn330" onclick="toggleCodeBlock('cloneGroup330', 'expandBtn330', 'collapseBtn330')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup330"><code class="language-python text-sm text-gray-800">(s, t, recursive=True, maxdepth=1)
            if source_slash:
                assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
                assert not fs.exists(fs_join(target, &quot;nesteddir&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                    ],
                    recursive=True,
                )
            else:
                assert fs.isdir(fs_join(target, &quot;subdir&quot;))
                assert fs.isfile(fs_join(target, &quot;subdir&quot;, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subdir&quot;, &quot;subfile2&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;, &quot;nesteddir&quot;))

                fs.rm(fs_join(target, &quot;subdir&quot;), recursive=True)
            assert fs.ls(target, detail=False) == (
                [] if supports_empty_directories else [dummy]
            )

    def test_copy_directory_to_new_directory</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 201:9 - Line 213:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 204:9 - Line 216:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn331" onclick="toggleCodeBlock('cloneGroup331', 'expandBtn331', 'collapseBtn331')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn331" onclick="toggleCodeBlock('cloneGroup331', 'expandBtn331', 'collapseBtn331')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup331"><code class="language-python text-sm text-gray-800">target = fs_target
        fs.mkdir(target)

        for source_slash, target_slash in zip([False, True], [False, True]):
            s = fs_join(source, &quot;subdir&quot;)
            if source_slash:
                s += &quot;/&quot;
            t = fs_join(target, &quot;newdir&quot;)
            if target_slash:
                t += &quot;/&quot;

            # Without recursive does nothing
            fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 221:3 - Line 233:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 224:4 - Line 236:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn332" onclick="toggleCodeBlock('cloneGroup332', 'expandBtn332', 'collapseBtn332')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn332" onclick="toggleCodeBlock('cloneGroup332', 'expandBtn332', 'collapseBtn332')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup332"><code class="language-python text-sm text-gray-800">(s, t, recursive=True)
            assert fs.isdir(fs_join(target, &quot;newdir&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
            assert fs.isdir(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
            assert not fs.exists(fs_join(target, &quot;subdir&quot;))

            fs.rm(fs_join(target, &quot;newdir&quot;), recursive=True)
            assert not fs.exists(fs_join(target, &quot;newdir&quot;))

            # Limit recursive by maxdepth
            fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 233:3 - Line 243:37), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 236:4 - Line 246:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn333" onclick="toggleCodeBlock('cloneGroup333', 'expandBtn333', 'collapseBtn333')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn333" onclick="toggleCodeBlock('cloneGroup333', 'expandBtn333', 'collapseBtn333')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup333"><code class="language-python text-sm text-gray-800">(s, t, recursive=True, maxdepth=1)
            assert fs.isdir(fs_join(target, &quot;newdir&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
            assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
            assert not fs.exists(fs_join(target, &quot;subdir&quot;))

            fs.rm(fs_join(target, &quot;newdir&quot;), recursive=True)
            assert not fs.exists(fs_join(target, &quot;newdir&quot;))

    def test_copy_glob_to_existing_directory</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 266:8 - Line 286:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 270:11 - Line 290:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn334" onclick="toggleCodeBlock('cloneGroup334', 'expandBtn334', 'collapseBtn334')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn334" onclick="toggleCodeBlock('cloneGroup334', 'expandBtn334', 'collapseBtn334')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup334"><code class="language-python text-sm text-gray-800">(source, &quot;subdir&quot;, &quot;*&quot;), t)
            assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
            assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
            assert not fs.isdir(fs_join(target, &quot;nesteddir&quot;))
            assert not fs.exists(fs_join(target, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
            assert not fs.exists(fs_join(target, &quot;subdir&quot;))

            fs.rm(
                [
                    fs_join(target, &quot;subfile1&quot;),
                    fs_join(target, &quot;subfile2&quot;),
                ],
                recursive=True,
            )
            assert fs.ls(target, detail=False) == (
                [] if supports_empty_directories else [dummy]
            )

            # With recursive
            for glob, recursive in zip([&quot;*&quot;, &quot;**&quot;], [True, False]):
                fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 286:8 - Line 306:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 290:11 - Line 310:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn335" onclick="toggleCodeBlock('cloneGroup335', 'expandBtn335', 'collapseBtn335')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn335" onclick="toggleCodeBlock('cloneGroup335', 'expandBtn335', 'collapseBtn335')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup335"><code class="language-python text-sm text-gray-800">(source, &quot;subdir&quot;, glob), t, recursive=recursive)
                assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
                assert fs.isdir(fs_join(target, &quot;nesteddir&quot;))
                assert fs.isfile(fs_join(target, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                        fs_join(target, &quot;nesteddir&quot;),
                    ],
                    recursive=True,
                )
                assert fs.ls(target, detail=False) == (
                    [] if supports_empty_directories else [dummy]
                )

                # Limit recursive by maxdepth
                fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 308:17 - Line 325:32), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 315:17 - Line 332:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn336" onclick="toggleCodeBlock('cloneGroup336', 'expandBtn336', 'collapseBtn336')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn336" onclick="toggleCodeBlock('cloneGroup336', 'expandBtn336', 'collapseBtn336')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup336"><code class="language-python text-sm text-gray-800">)
                assert fs.isfile(fs_join(target, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;subfile2&quot;))
                assert not fs.exists(fs_join(target, &quot;nesteddir&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))

                fs.rm(
                    [
                        fs_join(target, &quot;subfile1&quot;),
                        fs_join(target, &quot;subfile2&quot;),
                    ],
                    recursive=True,
                )
                assert fs.ls(target, detail=False) == (
                    [] if supports_empty_directories else [dummy]
                )

    def test_copy_glob_to_new_directory</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 340:8 - Line 354:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 347:11 - Line 361:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn337" onclick="toggleCodeBlock('cloneGroup337', 'expandBtn337', 'collapseBtn337')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn337" onclick="toggleCodeBlock('cloneGroup337', 'expandBtn337', 'collapseBtn337')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup337"><code class="language-python text-sm text-gray-800">(source, &quot;subdir&quot;, &quot;*&quot;), t)
            assert fs.isdir(fs_join(target, &quot;newdir&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
            assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
            assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
            assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
            assert not fs.exists(fs_join(target, &quot;subdir&quot;))
            assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;subdir&quot;))

            fs.rm(fs_join(target, &quot;newdir&quot;), recursive=True)
            assert not fs.exists(fs_join(target, &quot;newdir&quot;))

            # With recursive
            for glob, recursive in zip([&quot;*&quot;, &quot;**&quot;], [True, False]):
                fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 354:8 - Line 367:3), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 361:11 - Line 374:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn338" onclick="toggleCodeBlock('cloneGroup338', 'expandBtn338', 'collapseBtn338')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn338" onclick="toggleCodeBlock('cloneGroup338', 'expandBtn338', 'collapseBtn338')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup338"><code class="language-python text-sm text-gray-800">(source, &quot;subdir&quot;, glob), t, recursive=recursive)
                assert fs.isdir(fs_join(target, &quot;newdir&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
                assert fs.isdir(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;, &quot;nestedfile&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))
                assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;subdir&quot;))

                fs.rm(fs_join(target, &quot;newdir&quot;), recursive=True)
                assert not fs.exists(fs_join(target, &quot;newdir&quot;))

                # Limit recursive by maxdepth
                fs.cp</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 368:10 - Line 384:26), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 236:5 - Line 394:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn339" onclick="toggleCodeBlock('cloneGroup339', 'expandBtn339', 'collapseBtn339')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn339" onclick="toggleCodeBlock('cloneGroup339', 'expandBtn339', 'collapseBtn339')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup339"><code class="language-python text-sm text-gray-800">, maxdepth=1
                )
                assert fs.isdir(fs_join(target, &quot;newdir&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))
                assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile2&quot;))
                assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;nesteddir&quot;))
                assert not fs.exists(fs_join(target, &quot;subdir&quot;))
                assert not fs.exists(fs_join(target, &quot;newdir&quot;, &quot;subdir&quot;))

                fs.rm(fs_join(target, &quot;newdir&quot;), recursive=True)
                assert not fs.exists(fs_join(target, &quot;newdir&quot;))

    @pytest.mark.parametrize(
        GLOB_EDGE_CASES_TESTS[&quot;argnames&quot;],
        GLOB_EDGE_CASES_TESTS[&quot;argvalues&quot;],
    )
    def test_copy_glob_edge_cases</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 407:8 - Line 425:46), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 418:11 - Line 436:45)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn340" onclick="toggleCodeBlock('cloneGroup340', 'expandBtn340', 'collapseBtn340')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn340" onclick="toggleCodeBlock('cloneGroup340', 'expandBtn340', 'collapseBtn340')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup340"><code class="language-python text-sm text-gray-800">(source, path), t, recursive=recursive, maxdepth=maxdepth)

            output = fs.find(target)
            if new_dir:
                prefixed_expected = [
                    fs_sanitize_path(fs_join(target, &quot;newdir&quot;, p)) for p in expected
                ]
            else:
                prefixed_expected = [
                    fs_sanitize_path(fs_join(target, p)) for p in expected
                ]
            assert sorted(output) == sorted(prefixed_expected)

            try:
                fs.rm(target, recursive=True)
            except FileNotFoundError:
                pass

    def test_copy_list_of_files_to_existing_directory</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 453:3 - Line 470:41), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 465:4 - Line 482:40)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn341" onclick="toggleCodeBlock('cloneGroup341', 'expandBtn341', 'collapseBtn341')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn341" onclick="toggleCodeBlock('cloneGroup341', 'expandBtn341', 'collapseBtn341')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup341"><code class="language-python text-sm text-gray-800">(source_files, t)
            assert fs.isfile(fs_join(target, &quot;file1&quot;))
            assert fs.isfile(fs_join(target, &quot;file2&quot;))
            assert fs.isfile(fs_join(target, &quot;subfile1&quot;))

            fs.rm(
                [
                    fs_join(target, &quot;file1&quot;),
                    fs_join(target, &quot;file2&quot;),
                    fs_join(target, &quot;subfile1&quot;),
                ],
                recursive=True,
            )
            assert fs.ls(target, detail=False) == (
                [] if supports_empty_directories else [dummy]
            )

    def test_copy_list_of_files_to_new_directory</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/tests/abstract/copy.py (Line 485:3 - Line 491:34), .venv/lib/python3.14/site-packages/fsspec/tests/abstract/put.py (Line 497:4 - Line 503:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn342" onclick="toggleCodeBlock('cloneGroup342', 'expandBtn342', 'collapseBtn342')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn342" onclick="toggleCodeBlock('cloneGroup342', 'expandBtn342', 'collapseBtn342')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup342"><code class="language-python text-sm text-gray-800">(source_files, fs_join(target, &quot;newdir&quot;) + &quot;/&quot;)  # Note trailing slash
        assert fs.isdir(fs_join(target, &quot;newdir&quot;))
        assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;file1&quot;))
        assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;file2&quot;))
        assert fs.isfile(fs_join(target, &quot;newdir&quot;, &quot;subfile1&quot;))

    def test_copy_two_files_new_directory</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/wait.py (Line 38:5 - Line 53:3), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/wait.py (Line 70:2 - Line 85:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn343" onclick="toggleCodeBlock('cloneGroup343', 'expandBtn343', 'collapseBtn343')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn343" onclick="toggleCodeBlock('cloneGroup343', 'expandBtn343', 'collapseBtn343')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup343"><code class="language-python text-sm text-gray-800">:
    if not read and not write:
        raise RuntimeError(&quot;must specify at least one of read=True, write=True&quot;)
    rcheck = []
    wcheck = []
    if read:
        rcheck.append(sock)
    if write:
        wcheck.append(sock)
    # When doing a non-blocking connect, most systems signal success by
    # marking the socket writable. Windows, though, signals success by marked
    # it as &quot;exceptional&quot;. We paper over the difference by checking the write
    # sockets for both conditions. (The stdlib selectors module does the same
    # thing.)
    fn = partial(select.select, rcheck, wcheck, wcheck)
    rready, wready, xready = fn</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/url.py (Line 251:9 - Line 260:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/url.py (Line 232:9 - Line 241:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn344" onclick="toggleCodeBlock('cloneGroup344', 'expandBtn344', 'collapseBtn344')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn344" onclick="toggleCodeBlock('cloneGroup344', 'expandBtn344', 'collapseBtn344')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup344"><code class="language-python text-sm text-gray-800">byte = uri_bytes[i : i + 1]
        byte_ord = ord(byte)
        if (is_percent_encoded and byte == b&quot;%&quot;) or (
            byte_ord &lt; 128 and byte.decode() in allowed_chars
        ):
            encoded_component += byte
            continue
        encoded_component.extend(b&quot;%&quot; + (hex(byte_ord)[2:].encode().zfill(2).upper()))

    return encoded_component.decode()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/url.py (Line 273:2 - Line 293:8), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/url.py (Line 254:2 - Line 274:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn345" onclick="toggleCodeBlock('cloneGroup345', 'expandBtn345', 'collapseBtn345')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn345" onclick="toggleCodeBlock('cloneGroup345', 'expandBtn345', 'collapseBtn345')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup345"><code class="language-python text-sm text-gray-800">segment != &quot;..&quot;:
            output.append(segment)
        # In this case segment == '..', if we can, we should pop the last
        # element
        elif output:
            output.pop()

    # If the path starts with '/' and the output is empty or the first string
    # is non-empty
    if path.startswith(&quot;/&quot;) and (not output or output[0]):
        output.insert(0, &quot;&quot;)

    # If the path starts with '/.' or '/..' ensure we add one more empty
    # string to add a trailing '/'
    if path.endswith((&quot;/.&quot;, &quot;/..&quot;)):
        output.append(&quot;&quot;)

    return &quot;/&quot;.join(output)


@typing</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/ssltransport.py (Line 55:5 - Line 72:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssltransport.py (Line 46:2 - Line 63:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn346" onclick="toggleCodeBlock('cloneGroup346', 'expandBtn346', 'collapseBtn346')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn346" onclick="toggleCodeBlock('cloneGroup346', 'expandBtn346', 'collapseBtn346')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup346"><code class="language-python text-sm text-gray-800">:
        &quot;&quot;&quot;
        Create an SSLTransport around socket using the provided ssl_context.
        &quot;&quot;&quot;
        self.incoming = ssl.MemoryBIO()
        self.outgoing = ssl.MemoryBIO()

        self.suppress_ragged_eofs = suppress_ragged_eofs
        self.socket = socket

        self.sslobj = ssl_context.wrap_bio(
            self.incoming, self.outgoing, server_hostname=server_hostname
        )

        # Perform initial handshake.
        self._ssl_io_loop(self.sslobj.do_handshake)

    def __enter__(self) -</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/ssltransport.py (Line 101:5 - Line 111:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssltransport.py (Line 89:2 - Line 99:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn347" onclick="toggleCodeBlock('cloneGroup347', 'expandBtn347', 'collapseBtn347')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn347" onclick="toggleCodeBlock('cloneGroup347', 'expandBtn347', 'collapseBtn347')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup347"><code class="language-python text-sm text-gray-800">:
        if flags != 0:
            raise ValueError(&quot;non-zero flags not allowed in calls to sendall&quot;)
        count = 0
        with memoryview(data) as view, view.cast(&quot;B&quot;) as byte_view:
            amount = len(byte_view)
            while count &lt; amount:
                v = self.send(byte_view[count:])
                count += v

    def send(self, data:</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/ssltransport.py (Line 253:5 - Line 271:7), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssltransport.py (Line 203:5 - Line 221:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn348" onclick="toggleCodeBlock('cloneGroup348', 'expandBtn348', 'collapseBtn348')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn348" onclick="toggleCodeBlock('cloneGroup348', 'expandBtn348', 'collapseBtn348')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup348"><code class="language-python text-sm text-gray-800">)
            except ssl.SSLError as e:
                if e.errno not in (ssl.SSL_ERROR_WANT_READ, ssl.SSL_ERROR_WANT_WRITE):
                    # WANT_READ, and WANT_WRITE are expected, others are not.
                    raise e
                errno = e.errno

            buf = self.outgoing.read()
            self.socket.sendall(buf)

            if errno is None:
                should_loop = False
            elif errno == ssl.SSL_ERROR_WANT_READ:
                buf = self.socket.recv(SSL_BLOCKSIZE)
                if buf:
                    self.incoming.write(buf)
                else:
                    self.incoming.write_eof()
        return typing</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/ssl_match_hostname.py (Line 26:5 - Line 53:5), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssl_match_hostname.py (Line 25:2 - Line 52:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn349" onclick="toggleCodeBlock('cloneGroup349', 'expandBtn349', 'collapseBtn349')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn349" onclick="toggleCodeBlock('cloneGroup349', 'expandBtn349', 'collapseBtn349')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup349"><code class="language-python text-sm text-gray-800">:
    &quot;&quot;&quot;Matching according to RFC 6125, section 6.4.3

    http://tools.ietf.org/html/rfc6125#section-6.4.3
    &quot;&quot;&quot;
    pats = []
    if not dn:
        return False

    # Ported from python3-syntax:
    # leftmost, *remainder = dn.split(r'.')
    parts = dn.split(r&quot;.&quot;)
    leftmost = parts[0]
    remainder = parts[1:]

    wildcards = leftmost.count(&quot;*&quot;)
    if wildcards &gt; max_wildcards:
        # Issue #17980: avoid denials of service by refusing more
        # than one wildcard per fragment.  A survey of established
        # policy among SSL implementations showed it to be a
        # reasonable choice.
        raise CertificateError(
            &quot;too many wildcards in certificate DNS name: &quot; + repr(dn)
        )

    # speed up common case w/o wildcards
    if not wildcards:
        return bool</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/ssl_match_hostname.py (Line 53:2 - Line 80:17), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/ssl_match_hostname.py (Line 52:2 - Line 79:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn350" onclick="toggleCodeBlock('cloneGroup350', 'expandBtn350', 'collapseBtn350')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn350" onclick="toggleCodeBlock('cloneGroup350', 'expandBtn350', 'collapseBtn350')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup350"><code class="language-python text-sm text-gray-800">)

    # RFC 6125, section 6.4.3, subitem 1.
    # The client SHOULD NOT attempt to match a presented identifier in which
    # the wildcard character comprises a label other than the left-most label.
    if leftmost == &quot;*&quot;:
        # When '*' is a fragment by itself, it matches a non-empty dotless
        # fragment.
        pats.append(&quot;[^.]+&quot;)
    elif leftmost.startswith(&quot;xn--&quot;) or hostname.startswith(&quot;xn--&quot;):
        # RFC 6125, section 6.4.3, subitem 3.
        # The client SHOULD NOT attempt to match a presented identifier
        # where the wildcard character is embedded within an A-label or
        # U-label of an internationalized domain name.
        pats.append(re.escape(leftmost))
    else:
        # Otherwise, '*' matches any dotless string, e.g. www*
        pats.append(re.escape(leftmost).replace(r&quot;\*&quot;, &quot;[^.]*&quot;))

    # add the remaining fragments, ignore any wildcards
    for frag in remainder:
        pats.append(re.escape(frag))

    pat = re.compile(r&quot;\A&quot; + r&quot;\.&quot;.join(pats) + r&quot;\Z&quot;, re.IGNORECASE)
    return pat.match(hostname)


def _ipaddress_match</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/ssl_.py (Line 392:1 - Line 406:5), .venv/lib/python3.14/site-packages/urllib3/util/ssl_.py (Line 374:1 - Line 388:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn351" onclick="toggleCodeBlock('cloneGroup351', 'expandBtn351', 'collapseBtn351')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn351" onclick="toggleCodeBlock('cloneGroup351', 'expandBtn351', 'collapseBtn351')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup351"><code class="language-python text-sm text-gray-800">@typing.overload
def ssl_wrap_socket(
    sock: socket.socket,
    keyfile: str | None = ...,
    certfile: str | None = ...,
    cert_reqs: int | None = ...,
    ca_certs: str | None = ...,
    server_hostname: str | None = ...,
    ssl_version: int | None = ...,
    ciphers: str | None = ...,
    ssl_context: ssl.SSLContext | None = ...,
    ca_cert_dir: str | None = ...,
    key_password: str | None = ...,
    ca_cert_data: None | str | bytes = ...,
    tls_in_tls: bool</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/retry.py (Line 223:9 - Line 237:12), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/retry.py (Line 284:9 - Line 298:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn352" onclick="toggleCodeBlock('cloneGroup352', 'expandBtn352', 'collapseBtn352')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn352" onclick="toggleCodeBlock('cloneGroup352', 'expandBtn352', 'collapseBtn352')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup352"><code class="language-python text-sm text-gray-800">self.total = total
        self.connect = connect
        self.read = read
        self.status = status
        self.other = other

        if redirect is False or total is False:
            redirect = 0
            raise_on_redirect = False

        self.redirect = redirect
        self.status_forcelist = status_forcelist or set()
        self.allowed_methods = allowed_methods
        self.backoff_factor = backoff_factor
        self.backoff_max</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/retry.py (Line 276:6 - Line 289:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/retry.py (Line 343:2 - Line 356:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn353" onclick="toggleCodeBlock('cloneGroup353', 'expandBtn353', 'collapseBtn353')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn353" onclick="toggleCodeBlock('cloneGroup353', 'expandBtn353', 'collapseBtn353')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup353"><code class="language-python text-sm text-gray-800">:
        &quot;&quot;&quot;Backwards-compatibility for the old retries format.&quot;&quot;&quot;
        if retries is None:
            retries = default if default is not None else cls.DEFAULT

        if isinstance(retries, Retry):
            return retries

        redirect = bool(redirect) and None
        new_retries = cls(retries, redirect=redirect)
        log.debug(&quot;Converted retries value: %r -&gt; %r&quot;, retries, new_retries)
        return new_retries

    def get_backoff_time(self) -</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/retry.py (Line 449:2 - Line 467:8), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/retry.py (Line 527:2 - Line 545:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn354" onclick="toggleCodeBlock('cloneGroup354', 'expandBtn354', 'collapseBtn354')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn354" onclick="toggleCodeBlock('cloneGroup354', 'expandBtn354', 'collapseBtn354')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup354"><code class="language-python text-sm text-gray-800">reraise(type(error), error, _stacktrace)

        total = self.total
        if total is not None:
            total -= 1

        connect = self.connect
        read = self.read
        redirect = self.redirect
        status_count = self.status
        other = self.other
        cause = &quot;unknown&quot;
        status = None
        redirect_location = None

        if error and self._is_connection_error(error):
            # Connect retry?
            if connect is False:
                raise reraise</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/retry.py (Line 491:13 - Line 518:7), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/retry.py (Line 567:13 - Line 594:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn355" onclick="toggleCodeBlock('cloneGroup355', 'expandBtn355', 'collapseBtn355')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn355" onclick="toggleCodeBlock('cloneGroup355', 'expandBtn355', 'collapseBtn355')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup355"><code class="language-python text-sm text-gray-800">status = response.status

        else:
            # Incrementing because of a server error like a 500 in
            # status_forcelist and the given method is in the allowed_methods
            cause = ResponseError.GENERIC_ERROR
            if response and response.status:
                if status_count is not None:
                    status_count -= 1
                cause = ResponseError.SPECIFIC_ERROR.format(status_code=response.status)
                status = response.status

        history = self.history + (
            RequestHistory(method, url, error, status, redirect_location),
        )

        new_retry = self.new(
            total=total,
            connect=connect,
            read=read,
            redirect=redirect,
            status=status_count,
            other=other,
            history=history,
        )

        if new_retry.is_exhausted():
            reason</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/util/request.py (Line 112:2 - Line 129:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/util/request.py (Line 62:2 - Line 79:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn356" onclick="toggleCodeBlock('cloneGroup356', 'expandBtn356', 'collapseBtn356')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn356" onclick="toggleCodeBlock('cloneGroup356', 'expandBtn356', 'collapseBtn356')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup356"><code class="language-python text-sm text-gray-800">= {}
    if accept_encoding:
        if isinstance(accept_encoding, str):
            pass
        elif isinstance(accept_encoding, list):
            accept_encoding = &quot;,&quot;.join(accept_encoding)
        else:
            accept_encoding = ACCEPT_ENCODING
        headers[&quot;accept-encoding&quot;] = accept_encoding

    if user_agent:
        headers[&quot;user-agent&quot;] = user_agent

    if keep_alive:
        headers[&quot;connection&quot;] = &quot;keep-alive&quot;

    if basic_auth:
        headers[&quot;authorization&quot;] = (</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/contrib/socks.py (Line 102:2 - Line 119:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/socks.py (Line 88:2 - Line 106:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn357" onclick="toggleCodeBlock('cloneGroup357', 'expandBtn357', 'collapseBtn357')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn357" onclick="toggleCodeBlock('cloneGroup357', 'expandBtn357', 'collapseBtn357')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup357"><code class="language-python text-sm text-gray-800">= {}
        if self.source_address:
            extra_kw[&quot;source_address&quot;] = self.source_address

        if self.socket_options:
            extra_kw[&quot;socket_options&quot;] = self.socket_options

        try:
            conn = socks.create_connection(
                (self.host, self.port),
                proxy_type=self._socks_options[&quot;socks_version&quot;],
                proxy_addr=self._socks_options[&quot;proxy_host&quot;],
                proxy_port=self._socks_options[&quot;proxy_port&quot;],
                proxy_username=self._socks_options[&quot;username&quot;],
                proxy_password=self._socks_options[&quot;password&quot;],
                proxy_rdns=self._socks_options[&quot;rdns&quot;],
                timeout=self.timeout,
                **extra_kw,</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/contrib/socks.py (Line 192:5 - Line 212:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/socks.py (Line 178:5 - Line 198:44)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn358" onclick="toggleCodeBlock('cloneGroup358', 'expandBtn358', 'collapseBtn358')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn358" onclick="toggleCodeBlock('cloneGroup358', 'expandBtn358', 'collapseBtn358')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup358"><code class="language-python text-sm text-gray-800">):
        parsed = parse_url(proxy_url)

        if username is None and password is None and parsed.auth is not None:
            split = parsed.auth.split(&quot;:&quot;)
            if len(split) == 2:
                username, password = split
        if parsed.scheme == &quot;socks5&quot;:
            socks_version = socks.PROXY_TYPE_SOCKS5
            rdns = False
        elif parsed.scheme == &quot;socks5h&quot;:
            socks_version = socks.PROXY_TYPE_SOCKS5
            rdns = True
        elif parsed.scheme == &quot;socks4&quot;:
            socks_version = socks.PROXY_TYPE_SOCKS4
            rdns = False
        elif parsed.scheme == &quot;socks4a&quot;:
            socks_version = socks.PROXY_TYPE_SOCKS4
            rdns = True
        else:
            raise ValueError(f</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/contrib/pyopenssl.py (Line 76:1 - Line 89:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/pyopenssl.py (Line 105:1 - Line 118:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn359" onclick="toggleCodeBlock('cloneGroup359', 'expandBtn359', 'collapseBtn359')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn359" onclick="toggleCodeBlock('cloneGroup359', 'expandBtn359', 'collapseBtn359')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup359"><code class="language-python text-sm text-gray-800">if hasattr(ssl, &quot;PROTOCOL_TLSv1_1&quot;) and hasattr(OpenSSL.SSL, &quot;TLSv1_1_METHOD&quot;):
    _openssl_versions[ssl.PROTOCOL_TLSv1_1] = OpenSSL.SSL.TLSv1_1_METHOD

if hasattr(ssl, &quot;PROTOCOL_TLSv1_2&quot;) and hasattr(OpenSSL.SSL, &quot;TLSv1_2_METHOD&quot;):
    _openssl_versions[ssl.PROTOCOL_TLSv1_2] = OpenSSL.SSL.TLSv1_2_METHOD


_stdlib_to_openssl_verify = {
    ssl.CERT_NONE: OpenSSL.SSL.VERIFY_NONE,
    ssl.CERT_OPTIONAL: OpenSSL.SSL.VERIFY_PEER,
    ssl.CERT_REQUIRED: OpenSSL.SSL.VERIFY_PEER
    + OpenSSL.SSL.VERIFY_FAIL_IF_NO_PEER_CERT,
}
_openssl_to_stdlib_verify = {</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/contrib/pyopenssl.py (Line 159:5 - Line 185:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/pyopenssl.py (Line 154:2 - Line 180:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn360" onclick="toggleCodeBlock('cloneGroup360', 'expandBtn360', 'collapseBtn360')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn360" onclick="toggleCodeBlock('cloneGroup360', 'expandBtn360', 'collapseBtn360')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup360"><code class="language-python text-sm text-gray-800">:
    &quot;&quot;&quot;
    Verifies that PyOpenSSL's package-level dependencies have been met.
    Throws `ImportError` if they are not met.
    &quot;&quot;&quot;
    # Method added in `cryptography==1.1`; not available in older versions
    from cryptography.x509.extensions import Extensions

    if getattr(Extensions, &quot;get_extension_for_class&quot;, None) is None:
        raise ImportError(
            &quot;'cryptography' module missing required functionality.  &quot;
            &quot;Try upgrading to v1.3.4 or newer.&quot;
        )

    # pyOpenSSL 0.14 and above use cryptography for OpenSSL bindings. The _x509
    # attribute is only present on those versions.
    from OpenSSL.crypto import X509

    x509 = X509()
    if getattr(x509, &quot;_x509&quot;, None) is None:
        raise ImportError(
            &quot;'pyOpenSSL' module missing required functionality. &quot;
            &quot;Try upgrading to v0.14 or newer.&quot;
        )


def _dnsname_to_stdlib(name:</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/contrib/pyopenssl.py (Line 230:2 - Line 274:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/contrib/pyopenssl.py (Line 232:16 - Line 276:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn361" onclick="toggleCodeBlock('cloneGroup361', 'expandBtn361', 'collapseBtn361')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn361" onclick="toggleCodeBlock('cloneGroup361', 'expandBtn361', 'collapseBtn361')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup361"><code class="language-python text-sm text-gray-800">)

    # We want to find the SAN extension. Ask Cryptography to locate it (it's
    # faster than looping in Python)
    try:
        ext = cert.extensions.get_extension_for_class(x509.SubjectAlternativeName).value
    except x509.ExtensionNotFound:
        # No such extension, return the empty list.
        return []
    except (
        x509.DuplicateExtension,
        UnsupportedExtension,
        x509.UnsupportedGeneralNameType,
        UnicodeError,
    ) as e:
        # A problem has been found with the quality of the certificate. Assume
        # no SAN field is present.
        log.warning(
            &quot;A problem was encountered with the certificate that prevented &quot;
            &quot;urllib3 from finding the SubjectAlternativeName field. This can &quot;
            &quot;affect certificate validation. The error was %s&quot;,
            e,
        )
        return []

    # We want to return dNSName and iPAddress fields. We need to cast the IPs
    # back to strings because the match_hostname function wants them as
    # strings.
    # Sadly the DNS names need to be idna encoded and then, on Python 3, UTF-8
    # decoded. This is pretty frustrating, but that's what the standard library
    # does with certificates, and so we need to attempt to do the same.
    # We also want to skip over names which cannot be idna encoded.
    names = [
        (&quot;DNS&quot;, name)
        for name in map(_dnsname_to_stdlib, ext.get_values_for_type(x509.DNSName))
        if name is not None
    ]
    names.extend(
        (&quot;IP Address&quot;, str(name)) for name in ext.get_values_for_type(x509.IPAddress)
    )

    return names


class WrappedSocket:</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/tqdm/contrib/discord.py (Line 56:5 - Line 72:6), .venv/lib/python3.14/site-packages/tqdm/contrib/telegram.py (Line 53:13 - Line 69:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn362" onclick="toggleCodeBlock('cloneGroup362', 'expandBtn362', 'collapseBtn362')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn362" onclick="toggleCodeBlock('cloneGroup362', 'expandBtn362', 'collapseBtn362')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup362"><code class="language-python text-sm text-gray-800">]
                return self._message_id

    def write(self, s):
        &quot;&quot;&quot;Replaces internal `message_id`'s text with `s`.&quot;&quot;&quot;
        if not s:
            s = &quot;...&quot;
        s = s.replace('\r', '').strip()
        if s == self.text:
            return  # avoid duplicate message Bot error
        message_id = self.message_id
        if message_id is None:
            return
        self.text = s
        try:
            future = self.submit(
                self.session.patch</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/tqdm/contrib/discord.py (Line 123:2 - Line 131:12), .venv/lib/python3.14/site-packages/tqdm/contrib/slack.py (Line 90:4 - Line 98:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn363" onclick="toggleCodeBlock('cloneGroup363', 'expandBtn363', 'collapseBtn363')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn363" onclick="toggleCodeBlock('cloneGroup363', 'expandBtn363', 'collapseBtn363')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup363"><code class="language-python text-sm text-gray-800">))
        super().__init__(*args, **kwargs)

    def display(self, **kwargs):
        super().display(**kwargs)
        fmt = self.format_dict
        if fmt.get('bar_format', None):
            fmt['bar_format'] = fmt['bar_format'].replace(
                '&lt;bar/&gt;', '{bar:10u}'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/swe_project/metrics/code_quality.py (Line 22:31 - Line 42:42), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_and_code.py (Line 22:35 - Line 42:46)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn364" onclick="toggleCodeBlock('cloneGroup364', 'expandBtn364', 'collapseBtn364')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn364" onclick="toggleCodeBlock('cloneGroup364', 'expandBtn364', 'collapseBtn364')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup364"><code class="language-python text-sm text-gray-800">,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(
    url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10
) -&gt; Optional[requests.Response]:
    &quot;&quot;&quot;
    Performs a GET request to the GitHub API with robust error handling.
    Retries once without authorization on 401/403 errors.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[code_quality] Network error for %s: %s&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/swe_project/metrics/code_quality.py (Line 42:42 - Line 55:54), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_and_code.py (Line 42:46 - Line 55:58)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn365" onclick="toggleCodeBlock('cloneGroup365', 'expandBtn365', 'collapseBtn365')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn365" onclick="toggleCodeBlock('cloneGroup365', 'expandBtn365', 'collapseBtn365')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup365"><code class="language-python text-sm text-gray-800">, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without the auth header if token is bad
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(
                &quot;[code_quality] Retry without auth failed for %s: %s&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/swe_project/metrics/code_quality.py (Line 61:43 - Line 108:18), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_and_code.py (Line 61:47 - Line 108:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn366" onclick="toggleCodeBlock('cloneGroup366', 'expandBtn366', 'collapseBtn366')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn366" onclick="toggleCodeBlock('cloneGroup366', 'expandBtn366', 'collapseBtn366')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup366"><code class="language-python text-sm text-gray-800">, url, res.status_code
        )
        return None
    return res


def get_github_repo_files(repo_url: str) -&gt; set[str]:
    &quot;&quot;&quot;Fetches the list of all files in a GitHub repository's default branch.&quot;&quot;&quot;
    match = re.search(r&quot;github\.com/([^/]+)/([^/]+)&quot;, repo_url.replace(&quot;.git&quot;, &quot;&quot;))
    if not match:
        return set()

    owner, repo = match.groups()

    # Get repository info to find the default branch
    repo_info_url = f&quot;https://api.github.com/repos/{owner}/{repo}&quot;
    repo_res = _gh_get(repo_info_url)
    if not repo_res:
        logging.error(f&quot;Failed to fetch repo info from {repo_info_url}&quot;)
        return set()

    try:
        default_branch = repo_res.json().get(&quot;default_branch&quot;, &quot;main&quot;)
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON or find default_branch for {repo_url}&quot;)
        return set()

    # Get the file tree for the default branch
    trees_url = f&quot;https://api.github.com/repos/{owner}/{repo}/git/trees/{default_branch}?recursive=1&quot;
    tree_res = _gh_get(trees_url)
    if not tree_res:
        logging.error(f&quot;Failed to fetch file tree from {trees_url}&quot;)
        return set()

    try:
        data = tree_res.json()
        if &quot;tree&quot; not in data:
            logging.warning(
                f&quot;Response from {trees_url} is truncated: {data.get('message', '')}&quot;
            )
            return set()
        return {item[&quot;path&quot;] for item in data.get(&quot;tree&quot;, []) if item[&quot;type&quot;] == &quot;blob&quot;}
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON response for file tree of {repo_url}&quot;)
        return set()


def _score_single_url</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/swe_project/metrics/bus_factor.py (Line 42:29 - Line 50:2), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_and_code.py (Line 22:35 - Line 32:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn367" onclick="toggleCodeBlock('cloneGroup367', 'expandBtn367', 'collapseBtn367')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn367" onclick="toggleCodeBlock('cloneGroup367', 'expandBtn367', 'collapseBtn367')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup367"><code class="language-python text-sm text-gray-800">,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10):</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/swe_project/metrics/bus_factor.py (Line 314:9 - Line 326:6), .venv/lib/python3.14/site-packages/swe_project/metrics/bus_factor.py (Line 214:9 - Line 226:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn368" onclick="toggleCodeBlock('cloneGroup368', 'expandBtn368', 'collapseBtn368')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn368" onclick="toggleCodeBlock('cloneGroup368', 'expandBtn368', 'collapseBtn368')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup368"><code class="language-python text-sm text-gray-800">link = res.headers.get(&quot;Link&quot;, &quot;&quot;)
        nxt = next(
            (
                p[p.find(&quot;&lt;&quot;) + 1 : p.find(&quot;&gt;&quot;)]
                for p in link.split(&quot;,&quot;)
                if 'rel=&quot;next&quot;' in p
            ),
            None,
        )
        if not nxt:
            break
        url, params = nxt, {}
    return total</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/paraiso_dark.py (Line 40:5 - Line 124:2), .venv/lib/python3.14/site-packages/pygments/styles/paraiso_light.py (Line 40:5 - Line 124:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn369" onclick="toggleCodeBlock('cloneGroup369', 'expandBtn369', 'collapseBtn369')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn369" onclick="toggleCodeBlock('cloneGroup369', 'expandBtn369', 'collapseBtn369')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup369"><code class="language-python text-sm text-gray-800">background_color = BACKGROUND
    highlight_color = SELECTION

    styles = {
        # No corresponding class for the following:
        Text:                      FOREGROUND,  # class:  ''
        Whitespace:                &quot;&quot;,          # class: 'w'
        Error:                     RED,         # class: 'err'
        Other:                     &quot;&quot;,          # class 'x'

        Comment:                   COMMENT,   # class: 'c'
        Comment.Multiline:         &quot;&quot;,        # class: 'cm'
        Comment.Preproc:           &quot;&quot;,        # class: 'cp'
        Comment.Single:            &quot;&quot;,        # class: 'c1'
        Comment.Special:           &quot;&quot;,        # class: 'cs'

        Keyword:                   PURPLE,    # class: 'k'
        Keyword.Constant:          &quot;&quot;,        # class: 'kc'
        Keyword.Declaration:       &quot;&quot;,        # class: 'kd'
        Keyword.Namespace:         AQUA,      # class: 'kn'
        Keyword.Pseudo:            &quot;&quot;,        # class: 'kp'
        Keyword.Reserved:          &quot;&quot;,        # class: 'kr'
        Keyword.Type:              YELLOW,    # class: 'kt'

        Operator:                  AQUA,      # class: 'o'
        Operator.Word:             &quot;&quot;,        # class: 'ow' - like keywords

        Punctuation:               FOREGROUND,  # class: 'p'

        Name:                      FOREGROUND,  # class: 'n'
        Name.Attribute:            BLUE,        # class: 'na' - to be revised
        Name.Builtin:              &quot;&quot;,          # class: 'nb'
        Name.Builtin.Pseudo:       &quot;&quot;,          # class: 'bp'
        Name.Class:                YELLOW,      # class: 'nc' - to be revised
        Name.Constant:             RED,         # class: 'no' - to be revised
        Name.Decorator:            AQUA,        # class: 'nd' - to be revised
        Name.Entity:               &quot;&quot;,          # class: 'ni'
        Name.Exception:            RED,         # class: 'ne'
        Name.Function:             BLUE,        # class: 'nf'
        Name.Property:             &quot;&quot;,          # class: 'py'
        Name.Label:                &quot;&quot;,          # class: 'nl'
        Name.Namespace:            YELLOW,      # class: 'nn' - to be revised
        Name.Other:                BLUE,        # class: 'nx'
        Name.Tag:                  AQUA,        # class: 'nt' - like a keyword
        Name.Variable:             RED,         # class: 'nv' - to be revised
        Name.Variable.Class:       &quot;&quot;,          # class: 'vc' - to be revised
        Name.Variable.Global:      &quot;&quot;,          # class: 'vg' - to be revised
        Name.Variable.Instance:    &quot;&quot;,          # class: 'vi' - to be revised

        Number:                    ORANGE,    # class: 'm'
        Number.Float:              &quot;&quot;,        # class: 'mf'
        Number.Hex:                &quot;&quot;,        # class: 'mh'
        Number.Integer:            &quot;&quot;,        # class: 'mi'
        Number.Integer.Long:       &quot;&quot;,        # class: 'il'
        Number.Oct:                &quot;&quot;,        # class: 'mo'

        Literal:                   ORANGE,    # class: 'l'
        Literal.Date:              GREEN,     # class: 'ld'

        String:                    GREEN,       # class: 's'
        String.Backtick:           &quot;&quot;,          # class: 'sb'
        String.Char:               FOREGROUND,  # class: 'sc'
        String.Doc:                COMMENT,     # class: 'sd' - like a comment
        String.Double:             &quot;&quot;,          # class: 's2'
        String.Escape:             ORANGE,      # class: 'se'
        String.Heredoc:            &quot;&quot;,          # class: 'sh'
        String.Interpol:           ORANGE,      # class: 'si'
        String.Other:              &quot;&quot;,          # class: 'sx'
        String.Regex:              &quot;&quot;,          # class: 'sr'
        String.Single:             &quot;&quot;,          # class: 's1'
        String.Symbol:             &quot;&quot;,          # class: 'ss'

        Generic:                   &quot;&quot;,                    # class: 'g'
        Generic.Deleted:           RED,                   # class: 'gd',
        Generic.Emph:              &quot;italic&quot;,              # class: 'ge'
        Generic.Error:             &quot;&quot;,                    # class: 'gr'
        Generic.Heading:           &quot;bold &quot; + FOREGROUND,  # class: 'gh'
        Generic.Inserted:          GREEN,                 # class: 'gi'
        Generic.Output:            &quot;&quot;,                    # class: 'go'
        Generic.Prompt:            &quot;bold &quot; + COMMENT,     # class: 'gp'
        Generic.Strong:            &quot;bold&quot;,                # class: 'gs'
        Generic.EmphStrong:        &quot;bold italic&quot;,         # class: 'ges'
        Generic.Subheading:        &quot;bold &quot; + AQUA,        # class: 'gu'
        Generic.Traceback:         &quot;&quot;,                    # class: 'gt'
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/nord.py (Line 102:5 - Line 150:7), .venv/lib/python3.14/site-packages/pygments/styles/nord.py (Line 32:5 - Line 80:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn370" onclick="toggleCodeBlock('cloneGroup370', 'expandBtn370', 'collapseBtn370')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn370" onclick="toggleCodeBlock('cloneGroup370', 'expandBtn370', 'collapseBtn370')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup370"><code class="language-python text-sm text-gray-800">highlight_color = &quot;#3B4252&quot;

    styles = {
        Token:                      &quot;#d8dee9&quot;,

        Whitespace:                 '#d8dee9',
        Punctuation:                '#eceff4',

        Comment:                    'italic #616e87',
        Comment.Preproc:            '#5e81ac',

        Keyword:                    'bold #81a1c1',
        Keyword.Pseudo:             'nobold #81a1c1',
        Keyword.Type:               'nobold #81a1c1',

        Operator:                   'bold #81a1c1',
        Operator.Word:              'bold #81a1c1',

        Name:                       '#d8dee9',
        Name.Builtin:               '#81a1c1',
        Name.Function:              '#88c0d0',
        Name.Class:                 '#8fbcbb',
        Name.Namespace:             '#8fbcbb',
        Name.Exception:             '#bf616a',
        Name.Variable:              '#d8dee9',
        Name.Constant:              '#8fbcbb',
        Name.Entity:                '#d08770',
        Name.Attribute:             '#8fbcbb',
        Name.Tag:                   '#81a1c1',
        Name.Decorator:             '#d08770',

        String:                     '#a3be8c',
        String.Doc:                 '#616e87',
        String.Interpol:            '#a3be8c',
        String.Escape:              '#ebcb8b',
        String.Regex:               '#ebcb8b',
        String.Symbol:              '#a3be8c',
        String.Other:               '#a3be8c',

        Number:                     '#b48ead',

        Generic.Heading:            'bold #88c0d0',
        Generic.Subheading:         'bold #88c0d0',
        Generic.Deleted:            '#bf616a',
        Generic.Inserted:           '#a3be8c',
        Generic.Error:              '#bf616a',
        Generic.Emph:               'italic',
        Generic.Strong:             'bold',
        Generic.Prompt</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/friendly.py (Line 61:10 - Line 75:17), .venv/lib/python3.14/site-packages/pygments/styles/murphy.py (Line 67:12 - Line 81:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn371" onclick="toggleCodeBlock('cloneGroup371', 'expandBtn371', 'collapseBtn371')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn371" onclick="toggleCodeBlock('cloneGroup371', 'expandBtn371', 'collapseBtn371')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup371"><code class="language-python text-sm text-gray-800">,

        Generic.Heading:           &quot;bold #000080&quot;,
        Generic.Subheading:        &quot;bold #800080&quot;,
        Generic.Deleted:           &quot;#A00000&quot;,
        Generic.Inserted:          &quot;#00A000&quot;,
        Generic.Error:             &quot;#FF0000&quot;,
        Generic.Emph:              &quot;italic&quot;,
        Generic.Strong:            &quot;bold&quot;,
        Generic.EmphStrong:        &quot;bold italic&quot;,
        Generic.Prompt:            &quot;bold #c65d09&quot;,
        Generic.Output:            &quot;#888&quot;,
        Generic.Traceback:         &quot;#04D&quot;,

        Error:                     &quot;border:#FF0000&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/emacs.py (Line 60:10 - Line 74:17), .venv/lib/python3.14/site-packages/pygments/styles/inkpot.py (Line 57:10 - Line 71:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn372" onclick="toggleCodeBlock('cloneGroup372', 'expandBtn372', 'collapseBtn372')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn372" onclick="toggleCodeBlock('cloneGroup372', 'expandBtn372', 'collapseBtn372')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup372"><code class="language-python text-sm text-gray-800">,

        Generic.Heading:           &quot;bold #000080&quot;,
        Generic.Subheading:        &quot;bold #800080&quot;,
        Generic.Deleted:           &quot;#A00000&quot;,
        Generic.Inserted:          &quot;#00A000&quot;,
        Generic.Error:             &quot;#FF0000&quot;,
        Generic.Emph:              &quot;italic&quot;,
        Generic.Strong:            &quot;bold&quot;,
        Generic.EmphStrong:        &quot;bold italic&quot;,
        Generic.Prompt:            &quot;bold #000080&quot;,
        Generic.Output:            &quot;#888&quot;,
        Generic.Traceback:         &quot;#04D&quot;,

        Error:                     &quot;border:#FF0000&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/colorful.py (Line 65:12 - Line 83:2), .venv/lib/python3.14/site-packages/pygments/styles/murphy.py (Line 64:12 - Line 82:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn373" onclick="toggleCodeBlock('cloneGroup373', 'expandBtn373', 'collapseBtn373')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn373" onclick="toggleCodeBlock('cloneGroup373', 'expandBtn373', 'collapseBtn373')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup373"><code class="language-python text-sm text-gray-800">,
        Number.Float:              &quot;bold #60E&quot;,
        Number.Hex:                &quot;bold #058&quot;,
        Number.Oct:                &quot;bold #40E&quot;,

        Generic.Heading:           &quot;bold #000080&quot;,
        Generic.Subheading:        &quot;bold #800080&quot;,
        Generic.Deleted:           &quot;#A00000&quot;,
        Generic.Inserted:          &quot;#00A000&quot;,
        Generic.Error:             &quot;#FF0000&quot;,
        Generic.Emph:              &quot;italic&quot;,
        Generic.Strong:            &quot;bold&quot;,
        Generic.EmphStrong:        &quot;bold italic&quot;,
        Generic.Prompt:            &quot;bold #c65d09&quot;,
        Generic.Output:            &quot;#888&quot;,
        Generic.Traceback:         &quot;#04D&quot;,

        Error:                     &quot;#F00 bg:#FAA&quot;
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/borland.py (Line 38:10 - Line 53:2), .venv/lib/python3.14/site-packages/pygments/styles/trac.py (Line 51:10 - Line 66:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn374" onclick="toggleCodeBlock('cloneGroup374', 'expandBtn374', 'collapseBtn374')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn374" onclick="toggleCodeBlock('cloneGroup374', 'expandBtn374', 'collapseBtn374')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup374"><code class="language-python text-sm text-gray-800">,

        Generic.Heading:        '#999999',
        Generic.Subheading:     '#aaaaaa',
        Generic.Deleted:        'bg:#ffdddd #000000',
        Generic.Inserted:       'bg:#ddffdd #000000',
        Generic.Error:          '#aa0000',
        Generic.Emph:           'italic',
        Generic.Strong:         'bold',
        Generic.EmphStrong:     'bold italic',
        Generic.Prompt:         '#555555',
        Generic.Output:         '#888888',
        Generic.Traceback:      '#aa0000',

        Error:                  'bg:#e3d2d2 #a61717'
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/autumn.py (Line 52:10 - Line 66:15), .venv/lib/python3.14/site-packages/pygments/styles/perldoc.py (Line 58:10 - Line 72:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn375" onclick="toggleCodeBlock('cloneGroup375', 'expandBtn375', 'collapseBtn375')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn375" onclick="toggleCodeBlock('cloneGroup375', 'expandBtn375', 'collapseBtn375')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup375"><code class="language-python text-sm text-gray-800">,

        Generic.Heading:            'bold #000080',
        Generic.Subheading:         'bold #800080',
        Generic.Deleted:            '#aa0000',
        Generic.Inserted:           '#00aa00',
        Generic.Error:              '#aa0000',
        Generic.Emph:               'italic',
        Generic.Strong:             'bold',
        Generic.EmphStrong:         'bold italic',
        Generic.Prompt:             '#555555',
        Generic.Output:             '#888888',
        Generic.Traceback:          '#aa0000',

        Error:                      '#F00 bg:#FAA'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/algol.py (Line 49:17 - Line 65:2), .venv/lib/python3.14/site-packages/pygments/styles/algol_nu.py (Line 49:7 - Line 65:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn376" onclick="toggleCodeBlock('cloneGroup376', 'expandBtn376', 'collapseBtn376')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn376" onclick="toggleCodeBlock('cloneGroup376', 'expandBtn376', 'collapseBtn376')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup376"><code class="language-python text-sm text-gray-800">,
        Keyword.Declaration:       &quot;italic&quot;,

        Name.Builtin:              &quot;bold italic&quot;,
        Name.Builtin.Pseudo:       &quot;bold italic&quot;,
        Name.Namespace:            &quot;bold italic #666&quot;,
        Name.Class:                &quot;bold italic #666&quot;,
        Name.Function:             &quot;bold italic #666&quot;,
        Name.Variable:             &quot;bold italic #666&quot;,
        Name.Constant:             &quot;bold italic #666&quot;,

        Operator.Word:             &quot;bold&quot;,

        String:                    &quot;italic #666&quot;,

        Error:                     &quot;border:#FF0000&quot;
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/_mapping.py (Line 1:1 - Line 54:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/styles/_mapping.py (Line 1:1 - Line 54:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn377" onclick="toggleCodeBlock('cloneGroup377', 'expandBtn377', 'collapseBtn377')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn377" onclick="toggleCodeBlock('cloneGroup377', 'expandBtn377', 'collapseBtn377')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup377"><code class="language-python text-sm text-gray-800"># Automatically generated by scripts/gen_mapfiles.py.
# DO NOT EDIT BY HAND; run `tox -e mapfiles` instead.

STYLES = {
    'AbapStyle': ('pygments.styles.abap', 'abap', ()),
    'AlgolStyle': ('pygments.styles.algol', 'algol', ()),
    'Algol_NuStyle': ('pygments.styles.algol_nu', 'algol_nu', ()),
    'ArduinoStyle': ('pygments.styles.arduino', 'arduino', ()),
    'AutumnStyle': ('pygments.styles.autumn', 'autumn', ()),
    'BlackWhiteStyle': ('pygments.styles.bw', 'bw', ()),
    'BorlandStyle': ('pygments.styles.borland', 'borland', ()),
    'CoffeeStyle': ('pygments.styles.coffee', 'coffee', ()),
    'ColorfulStyle': ('pygments.styles.colorful', 'colorful', ()),
    'DefaultStyle': ('pygments.styles.default', 'default', ()),
    'DraculaStyle': ('pygments.styles.dracula', 'dracula', ()),
    'EmacsStyle': ('pygments.styles.emacs', 'emacs', ()),
    'FriendlyGrayscaleStyle': ('pygments.styles.friendly_grayscale', 'friendly_grayscale', ()),
    'FriendlyStyle': ('pygments.styles.friendly', 'friendly', ()),
    'FruityStyle': ('pygments.styles.fruity', 'fruity', ()),
    'GhDarkStyle': ('pygments.styles.gh_dark', 'github-dark', ()),
    'GruvboxDarkStyle': ('pygments.styles.gruvbox', 'gruvbox-dark', ()),
    'GruvboxLightStyle': ('pygments.styles.gruvbox', 'gruvbox-light', ()),
    'IgorStyle': ('pygments.styles.igor', 'igor', ()),
    'InkPotStyle': ('pygments.styles.inkpot', 'inkpot', ()),
    'LightbulbStyle': ('pygments.styles.lightbulb', 'lightbulb', ()),
    'LilyPondStyle': ('pygments.styles.lilypond', 'lilypond', ()),
    'LovelaceStyle': ('pygments.styles.lovelace', 'lovelace', ()),
    'ManniStyle': ('pygments.styles.manni', 'manni', ()),
    'MaterialStyle': ('pygments.styles.material', 'material', ()),
    'MonokaiStyle': ('pygments.styles.monokai', 'monokai', ()),
    'MurphyStyle': ('pygments.styles.murphy', 'murphy', ()),
    'NativeStyle': ('pygments.styles.native', 'native', ()),
    'NordDarkerStyle': ('pygments.styles.nord', 'nord-darker', ()),
    'NordStyle': ('pygments.styles.nord', 'nord', ()),
    'OneDarkStyle': ('pygments.styles.onedark', 'one-dark', ()),
    'ParaisoDarkStyle': ('pygments.styles.paraiso_dark', 'paraiso-dark', ()),
    'ParaisoLightStyle': ('pygments.styles.paraiso_light', 'paraiso-light', ()),
    'PastieStyle': ('pygments.styles.pastie', 'pastie', ()),
    'PerldocStyle': ('pygments.styles.perldoc', 'perldoc', ()),
    'RainbowDashStyle': ('pygments.styles.rainbow_dash', 'rainbow_dash', ()),
    'RrtStyle': ('pygments.styles.rrt', 'rrt', ()),
    'SasStyle': ('pygments.styles.sas', 'sas', ()),
    'SolarizedDarkStyle': ('pygments.styles.solarized', 'solarized-dark', ()),
    'SolarizedLightStyle': ('pygments.styles.solarized', 'solarized-light', ()),
    'StarofficeStyle': ('pygments.styles.staroffice', 'staroffice', ()),
    'StataDarkStyle': ('pygments.styles.stata_dark', 'stata-dark', ()),
    'StataLightStyle': ('pygments.styles.stata_light', 'stata-light', ()),
    'TangoStyle': ('pygments.styles.tango', 'tango', ()),
    'TracStyle': ('pygments.styles.trac', 'trac', ()),
    'VimStyle': ('pygments.styles.vim', 'vim', ()),
    'VisualStudioStyle': ('pygments.styles.vs', 'vs', ()),
    'XcodeStyle': ('pygments.styles.xcode', 'xcode', ()),
    'ZenburnStyle': ('pygments.styles.zenburn', 'zenburn', ()),
}</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/styles/__init__.py (Line 13:2 - Line 61:5), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/styles/__init__.py (Line 13:2 - Line 61:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn378" onclick="toggleCodeBlock('cloneGroup378', 'expandBtn378', 'collapseBtn378')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn378" onclick="toggleCodeBlock('cloneGroup378', 'expandBtn378', 'collapseBtn378')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup378"><code class="language-python text-sm text-gray-800">pygments.styles._mapping import STYLES

#: A dictionary of built-in styles, mapping style names to
#: ``'submodule::classname'`` strings.
#: This list is deprecated. Use `pygments.styles.STYLES` instead
STYLE_MAP = {v[1]: v[0].split('.')[-1] + '::' + k for k, v in STYLES.items()}

#: Internal reverse mapping to make `get_style_by_name` more efficient
_STYLE_NAME_TO_MODULE_MAP = {v[1]: (v[0], k) for k, v in STYLES.items()}


def get_style_by_name(name):
    &quot;&quot;&quot;
    Return a style class by its short name. The names of the builtin styles
    are listed in :data:`pygments.styles.STYLE_MAP`.

    Will raise :exc:`pygments.util.ClassNotFound` if no style of that name is
    found.
    &quot;&quot;&quot;
    if name in _STYLE_NAME_TO_MODULE_MAP:
        mod, cls = _STYLE_NAME_TO_MODULE_MAP[name]
        builtin = &quot;yes&quot;
    else:
        for found_name, style in find_plugin_styles():
            if name == found_name:
                return style
        # perhaps it got dropped into our styles package
        builtin = &quot;&quot;
        mod = 'pygments.styles.' + name
        cls = name.title() + &quot;Style&quot;

    try:
        mod = __import__(mod, None, None, [cls])
    except ImportError:
        raise ClassNotFound(f&quot;Could not find style module {mod!r}&quot; +
                            (builtin and &quot;, though it should be builtin&quot;)
                            + &quot;.&quot;)
    try:
        return getattr(mod, cls)
    except AttributeError:
        raise ClassNotFound(f&quot;Could not find style class {cls!r} in style module.&quot;)


def get_all_styles():
    &quot;&quot;&quot;Return a generator for all styles by name, both builtin and plugin.&quot;&quot;&quot;
    for v in STYLES.values():
        yield v[1]
    for name, _ in find_plugin_styles():
        yield name</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/verification.py (Line 75:5 - Line 86:9), .venv/lib/python3.14/site-packages/pygments/lexers/verification.py (Line 28:5 - Line 39:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn379" onclick="toggleCodeBlock('cloneGroup379', 'expandBtn379', 'collapseBtn379')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn379" onclick="toggleCodeBlock('cloneGroup379', 'expandBtn379', 'collapseBtn379')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup379"><code class="language-python text-sm text-gray-800">tokens = {
        'root': [
            # Whitespace and Comments
            (r'\n', Text),
            (r'\s+', Text),
            (r'\\\n', Text),  # line continuation
            (r'//[/!](.*?)\n', Comment.Doc),
            (r'//(.*?)\n', Comment.Single),
            (r'/\*', Comment.Multiline, 'comment'),

            (words((
                'result'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/verification.py (Line 102:11 - Line 113:2), .venv/lib/python3.14/site-packages/pygments/lexers/verification.py (Line 51:15 - Line 62:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn380" onclick="toggleCodeBlock('cloneGroup380', 'expandBtn380', 'collapseBtn380')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn380" onclick="toggleCodeBlock('cloneGroup380', 'expandBtn380', 'collapseBtn380')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup380"><code class="language-python text-sm text-gray-800">, Name),
        ],
        'comment': [
            (r'[^*/]+', Comment.Multiline),
            (r'/\*', Comment.Multiline, '#push'),
            (r'\*/', Comment.Multiline, '#pop'),
            (r'[*/]', Comment.Multiline),
        ],
        'numbers': [
            (r'[0-9]+', Number.Integer),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 177:5 - Line 203:26), .venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 32:5 - Line 58:35)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn381" onclick="toggleCodeBlock('cloneGroup381', 'expandBtn381', 'collapseBtn381')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn381" onclick="toggleCodeBlock('cloneGroup381', 'expandBtn381', 'collapseBtn381')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup381"><code class="language-python text-sm text-gray-800">flags = re.MULTILINE

    tokens = {
        'root': [
            (r'[^\S\n]+', Text),
            (r'#.*?\n', Comment.Single),
            (r'[^\S\n]+', Text),
            (r'class|method|procedure', Keyword.Declaration, 'subprogram'),
            (r'(record)(\s+)(\w+)',
             bygroups(Keyword.Declaration, Text, Keyword.Type), 'type_def'),
            (r'(#line|\$C|\$Cend|\$define|\$else|\$endif|\$error|\$ifdef|'
             r'\$ifndef|\$include|\$line|\$undef)\b', Keyword.PreProc),
            (r'(&amp;null|&amp;fail)\b', Keyword.Constant),
            (r'&amp;allocated|&amp;ascii|&amp;clock|&amp;collections|&amp;column|&amp;col|&amp;control|'
             r'&amp;cset|&amp;current|&amp;dateline|&amp;date|&amp;digits|&amp;dump|'
             r'&amp;errno|&amp;errornumber|&amp;errortext|&amp;errorvalue|&amp;error|&amp;errout|'
             r'&amp;eventcode|&amp;eventvalue|&amp;eventsource|&amp;e|'
             r'&amp;features|&amp;file|&amp;host|&amp;input|&amp;interval|&amp;lcase|&amp;letters|'
             r'&amp;level|&amp;line|&amp;ldrag|&amp;lpress|&amp;lrelease|'
             r'&amp;main|&amp;mdrag|&amp;meta|&amp;mpress|&amp;mrelease|&amp;now|&amp;output|'
             r'&amp;phi|&amp;pick|&amp;pi|&amp;pos|&amp;progname|'
             r'&amp;random|&amp;rdrag|&amp;regions|&amp;resize|&amp;row|&amp;rpress|&amp;rrelease|'
             r'&amp;shift|&amp;source|&amp;storage|&amp;subject|'
             r'&amp;time|&amp;trace|&amp;ucase|&amp;version|'
             r'&amp;window|&amp;x|&amp;y', Keyword.Reserved),
            (r'(by|of|not|to)\b', Keyword.Reserved),
            (r'(global|local|static)\b'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 219:8 - Line 227:8), .venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 76:11 - Line 83:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn382" onclick="toggleCodeBlock('cloneGroup382', 'expandBtn382', 'collapseBtn382')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn382" onclick="toggleCodeBlock('cloneGroup382', 'expandBtn382', 'collapseBtn382')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup382"><code class="language-python text-sm text-gray-800">,
                'delay', 'delete', 'detab', 'display', 'DrawArc',
                'DrawCircle', 'DrawCube', 'DrawCurve', 'DrawCylinder',
                'DrawDisk', 'DrawImage', 'DrawLine', 'DrawPoint', 'DrawPolygon',
                'DrawRectangle', 'DrawSegment', 'DrawSphere', 'DrawString',
                'DrawTorus', 'dtor',
                'entab', 'EraseArea', 'errorclear', 'Event', 'eventmask',
                'EvGet', 'EvSend', 'exec', 'exit', 'exp', 'Eye',
                'fcntl'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 231:9 - Line 242:10), .venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 89:10 - Line 99:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn383" onclick="toggleCodeBlock('cloneGroup383', 'expandBtn383', 'collapseBtn383')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn383" onclick="toggleCodeBlock('cloneGroup383', 'expandBtn383', 'collapseBtn383')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup383"><code class="language-python text-sm text-gray-800">,
                'GetSpace', 'gettimeofday',
                'getuid', 'globalnames', 'GotoRC', 'GotoXY', 'gtime', 'hardlink',
                'iand', 'icom', 'IdentityMatrix', 'image', 'InPort', 'insert',
                'Int86', 'integer', 'ioctl', 'ior', 'ishift', 'istate', 'ixor',
                'kbhit', 'key', 'keyword', 'kill',
                'left', 'Len', 'list', 'load', 'loadfunc', 'localnames',
                'lock', 'log', 'Lower', 'lstat',
                'many', 'map', 'match', 'MatrixMode', 'max', 'member',
                'membernames', 'methodnames', 'methods', 'min', 'mkdir', 'move',
                'MultMatrix', 'mutex',
                'name', 'NewColor', 'Normals', 'numeric'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 245:8 - Line 253:7), .venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 103:12 - Line 110:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn384" onclick="toggleCodeBlock('cloneGroup384', 'expandBtn384', 'collapseBtn384')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn384" onclick="toggleCodeBlock('cloneGroup384', 'expandBtn384', 'collapseBtn384')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup384"><code class="language-python text-sm text-gray-800">,
                'Poke', 'pop', 'PopMatrix', 'Pos', 'pos',
                'proc', 'pull', 'push', 'PushMatrix', 'PushRotate', 'PushScale',
                'PushTranslate', 'put',
                'QueryPointer',
                'Raise', 'read', 'ReadImage', 'readlink', 'reads', 'ready',
                'real', 'receive', 'Refresh', 'Rem', 'remove', 'rename',
                'repl', 'reverse', 'right', 'rmdir', 'Rotate', 'Rpos',
                'rtod'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 264:11 - Line 273:60), .venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 122:10 - Line 131:65)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn385" onclick="toggleCodeBlock('cloneGroup385', 'expandBtn385', 'collapseBtn385')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn385" onclick="toggleCodeBlock('cloneGroup385', 'expandBtn385', 'collapseBtn385')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup385"><code class="language-python text-sm text-gray-800">,
                'wait', 'WAttrib', 'WDefault', 'WFlush', 'where',
                'WinAssociate', 'WinButton', 'WinColorDialog', 'WindowContents',
                'WinEditRegion', 'WinFontDialog', 'WinMenuBar', 'WinOpenDialog',
                'WinPlayMedia', 'WinSaveDialog', 'WinScrollBar', 'WinSelectDialog',
                'write', 'WriteImage', 'writes', 'WSection',
                'WSync'), prefix=r'\b', suffix=r'\b'),
             Name.Function),
            include('numbers'),
            (r'===|~===|\*\*|\+\+|--|\.|==|~==|&lt;=|&gt;=|=|~=|&lt;&lt;=|&lt;&lt;|&gt;&gt;=|&gt;&gt;|'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 280:27 - Line 307:11), .venv/lib/python3.14/site-packages/pygments/lexers/unicon.py (Line 139:25 - Line 166:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn386" onclick="toggleCodeBlock('cloneGroup386', 'expandBtn386', 'collapseBtn386')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn386" onclick="toggleCodeBlock('cloneGroup386', 'expandBtn386', 'collapseBtn386')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup386"><code class="language-python text-sm text-gray-800">, Punctuation),
            (r'\n+', Text),
        ],
        'numbers': [
            (r'\b([+-]?([2-9]|[12][0-9]|3[0-6])[rR][0-9a-zA-Z]+)\b', Number.Hex),
            (r'[+-]?[0-9]*\.([0-9]*)([Ee][+-]?[0-9]*)?', Number.Float),
            (r'\b([+-]?[0-9]+[KMGTPkmgtp]?)\b', Number.Integer),
        ],
        'subprogram': [
            (r'\(', Punctuation, ('#pop', 'formal_part')),
            (r';', Punctuation, '#pop'),
            (r'&quot;[^&quot;]+&quot;|\w+', Name.Function),
            include('root'),
        ],
        'type_def': [
            (r'\(', Punctuation, 'formal_part'),
        ],
        'formal_part': [
            (r'\)', Punctuation, '#pop'),
            (r'\w+', Name.Variable),
            (r',', Punctuation),
            (r'(:string|:integer|:real)\b', Keyword.Reserved),
            include('root'),
        ],
    }


class UcodeLexer</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/typoscript.py (Line 80:13 - Line 92:8), .venv/lib/python3.14/site-packages/pygments/lexers/typoscript.py (Line 41:13 - Line 53:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn387" onclick="toggleCodeBlock('cloneGroup387', 'expandBtn387', 'collapseBtn387')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn387" onclick="toggleCodeBlock('cloneGroup387', 'expandBtn387', 'collapseBtn387')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup387"><code class="language-python text-sm text-gray-800"># marker: ###MARK###
            (r'(.*)(###\w+###)(.*)', bygroups(String, Name.Constant, String)),
            # constant: {$some.constant}
            (r'(\{)(\$)((?:[\w\-]+\.)*)([\w\-]+)(\})',
             bygroups(String.Symbol, Operator, Name.Constant,
                      Name.Constant, String.Symbol)),  # constant
            # constant: {register:somevalue}
            (r'(.*)(\{)([\w\-]+)(\s*:\s*)([\w\-]+)(\})(.*)',
             bygroups(String, String.Symbol, Name.Constant, Operator,
                      Name.Constant, String.Symbol, String)),  # constant
            # whitespace
            (r'\s+', Text),
            # other</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 296:9 - Line 305:5), .venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 108:8 - Line 117:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn388" onclick="toggleCodeBlock('cloneGroup388', 'expandBtn388', 'collapseBtn388')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn388" onclick="toggleCodeBlock('cloneGroup388', 'expandBtn388', 'collapseBtn388')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup388"><code class="language-python text-sm text-gray-800">, word
        elif re.match(r&quot;.*\!$&quot;, word):
            yield match.start(), Keyword.Type, word
        elif re.match(&quot;'.*&quot;, word):
            yield match.start(), Name.Variable.Instance, word  # lit-word
        elif re.match(&quot;#.*&quot;, word):
            yield match.start(), Name.Label, word  # issue
        elif re.match(&quot;%.*&quot;, word):
            yield match.start(), Name.Decorator, word  # file
        elif</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 318:2 - Line 328:45), .venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 126:4 - Line 136:48)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn389" onclick="toggleCodeBlock('cloneGroup389', 'expandBtn389', 'collapseBtn389')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn389" onclick="toggleCodeBlock('cloneGroup389', 'expandBtn389', 'collapseBtn389')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup389"><code class="language-python text-sm text-gray-800">),
            (r'&quot;', String, 'string'),
            (r'\{', String, 'string2'),
            (r';#+.*\n', Comment.Special),
            (r';\*+.*\n', Comment.Preproc),
            (r';.*\n', Comment),
            (r'%&quot;', Name.Decorator, 'stringFile'),
            (r'%[^(^{&quot;)\s\[\]]+', Name.Decorator),
            (r'[+-]?([a-z]{1,3})?\$\d+(\.\d+)?', Number.Float),  # money
            (r'[+-]?\d+\:\d+(\:\d+)?(\.\d+)?', String.Other),    # time
            (r'\d+[\-/][0-9a-z]+[\-/]\d+(/\d+:\d+((:\d+)?'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 329:33 - Line 343:20), .venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 137:32 - Line 151:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn390" onclick="toggleCodeBlock('cloneGroup390', 'expandBtn390', 'collapseBtn390')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn390" onclick="toggleCodeBlock('cloneGroup390', 'expandBtn390', 'collapseBtn390')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup390"><code class="language-python text-sm text-gray-800">, String.Other),   # date
            (r'\d+(\.\d+)+\.\d+', Keyword.Constant),             # tuple
            (r'\d+X\d+', Keyword.Constant),                   # pair
            (r'[+-]?\d+(\'\d+)?([.,]\d*)?E[+-]?\d+', Number.Float),
            (r'[+-]?\d+(\'\d+)?[.,]\d*', Number.Float),
            (r'[+-]?\d+(\'\d+)?', Number),
            (r'[\[\]()]', Generic.Strong),
            (r'[a-z]+[^(^{&quot;\s:)]*://[^(^{&quot;\s)]*', Name.Decorator),  # url
            (r'mailto:[^(^{&quot;@\s)]+@[^(^{&quot;@\s)]+', Name.Decorator),  # url
            (r'[^(^{&quot;@\s)]+@[^(^{&quot;@\s)]+', Name.Decorator),         # email
            (r'comment\s&quot;', Comment, 'commentString1'),
            (r'comment\s\{', Comment, 'commentString2'),
            (r'comment\s\[', Comment, 'commentBlock'),
            (r'comment\s[^(\s{&quot;\[]+', Comment),
            (r'/[^(^{^&quot;)\s/[\]]*'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 344:38 - Line 419:2), .venv/lib/python3.14/site-packages/pygments/lexers/rebol.py (Line 152:37 - Line 227:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn391" onclick="toggleCodeBlock('cloneGroup391', 'expandBtn391', 'collapseBtn391')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn391" onclick="toggleCodeBlock('cloneGroup391', 'expandBtn391', 'collapseBtn391')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup391"><code class="language-python text-sm text-gray-800">, word_callback),
            (r'&lt;[\w:.-]*&gt;', Name.Tag),
            (r'&lt;[^(&lt;&gt;\s&quot;)]+', Name.Tag, 'tag'),
            (r'([^(^{&quot;)\s]+)', Text),
        ],
        'string': [
            (r'[^(^&quot;)]+', String),
            (escape_re, String.Escape),
            (r'[(|)]+', String),
            (r'\^.', String.Escape),
            (r'&quot;', String, '#pop'),
        ],
        'string2': [
            (r'[^(^{})]+', String),
            (escape_re, String.Escape),
            (r'[(|)]+', String),
            (r'\^.', String.Escape),
            (r'\{', String, '#push'),
            (r'\}', String, '#pop'),
        ],
        'stringFile': [
            (r'[^(^&quot;)]+', Name.Decorator),
            (escape_re, Name.Decorator),
            (r'\^.', Name.Decorator),
            (r'&quot;', Name.Decorator, '#pop'),
        ],
        'char': [
            (escape_re + '&quot;', String.Char, '#pop'),
            (r'\^.&quot;', String.Char, '#pop'),
            (r'.&quot;', String.Char, '#pop'),
        ],
        'tag': [
            (escape_re, Name.Tag),
            (r'&quot;', Name.Tag, 'tagString'),
            (r'[^(&lt;&gt;\r\n&quot;)]+', Name.Tag),
            (r'&gt;', Name.Tag, '#pop'),
        ],
        'tagString': [
            (r'[^(^&quot;)]+', Name.Tag),
            (escape_re, Name.Tag),
            (r'[(|)]+', Name.Tag),
            (r'\^.', Name.Tag),
            (r'&quot;', Name.Tag, '#pop'),
        ],
        'tuple': [
            (r'(\d+\.)+', Keyword.Constant),
            (r'\d+', Keyword.Constant, '#pop'),
        ],
        'bin2': [
            (r'\s+', Number.Hex),
            (r'([01]\s*){8}', Number.Hex),
            (r'\}', Number.Hex, '#pop'),
        ],
        'commentString1': [
            (r'[^(^&quot;)]+', Comment),
            (escape_re, Comment),
            (r'[(|)]+', Comment),
            (r'\^.', Comment),
            (r'&quot;', Comment, '#pop'),
        ],
        'commentString2': [
            (r'[^(^{})]+', Comment),
            (escape_re, Comment),
            (r'[(|)]+', Comment),
            (r'\^.', Comment),
            (r'\{', Comment, '#push'),
            (r'\}', Comment, '#pop'),
        ],
        'commentBlock': [
            (r'\[', Comment, '#push'),
            (r'\]', Comment, '#pop'),
            (r'&quot;', Comment, &quot;commentString1&quot;),
            (r'\{', Comment, &quot;commentString2&quot;),
            (r'[^(\[\]&quot;{)]+', Comment),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/rdf.py (Line 385:5 - Line 397:2), .venv/lib/python3.14/site-packages/pygments/lexers/rdf.py (Line 81:5 - Line 93:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn392" onclick="toggleCodeBlock('cloneGroup392', 'expandBtn392', 'collapseBtn392')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn392" onclick="toggleCodeBlock('cloneGroup392', 'expandBtn392', 'collapseBtn392')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup392"><code class="language-python text-sm text-gray-800">PERCENT = '%' + HEX + HEX

    PN_LOCAL_ESC = r'\\' + PN_LOCAL_ESC_CHARS

    PLX = '(?:' + PERCENT + ')|(?:' + PN_LOCAL_ESC + ')'

    PN_LOCAL = ('(?:[' + PN_CHARS_U_GRP + ':0-9' + ']|' + PLX + ')' +
                '(?:(?:[' + PN_CHARS_GRP + '.:]|' + PLX + ')*(?:[' +
                PN_CHARS_GRP + ':]|' + PLX + '))?')

    EXPONENT = r'[eE][+-]?\d+'

    #</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/rdf.py (Line 433:13 - Line 459:19), .venv/lib/python3.14/site-packages/pygments/lexers/rdf.py (Line 139:13 - Line 165:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn393" onclick="toggleCodeBlock('cloneGroup393', 'expandBtn393', 'collapseBtn393')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn393" onclick="toggleCodeBlock('cloneGroup393', 'expandBtn393', 'collapseBtn393')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup393"><code class="language-python text-sm text-gray-800">(r'&quot;&quot;&quot;', String, 'triple-double-quoted-string'),
            (r'&quot;', String, 'single-double-quoted-string'),
            (r&quot;'''&quot;, String, 'triple-single-quoted-string'),
            (r&quot;'&quot;, String, 'single-single-quoted-string'),
        ],
        'triple-double-quoted-string': [
            (r'&quot;&quot;&quot;', String, 'end-of-string'),
            (r'[^\\]+', String),
            (r'\\', String, 'string-escape'),
        ],
        'single-double-quoted-string': [
            (r'&quot;', String, 'end-of-string'),
            (r'[^&quot;\\\n]+', String),
            (r'\\', String, 'string-escape'),
        ],
        'triple-single-quoted-string': [
            (r&quot;'''&quot;, String, 'end-of-string'),
            (r'[^\\]+', String),
            (r'\\', String.Escape, 'string-escape'),
        ],
        'single-single-quoted-string': [
            (r&quot;'&quot;, String, 'end-of-string'),
            (r&quot;[^'\\\n]+&quot;, String),
            (r'\\', String, 'string-escape'),
        ],
        'string-escape': [
            (UCHAR_NO_BACKSLASH</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 143:5 - Line 158:31), .venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 32:5 - Line 47:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn394" onclick="toggleCodeBlock('cloneGroup394', 'expandBtn394', 'collapseBtn394')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn394" onclick="toggleCodeBlock('cloneGroup394', 'expandBtn394', 'collapseBtn394')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup394"><code class="language-python text-sm text-gray-800">#: only one /* */ style comment
    _ws1 = r'\s*(?:/[*].*?[*]/\s*)*'

    tokens = {
        'root': [
            # preprocessor directives: without whitespace
            (r'^#if\s+0', Comment.Preproc, 'if0'),
            ('^#', Comment.Preproc, 'macro'),
            # or with whitespace
            ('^' + _ws1 + r'#if\s+0', Comment.Preproc, 'if0'),
            ('^' + _ws1 + '#', Comment.Preproc, 'macro'),
            (r'\n', Text),
            (r'\s+', Text),
            (r'\\\n', Text),  # line continuation
            (r'/(\\\n)?/(\n|(.|\n)*?[^\\]\n)', Comment.Single),
            (r'/(\\\n)?\*[\w\W]*?\*(\\\n)?/'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 158:31 - Line 169:61), .venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 47:31 - Line 58:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn395" onclick="toggleCodeBlock('cloneGroup395', 'expandBtn395', 'collapseBtn395')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn395" onclick="toggleCodeBlock('cloneGroup395', 'expandBtn395', 'collapseBtn395')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup395"><code class="language-python text-sm text-gray-800">, Comment.Multiline),
            (r'[{}]', Punctuation),
            (r'L?&quot;', String, 'string'),
            (r&quot;L?'(\\.|\\[0-7]{1,3}|\\x[a-fA-F0-9]{1,2}|[^\\\'\n])'&quot;, String.Char),
            (r'(\d+\.\d*|\.\d+|\d+)[eE][+-]?\d+[LlUu]*', Number.Float),
            (r'(\d+\.\d*|\.\d+|\d+[fF])[fF]?', Number.Float),
            (r'0x[0-9a-fA-F]+[LlUu]*', Number.Hex),
            (r'0[0-7]+[LlUu]*', Number.Oct),
            (r'\d+[LlUu]*', Number.Integer),
            (r'[~!%^&amp;*+=|?:&lt;&gt;/-]', Operator),
            (r'[()\[\],.;]', Punctuation),
            (r'(switch|case|default|const|new|static|char|continue|break|'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 171:43 - Line 198:4), .venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 60:52 - Line 87:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn396" onclick="toggleCodeBlock('cloneGroup396', 'expandBtn396', 'collapseBtn396')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn396" onclick="toggleCodeBlock('cloneGroup396', 'expandBtn396', 'collapseBtn396')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup396"><code class="language-python text-sm text-gray-800">, Keyword),
            (r'(bool|Float)\b', Keyword.Type),
            (r'(true|false)\b', Keyword.Constant),
            (r'[a-zA-Z_]\w*', Name),
        ],
        'string': [
            (r'&quot;', String, '#pop'),
            (r'\\([\\abfnrtv&quot;\']|x[a-fA-F0-9]{2,4}|[0-7]{1,3})', String.Escape),
            (r'[^\\&quot;\n]+', String),  # all other characters
            (r'\\\n', String),       # line continuation
            (r'\\', String),         # stray backslash
        ],
        'macro': [
            (r'[^/\n]+', Comment.Preproc),
            (r'/\*(.|\n)*?\*/', Comment.Multiline),
            (r'//.*?\n', Comment.Single, '#pop'),
            (r'/', Comment.Preproc),
            (r'(?&lt;=\\)\n', Comment.Preproc),
            (r'\n', Comment.Preproc, '#pop'),
        ],
        'if0': [
            (r'^\s*#if.*?(?&lt;!\\)\n', Comment.Preproc, '#push'),
            (r'^\s*#endif.*?(?&lt;!\\)\n', Comment.Preproc, '#pop'),
            (r'.*?\n', Comment),
        ]
    }

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/objective.py (Line 458:11 - Line 467:8), .venv/lib/python3.14/site-packages/pygments/lexers/openscad.py (Line 85:5 - Line 94:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn397" onclick="toggleCodeBlock('cloneGroup397', 'expandBtn397', 'collapseBtn397')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn397" onclick="toggleCodeBlock('cloneGroup397', 'expandBtn397', 'collapseBtn397')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup397"><code class="language-python text-sm text-gray-800">, '#pop'),
            include('comment'),
            (r'[^\n]+', Comment.Single)
        ],
        'comment-multi': [
            include('comment'),
            (r'[^*/]+', Comment.Multiline),
            (r'/\*', Comment.Multiline, '#push'),
            (r'\*/', Comment.Multiline, '#pop'),
            (r'[*/]+'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 428:8 - Line 439:10), .venv/lib/python3.14/site-packages/pygments/lexers/sophia.py (Line 86:10 - Line 97:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn398" onclick="toggleCodeBlock('cloneGroup398', 'expandBtn398', 'collapseBtn398')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn398" onclick="toggleCodeBlock('cloneGroup398', 'expandBtn398', 'collapseBtn398')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup398"><code class="language-python text-sm text-gray-800">),
        ],
        'string': [
            (r'[^\\&quot;]+', String.Double),
            include('escape-sequence'),
            (r'\\\n', String.Double),
            (r'&quot;', String.Double, '#pop'),
        ],
        'dotted': [
            (r'\s+', Text),
            (r'\.', Punctuation),
            (r'[A-Z][\w\']*(?=\s*\.)', Name.Namespace</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 798:6 - Line 814:10), .venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 384:6 - Line 400:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn399" onclick="toggleCodeBlock('cloneGroup399', 'expandBtn399', 'collapseBtn399')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn399" onclick="toggleCodeBlock('cloneGroup399', 'expandBtn399', 'collapseBtn399')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup399"><code class="language-python text-sm text-gray-800">, 'lxor', 'mod', 'or')
    prefix_syms = r'[!?~]'
    infix_syms = r'[=&lt;&gt;@^|&amp;+\*/$%-]'
    primitives = ('unit', 'int', 'float', 'bool', 'string', 'char', 'list', 'array')

    tokens = {
        'escape-sequence': [
            (r'\\[\\&quot;\'ntbr]', String.Escape),
            (r'\\[0-9]{3}', String.Escape),
            (r'\\x[0-9a-fA-F]{2}', String.Escape),
        ],
        'root': [
            (r'\s+', Text),
            (r'false|true|\(\)|\[\]', Name.Builtin.Pseudo),
            (r'\b([A-Z][\w\']*)(?=\s*\.)', Name.Namespace, 'dotted'),
            (r'\b([A-Z][\w\']*)', Name.Class),
            (r'//.*?\n'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 817:5 - Line 835:2), .venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 402:9 - Line 418:42)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn400" onclick="toggleCodeBlock('cloneGroup400', 'expandBtn400', 'collapseBtn400')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn400" onclick="toggleCodeBlock('cloneGroup400', 'expandBtn400', 'collapseBtn400')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup400"><code class="language-python text-sm text-gray-800">),
            (rf'({infix_syms}|{prefix_syms})?{operators}', Operator),
            (r'\b({})\b'.format('|'.join(word_operators)), Operator.Word),
            (r'\b({})\b'.format('|'.join(primitives)), Keyword.Type),

            (r&quot;[^\W\d][\w']*&quot;, Name),

            (r'-?\d[\d_]*(.[\d_]*)?([eE][+\-]?\d[\d_]*)', Number.Float),
            (r'0[xX][\da-fA-F][\da-fA-F_]*', Number.Hex),
            (r'0[oO][0-7][0-7_]*', Number.Oct),
            (r'0[bB][01][01_]*', Number.Bin),
            (r'\d[\d_]*', Number.Integer),

            (r&quot;'(?:(\\[\\\&quot;'ntbr ])|(\\[0-9]{3})|(\\x[0-9a-fA-F]{2}))'&quot;,
             String.Char),
            (r&quot;'.'&quot;, String.Char),
            (r&quot;'&quot;, Keyword),

            (</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 838:9 - Line 862:11), .venv/lib/python3.14/site-packages/pygments/lexers/sophia.py (Line 81:9 - Line 447:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn401" onclick="toggleCodeBlock('cloneGroup401', 'expandBtn401', 'collapseBtn401')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn401" onclick="toggleCodeBlock('cloneGroup401', 'expandBtn401', 'collapseBtn401')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup401"><code class="language-python text-sm text-gray-800">],
        'comment': [
            (r'[^/*]+', Comment.Multiline),
            (r'\/\*', Comment.Multiline, '#push'),
            (r'\*\/', Comment.Multiline, '#pop'),
            (r'\*', Comment.Multiline),
        ],
        'string': [
            (r'[^\\&quot;]+', String.Double),
            include('escape-sequence'),
            (r'\\\n', String.Double),
            (r'&quot;', String.Double, '#pop'),
        ],
        'dotted': [
            (r'\s+', Text),
            (r'\.', Punctuation),
            (r'[A-Z][\w\']*(?=\s*\.)', Name.Namespace),
            (r'[A-Z][\w\']*', Name.Class, '#pop'),
            (r'[a-z_][\w\']*', Name, '#pop'),
            default('#pop'),
        ],
    }


class FStarLexer</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 896:5 - Line 908:34), .venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 385:5 - Line 397:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn402" onclick="toggleCodeBlock('cloneGroup402', 'expandBtn402', 'collapseBtn402')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn402" onclick="toggleCodeBlock('cloneGroup402', 'expandBtn402', 'collapseBtn402')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup402"><code class="language-python text-sm text-gray-800">prefix_syms = r'[!?~]'
    infix_syms = r'[=&lt;&gt;@^|&amp;+\*/$%-]'
    primitives = ('unit', 'int', 'float', 'bool', 'string', 'char', 'list', 'array')

    tokens = {
        'escape-sequence': [
            (r'\\[\\&quot;\'ntbr]', String.Escape),
            (r'\\[0-9]{3}', String.Escape),
            (r'\\x[0-9a-fA-F]{2}', String.Escape),
        ],
        'root': [
            (r'\s+', Text),
            (r'false|true|False|True|\(\)|\[\]'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 917:9 - Line 932:17), .venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 404:5 - Line 420:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn403" onclick="toggleCodeBlock('cloneGroup403', 'expandBtn403', 'collapseBtn403')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn403" onclick="toggleCodeBlock('cloneGroup403', 'expandBtn403', 'collapseBtn403')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup403"><code class="language-python text-sm text-gray-800">),
            (r'\b({})\b'.format('|'.join(primitives)), Keyword.Type),

            (r&quot;[^\W\d][\w']*&quot;, Name),

            (r'-?\d[\d_]*(.[\d_]*)?([eE][+\-]?\d[\d_]*)', Number.Float),
            (r'0[xX][\da-fA-F][\da-fA-F_]*', Number.Hex),
            (r'0[oO][0-7][0-7_]*', Number.Oct),
            (r'0[bB][01][01_]*', Number.Bin),
            (r'\d[\d_]*', Number.Integer),

            (r&quot;'(?:(\\[\\\&quot;'ntbr ])|(\\[0-9]{3})|(\\x[0-9a-fA-F]{2}))'&quot;,
             String.Char),
            (r&quot;'.'&quot;, String.Char),
            (r&quot;'&quot;, Keyword),  # a stray quote is another syntax element
            (r&quot;\`([\w\'.]+)\`&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 934:13 - Line 958:2), .venv/lib/python3.14/site-packages/pygments/lexers/ml.py (Line 420:13 - Line 444:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn404" onclick="toggleCodeBlock('cloneGroup404', 'expandBtn404', 'collapseBtn404')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn404" onclick="toggleCodeBlock('cloneGroup404', 'expandBtn404', 'collapseBtn404')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup404"><code class="language-python text-sm text-gray-800">(r'&quot;', String.Double, 'string'),

            (r'[~?][a-z][\w\']*:', Name.Variable),
        ],
        'comment': [
            (r'[^(*)]+', Comment),
            (r'\(\*', Comment, '#push'),
            (r'\*\)', Comment, '#pop'),
            (r'[(*)]', Comment),
        ],
        'string': [
            (r'[^\\&quot;]+', String.Double),
            include('escape-sequence'),
            (r'\\\n', String.Double),
            (r'&quot;', String.Double, '#pop'),
        ],
        'dotted': [
            (r'\s+', Text),
            (r'\.', Punctuation),
            (r'[A-Z][\w\']*(?=\s*\.)', Name.Namespace),
            (r'[A-Z][\w\']*', Name.Class, '#pop'),
            (r'[a-z_][\w\']*', Name, '#pop'),
            default('#pop'),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/lean.py (Line 222:13 - Line 234:13), .venv/lib/python3.14/site-packages/pygments/lexers/lean.py (Line 110:13 - Line 122:60)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn405" onclick="toggleCodeBlock('cloneGroup405', 'expandBtn405', 'collapseBtn405')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn405" onclick="toggleCodeBlock('cloneGroup405', 'expandBtn405', 'collapseBtn405')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup405"><code class="language-python text-sm text-gray-800">(r'[^/-]+', Comment.Multiline),
            (r'/-', Comment.Multiline, '#push'),
            (r'-/', Comment.Multiline, '#pop'),
            (r'[/-]', Comment.Multiline)
        ],
        'docstring': [
            (r'[^/-]+', String.Doc),
            (r'-/', String.Doc, '#pop'),
            (r'[/-]', String.Doc)
        ],
        'string': [
            (r'[^\\&quot;]+', String.Double),
            (r'\\[n&quot;\\\n]'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 408:5 - Line 421:5), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 299:5 - Line 312:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn406" onclick="toggleCodeBlock('cloneGroup406', 'expandBtn406', 'collapseBtn406')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn406" onclick="toggleCodeBlock('cloneGroup406', 'expandBtn406', 'collapseBtn406')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup406"><code class="language-python text-sm text-gray-800">tokens = {
        'root': [
            (r'[ \t]*\n', Text),
            (r'[ \t]*', _indentation),
        ],

        'css': [
            (r'\.[\w:-]+', Name.Class, 'tag'),
            (r'\#[\w:-]+', Name.Function, 'tag'),
        ],

        'eval-or-plain': [
            (r'[&amp;!]?==', Punctuation, 'plain'),
            (r'([&amp;!]?[=~])(' + _dot</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 422:11 - Line 437:22), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 313:10 - Line 328:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn407" onclick="toggleCodeBlock('cloneGroup407', 'expandBtn407', 'collapseBtn407')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn407" onclick="toggleCodeBlock('cloneGroup407', 'expandBtn407', 'collapseBtn407')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup407"><code class="language-python text-sm text-gray-800">)),
             'root'),
            default('plain'),
        ],

        'content': [
            include('css'),
            (r'%[\w:-]+', Name.Tag, 'tag'),
            (r'!!!' + _dot + r'*\n', Name.Namespace, '#pop'),
            (r'(/)(\[' + _dot + r'*?\])(' + _dot + r'*\n)',
             bygroups(Comment, Comment.Special, Comment),
             '#pop'),
            (r'/' + _dot + r'*\n', _starts_block(Comment, 'html-comment-block'),
             '#pop'),
            (r'-#' + _dot + r'*\n', _starts_block(Comment.Preproc,
                                                  'scaml-comment-block'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 452:11 - Line 462:11), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 340:10 - Line 350:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn408" onclick="toggleCodeBlock('cloneGroup408', 'expandBtn408', 'collapseBtn408')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn408" onclick="toggleCodeBlock('cloneGroup408', 'expandBtn408', 'collapseBtn408')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup408"><code class="language-python text-sm text-gray-800">)),
            (r'\(', Text, 'html-attributes'),
            (r'/[ \t]*\n', Punctuation, '#pop:2'),
            (r'[&lt;&gt;]{1,2}(?=[ \t=])', Punctuation),
            include('eval-or-plain'),
        ],

        'plain': [
            (r'([^#\n]|#[^{\n]|(\\\\)*\\#\{)+', Text),
            (r'(#\{)(' + _dot + r'*?)(\})',
             bygroups(String.Interpol, using(ScalaLexer</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 462:11 - Line 487:22), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 350:10 - Line 375:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn409" onclick="toggleCodeBlock('cloneGroup409', 'expandBtn409', 'collapseBtn409')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn409" onclick="toggleCodeBlock('cloneGroup409', 'expandBtn409', 'collapseBtn409')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup409"><code class="language-python text-sm text-gray-800">), String.Interpol)),
            (r'\n', Text, 'root'),
        ],

        'html-attributes': [
            (r'\s+', Text),
            (r'[\w:-]+[ \t]*=', Name.Attribute, 'html-attribute-value'),
            (r'[\w:-]+', Name.Attribute),
            (r'\)', Text, '#pop'),
        ],

        'html-attribute-value': [
            (r'[ \t]+', Text),
            (r'\w+', Name.Variable, '#pop'),
            (r'@\w+', Name.Variable.Instance, '#pop'),
            (r'\$\w+', Name.Variable.Global, '#pop'),
            (r&quot;'(\\\\|\\[^\\]|[^'\\\n])*'&quot;, String, '#pop'),
            (r'&quot;(\\\\|\\[^\\]|[^&quot;\\\n])*&quot;', String, '#pop'),
        ],

        'html-comment-block': [
            (_dot + '+', Comment),
            (r'\n', Text, 'root'),
        ],

        'scaml-comment-block'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 516:5 - Line 538:6), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 406:5 - Line 429:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn410" onclick="toggleCodeBlock('cloneGroup410', 'expandBtn410', 'collapseBtn410')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn410" onclick="toggleCodeBlock('cloneGroup410', 'expandBtn410', 'collapseBtn410')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup410"><code class="language-python text-sm text-gray-800">_dot = r'.'

    tokens = {
        'root': [
            (r'[ \t]*\n', Text),
            (r'[ \t]*', _indentation),
        ],

        'css': [
            (r'\.[\w:-]+', Name.Class, 'tag'),
            (r'\#[\w:-]+', Name.Function, 'tag'),
        ],

        'eval-or-plain': [
            (r'[&amp;!]?==', Punctuation, 'plain'),
            (r'([&amp;!]?[=~])(' + _dot + r'*\n)',
             bygroups(Punctuation, using(ScalaLexer)),  'root'),
            default('plain'),
        ],

        'content': [
            include('css'),
            (r'!!!'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 537:6 - Line 554:2), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 320:6 - Line 446:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn411" onclick="toggleCodeBlock('cloneGroup411', 'expandBtn411', 'collapseBtn411')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn411" onclick="toggleCodeBlock('cloneGroup411', 'expandBtn411', 'collapseBtn411')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup411"><code class="language-python text-sm text-gray-800">),
            (r'!!!' + _dot + r'*\n', Name.Namespace, '#pop'),
            (r'(/)(\[' + _dot + r'*?\])(' + _dot + r'*\n)',
             bygroups(Comment, Comment.Special, Comment),
             '#pop'),
            (r'/' + _dot + r'*\n', _starts_block(Comment, 'html-comment-block'),
             '#pop'),
            (r'-#' + _dot + r'*\n', _starts_block(Comment.Preproc,
                                                  'scaml-comment-block'), '#pop'),
            (r'(-@\s*)(import)?(' + _dot + r'*\n)',
             bygroups(Punctuation, Keyword, using(ScalaLexer)),
             '#pop'),
            (r'(-)(' + _dot + r'*\n)',
             bygroups(Punctuation, using(ScalaLexer)),
             '#pop'),
            (r':' + _dot + r'*\n', _starts_block(Name.Decorator, 'filter-block'),
             '#pop'),
            (</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 555:2 - Line 608:10), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 446:2 - Line 501:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn412" onclick="toggleCodeBlock('cloneGroup412', 'expandBtn412', 'collapseBtn412')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn412" onclick="toggleCodeBlock('cloneGroup412', 'expandBtn412', 'collapseBtn412')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup412"><code class="language-python text-sm text-gray-800">'eval-or-plain'),
        ],

        'tag': [
            include('css'),
            (r'\{(,\n|' + _dot + r')*?\}', using(ScalaLexer)),
            (r'\[' + _dot + r'*?\]', using(ScalaLexer)),
            (r'\(', Text, 'html-attributes'),
            (r'/[ \t]*\n', Punctuation, '#pop:2'),
            (r'[&lt;&gt;]{1,2}(?=[ \t=])', Punctuation),
            include('eval-or-plain'),
        ],

        'plain': [
            (r'([^#\n]|#[^{\n]|(\\\\)*\\#\{)+', Text),
            (r'(#\{)(' + _dot + r'*?)(\})',
             bygroups(String.Interpol, using(ScalaLexer), String.Interpol)),
            (r'\n', Text, 'root'),
        ],

        'html-attributes': [
            (r'\s+', Text),
            (r'[\w:-]+[ \t]*=', Name.Attribute, 'html-attribute-value'),
            (r'[\w:-]+', Name.Attribute),
            (r'\)', Text, '#pop'),
        ],

        'html-attribute-value': [
            (r'[ \t]+', Text),
            (r'\w+', Name.Variable, '#pop'),
            (r'@\w+', Name.Variable.Instance, '#pop'),
            (r'\$\w+', Name.Variable.Global, '#pop'),
            (r&quot;'(\\\\|\\[^\\]|[^'\\\n])*'&quot;, String, '#pop'),
            (r'&quot;(\\\\|\\[^\\]|[^&quot;\\\n])*&quot;', String, '#pop'),
        ],

        'html-comment-block': [
            (_dot + '+', Comment),
            (r'\n', Text, 'root'),
        ],

        'scaml-comment-block': [
            (_dot + '+', Comment.Preproc),
            (r'\n', Text, 'root'),
        ],

        'filter-block': [
            (r'([^#\n]|#[^{\n]|(\\\\)*\\#\{)+', Name.Decorator),
            (r'(#\{)(' + _dot + r'*?)(\})',
             bygroups(String.Interpol, using(ScalaLexer), String.Interpol)),
            (r'\n', Text, 'root'),
        ],
    }
JadeLexer</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/hdl.py (Line 165:9 - Line 178:55), .venv/lib/python3.14/site-packages/pygments/lexers/hdl.py (Line 36:8 - Line 46:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn413" onclick="toggleCodeBlock('cloneGroup413', 'expandBtn413', 'collapseBtn413')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn413" onclick="toggleCodeBlock('cloneGroup413', 'expandBtn413', 'collapseBtn413')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup413"><code class="language-python text-sm text-gray-800">),

            (r'\s+', Whitespace),
            (r'(\\)(\n)', bygroups(String.Escape, Whitespace)),  # line continuation
            (r'/(\\\n)?/(\n|(.|\n)*?[^\\]\n)', Comment.Single),
            (r'/(\\\n)?[*](.|\n)*?[*](\\\n)?/', Comment.Multiline),
            (r'[{}#@]', Punctuation),
            (r'L?&quot;', String, 'string'),
            (r&quot;L?'(\\.|\\[0-7]{1,3}|\\x[a-fA-F0-9]{1,2}|[^\\\'\n])'&quot;, String.Char),

            (r'(\d+\.\d*|\.\d+|\d+)[eE][+-]?\d+[lL]?', Number.Float),
            (r'(\d+\.\d*|\.\d+|\d+[fF])[fF]?', Number.Float),

            (r'([1-9][_0-9]*)?\s*\'[sS]?[bB]\s*[xXzZ?01][_xXzZ?01]*'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/hdl.py (Line 346:8 - Line 362:9), .venv/lib/python3.14/site-packages/pygments/lexers/hdl.py (Line 107:5 - Line 122:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn414" onclick="toggleCodeBlock('cloneGroup414', 'expandBtn414', 'collapseBtn414')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn414" onclick="toggleCodeBlock('cloneGroup414', 'expandBtn414', 'collapseBtn414')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup414"><code class="language-python text-sm text-gray-800">),

            (r'[a-zA-Z_]\w*:(?!:)', Name.Label),
            (r'\$?[a-zA-Z_]\w*', Name),
            (r'\\(\S+)', Name),
        ],
        'string': [
            (r'&quot;', String, '#pop'),
            (r'\\([\\abfnrtv&quot;\']|x[a-fA-F0-9]{2,4}|[0-7]{1,3})', String.Escape),
            (r'[^\\&quot;\n]+', String),  # all other characters
            (r'(\\)(\n)', bygroups(String.Escape, Whitespace)),  # line continuation
            (r'\\', String),  # stray backslash
        ],
        'macro': [
            (r'[^/\n]+', Comment.Preproc),
            (r'/[*](.|\n)*?[*]/', Comment.Multiline),
            (r'//.*?$'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 248:8 - Line 267:9), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 116:36 - Line 135:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn415" onclick="toggleCodeBlock('cloneGroup415', 'expandBtn415', 'collapseBtn415')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn415" onclick="toggleCodeBlock('cloneGroup415', 'expandBtn415', 'collapseBtn415')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup415"><code class="language-python text-sm text-gray-800">, Comment.Single),
            (r'\{-', Comment.Multiline, 'comment'),
            (r',', Punctuation),
            (r'[:!#$%&amp;*+.\\/&lt;=&gt;?@^|~-]+', Operator),
            # (HACK, but it makes sense to push two instances, believe me)
            (r'\(', Punctuation, ('funclist', 'funclist')),
            (r'\)', Punctuation, '#pop:2'),
        ],
        # NOTE: the next four states are shared in the AgdaLexer; make sure
        # any change is compatible with Agda as well or copy over and change
        'comment': [
            # Multiline Comments
            (r'[^-{}]+', Comment.Multiline),
            (r'\{-', Comment.Multiline, '#push'),
            (r'-\}', Comment.Multiline, '#pop'),
            (r'[-{}]', Comment.Multiline),
        ],
        'character': [
            # Allows multi-chars, incorrectly.
            (r&quot;[^\\']&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 267:5 - Line 278:15), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 135:7 - Line 146:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn416" onclick="toggleCodeBlock('cloneGroup416', 'expandBtn416', 'collapseBtn416')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn416" onclick="toggleCodeBlock('cloneGroup416', 'expandBtn416', 'collapseBtn416')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup416"><code class="language-python text-sm text-gray-800">),
            (r&quot;\\&quot;, String.Escape, 'escape'),
            (&quot;'&quot;, String.Char, '#pop'),
        ],
        'string': [
            (r'[^\\&quot;]+', String),
            (r&quot;\\&quot;, String.Escape, 'escape'),
            ('&quot;', String, '#pop'),
        ],
        'escape': [
            (r'[abfnrtv&quot;\'&amp;\\]', String.Escape, '#pop'),
            (r'\^[][A-Z@^_]'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 278:15 - Line 284:2), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 146:7 - Line 151:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn417" onclick="toggleCodeBlock('cloneGroup417', 'expandBtn417', 'collapseBtn417')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn417" onclick="toggleCodeBlock('cloneGroup417', 'expandBtn417', 'collapseBtn417')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup417"><code class="language-python text-sm text-gray-800">, String.Escape, '#pop'),
            ('|'.join(ascii), String.Escape, '#pop'),
            (r'o[0-7]+', String.Escape, '#pop'),
            (r'x[\da-fA-F]+', String.Escape, '#pop'),
            (r'\d+', String.Escape, '#pop'),
            (r'(\s+)(\\)', bygroups(Whitespace, String.Escape), '#pop')
        ]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 331:13 - Line 342:7), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 227:13 - Line 238:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn418" onclick="toggleCodeBlock('cloneGroup418', 'expandBtn418', 'collapseBtn418')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn418" onclick="toggleCodeBlock('cloneGroup418', 'expandBtn418', 'collapseBtn418')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup418"><code class="language-python text-sm text-gray-800">#  Numbers
            (r'\d+[eE][+-]?\d+', Number.Float),
            (r'\d+\.\d+([eE][+-]?\d+)?', Number.Float),
            (r'0[xX][\da-fA-F]+', Number.Hex),
            (r'\d+', Number.Integer),
            # Strings
            (r&quot;'&quot;, String.Char, 'character'),
            (r'&quot;', String, 'string'),
            (r'[^\s(){}]+', Text),
            (r'\s+?', Whitespace),  # Whitespace
        ],
        'hole'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 375:8 - Line 386:8), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 37:4 - Line 48:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn419" onclick="toggleCodeBlock('cloneGroup419', 'expandBtn419', 'collapseBtn419')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn419" onclick="toggleCodeBlock('cloneGroup419', 'expandBtn419', 'collapseBtn419')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup419"><code class="language-python text-sm text-gray-800">)
    ascii = ('NUL', 'SOH', '[SE]TX', 'EOT', 'ENQ', 'ACK',
             'BEL', 'BS', 'HT', 'LF', 'VT', 'FF', 'CR', 'S[OI]', 'DLE',
             'DC[1-4]', 'NAK', 'SYN', 'ETB', 'CAN',
             'EM', 'SUB', 'ESC', '[FGRU]S', 'SP', 'DEL')

    tokens = {
        'root': [
            # Whitespace:
            (r'\s+', Whitespace),
            # (r'--\s*|.*$', Comment.Doc),
            (r'//.*$'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 387:6 - Line 394:17), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 49:6 - Line 56:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn420" onclick="toggleCodeBlock('cloneGroup420', 'expandBtn420', 'collapseBtn420')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn420" onclick="toggleCodeBlock('cloneGroup420', 'expandBtn420', 'collapseBtn420')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup420"><code class="language-python text-sm text-gray-800">, Comment.Multiline, 'comment'),
            # Lexemes:
            #  Identifiers
            (r'\bimport\b', Keyword.Reserved, 'import'),
            (r'\bmodule\b', Keyword.Reserved, 'module'),
            (r'\berror\b', Name.Exception),
            (r'\b({})(?!\')\b'.format('|'.join(reserved)), Keyword.Reserved),
            (r'^[_a-z][\w\']*'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 407:6 - Line 424:43), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 78:12 - Line 95:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn421" onclick="toggleCodeBlock('cloneGroup421', 'expandBtn421', 'collapseBtn421')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn421" onclick="toggleCodeBlock('cloneGroup421', 'expandBtn421', 'collapseBtn421')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup421"><code class="language-python text-sm text-gray-800">, Number.Integer),
            #  Character/String Literals
            (r&quot;'&quot;, String.Char, 'character'),
            (r'&quot;', String, 'string'),
            #  Special
            (r'\[\]', Keyword.Type),
            (r'\(\)', Name.Builtin),
            (r'[][(),;`{}]', Punctuation),
        ],
        'import': [
            # Import statements
            (r'\s+', Whitespace),
            (r'&quot;', String, 'string'),
            # after &quot;funclist&quot; state
            (r'\)', Punctuation, '#pop'),
            (r'qualified\b', Keyword),
            # import X as Y
            (r'([A-Z][\w.]*)(\s+)(as)(\s+)([A-Z][\w.]*)'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 434:9 - Line 445:56), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 237:9 - Line 248:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn422" onclick="toggleCodeBlock('cloneGroup422', 'expandBtn422', 'collapseBtn422')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn422" onclick="toggleCodeBlock('cloneGroup422', 'expandBtn422', 'collapseBtn422')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup422"><code class="language-python text-sm text-gray-800">],
        'module': [
            (r'\s+', Whitespace),
            (r'([A-Z][\w.]*)(\s+)(\()',
             bygroups(Name.Namespace, Whitespace, Punctuation), 'funclist'),
            (r'[A-Z][\w.]*', Name.Namespace, '#pop'),
        ],
        'funclist': [
            (r'\s+', Whitespace),
            (r'[A-Z]\w*', Keyword.Type),
            (r'(_[\w\']+|[a-z][\w\']*)', Name.Function),
            # TODO: these don't match the comments in docs, remove.</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 459:7 - Line 483:15), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 131:8 - Line 156:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn423" onclick="toggleCodeBlock('cloneGroup423', 'expandBtn423', 'collapseBtn423')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn423" onclick="toggleCodeBlock('cloneGroup423', 'expandBtn423', 'collapseBtn423')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup423"><code class="language-python text-sm text-gray-800">, Comment.Multiline),
        ],
        'character': [
            # Allows multi-chars, incorrectly.
            (r&quot;[^\\']'&quot;, String.Char, '#pop'),
            (r&quot;\\&quot;, String.Escape, 'escape'),
            (&quot;'&quot;, String.Char, '#pop'),
        ],
        'string': [
            (r'[^\\&quot;]+', String),
            (r&quot;\\&quot;, String.Escape, 'escape'),
            ('&quot;', String, '#pop'),
        ],
        'escape': [
            (r'[abfnrtv&quot;\'&amp;\\]', String.Escape, '#pop'),
            (r'\^[][A-Z@^_]', String.Escape, '#pop'),
            ('|'.join(ascii), String.Escape, '#pop'),
            (r'o[0-7]+', String.Escape, '#pop'),
            (r'x[\da-fA-F]+', String.Escape, '#pop'),
            (r'\d+', String.Escape, '#pop'),
            (r'(\s+)(\\)', bygroups(Whitespace, String.Escape), '#pop'),
        ],
    }

    EXTRA_KEYWORDS</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/futhark.py (Line 82:8 - Line 105:2), .venv/lib/python3.14/site-packages/pygments/lexers/haskell.py (Line 131:10 - Line 153:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn424" onclick="toggleCodeBlock('cloneGroup424', 'expandBtn424', 'collapseBtn424')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn424" onclick="toggleCodeBlock('cloneGroup424', 'expandBtn424', 'collapseBtn424')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup424"><code class="language-python text-sm text-gray-800">),
        ],
        'character': [
            # Allows multi-chars, incorrectly.
            (r&quot;[^\\']'&quot;, String.Char, '#pop'),
            (r&quot;\\&quot;, String.Escape, 'escape'),
            (&quot;'&quot;, String.Char, '#pop'),
        ],
        'string': [
            (r'[^\\&quot;]+', String),
            (r&quot;\\&quot;, String.Escape, 'escape'),
            ('&quot;', String, '#pop'),
        ],

        'escape': [
            (r'[abfnrtv&quot;\'&amp;\\]', String.Escape, '#pop'),
            (r'\^[][' + uni.Lu + r'@^_]', String.Escape, '#pop'),
            ('|'.join(ascii), String.Escape, '#pop'),
            (r'o[0-7]+', String.Escape, '#pop'),
            (r'x[\da-fA-F]+', String.Escape, '#pop'),
            (r'\d+', String.Escape, '#pop'),
            (r'(\s+)(\\)', bygroups(Whitespace, String.Escape), '#pop'),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/fift.py (Line 55:7 - Line 68:2), .venv/lib/python3.14/site-packages/pygments/lexers/tlb.py (Line 46:12 - Line 59:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn425" onclick="toggleCodeBlock('cloneGroup425', 'expandBtn425', 'collapseBtn425')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn425" onclick="toggleCodeBlock('cloneGroup425', 'expandBtn425', 'collapseBtn425')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup425"><code class="language-python text-sm text-gray-800">)
        ],

        'comments': [
            (r'//.*', Comment.Singleline),
            (r'/\*', Comment.Multiline, 'comment'),
        ],
        'comment': [
            (r'[^/*]+', Comment.Multiline),
            (r'/\*', Comment.Multiline, '#push'),
            (r'\*/', Comment.Multiline, '#pop'),
            (r'[*/]', Comment.Multiline),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/erlang.py (Line 163:12 - Line 178:8), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 411:10 - Line 426:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn426" onclick="toggleCodeBlock('cloneGroup426', 'expandBtn426', 'collapseBtn426')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn426" onclick="toggleCodeBlock('cloneGroup426', 'expandBtn426', 'collapseBtn426')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup426"><code class="language-python text-sm text-gray-800">(**self.options)

        curcode = ''
        insertions = []
        for match in line_re.finditer(text):
            line = match.group()
            m = self._prompt_re.match(line)
            if m is not None:
                end = m.end()
                insertions.append((len(curcode),
                                   [(0, Generic.Prompt, line[:end])]))
                curcode += line[end:]
            else:
                if curcode:
                    yield from do_insertions(insertions,
                                             erlexer</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/dylan.py (Line 258:11 - Line 273:8), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 411:10 - Line 426:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn427" onclick="toggleCodeBlock('cloneGroup427', 'expandBtn427', 'collapseBtn427')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn427" onclick="toggleCodeBlock('cloneGroup427', 'expandBtn427', 'collapseBtn427')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup427"><code class="language-python text-sm text-gray-800">(**self.options)

        curcode = ''
        insertions = []
        for match in line_re.finditer(text):
            line = match.group()
            m = self._prompt_re.match(line)
            if m is not None:
                end = m.end()
                insertions.append((len(curcode),
                                   [(0, Generic.Prompt, line[:end])]))
                curcode += line[end:]
            else:
                if curcode:
                    yield from do_insertions(insertions,
                                             dylexer</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/dsls.py (Line 701:7 - Line 715:2), .venv/lib/python3.14/site-packages/pygments/lexers/shell.py (Line 600:9 - Line 614:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn428" onclick="toggleCodeBlock('cloneGroup428', 'expandBtn428', 'collapseBtn428')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn428" onclick="toggleCodeBlock('cloneGroup428', 'expandBtn428', 'collapseBtn428')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup428"><code class="language-python text-sm text-gray-800">),
        ],
        'curly': [
            (r'\}', Keyword, '#pop'),
            (r':-', Keyword),
            (r'\w+', Name.Variable),
            (r'[^}:&quot;\'`$]+', Punctuation),
            (r':', Punctuation),
            include('root'),
        ],
        'paren': [
            (r'\)', Keyword, '#pop'),
            include('root'),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/dotnet.py (Line 204:5 - Line 226:15), .venv/lib/python3.14/site-packages/pygments/lexers/dotnet.py (Line 55:5 - Line 77:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn429" onclick="toggleCodeBlock('cloneGroup429', 'expandBtn429', 'collapseBtn429')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn429" onclick="toggleCodeBlock('cloneGroup429', 'expandBtn429', 'collapseBtn429')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup429"><code class="language-python text-sm text-gray-800">flags = re.MULTILINE | re.DOTALL

    # for the range of allowed unicode characters in identifiers, see
    # http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-334.pdf

    levels = {
        'none': r'@?[_a-zA-Z]\w*',
        'basic': ('@?[_' + uni.combine('Lu', 'Ll', 'Lt', 'Lm', 'Nl') + ']' +
                  '[' + uni.combine('Lu', 'Ll', 'Lt', 'Lm', 'Nl', 'Nd', 'Pc',
                                    'Cf', 'Mn', 'Mc') + ']*'),
        'full': ('@?(?:_|[^' +
                 uni.allexcept('Lu', 'Ll', 'Lt', 'Lm', 'Lo', 'Nl') + '])' +
                 '[^' + uni.allexcept('Lu', 'Ll', 'Lt', 'Lm', 'Lo', 'Nl',
                                      'Nd', 'Pc', 'Cf', 'Mn', 'Mc') + ']*'),
    }

    tokens = {}
    token_variants = True

    for levelname, cs_ident in levels.items():
        tokens[levelname] = {
            'root': [
                # method names</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/dotnet.py (Line 231:27 - Line 238:2), .venv/lib/python3.14/site-packages/pygments/lexers/dotnet.py (Line 83:27 - Line 90:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn430" onclick="toggleCodeBlock('cloneGroup430', 'expandBtn430', 'collapseBtn430')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn430" onclick="toggleCodeBlock('cloneGroup430', 'expandBtn430', 'collapseBtn430')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup430"><code class="language-python text-sm text-gray-800">Punctuation)),
                (r'^(\s*)(\[.*?\])', bygroups(Whitespace, Name.Attribute)),
                (r'[^\S\n]+', Whitespace),
                (r'(\\)(\n)', bygroups(Text, Whitespace)),  # line continuation
                (r'//.*?\n', Comment.Single),
                (r'/[*].*?[*]/', Comment.Multiline),
                (r'\n', Whitespace),
                (r</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/dotnet.py (Line 328:13 - Line 342:4), .venv/lib/python3.14/site-packages/pygments/lexers/dotnet.py (Line 162:13 - Line 176:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn431" onclick="toggleCodeBlock('cloneGroup431', 'expandBtn431', 'collapseBtn431')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn431" onclick="toggleCodeBlock('cloneGroup431', 'expandBtn431', 'collapseBtn431')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup431"><code class="language-python text-sm text-gray-800">]
        }

    def __init__(self, **options):
        level = get_choice_opt(options, 'unicodelevel', list(self.tokens),
                               'basic')
        if level not in self._all_tokens:
            # compile the regexes now
            self._tokens = self.__class__.process_tokendef(level)
        else:
            self._tokens = self._all_tokens[level]

        RegexLexer.__init__(self, **options)

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/crystal.py (Line 47:9 - Line 53:3), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 49:9 - Line 55:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn432" onclick="toggleCodeBlock('cloneGroup432', 'expandBtn432', 'collapseBtn432')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn432" onclick="toggleCodeBlock('cloneGroup432', 'expandBtn432', 'collapseBtn432')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup432"><code class="language-python text-sm text-gray-800">yield match.start(2), String.Heredoc, match.group(2)    # quote &quot;, ', `
        yield match.start(3), String.Delimiter, match.group(3)  # heredoc name
        yield match.start(4), String.Heredoc, match.group(4)    # quote again

        heredocstack = ctx.__dict__.setdefault('heredocstack', [])
        outermost = not bool(heredocstack)
        heredocstack.append((match.group(1) ==</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/crystal.py (Line 53:6 - Line 88:25), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 55:2 - Line 90:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn433" onclick="toggleCodeBlock('cloneGroup433', 'expandBtn433', 'collapseBtn433')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn433" onclick="toggleCodeBlock('cloneGroup433', 'expandBtn433', 'collapseBtn433')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup433"><code class="language-python text-sm text-gray-800">, match.group(3)))

        ctx.pos = match.start(5)
        ctx.end = match.end(5)
        # this may find other heredocs, so limit the recursion depth
        if len(heredocstack) &lt; 100:
            yield from self.get_tokens_unprocessed(context=ctx)
        else:
            yield ctx.pos, String.Heredoc, match.group(5)
        ctx.pos = match.end()

        if outermost:
            # this is the outer heredoc again, now we can process them all
            for tolerant, hdname in heredocstack:
                lines = []
                for match in line_re.finditer(ctx.text, ctx.pos):
                    if tolerant:
                        check = match.group().strip()
                    else:
                        check = match.group().rstrip()
                    if check == hdname:
                        for amatch in lines:
                            yield amatch.start(), String.Heredoc, amatch.group()
                        yield match.start(), String.Delimiter, match.group()
                        ctx.pos = match.end()
                        break
                    else:
                        lines.append(match)
                else:
                    # end of heredoc not found -- error!
                    for amatch in lines:
                        yield amatch.start(), Error, amatch.group()
            ctx.end = len(ctx.text)
            del heredocstack[:]

    def gen_crystalstrings_rules</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/crystal.py (Line 150:10 - Line 158:7), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 161:14 - Line 169:34)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn434" onclick="toggleCodeBlock('cloneGroup434', 'expandBtn434', 'collapseBtn434')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn434" onclick="toggleCodeBlock('cloneGroup434', 'expandBtn434', 'collapseBtn434')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup434"><code class="language-python text-sm text-gray-800">, String.Regex, '#pop'),
                include('string-intp'),
                (r'[\\#' + bracecc + ']', String.Regex),
                (r'[^\\#' + bracecc + ']+', String.Regex),
            ]
            states['strings'].append((r'%r' + lbrace, String.Regex,
                                      name+'-regex'))

        return</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/crystal.py (Line 203:28 - Line 229:11), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 255:31 - Line 281:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn435" onclick="toggleCodeBlock('cloneGroup435', 'expandBtn435', 'collapseBtn435')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn435" onclick="toggleCodeBlock('cloneGroup435', 'expandBtn435', 'collapseBtn435')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup435"><code class="language-python text-sm text-gray-800">, heredoc_callback),
            (r'__END__', Comment.Preproc, 'end-part'),
            # multiline regex (after keywords or assignments)
            (r'(?:^|(?&lt;=[=&lt;&gt;~!:])|'
             r'(?&lt;=(?:\s|;)when\s)|'
             r'(?&lt;=(?:\s|;)or\s)|'
             r'(?&lt;=(?:\s|;)and\s)|'
             r'(?&lt;=\.index\s)|'
             r'(?&lt;=\.scan\s)|'
             r'(?&lt;=\.sub\s)|'
             r'(?&lt;=\.sub!\s)|'
             r'(?&lt;=\.gsub\s)|'
             r'(?&lt;=\.gsub!\s)|'
             r'(?&lt;=\.match\s)|'
             r'(?&lt;=(?:\s|;)if\s)|'
             r'(?&lt;=(?:\s|;)elsif\s)|'
             r'(?&lt;=^when\s)|'
             r'(?&lt;=^index\s)|'
             r'(?&lt;=^scan\s)|'
             r'(?&lt;=^sub\s)|'
             r'(?&lt;=^gsub\s)|'
             r'(?&lt;=^sub!\s)|'
             r'(?&lt;=^gsub!\s)|'
             r'(?&lt;=^match\s)|'
             r'(?&lt;=^if\s)|'
             r'(?&lt;=^elsif\s)'
             r')(\s*)(/)', bygroups(Whitespace</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/crystal.py (Line 260:59 - Line 270:77), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 301:31 - Line 311:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn436" onclick="toggleCodeBlock('cloneGroup436', 'expandBtn436', 'collapseBtn436')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn436" onclick="toggleCodeBlock('cloneGroup436', 'expandBtn436', 'collapseBtn436')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup436"><code class="language-python text-sm text-gray-800">,
             bygroups(Number.Integer, Whitespace, Operator)),
            # Names
            (r'@@[a-zA-Z_]\w*', Name.Variable.Class),
            (r'@[a-zA-Z_]\w*', Name.Variable.Instance),
            (r'\$\w+', Name.Variable.Global),
            (r'\$[!@&amp;`\'+~=/\\,;.&lt;&gt;_*$?:&quot;^-]', Name.Variable.Global),
            (r'\$-[0adFiIlpvw]', Name.Variable.Global),
            (r'::', Operator),
            include('strings'),
            # https://crystal-lang.org/reference/syntax_and_semantics/literals/char.html</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/crystal.py (Line 325:9 - Line 342:11), .venv/lib/python3.14/site-packages/pygments/lexers/ruby.py (Line 367:9 - Line 384:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn437" onclick="toggleCodeBlock('cloneGroup437', 'expandBtn437', 'collapseBtn437')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn437" onclick="toggleCodeBlock('cloneGroup437', 'expandBtn437', 'collapseBtn437')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup437"><code class="language-python text-sm text-gray-800">],
        'interpolated-regex': [
            include('string-intp'),
            (r'[\\#]', String.Regex),
            (r'[^\\#]+', String.Regex),
        ],
        'interpolated-string': [
            include('string-intp'),
            (r'[\\#]', String.Other),
            (r'[^\\#]+', String.Other),
        ],
        'multiline-regex': [
            include('string-intp'),
            (r'\\\\', String.Regex),
            (r'\\/', String.Regex),
            (r'[\\#]', String.Regex),
            (r'[^\\/#]+', String.Regex),
            (r'/[imsx]*'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/c_cpp.py (Line 194:19 - Line 202:23), .venv/lib/python3.14/site-packages/pygments/lexers/pawn.py (Line 74:17 - Line 82:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn438" onclick="toggleCodeBlock('cloneGroup438', 'expandBtn438', 'collapseBtn438')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn438" onclick="toggleCodeBlock('cloneGroup438', 'expandBtn438', 'collapseBtn438')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup438"><code class="language-python text-sm text-gray-800">, Comment.Multiline),
            (r'//.*?\n', Comment.Single, '#pop'),
            (r'/', Comment.Preproc),
            (r'(?&lt;=\\)\n', Comment.Preproc),
            (r'\n', Comment.Preproc, '#pop'),
        ],
        'if0': [
            (r'^\s*#if.*?(?&lt;!\\)\n', Comment.Preproc, '#push'),
            (r'^\s*#el(?:se|if).*\n'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/automation.py (Line 351:19 - Line 371:6), .venv/lib/python3.14/site-packages/pygments/lexers/automation.py (Line 168:23 - Line 188:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn439" onclick="toggleCodeBlock('cloneGroup439', 'expandBtn439', 'collapseBtn439')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn439" onclick="toggleCodeBlock('cloneGroup439', 'expandBtn439', 'collapseBtn439')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup439"><code class="language-python text-sm text-gray-800">, bygroups(Text, Name.Label)),
        ],
        'numbers': [
            (r'(\d+\.\d*|\d*\.\d+)([eE][+-]?[0-9]+)?', Number.Float),
            (r'\d+[eE][+-]?[0-9]+', Number.Float),
            (r'0\d+', Number.Oct),
            (r'0[xX][a-fA-F0-9]+', Number.Hex),
            (r'\d+L', Number.Integer.Long),
            (r'\d+', Number.Integer)
        ],
        'stringescape': [
            (r'\&quot;\&quot;|\`([,%`abfnrtv])', String.Escape),
        ],
        'strings': [
            (r'[^&quot;\n]+', String),
        ],
        'dqs': [
            (r'&quot;', String, '#pop'),
            include('strings')
        ],
        'sqs'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/apdlexer.py (Line 484:11 - Line 517:11), .venv/lib/python3.14/site-packages/pygments/lexers/apdlexer.py (Line 38:11 - Line 46:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn440" onclick="toggleCodeBlock('cloneGroup440', 'expandBtn440', 'collapseBtn440')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn440" onclick="toggleCodeBlock('cloneGroup440', 'expandBtn440', 'collapseBtn440')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup440"><code class="language-python text-sm text-gray-800">,
                &quot;CONTA177&quot;,
                &quot;CONTA178&quot;,
                &quot;PRETS179&quot;,
                &quot;LINK180&quot;,
                &quot;SHELL181&quot;,
                &quot;PLANE182&quot;,
                &quot;PLANE183&quot;,
                &quot;MPC184&quot;,
                &quot;SOLID185&quot;,
                &quot;SOLID186&quot;,
                &quot;SOLID187&quot;,
                &quot;BEAM188&quot;,
                &quot;BEAM189&quot;,
                &quot;SOLSH190&quot;,
                &quot;INTER192&quot;,
                &quot;INTER193&quot;,
                &quot;INTER194&quot;,
                &quot;INTER195&quot;,
                &quot;MESH200&quot;,
                &quot;FOLLW201&quot;,
                &quot;INTER202&quot;,
                &quot;INTER203&quot;,
                &quot;INTER204&quot;,
                &quot;INTER205&quot;,
                &quot;SHELL208&quot;,
                &quot;SHELL209&quot;,
                &quot;CPT212&quot;,
                &quot;CPT213&quot;,
                &quot;COMBI214&quot;,
                &quot;CPT215&quot;,
                &quot;CPT216&quot;,
                &quot;CPT217&quot;,
                &quot;FLUID218&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/actionscript.py (Line 230:8 - Line 243:2), .venv/lib/python3.14/site-packages/pygments/lexers/html.py (Line 221:4 - Line 234:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn441" onclick="toggleCodeBlock('cloneGroup441', 'expandBtn441', 'collapseBtn441')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn441" onclick="toggleCodeBlock('cloneGroup441', 'expandBtn441', 'collapseBtn441')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup441"><code class="language-python text-sm text-gray-800">),
        ],
        'tag': [
            (r'\s+', Whitespace),
            (r'[\w.:-]+\s*=', Name.Attribute, 'attr'),
            (r'/?\s*&gt;', Name.Tag, '#pop'),
        ],
        'attr': [
            (r'\s+', Whitespace),
            ('&quot;.*?&quot;', String, '#pop'),
            (&quot;'.*?'&quot;, String, '#pop'),
            (r'[^\s&gt;]+', String, '#pop'),
        ],
    }</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexers/__init__.py (Line 20:2 - Line 362:6), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/lexers/__init__.py (Line 20:2 - Line 362:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn442" onclick="toggleCodeBlock('cloneGroup442', 'expandBtn442', 'collapseBtn442')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn442" onclick="toggleCodeBlock('cloneGroup442', 'expandBtn442', 'collapseBtn442')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup442"><code class="language-python text-sm text-gray-800">pygments.util import ClassNotFound, guess_decode

COMPAT = {
    'Python3Lexer': 'PythonLexer',
    'Python3TracebackLexer': 'PythonTracebackLexer',
    'LeanLexer': 'Lean3Lexer',
}

__all__ = ['get_lexer_by_name', 'get_lexer_for_filename', 'find_lexer_class',
           'guess_lexer', 'load_lexer_from_file'] + list(LEXERS) + list(COMPAT)

_lexer_cache = {}
_pattern_cache = {}


def _fn_matches(fn, glob):
    &quot;&quot;&quot;Return whether the supplied file name fn matches pattern filename.&quot;&quot;&quot;
    if glob not in _pattern_cache:
        pattern = _pattern_cache[glob] = re.compile(fnmatch.translate(glob))
        return pattern.match(fn)
    return _pattern_cache[glob].match(fn)


def _load_lexers(module_name):
    &quot;&quot;&quot;Load a lexer (and all others in the module too).&quot;&quot;&quot;
    mod = __import__(module_name, None, None, ['__all__'])
    for lexer_name in mod.__all__:
        cls = getattr(mod, lexer_name)
        _lexer_cache[cls.name] = cls


def get_all_lexers(plugins=True):
    &quot;&quot;&quot;Return a generator of tuples in the form ``(name, aliases,
    filenames, mimetypes)`` of all know lexers.

    If *plugins* is true (the default), plugin lexers supplied by entrypoints
    are also returned.  Otherwise, only builtin ones are considered.
    &quot;&quot;&quot;
    for item in LEXERS.values():
        yield item[1:]
    if plugins:
        for lexer in find_plugin_lexers():
            yield lexer.name, lexer.aliases, lexer.filenames, lexer.mimetypes


def find_lexer_class(name):
    &quot;&quot;&quot;
    Return the `Lexer` subclass that with the *name* attribute as given by
    the *name* argument.
    &quot;&quot;&quot;
    if name in _lexer_cache:
        return _lexer_cache[name]
    # lookup builtin lexers
    for module_name, lname, aliases, _, _ in LEXERS.values():
        if name == lname:
            _load_lexers(module_name)
            return _lexer_cache[name]
    # continue with lexers from setuptools entrypoints
    for cls in find_plugin_lexers():
        if cls.name == name:
            return cls


def find_lexer_class_by_name(_alias):
    &quot;&quot;&quot;
    Return the `Lexer` subclass that has `alias` in its aliases list, without
    instantiating it.

    Like `get_lexer_by_name`, but does not instantiate the class.

    Will raise :exc:`pygments.util.ClassNotFound` if no lexer with that alias is
    found.

    .. versionadded:: 2.2
    &quot;&quot;&quot;
    if not _alias:
        raise ClassNotFound(f'no lexer for alias {_alias!r} found')
    # lookup builtin lexers
    for module_name, name, aliases, _, _ in LEXERS.values():
        if _alias.lower() in aliases:
            if name not in _lexer_cache:
                _load_lexers(module_name)
            return _lexer_cache[name]
    # continue with lexers from setuptools entrypoints
    for cls in find_plugin_lexers():
        if _alias.lower() in cls.aliases:
            return cls
    raise ClassNotFound(f'no lexer for alias {_alias!r} found')


def get_lexer_by_name(_alias, **options):
    &quot;&quot;&quot;
    Return an instance of a `Lexer` subclass that has `alias` in its
    aliases list. The lexer is given the `options` at its
    instantiation.

    Will raise :exc:`pygments.util.ClassNotFound` if no lexer with that alias is
    found.
    &quot;&quot;&quot;
    if not _alias:
        raise ClassNotFound(f'no lexer for alias {_alias!r} found')

    # lookup builtin lexers
    for module_name, name, aliases, _, _ in LEXERS.values():
        if _alias.lower() in aliases:
            if name not in _lexer_cache:
                _load_lexers(module_name)
            return _lexer_cache[name](**options)
    # continue with lexers from setuptools entrypoints
    for cls in find_plugin_lexers():
        if _alias.lower() in cls.aliases:
            return cls(**options)
    raise ClassNotFound(f'no lexer for alias {_alias!r} found')


def load_lexer_from_file(filename, lexername=&quot;CustomLexer&quot;, **options):
    &quot;&quot;&quot;Load a lexer from a file.

    This method expects a file located relative to the current working
    directory, which contains a Lexer class. By default, it expects the
    Lexer to be name CustomLexer; you can specify your own class name
    as the second argument to this function.

    Users should be very careful with the input, because this method
    is equivalent to running eval on the input file.

    Raises ClassNotFound if there are any problems importing the Lexer.

    .. versionadded:: 2.2
    &quot;&quot;&quot;
    try:
        # This empty dict will contain the namespace for the exec'd file
        custom_namespace = {}
        with open(filename, 'rb') as f:
            exec(f.read(), custom_namespace)
        # Retrieve the class `lexername` from that namespace
        if lexername not in custom_namespace:
            raise ClassNotFound(f'no valid {lexername} class found in {filename}')
        lexer_class = custom_namespace[lexername]
        # And finally instantiate it with the options
        return lexer_class(**options)
    except OSError as err:
        raise ClassNotFound(f'cannot read {filename}: {err}')
    except ClassNotFound:
        raise
    except Exception as err:
        raise ClassNotFound(f'error when loading custom lexer: {err}')


def find_lexer_class_for_filename(_fn, code=None):
    &quot;&quot;&quot;Get a lexer for a filename.

    If multiple lexers match the filename pattern, use ``analyse_text()`` to
    figure out which one is more appropriate.

    Returns None if not found.
    &quot;&quot;&quot;
    matches = []
    fn = basename(_fn)
    for modname, name, _, filenames, _ in LEXERS.values():
        for filename in filenames:
            if _fn_matches(fn, filename):
                if name not in _lexer_cache:
                    _load_lexers(modname)
                matches.append((_lexer_cache[name], filename))
    for cls in find_plugin_lexers():
        for filename in cls.filenames:
            if _fn_matches(fn, filename):
                matches.append((cls, filename))

    if isinstance(code, bytes):
        # decode it, since all analyse_text functions expect unicode
        code = guess_decode(code)

    def get_rating(info):
        cls, filename = info
        # explicit patterns get a bonus
        bonus = '*' not in filename and 0.5 or 0
        # The class _always_ defines analyse_text because it's included in
        # the Lexer class.  The default implementation returns None which
        # gets turned into 0.0.  Run scripts/detect_missing_analyse_text.py
        # to find lexers which need it overridden.
        if code:
            return cls.analyse_text(code) + bonus, cls.__name__
        return cls.priority + bonus, cls.__name__

    if matches:
        matches.sort(key=get_rating)
        # print &quot;Possible lexers, after sort:&quot;, matches
        return matches[-1][0]


def get_lexer_for_filename(_fn, code=None, **options):
    &quot;&quot;&quot;Get a lexer for a filename.

    Return a `Lexer` subclass instance that has a filename pattern
    matching `fn`. The lexer is given the `options` at its
    instantiation.

    Raise :exc:`pygments.util.ClassNotFound` if no lexer for that filename
    is found.

    If multiple lexers match the filename pattern, use their ``analyse_text()``
    methods to figure out which one is more appropriate.
    &quot;&quot;&quot;
    res = find_lexer_class_for_filename(_fn, code)
    if not res:
        raise ClassNotFound(f'no lexer for filename {_fn!r} found')
    return res(**options)


def get_lexer_for_mimetype(_mime, **options):
    &quot;&quot;&quot;
    Return a `Lexer` subclass instance that has `mime` in its mimetype
    list. The lexer is given the `options` at its instantiation.

    Will raise :exc:`pygments.util.ClassNotFound` if not lexer for that mimetype
    is found.
    &quot;&quot;&quot;
    for modname, name, _, _, mimetypes in LEXERS.values():
        if _mime in mimetypes:
            if name not in _lexer_cache:
                _load_lexers(modname)
            return _lexer_cache[name](**options)
    for cls in find_plugin_lexers():
        if _mime in cls.mimetypes:
            return cls(**options)
    raise ClassNotFound(f'no lexer for mimetype {_mime!r} found')


def _iter_lexerclasses(plugins=True):
    &quot;&quot;&quot;Return an iterator over all lexer classes.&quot;&quot;&quot;
    for key in sorted(LEXERS):
        module_name, name = LEXERS[key][:2]
        if name not in _lexer_cache:
            _load_lexers(module_name)
        yield _lexer_cache[name]
    if plugins:
        yield from find_plugin_lexers()


def guess_lexer_for_filename(_fn, _text, **options):
    &quot;&quot;&quot;
    As :func:`guess_lexer()`, but only lexers which have a pattern in `filenames`
    or `alias_filenames` that matches `filename` are taken into consideration.

    :exc:`pygments.util.ClassNotFound` is raised if no lexer thinks it can
    handle the content.
    &quot;&quot;&quot;
    fn = basename(_fn)
    primary = {}
    matching_lexers = set()
    for lexer in _iter_lexerclasses():
        for filename in lexer.filenames:
            if _fn_matches(fn, filename):
                matching_lexers.add(lexer)
                primary[lexer] = True
        for filename in lexer.alias_filenames:
            if _fn_matches(fn, filename):
                matching_lexers.add(lexer)
                primary[lexer] = False
    if not matching_lexers:
        raise ClassNotFound(f'no lexer for filename {fn!r} found')
    if len(matching_lexers) == 1:
        return matching_lexers.pop()(**options)
    result = []
    for lexer in matching_lexers:
        rv = lexer.analyse_text(_text)
        if rv == 1.0:
            return lexer(**options)
        result.append((rv, lexer))

    def type_sort(t):
        # sort by:
        # - analyse score
        # - is primary filename pattern?
        # - priority
        # - last resort: class name
        return (t[0], primary[t[1]], t[1].priority, t[1].__name__)
    result.sort(key=type_sort)

    return result[-1][1](**options)


def guess_lexer(_text, **options):
    &quot;&quot;&quot;
    Return a `Lexer` subclass instance that's guessed from the text in
    `text`. For that, the :meth:`.analyse_text()` method of every known lexer
    class is called with the text as argument, and the lexer which returned the
    highest value will be instantiated and returned.

    :exc:`pygments.util.ClassNotFound` is raised if no lexer thinks it can
    handle the content.
    &quot;&quot;&quot;

    if not isinstance(_text, str):
        inencoding = options.get('inencoding', options.get('encoding'))
        if inencoding:
            _text = _text.decode(inencoding or 'utf8')
        else:
            _text, _ = guess_decode(_text)

    # try to get a vim modeline first
    ft = get_filetype_from_buffer(_text)

    if ft is not None:
        try:
            return get_lexer_by_name(ft, **options)
        except ClassNotFound:
            pass

    best_lexer = [0.0, None]
    for lexer in _iter_lexerclasses():
        rv = lexer.analyse_text(_text)
        if rv == 1.0:
            return lexer(**options)
        if rv &gt; best_lexer[0]:
            best_lexer[:] = (rv, lexer)
    if not best_lexer[0] or best_lexer[1] is None:
        raise ClassNotFound('no lexer matching the text found')
    return best_lexer[1](**options)


class _automodule(types.ModuleType):
    &quot;&quot;&quot;Automatically import lexers.&quot;&quot;&quot;

    def __getattr__(self, name):
        info = LEXERS.get(name)
        if info:
            _load_lexers(info[0])
            cls = _lexer_cache[info[1]]
            setattr(self, name, cls)
            return cls
        if name in COMPAT:
            return getattr(self, COMPAT[name])
        raise AttributeError(name)


oldmod = sys.modules[__name__]
newmod = _automodule(__name__)
newmod.__dict__.update(oldmod.__dict__)
sys.modules[__name__] = newmod
del newmod.newmod, newmod.oldmod, newmod.sys, newmod.types</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/terminal256.py (Line 330:13 - Line 337:18), .venv/lib/python3.14/site-packages/pygments/formatters/terminal256.py (Line 235:13 - Line 242:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn443" onclick="toggleCodeBlock('cloneGroup443', 'expandBtn443', 'collapseBtn443')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn443" onclick="toggleCodeBlock('cloneGroup443', 'expandBtn443', 'collapseBtn443')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup443"><code class="language-python text-sm text-gray-800">(ndef['bgcolor'])
            if self.usebold and ndef['bold']:
                escape.bold = True
            if self.useunderline and ndef['underline']:
                escape.underline = True
            if self.useitalic and ndef['italic']:
                escape.italic = True
            self.style_string[str(ttype)] = (escape.true_color_string</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/irc.py (Line 22:2 - Line 30:13), .venv/lib/python3.14/site-packages/pygments/formatters/terminal.py (Line 23:2 - Line 31:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn444" onclick="toggleCodeBlock('cloneGroup444', 'expandBtn444', 'collapseBtn444')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn444" onclick="toggleCodeBlock('cloneGroup444', 'expandBtn444', 'collapseBtn444')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup444"><code class="language-python text-sm text-gray-800">= {
    Token:              ('',            ''),

    Whitespace:         ('gray',   'brightblack'),
    Comment:            ('gray',   'brightblack'),
    Comment.Preproc:    ('cyan',        'brightcyan'),
    Keyword:            ('blue',    'brightblue'),
    Keyword.Type:       ('cyan',        'brightcyan'),
    Operator.Word:      ('magenta',      'brightcyan'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/irc.py (Line 30:13 - Line 48:6), .venv/lib/python3.14/site-packages/pygments/formatters/terminal.py (Line 31:16 - Line 49:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn445" onclick="toggleCodeBlock('cloneGroup445', 'expandBtn445', 'collapseBtn445')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn445" onclick="toggleCodeBlock('cloneGroup445', 'expandBtn445', 'collapseBtn445')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup445"><code class="language-python text-sm text-gray-800">),
    Name.Builtin:       ('cyan',        'brightcyan'),
    Name.Function:      ('green',   'brightgreen'),
    Name.Namespace:     ('_cyan_',      '_brightcyan_'),
    Name.Class:         ('_green_', '_brightgreen_'),
    Name.Exception:     ('cyan',        'brightcyan'),
    Name.Decorator:     ('brightblack',    'gray'),
    Name.Variable:      ('red',     'brightred'),
    Name.Constant:      ('red',     'brightred'),
    Name.Attribute:     ('cyan',        'brightcyan'),
    Name.Tag:           ('brightblue',        'brightblue'),
    String:             ('yellow',       'yellow'),
    Number:             ('blue',    'brightblue'),

    Generic.Deleted:    ('brightred',        'brightred'),
    Generic.Inserted:   ('green',  'brightgreen'),
    Generic.Heading:    ('**',         '**'),
    Generic.Subheading: ('*magenta*',   '*brightmagenta*'),
    Generic.Error</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/img.py (Line 140:2 - Line 148:19), .venv/lib/python3.14/site-packages/pygments/formatters/img.py (Line 108:2 - Line 116:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn446" onclick="toggleCodeBlock('cloneGroup446', 'expandBtn446', 'collapseBtn446')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn446" onclick="toggleCodeBlock('cloneGroup446', 'expandBtn446', 'collapseBtn446')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup446"><code class="language-python text-sm text-gray-800">self.font_name, name)
            if path is not None:
                self.fonts['NORMAL'] = ImageFont.truetype(path, self.font_size)
                break
        else:
            raise FontNotFound(f'No usable fonts named: &quot;{self.font_name}&quot;')
        for style in ('ITALIC', 'BOLD', 'BOLDITALIC'):
            for stylename in STYLES[style]:
                path = self._get_mac_font_path</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/img.py (Line 148:2 - Line 158:12), .venv/lib/python3.14/site-packages/pygments/formatters/img.py (Line 116:2 - Line 126:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn447" onclick="toggleCodeBlock('cloneGroup447', 'expandBtn447', 'collapseBtn447')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn447" onclick="toggleCodeBlock('cloneGroup447', 'expandBtn447', 'collapseBtn447')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup447"><code class="language-python text-sm text-gray-800">self.font_name, stylename)
                if path is not None:
                    self.fonts[style] = ImageFont.truetype(path, self.font_size)
                    break
            else:
                if style == 'BOLDITALIC':
                    self.fonts[style] = self.fonts['BOLD']
                else:
                    self.fonts[style] = self.fonts['NORMAL']

    def _lookup_win</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/_mapping.py (Line 1:1 - Line 23:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/formatters/_mapping.py (Line 1:1 - Line 23:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn448" onclick="toggleCodeBlock('cloneGroup448', 'expandBtn448', 'collapseBtn448')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn448" onclick="toggleCodeBlock('cloneGroup448', 'expandBtn448', 'collapseBtn448')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup448"><code class="language-python text-sm text-gray-800"># Automatically generated by scripts/gen_mapfiles.py.
# DO NOT EDIT BY HAND; run `tox -e mapfiles` instead.

FORMATTERS = {
    'BBCodeFormatter': ('pygments.formatters.bbcode', 'BBCode', ('bbcode', 'bb'), (), 'Format tokens with BBcodes. These formatting codes are used by many bulletin boards, so you can highlight your sourcecode with pygments before posting it there.'),
    'BmpImageFormatter': ('pygments.formatters.img', 'img_bmp', ('bmp', 'bitmap'), ('*.bmp',), 'Create a bitmap image from source code. This uses the Python Imaging Library to generate a pixmap from the source code.'),
    'GifImageFormatter': ('pygments.formatters.img', 'img_gif', ('gif',), ('*.gif',), 'Create a GIF image from source code. This uses the Python Imaging Library to generate a pixmap from the source code.'),
    'GroffFormatter': ('pygments.formatters.groff', 'groff', ('groff', 'troff', 'roff'), (), 'Format tokens with groff escapes to change their color and font style.'),
    'HtmlFormatter': ('pygments.formatters.html', 'HTML', ('html',), ('*.html', '*.htm'), &quot;Format tokens as HTML 4 ``&lt;span&gt;`` tags. By default, the content is enclosed in a ``&lt;pre&gt;`` tag, itself wrapped in a ``&lt;div&gt;`` tag (but see the `nowrap` option). The ``&lt;div&gt;``'s CSS class can be set by the `cssclass` option.&quot;),
    'IRCFormatter': ('pygments.formatters.irc', 'IRC', ('irc', 'IRC'), (), 'Format tokens with IRC color sequences'),
    'ImageFormatter': ('pygments.formatters.img', 'img', ('img', 'IMG', 'png'), ('*.png',), 'Create a PNG image from source code. This uses the Python Imaging Library to generate a pixmap from the source code.'),
    'JpgImageFormatter': ('pygments.formatters.img', 'img_jpg', ('jpg', 'jpeg'), ('*.jpg',), 'Create a JPEG image from source code. This uses the Python Imaging Library to generate a pixmap from the source code.'),
    'LatexFormatter': ('pygments.formatters.latex', 'LaTeX', ('latex', 'tex'), ('*.tex',), 'Format tokens as LaTeX code. This needs the `fancyvrb` and `color` standard packages.'),
    'NullFormatter': ('pygments.formatters.other', 'Text only', ('text', 'null'), ('*.txt',), 'Output the text unchanged without any formatting.'),
    'PangoMarkupFormatter': ('pygments.formatters.pangomarkup', 'Pango Markup', ('pango', 'pangomarkup'), (), 'Format tokens as Pango Markup code. It can then be rendered to an SVG.'),
    'RawTokenFormatter': ('pygments.formatters.other', 'Raw tokens', ('raw', 'tokens'), ('*.raw',), 'Format tokens as a raw representation for storing token streams.'),
    'RtfFormatter': ('pygments.formatters.rtf', 'RTF', ('rtf',), ('*.rtf',), 'Format tokens as RTF markup. This formatter automatically outputs full RTF documents with color information and other useful stuff. Perfect for Copy and Paste into Microsoft(R) Word(R) documents.'),
    'SvgFormatter': ('pygments.formatters.svg', 'SVG', ('svg',), ('*.svg',), 'Format tokens as an SVG graphics file.  This formatter is still experimental. Each line of code is a ``&lt;text&gt;`` element with explicit ``x`` and ``y`` coordinates containing ``&lt;tspan&gt;`` elements with the individual token styles.'),
    'Terminal256Formatter': ('pygments.formatters.terminal256', 'Terminal256', ('terminal256', 'console256', '256'), (), 'Format tokens with ANSI color sequences, for output in a 256-color terminal or console.  Like in `TerminalFormatter` color sequences are terminated at newlines, so that paging the output works correctly.'),
    'TerminalFormatter': ('pygments.formatters.terminal', 'Terminal', ('terminal', 'console'), (), 'Format tokens with ANSI color sequences, for output in a text console. Color sequences are terminated at newlines, so that paging the output works correctly.'),
    'TerminalTrueColorFormatter': ('pygments.formatters.terminal256', 'TerminalTrueColor', ('terminal16m', 'console16m', '16m'), (), 'Format tokens with ANSI color sequences, for output in a true-color terminal or console.  Like in `TerminalFormatter` color sequences are terminated at newlines, so that paging the output works correctly.'),
    'TestcaseFormatter': ('pygments.formatters.other', 'Testcase', ('testcase',), (), 'Format tokens as appropriate for a new testcase.'),
}</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatters/__init__.py (Line 19:2 - Line 157:6), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/formatters/__init__.py (Line 19:2 - Line 157:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn449" onclick="toggleCodeBlock('cloneGroup449', 'expandBtn449', 'collapseBtn449')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn449" onclick="toggleCodeBlock('cloneGroup449', 'expandBtn449', 'collapseBtn449')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup449"><code class="language-python text-sm text-gray-800">pygments.util import ClassNotFound

__all__ = ['get_formatter_by_name', 'get_formatter_for_filename',
           'get_all_formatters', 'load_formatter_from_file'] + list(FORMATTERS)

_formatter_cache = {}  # classes by name
_pattern_cache = {}


def _fn_matches(fn, glob):
    &quot;&quot;&quot;Return whether the supplied file name fn matches pattern filename.&quot;&quot;&quot;
    if glob not in _pattern_cache:
        pattern = _pattern_cache[glob] = re.compile(fnmatch.translate(glob))
        return pattern.match(fn)
    return _pattern_cache[glob].match(fn)


def _load_formatters(module_name):
    &quot;&quot;&quot;Load a formatter (and all others in the module too).&quot;&quot;&quot;
    mod = __import__(module_name, None, None, ['__all__'])
    for formatter_name in mod.__all__:
        cls = getattr(mod, formatter_name)
        _formatter_cache[cls.name] = cls


def get_all_formatters():
    &quot;&quot;&quot;Return a generator for all formatter classes.&quot;&quot;&quot;
    # NB: this returns formatter classes, not info like get_all_lexers().
    for info in FORMATTERS.values():
        if info[1] not in _formatter_cache:
            _load_formatters(info[0])
        yield _formatter_cache[info[1]]
    for _, formatter in find_plugin_formatters():
        yield formatter


def find_formatter_class(alias):
    &quot;&quot;&quot;Lookup a formatter by alias.

    Returns None if not found.
    &quot;&quot;&quot;
    for module_name, name, aliases, _, _ in FORMATTERS.values():
        if alias in aliases:
            if name not in _formatter_cache:
                _load_formatters(module_name)
            return _formatter_cache[name]
    for _, cls in find_plugin_formatters():
        if alias in cls.aliases:
            return cls


def get_formatter_by_name(_alias, **options):
    &quot;&quot;&quot;
    Return an instance of a :class:`.Formatter` subclass that has `alias` in its
    aliases list. The formatter is given the `options` at its instantiation.

    Will raise :exc:`pygments.util.ClassNotFound` if no formatter with that
    alias is found.
    &quot;&quot;&quot;
    cls = find_formatter_class(_alias)
    if cls is None:
        raise ClassNotFound(f&quot;no formatter found for name {_alias!r}&quot;)
    return cls(**options)


def load_formatter_from_file(filename, formattername=&quot;CustomFormatter&quot;, **options):
    &quot;&quot;&quot;
    Return a `Formatter` subclass instance loaded from the provided file, relative
    to the current directory.

    The file is expected to contain a Formatter class named ``formattername``
    (by default, CustomFormatter). Users should be very careful with the input, because
    this method is equivalent to running ``eval()`` on the input file. The formatter is
    given the `options` at its instantiation.

    :exc:`pygments.util.ClassNotFound` is raised if there are any errors loading
    the formatter.

    .. versionadded:: 2.2
    &quot;&quot;&quot;
    try:
        # This empty dict will contain the namespace for the exec'd file
        custom_namespace = {}
        with open(filename, 'rb') as f:
            exec(f.read(), custom_namespace)
        # Retrieve the class `formattername` from that namespace
        if formattername not in custom_namespace:
            raise ClassNotFound(f'no valid {formattername} class found in {filename}')
        formatter_class = custom_namespace[formattername]
        # And finally instantiate it with the options
        return formatter_class(**options)
    except OSError as err:
        raise ClassNotFound(f'cannot read {filename}: {err}')
    except ClassNotFound:
        raise
    except Exception as err:
        raise ClassNotFound(f'error when loading custom formatter: {err}')


def get_formatter_for_filename(fn, **options):
    &quot;&quot;&quot;
    Return a :class:`.Formatter` subclass instance that has a filename pattern
    matching `fn`. The formatter is given the `options` at its instantiation.

    Will raise :exc:`pygments.util.ClassNotFound` if no formatter for that filename
    is found.
    &quot;&quot;&quot;
    fn = basename(fn)
    for modname, name, _, filenames, _ in FORMATTERS.values():
        for filename in filenames:
            if _fn_matches(fn, filename):
                if name not in _formatter_cache:
                    _load_formatters(modname)
                return _formatter_cache[name](**options)
    for _name, cls in find_plugin_formatters():
        for filename in cls.filenames:
            if _fn_matches(fn, filename):
                return cls(**options)
    raise ClassNotFound(f&quot;no formatter found for file name {fn!r}&quot;)


class _automodule(types.ModuleType):
    &quot;&quot;&quot;Automatically import formatters.&quot;&quot;&quot;

    def __getattr__(self, name):
        info = FORMATTERS.get(name)
        if info:
            _load_formatters(info[0])
            cls = _formatter_cache[info[1]]
            setattr(self, name, cls)
            return cls
        raise AttributeError(name)


oldmod = sys.modules[__name__]
newmod = _automodule(__name__)
newmod.__dict__.update(oldmod.__dict__)
sys.modules[__name__] = newmod
del newmod.newmod, newmod.oldmod, newmod.sys, newmod.types</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/filters/__init__.py (Line 19:2 - Line 940:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/filters/__init__.py (Line 19:2 - Line 940:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn450" onclick="toggleCodeBlock('cloneGroup450', 'expandBtn450', 'collapseBtn450')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn450" onclick="toggleCodeBlock('cloneGroup450', 'expandBtn450', 'collapseBtn450')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup450"><code class="language-python text-sm text-gray-800">pygments.plugin import find_plugin_filters


def find_filter_class(filtername):
    &quot;&quot;&quot;Lookup a filter by name. Return None if not found.&quot;&quot;&quot;
    if filtername in FILTERS:
        return FILTERS[filtername]
    for name, cls in find_plugin_filters():
        if name == filtername:
            return cls
    return None


def get_filter_by_name(filtername, **options):
    &quot;&quot;&quot;Return an instantiated filter.

    Options are passed to the filter initializer if wanted.
    Raise a ClassNotFound if not found.
    &quot;&quot;&quot;
    cls = find_filter_class(filtername)
    if cls:
        return cls(**options)
    else:
        raise ClassNotFound(f'filter {filtername!r} not found')


def get_all_filters():
    &quot;&quot;&quot;Return a generator of all filter names.&quot;&quot;&quot;
    yield from FILTERS
    for name, _ in find_plugin_filters():
        yield name


def _replace_special(ttype, value, regex, specialttype,
                     replacefunc=lambda x: x):
    last = 0
    for match in regex.finditer(value):
        start, end = match.start(), match.end()
        if start != last:
            yield ttype, value[last:start]
        yield specialttype, replacefunc(value[start:end])
        last = end
    if last != len(value):
        yield ttype, value[last:]


class CodeTagFilter(Filter):
    &quot;&quot;&quot;Highlight special code tags in comments and docstrings.

    Options accepted:

    `codetags` : list of strings
       A list of strings that are flagged as code tags.  The default is to
       highlight ``XXX``, ``TODO``, ``FIXME``, ``BUG`` and ``NOTE``.

    .. versionchanged:: 2.13
       Now recognizes ``FIXME`` by default.
    &quot;&quot;&quot;

    def __init__(self, **options):
        Filter.__init__(self, **options)
        tags = get_list_opt(options, 'codetags',
                            ['XXX', 'TODO', 'FIXME', 'BUG', 'NOTE'])
        self.tag_re = re.compile(r'\b({})\b'.format('|'.join([
            re.escape(tag) for tag in tags if tag
        ])))

    def filter(self, lexer, stream):
        regex = self.tag_re
        for ttype, value in stream:
            if ttype in String.Doc or \
               ttype in Comment and \
               ttype not in Comment.Preproc:
                yield from _replace_special(ttype, value, regex, Comment.Special)
            else:
                yield ttype, value


class SymbolFilter(Filter):
    &quot;&quot;&quot;Convert mathematical symbols such as \\&lt;longrightarrow&gt; in Isabelle
    or \\longrightarrow in LaTeX into Unicode characters.

    This is mostly useful for HTML or console output when you want to
    approximate the source rendering you'd see in an IDE.

    Options accepted:

    `lang` : string
       The symbol language. Must be one of ``'isabelle'`` or
       ``'latex'``.  The default is ``'isabelle'``.
    &quot;&quot;&quot;

    latex_symbols = {
        '\\alpha'                : '\U000003b1',
        '\\beta'                 : '\U000003b2',
        '\\gamma'                : '\U000003b3',
        '\\delta'                : '\U000003b4',
        '\\varepsilon'           : '\U000003b5',
        '\\zeta'                 : '\U000003b6',
        '\\eta'                  : '\U000003b7',
        '\\vartheta'             : '\U000003b8',
        '\\iota'                 : '\U000003b9',
        '\\kappa'                : '\U000003ba',
        '\\lambda'               : '\U000003bb',
        '\\mu'                   : '\U000003bc',
        '\\nu'                   : '\U000003bd',
        '\\xi'                   : '\U000003be',
        '\\pi'                   : '\U000003c0',
        '\\varrho'               : '\U000003c1',
        '\\sigma'                : '\U000003c3',
        '\\tau'                  : '\U000003c4',
        '\\upsilon'              : '\U000003c5',
        '\\varphi'               : '\U000003c6',
        '\\chi'                  : '\U000003c7',
        '\\psi'                  : '\U000003c8',
        '\\omega'                : '\U000003c9',
        '\\Gamma'                : '\U00000393',
        '\\Delta'                : '\U00000394',
        '\\Theta'                : '\U00000398',
        '\\Lambda'               : '\U0000039b',
        '\\Xi'                   : '\U0000039e',
        '\\Pi'                   : '\U000003a0',
        '\\Sigma'                : '\U000003a3',
        '\\Upsilon'              : '\U000003a5',
        '\\Phi'                  : '\U000003a6',
        '\\Psi'                  : '\U000003a8',
        '\\Omega'                : '\U000003a9',
        '\\leftarrow'            : '\U00002190',
        '\\longleftarrow'        : '\U000027f5',
        '\\rightarrow'           : '\U00002192',
        '\\longrightarrow'       : '\U000027f6',
        '\\Leftarrow'            : '\U000021d0',
        '\\Longleftarrow'        : '\U000027f8',
        '\\Rightarrow'           : '\U000021d2',
        '\\Longrightarrow'       : '\U000027f9',
        '\\leftrightarrow'       : '\U00002194',
        '\\longleftrightarrow'   : '\U000027f7',
        '\\Leftrightarrow'       : '\U000021d4',
        '\\Longleftrightarrow'   : '\U000027fa',
        '\\mapsto'               : '\U000021a6',
        '\\longmapsto'           : '\U000027fc',
        '\\relbar'               : '\U00002500',
        '\\Relbar'               : '\U00002550',
        '\\hookleftarrow'        : '\U000021a9',
        '\\hookrightarrow'       : '\U000021aa',
        '\\leftharpoondown'      : '\U000021bd',
        '\\rightharpoondown'     : '\U000021c1',
        '\\leftharpoonup'        : '\U000021bc',
        '\\rightharpoonup'       : '\U000021c0',
        '\\rightleftharpoons'    : '\U000021cc',
        '\\leadsto'              : '\U0000219d',
        '\\downharpoonleft'      : '\U000021c3',
        '\\downharpoonright'     : '\U000021c2',
        '\\upharpoonleft'        : '\U000021bf',
        '\\upharpoonright'       : '\U000021be',
        '\\restriction'          : '\U000021be',
        '\\uparrow'              : '\U00002191',
        '\\Uparrow'              : '\U000021d1',
        '\\downarrow'            : '\U00002193',
        '\\Downarrow'            : '\U000021d3',
        '\\updownarrow'          : '\U00002195',
        '\\Updownarrow'          : '\U000021d5',
        '\\langle'               : '\U000027e8',
        '\\rangle'               : '\U000027e9',
        '\\lceil'                : '\U00002308',
        '\\rceil'                : '\U00002309',
        '\\lfloor'               : '\U0000230a',
        '\\rfloor'               : '\U0000230b',
        '\\flqq'                 : '\U000000ab',
        '\\frqq'                 : '\U000000bb',
        '\\bot'                  : '\U000022a5',
        '\\top'                  : '\U000022a4',
        '\\wedge'                : '\U00002227',
        '\\bigwedge'             : '\U000022c0',
        '\\vee'                  : '\U00002228',
        '\\bigvee'               : '\U000022c1',
        '\\forall'               : '\U00002200',
        '\\exists'               : '\U00002203',
        '\\nexists'              : '\U00002204',
        '\\neg'                  : '\U000000ac',
        '\\Box'                  : '\U000025a1',
        '\\Diamond'              : '\U000025c7',
        '\\vdash'                : '\U000022a2',
        '\\models'               : '\U000022a8',
        '\\dashv'                : '\U000022a3',
        '\\surd'                 : '\U0000221a',
        '\\le'                   : '\U00002264',
        '\\ge'                   : '\U00002265',
        '\\ll'                   : '\U0000226a',
        '\\gg'                   : '\U0000226b',
        '\\lesssim'              : '\U00002272',
        '\\gtrsim'               : '\U00002273',
        '\\lessapprox'           : '\U00002a85',
        '\\gtrapprox'            : '\U00002a86',
        '\\in'                   : '\U00002208',
        '\\notin'                : '\U00002209',
        '\\subset'               : '\U00002282',
        '\\supset'               : '\U00002283',
        '\\subseteq'             : '\U00002286',
        '\\supseteq'             : '\U00002287',
        '\\sqsubset'             : '\U0000228f',
        '\\sqsupset'             : '\U00002290',
        '\\sqsubseteq'           : '\U00002291',
        '\\sqsupseteq'           : '\U00002292',
        '\\cap'                  : '\U00002229',
        '\\bigcap'               : '\U000022c2',
        '\\cup'                  : '\U0000222a',
        '\\bigcup'               : '\U000022c3',
        '\\sqcup'                : '\U00002294',
        '\\bigsqcup'             : '\U00002a06',
        '\\sqcap'                : '\U00002293',
        '\\Bigsqcap'             : '\U00002a05',
        '\\setminus'             : '\U00002216',
        '\\propto'               : '\U0000221d',
        '\\uplus'                : '\U0000228e',
        '\\bigplus'              : '\U00002a04',
        '\\sim'                  : '\U0000223c',
        '\\doteq'                : '\U00002250',
        '\\simeq'                : '\U00002243',
        '\\approx'               : '\U00002248',
        '\\asymp'                : '\U0000224d',
        '\\cong'                 : '\U00002245',
        '\\equiv'                : '\U00002261',
        '\\Join'                 : '\U000022c8',
        '\\bowtie'               : '\U00002a1d',
        '\\prec'                 : '\U0000227a',
        '\\succ'                 : '\U0000227b',
        '\\preceq'               : '\U0000227c',
        '\\succeq'               : '\U0000227d',
        '\\parallel'             : '\U00002225',
        '\\mid'                  : '\U000000a6',
        '\\pm'                   : '\U000000b1',
        '\\mp'                   : '\U00002213',
        '\\times'                : '\U000000d7',
        '\\div'                  : '\U000000f7',
        '\\cdot'                 : '\U000022c5',
        '\\star'                 : '\U000022c6',
        '\\circ'                 : '\U00002218',
        '\\dagger'               : '\U00002020',
        '\\ddagger'              : '\U00002021',
        '\\lhd'                  : '\U000022b2',
        '\\rhd'                  : '\U000022b3',
        '\\unlhd'                : '\U000022b4',
        '\\unrhd'                : '\U000022b5',
        '\\triangleleft'         : '\U000025c3',
        '\\triangleright'        : '\U000025b9',
        '\\triangle'             : '\U000025b3',
        '\\triangleq'            : '\U0000225c',
        '\\oplus'                : '\U00002295',
        '\\bigoplus'             : '\U00002a01',
        '\\otimes'               : '\U00002297',
        '\\bigotimes'            : '\U00002a02',
        '\\odot'                 : '\U00002299',
        '\\bigodot'              : '\U00002a00',
        '\\ominus'               : '\U00002296',
        '\\oslash'               : '\U00002298',
        '\\dots'                 : '\U00002026',
        '\\cdots'                : '\U000022ef',
        '\\sum'                  : '\U00002211',
        '\\prod'                 : '\U0000220f',
        '\\coprod'               : '\U00002210',
        '\\infty'                : '\U0000221e',
        '\\int'                  : '\U0000222b',
        '\\oint'                 : '\U0000222e',
        '\\clubsuit'             : '\U00002663',
        '\\diamondsuit'          : '\U00002662',
        '\\heartsuit'            : '\U00002661',
        '\\spadesuit'            : '\U00002660',
        '\\aleph'                : '\U00002135',
        '\\emptyset'             : '\U00002205',
        '\\nabla'                : '\U00002207',
        '\\partial'              : '\U00002202',
        '\\flat'                 : '\U0000266d',
        '\\natural'              : '\U0000266e',
        '\\sharp'                : '\U0000266f',
        '\\angle'                : '\U00002220',
        '\\copyright'            : '\U000000a9',
        '\\textregistered'       : '\U000000ae',
        '\\textonequarter'       : '\U000000bc',
        '\\textonehalf'          : '\U000000bd',
        '\\textthreequarters'    : '\U000000be',
        '\\textordfeminine'      : '\U000000aa',
        '\\textordmasculine'     : '\U000000ba',
        '\\euro'                 : '\U000020ac',
        '\\pounds'               : '\U000000a3',
        '\\yen'                  : '\U000000a5',
        '\\textcent'             : '\U000000a2',
        '\\textcurrency'         : '\U000000a4',
        '\\textdegree'           : '\U000000b0',
    }

    isabelle_symbols = {
        '\\&lt;zero&gt;'                 : '\U0001d7ec',
        '\\&lt;one&gt;'                  : '\U0001d7ed',
        '\\&lt;two&gt;'                  : '\U0001d7ee',
        '\\&lt;three&gt;'                : '\U0001d7ef',
        '\\&lt;four&gt;'                 : '\U0001d7f0',
        '\\&lt;five&gt;'                 : '\U0001d7f1',
        '\\&lt;six&gt;'                  : '\U0001d7f2',
        '\\&lt;seven&gt;'                : '\U0001d7f3',
        '\\&lt;eight&gt;'                : '\U0001d7f4',
        '\\&lt;nine&gt;'                 : '\U0001d7f5',
        '\\&lt;A&gt;'                    : '\U0001d49c',
        '\\&lt;B&gt;'                    : '\U0000212c',
        '\\&lt;C&gt;'                    : '\U0001d49e',
        '\\&lt;D&gt;'                    : '\U0001d49f',
        '\\&lt;E&gt;'                    : '\U00002130',
        '\\&lt;F&gt;'                    : '\U00002131',
        '\\&lt;G&gt;'                    : '\U0001d4a2',
        '\\&lt;H&gt;'                    : '\U0000210b',
        '\\&lt;I&gt;'                    : '\U00002110',
        '\\&lt;J&gt;'                    : '\U0001d4a5',
        '\\&lt;K&gt;'                    : '\U0001d4a6',
        '\\&lt;L&gt;'                    : '\U00002112',
        '\\&lt;M&gt;'                    : '\U00002133',
        '\\&lt;N&gt;'                    : '\U0001d4a9',
        '\\&lt;O&gt;'                    : '\U0001d4aa',
        '\\&lt;P&gt;'                    : '\U0001d4ab',
        '\\&lt;Q&gt;'                    : '\U0001d4ac',
        '\\&lt;R&gt;'                    : '\U0000211b',
        '\\&lt;S&gt;'                    : '\U0001d4ae',
        '\\&lt;T&gt;'                    : '\U0001d4af',
        '\\&lt;U&gt;'                    : '\U0001d4b0',
        '\\&lt;V&gt;'                    : '\U0001d4b1',
        '\\&lt;W&gt;'                    : '\U0001d4b2',
        '\\&lt;X&gt;'                    : '\U0001d4b3',
        '\\&lt;Y&gt;'                    : '\U0001d4b4',
        '\\&lt;Z&gt;'                    : '\U0001d4b5',
        '\\&lt;a&gt;'                    : '\U0001d5ba',
        '\\&lt;b&gt;'                    : '\U0001d5bb',
        '\\&lt;c&gt;'                    : '\U0001d5bc',
        '\\&lt;d&gt;'                    : '\U0001d5bd',
        '\\&lt;e&gt;'                    : '\U0001d5be',
        '\\&lt;f&gt;'                    : '\U0001d5bf',
        '\\&lt;g&gt;'                    : '\U0001d5c0',
        '\\&lt;h&gt;'                    : '\U0001d5c1',
        '\\&lt;i&gt;'                    : '\U0001d5c2',
        '\\&lt;j&gt;'                    : '\U0001d5c3',
        '\\&lt;k&gt;'                    : '\U0001d5c4',
        '\\&lt;l&gt;'                    : '\U0001d5c5',
        '\\&lt;m&gt;'                    : '\U0001d5c6',
        '\\&lt;n&gt;'                    : '\U0001d5c7',
        '\\&lt;o&gt;'                    : '\U0001d5c8',
        '\\&lt;p&gt;'                    : '\U0001d5c9',
        '\\&lt;q&gt;'                    : '\U0001d5ca',
        '\\&lt;r&gt;'                    : '\U0001d5cb',
        '\\&lt;s&gt;'                    : '\U0001d5cc',
        '\\&lt;t&gt;'                    : '\U0001d5cd',
        '\\&lt;u&gt;'                    : '\U0001d5ce',
        '\\&lt;v&gt;'                    : '\U0001d5cf',
        '\\&lt;w&gt;'                    : '\U0001d5d0',
        '\\&lt;x&gt;'                    : '\U0001d5d1',
        '\\&lt;y&gt;'                    : '\U0001d5d2',
        '\\&lt;z&gt;'                    : '\U0001d5d3',
        '\\&lt;AA&gt;'                   : '\U0001d504',
        '\\&lt;BB&gt;'                   : '\U0001d505',
        '\\&lt;CC&gt;'                   : '\U0000212d',
        '\\&lt;DD&gt;'                   : '\U0001d507',
        '\\&lt;EE&gt;'                   : '\U0001d508',
        '\\&lt;FF&gt;'                   : '\U0001d509',
        '\\&lt;GG&gt;'                   : '\U0001d50a',
        '\\&lt;HH&gt;'                   : '\U0000210c',
        '\\&lt;II&gt;'                   : '\U00002111',
        '\\&lt;JJ&gt;'                   : '\U0001d50d',
        '\\&lt;KK&gt;'                   : '\U0001d50e',
        '\\&lt;LL&gt;'                   : '\U0001d50f',
        '\\&lt;MM&gt;'                   : '\U0001d510',
        '\\&lt;NN&gt;'                   : '\U0001d511',
        '\\&lt;OO&gt;'                   : '\U0001d512',
        '\\&lt;PP&gt;'                   : '\U0001d513',
        '\\&lt;QQ&gt;'                   : '\U0001d514',
        '\\&lt;RR&gt;'                   : '\U0000211c',
        '\\&lt;SS&gt;'                   : '\U0001d516',
        '\\&lt;TT&gt;'                   : '\U0001d517',
        '\\&lt;UU&gt;'                   : '\U0001d518',
        '\\&lt;VV&gt;'                   : '\U0001d519',
        '\\&lt;WW&gt;'                   : '\U0001d51a',
        '\\&lt;XX&gt;'                   : '\U0001d51b',
        '\\&lt;YY&gt;'                   : '\U0001d51c',
        '\\&lt;ZZ&gt;'                   : '\U00002128',
        '\\&lt;aa&gt;'                   : '\U0001d51e',
        '\\&lt;bb&gt;'                   : '\U0001d51f',
        '\\&lt;cc&gt;'                   : '\U0001d520',
        '\\&lt;dd&gt;'                   : '\U0001d521',
        '\\&lt;ee&gt;'                   : '\U0001d522',
        '\\&lt;ff&gt;'                   : '\U0001d523',
        '\\&lt;gg&gt;'                   : '\U0001d524',
        '\\&lt;hh&gt;'                   : '\U0001d525',
        '\\&lt;ii&gt;'                   : '\U0001d526',
        '\\&lt;jj&gt;'                   : '\U0001d527',
        '\\&lt;kk&gt;'                   : '\U0001d528',
        '\\&lt;ll&gt;'                   : '\U0001d529',
        '\\&lt;mm&gt;'                   : '\U0001d52a',
        '\\&lt;nn&gt;'                   : '\U0001d52b',
        '\\&lt;oo&gt;'                   : '\U0001d52c',
        '\\&lt;pp&gt;'                   : '\U0001d52d',
        '\\&lt;qq&gt;'                   : '\U0001d52e',
        '\\&lt;rr&gt;'                   : '\U0001d52f',
        '\\&lt;ss&gt;'                   : '\U0001d530',
        '\\&lt;tt&gt;'                   : '\U0001d531',
        '\\&lt;uu&gt;'                   : '\U0001d532',
        '\\&lt;vv&gt;'                   : '\U0001d533',
        '\\&lt;ww&gt;'                   : '\U0001d534',
        '\\&lt;xx&gt;'                   : '\U0001d535',
        '\\&lt;yy&gt;'                   : '\U0001d536',
        '\\&lt;zz&gt;'                   : '\U0001d537',
        '\\&lt;alpha&gt;'                : '\U000003b1',
        '\\&lt;beta&gt;'                 : '\U000003b2',
        '\\&lt;gamma&gt;'                : '\U000003b3',
        '\\&lt;delta&gt;'                : '\U000003b4',
        '\\&lt;epsilon&gt;'              : '\U000003b5',
        '\\&lt;zeta&gt;'                 : '\U000003b6',
        '\\&lt;eta&gt;'                  : '\U000003b7',
        '\\&lt;theta&gt;'                : '\U000003b8',
        '\\&lt;iota&gt;'                 : '\U000003b9',
        '\\&lt;kappa&gt;'                : '\U000003ba',
        '\\&lt;lambda&gt;'               : '\U000003bb',
        '\\&lt;mu&gt;'                   : '\U000003bc',
        '\\&lt;nu&gt;'                   : '\U000003bd',
        '\\&lt;xi&gt;'                   : '\U000003be',
        '\\&lt;pi&gt;'                   : '\U000003c0',
        '\\&lt;rho&gt;'                  : '\U000003c1',
        '\\&lt;sigma&gt;'                : '\U000003c3',
        '\\&lt;tau&gt;'                  : '\U000003c4',
        '\\&lt;upsilon&gt;'              : '\U000003c5',
        '\\&lt;phi&gt;'                  : '\U000003c6',
        '\\&lt;chi&gt;'                  : '\U000003c7',
        '\\&lt;psi&gt;'                  : '\U000003c8',
        '\\&lt;omega&gt;'                : '\U000003c9',
        '\\&lt;Gamma&gt;'                : '\U00000393',
        '\\&lt;Delta&gt;'                : '\U00000394',
        '\\&lt;Theta&gt;'                : '\U00000398',
        '\\&lt;Lambda&gt;'               : '\U0000039b',
        '\\&lt;Xi&gt;'                   : '\U0000039e',
        '\\&lt;Pi&gt;'                   : '\U000003a0',
        '\\&lt;Sigma&gt;'                : '\U000003a3',
        '\\&lt;Upsilon&gt;'              : '\U000003a5',
        '\\&lt;Phi&gt;'                  : '\U000003a6',
        '\\&lt;Psi&gt;'                  : '\U000003a8',
        '\\&lt;Omega&gt;'                : '\U000003a9',
        '\\&lt;bool&gt;'                 : '\U0001d539',
        '\\&lt;complex&gt;'              : '\U00002102',
        '\\&lt;nat&gt;'                  : '\U00002115',
        '\\&lt;rat&gt;'                  : '\U0000211a',
        '\\&lt;real&gt;'                 : '\U0000211d',
        '\\&lt;int&gt;'                  : '\U00002124',
        '\\&lt;leftarrow&gt;'            : '\U00002190',
        '\\&lt;longleftarrow&gt;'        : '\U000027f5',
        '\\&lt;rightarrow&gt;'           : '\U00002192',
        '\\&lt;longrightarrow&gt;'       : '\U000027f6',
        '\\&lt;Leftarrow&gt;'            : '\U000021d0',
        '\\&lt;Longleftarrow&gt;'        : '\U000027f8',
        '\\&lt;Rightarrow&gt;'           : '\U000021d2',
        '\\&lt;Longrightarrow&gt;'       : '\U000027f9',
        '\\&lt;leftrightarrow&gt;'       : '\U00002194',
        '\\&lt;longleftrightarrow&gt;'   : '\U000027f7',
        '\\&lt;Leftrightarrow&gt;'       : '\U000021d4',
        '\\&lt;Longleftrightarrow&gt;'   : '\U000027fa',
        '\\&lt;mapsto&gt;'               : '\U000021a6',
        '\\&lt;longmapsto&gt;'           : '\U000027fc',
        '\\&lt;midarrow&gt;'             : '\U00002500',
        '\\&lt;Midarrow&gt;'             : '\U00002550',
        '\\&lt;hookleftarrow&gt;'        : '\U000021a9',
        '\\&lt;hookrightarrow&gt;'       : '\U000021aa',
        '\\&lt;leftharpoondown&gt;'      : '\U000021bd',
        '\\&lt;rightharpoondown&gt;'     : '\U000021c1',
        '\\&lt;leftharpoonup&gt;'        : '\U000021bc',
        '\\&lt;rightharpoonup&gt;'       : '\U000021c0',
        '\\&lt;rightleftharpoons&gt;'    : '\U000021cc',
        '\\&lt;leadsto&gt;'              : '\U0000219d',
        '\\&lt;downharpoonleft&gt;'      : '\U000021c3',
        '\\&lt;downharpoonright&gt;'     : '\U000021c2',
        '\\&lt;upharpoonleft&gt;'        : '\U000021bf',
        '\\&lt;upharpoonright&gt;'       : '\U000021be',
        '\\&lt;restriction&gt;'          : '\U000021be',
        '\\&lt;Colon&gt;'                : '\U00002237',
        '\\&lt;up&gt;'                   : '\U00002191',
        '\\&lt;Up&gt;'                   : '\U000021d1',
        '\\&lt;down&gt;'                 : '\U00002193',
        '\\&lt;Down&gt;'                 : '\U000021d3',
        '\\&lt;updown&gt;'               : '\U00002195',
        '\\&lt;Updown&gt;'               : '\U000021d5',
        '\\&lt;langle&gt;'               : '\U000027e8',
        '\\&lt;rangle&gt;'               : '\U000027e9',
        '\\&lt;lceil&gt;'                : '\U00002308',
        '\\&lt;rceil&gt;'                : '\U00002309',
        '\\&lt;lfloor&gt;'               : '\U0000230a',
        '\\&lt;rfloor&gt;'               : '\U0000230b',
        '\\&lt;lparr&gt;'                : '\U00002987',
        '\\&lt;rparr&gt;'                : '\U00002988',
        '\\&lt;lbrakk&gt;'               : '\U000027e6',
        '\\&lt;rbrakk&gt;'               : '\U000027e7',
        '\\&lt;lbrace&gt;'               : '\U00002983',
        '\\&lt;rbrace&gt;'               : '\U00002984',
        '\\&lt;guillemotleft&gt;'        : '\U000000ab',
        '\\&lt;guillemotright&gt;'       : '\U000000bb',
        '\\&lt;bottom&gt;'               : '\U000022a5',
        '\\&lt;top&gt;'                  : '\U000022a4',
        '\\&lt;and&gt;'                  : '\U00002227',
        '\\&lt;And&gt;'                  : '\U000022c0',
        '\\&lt;or&gt;'                   : '\U00002228',
        '\\&lt;Or&gt;'                   : '\U000022c1',
        '\\&lt;forall&gt;'               : '\U00002200',
        '\\&lt;exists&gt;'               : '\U00002203',
        '\\&lt;nexists&gt;'              : '\U00002204',
        '\\&lt;not&gt;'                  : '\U000000ac',
        '\\&lt;box&gt;'                  : '\U000025a1',
        '\\&lt;diamond&gt;'              : '\U000025c7',
        '\\&lt;turnstile&gt;'            : '\U000022a2',
        '\\&lt;Turnstile&gt;'            : '\U000022a8',
        '\\&lt;tturnstile&gt;'           : '\U000022a9',
        '\\&lt;TTurnstile&gt;'           : '\U000022ab',
        '\\&lt;stileturn&gt;'            : '\U000022a3',
        '\\&lt;surd&gt;'                 : '\U0000221a',
        '\\&lt;le&gt;'                   : '\U00002264',
        '\\&lt;ge&gt;'                   : '\U00002265',
        '\\&lt;lless&gt;'                : '\U0000226a',
        '\\&lt;ggreater&gt;'             : '\U0000226b',
        '\\&lt;lesssim&gt;'              : '\U00002272',
        '\\&lt;greatersim&gt;'           : '\U00002273',
        '\\&lt;lessapprox&gt;'           : '\U00002a85',
        '\\&lt;greaterapprox&gt;'        : '\U00002a86',
        '\\&lt;in&gt;'                   : '\U00002208',
        '\\&lt;notin&gt;'                : '\U00002209',
        '\\&lt;subset&gt;'               : '\U00002282',
        '\\&lt;supset&gt;'               : '\U00002283',
        '\\&lt;subseteq&gt;'             : '\U00002286',
        '\\&lt;supseteq&gt;'             : '\U00002287',
        '\\&lt;sqsubset&gt;'             : '\U0000228f',
        '\\&lt;sqsupset&gt;'             : '\U00002290',
        '\\&lt;sqsubseteq&gt;'           : '\U00002291',
        '\\&lt;sqsupseteq&gt;'           : '\U00002292',
        '\\&lt;inter&gt;'                : '\U00002229',
        '\\&lt;Inter&gt;'                : '\U000022c2',
        '\\&lt;union&gt;'                : '\U0000222a',
        '\\&lt;Union&gt;'                : '\U000022c3',
        '\\&lt;squnion&gt;'              : '\U00002294',
        '\\&lt;Squnion&gt;'              : '\U00002a06',
        '\\&lt;sqinter&gt;'              : '\U00002293',
        '\\&lt;Sqinter&gt;'              : '\U00002a05',
        '\\&lt;setminus&gt;'             : '\U00002216',
        '\\&lt;propto&gt;'               : '\U0000221d',
        '\\&lt;uplus&gt;'                : '\U0000228e',
        '\\&lt;Uplus&gt;'                : '\U00002a04',
        '\\&lt;noteq&gt;'                : '\U00002260',
        '\\&lt;sim&gt;'                  : '\U0000223c',
        '\\&lt;doteq&gt;'                : '\U00002250',
        '\\&lt;simeq&gt;'                : '\U00002243',
        '\\&lt;approx&gt;'               : '\U00002248',
        '\\&lt;asymp&gt;'                : '\U0000224d',
        '\\&lt;cong&gt;'                 : '\U00002245',
        '\\&lt;smile&gt;'                : '\U00002323',
        '\\&lt;equiv&gt;'                : '\U00002261',
        '\\&lt;frown&gt;'                : '\U00002322',
        '\\&lt;Join&gt;'                 : '\U000022c8',
        '\\&lt;bowtie&gt;'               : '\U00002a1d',
        '\\&lt;prec&gt;'                 : '\U0000227a',
        '\\&lt;succ&gt;'                 : '\U0000227b',
        '\\&lt;preceq&gt;'               : '\U0000227c',
        '\\&lt;succeq&gt;'               : '\U0000227d',
        '\\&lt;parallel&gt;'             : '\U00002225',
        '\\&lt;bar&gt;'                  : '\U000000a6',
        '\\&lt;plusminus&gt;'            : '\U000000b1',
        '\\&lt;minusplus&gt;'            : '\U00002213',
        '\\&lt;times&gt;'                : '\U000000d7',
        '\\&lt;div&gt;'                  : '\U000000f7',
        '\\&lt;cdot&gt;'                 : '\U000022c5',
        '\\&lt;star&gt;'                 : '\U000022c6',
        '\\&lt;bullet&gt;'               : '\U00002219',
        '\\&lt;circ&gt;'                 : '\U00002218',
        '\\&lt;dagger&gt;'               : '\U00002020',
        '\\&lt;ddagger&gt;'              : '\U00002021',
        '\\&lt;lhd&gt;'                  : '\U000022b2',
        '\\&lt;rhd&gt;'                  : '\U000022b3',
        '\\&lt;unlhd&gt;'                : '\U000022b4',
        '\\&lt;unrhd&gt;'                : '\U000022b5',
        '\\&lt;triangleleft&gt;'         : '\U000025c3',
        '\\&lt;triangleright&gt;'        : '\U000025b9',
        '\\&lt;triangle&gt;'             : '\U000025b3',
        '\\&lt;triangleq&gt;'            : '\U0000225c',
        '\\&lt;oplus&gt;'                : '\U00002295',
        '\\&lt;Oplus&gt;'                : '\U00002a01',
        '\\&lt;otimes&gt;'               : '\U00002297',
        '\\&lt;Otimes&gt;'               : '\U00002a02',
        '\\&lt;odot&gt;'                 : '\U00002299',
        '\\&lt;Odot&gt;'                 : '\U00002a00',
        '\\&lt;ominus&gt;'               : '\U00002296',
        '\\&lt;oslash&gt;'               : '\U00002298',
        '\\&lt;dots&gt;'                 : '\U00002026',
        '\\&lt;cdots&gt;'                : '\U000022ef',
        '\\&lt;Sum&gt;'                  : '\U00002211',
        '\\&lt;Prod&gt;'                 : '\U0000220f',
        '\\&lt;Coprod&gt;'               : '\U00002210',
        '\\&lt;infinity&gt;'             : '\U0000221e',
        '\\&lt;integral&gt;'             : '\U0000222b',
        '\\&lt;ointegral&gt;'            : '\U0000222e',
        '\\&lt;clubsuit&gt;'             : '\U00002663',
        '\\&lt;diamondsuit&gt;'          : '\U00002662',
        '\\&lt;heartsuit&gt;'            : '\U00002661',
        '\\&lt;spadesuit&gt;'            : '\U00002660',
        '\\&lt;aleph&gt;'                : '\U00002135',
        '\\&lt;emptyset&gt;'             : '\U00002205',
        '\\&lt;nabla&gt;'                : '\U00002207',
        '\\&lt;partial&gt;'              : '\U00002202',
        '\\&lt;flat&gt;'                 : '\U0000266d',
        '\\&lt;natural&gt;'              : '\U0000266e',
        '\\&lt;sharp&gt;'                : '\U0000266f',
        '\\&lt;angle&gt;'                : '\U00002220',
        '\\&lt;copyright&gt;'            : '\U000000a9',
        '\\&lt;registered&gt;'           : '\U000000ae',
        '\\&lt;hyphen&gt;'               : '\U000000ad',
        '\\&lt;inverse&gt;'              : '\U000000af',
        '\\&lt;onequarter&gt;'           : '\U000000bc',
        '\\&lt;onehalf&gt;'              : '\U000000bd',
        '\\&lt;threequarters&gt;'        : '\U000000be',
        '\\&lt;ordfeminine&gt;'          : '\U000000aa',
        '\\&lt;ordmasculine&gt;'         : '\U000000ba',
        '\\&lt;section&gt;'              : '\U000000a7',
        '\\&lt;paragraph&gt;'            : '\U000000b6',
        '\\&lt;exclamdown&gt;'           : '\U000000a1',
        '\\&lt;questiondown&gt;'         : '\U000000bf',
        '\\&lt;euro&gt;'                 : '\U000020ac',
        '\\&lt;pounds&gt;'               : '\U000000a3',
        '\\&lt;yen&gt;'                  : '\U000000a5',
        '\\&lt;cent&gt;'                 : '\U000000a2',
        '\\&lt;currency&gt;'             : '\U000000a4',
        '\\&lt;degree&gt;'               : '\U000000b0',
        '\\&lt;amalg&gt;'                : '\U00002a3f',
        '\\&lt;mho&gt;'                  : '\U00002127',
        '\\&lt;lozenge&gt;'              : '\U000025ca',
        '\\&lt;wp&gt;'                   : '\U00002118',
        '\\&lt;wrong&gt;'                : '\U00002240',
        '\\&lt;struct&gt;'               : '\U000022c4',
        '\\&lt;acute&gt;'                : '\U000000b4',
        '\\&lt;index&gt;'                : '\U00000131',
        '\\&lt;dieresis&gt;'             : '\U000000a8',
        '\\&lt;cedilla&gt;'              : '\U000000b8',
        '\\&lt;hungarumlaut&gt;'         : '\U000002dd',
        '\\&lt;some&gt;'                 : '\U000003f5',
        '\\&lt;newline&gt;'              : '\U000023ce',
        '\\&lt;open&gt;'                 : '\U00002039',
        '\\&lt;close&gt;'                : '\U0000203a',
        '\\&lt;here&gt;'                 : '\U00002302',
        '\\&lt;^sub&gt;'                 : '\U000021e9',
        '\\&lt;^sup&gt;'                 : '\U000021e7',
        '\\&lt;^bold&gt;'                : '\U00002759',
        '\\&lt;^bsub&gt;'                : '\U000021d8',
        '\\&lt;^esub&gt;'                : '\U000021d9',
        '\\&lt;^bsup&gt;'                : '\U000021d7',
        '\\&lt;^esup&gt;'                : '\U000021d6',
    }

    lang_map = {'isabelle' : isabelle_symbols, 'latex' : latex_symbols}

    def __init__(self, **options):
        Filter.__init__(self, **options)
        lang = get_choice_opt(options, 'lang',
                              ['isabelle', 'latex'], 'isabelle')
        self.symbols = self.lang_map[lang]

    def filter(self, lexer, stream):
        for ttype, value in stream:
            if value in self.symbols:
                yield ttype, self.symbols[value]
            else:
                yield ttype, value


class KeywordCaseFilter(Filter):
    &quot;&quot;&quot;Convert keywords to lowercase or uppercase or capitalize them, which
    means first letter uppercase, rest lowercase.

    This can be useful e.g. if you highlight Pascal code and want to adapt the
    code to your styleguide.

    Options accepted:

    `case` : string
       The casing to convert keywords to. Must be one of ``'lower'``,
       ``'upper'`` or ``'capitalize'``.  The default is ``'lower'``.
    &quot;&quot;&quot;

    def __init__(self, **options):
        Filter.__init__(self, **options)
        case = get_choice_opt(options, 'case',
                              ['lower', 'upper', 'capitalize'], 'lower')
        self.convert = getattr(str, case)

    def filter(self, lexer, stream):
        for ttype, value in stream:
            if ttype in Keyword:
                yield ttype, self.convert(value)
            else:
                yield ttype, value


class NameHighlightFilter(Filter):
    &quot;&quot;&quot;Highlight a normal Name (and Name.*) token with a different token type.

    Example::

        filter = NameHighlightFilter(
            names=['foo', 'bar', 'baz'],
            tokentype=Name.Function,
        )

    This would highlight the names &quot;foo&quot;, &quot;bar&quot; and &quot;baz&quot;
    as functions. `Name.Function` is the default token type.

    Options accepted:

    `names` : list of strings
      A list of names that should be given the different token type.
      There is no default.
    `tokentype` : TokenType or string
      A token type or a string containing a token type name that is
      used for highlighting the strings in `names`.  The default is
      `Name.Function`.
    &quot;&quot;&quot;

    def __init__(self, **options):
        Filter.__init__(self, **options)
        self.names = set(get_list_opt(options, 'names', []))
        tokentype = options.get('tokentype')
        if tokentype:
            self.tokentype = string_to_tokentype(tokentype)
        else:
            self.tokentype = Name.Function

    def filter(self, lexer, stream):
        for ttype, value in stream:
            if ttype in Name and value in self.names:
                yield self.tokentype, value
            else:
                yield ttype, value


class ErrorToken(Exception):
    pass


class RaiseOnErrorTokenFilter(Filter):
    &quot;&quot;&quot;Raise an exception when the lexer generates an error token.

    Options accepted:

    `excclass` : Exception class
      The exception class to raise.
      The default is `pygments.filters.ErrorToken`.

    .. versionadded:: 0.8
    &quot;&quot;&quot;

    def __init__(self, **options):
        Filter.__init__(self, **options)
        self.exception = options.get('excclass', ErrorToken)
        try:
            # issubclass() will raise TypeError if first argument is not a class
            if not issubclass(self.exception, Exception):
                raise TypeError
        except TypeError:
            raise OptionError('excclass option is not an exception class')

    def filter(self, lexer, stream):
        for ttype, value in stream:
            if ttype is Error:
                raise self.exception(value)
            yield ttype, value


class VisibleWhitespaceFilter(Filter):
    &quot;&quot;&quot;Convert tabs, newlines and/or spaces to visible characters.

    Options accepted:

    `spaces` : string or bool
      If this is a one-character string, spaces will be replaces by this string.
      If it is another true value, spaces will be replaced by ``Â·`` (unicode
      MIDDLE DOT).  If it is a false value, spaces will not be replaced.  The
      default is ``False``.
    `tabs` : string or bool
      The same as for `spaces`, but the default replacement character is ``Â»``
      (unicode RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK).  The default value
      is ``False``.  Note: this will not work if the `tabsize` option for the
      lexer is nonzero, as tabs will already have been expanded then.
    `tabsize` : int
      If tabs are to be replaced by this filter (see the `tabs` option), this
      is the total number of characters that a tab should be expanded to.
      The default is ``8``.
    `newlines` : string or bool
      The same as for `spaces`, but the default replacement character is ``Â¶``
      (unicode PILCROW SIGN).  The default value is ``False``.
    `wstokentype` : bool
      If true, give whitespace the special `Whitespace` token type.  This allows
      styling the visible whitespace differently (e.g. greyed out), but it can
      disrupt background colors.  The default is ``True``.

    .. versionadded:: 0.8
    &quot;&quot;&quot;

    def __init__(self, **options):
        Filter.__init__(self, **options)
        for name, default in [('spaces',   'Â·'),
                              ('tabs',     'Â»'),
                              ('newlines', 'Â¶')]:
            opt = options.get(name, False)
            if isinstance(opt, str) and len(opt) == 1:
                setattr(self, name, opt)
            else:
                setattr(self, name, (opt and default or ''))
        tabsize = get_int_opt(options, 'tabsize', 8)
        if self.tabs:
            self.tabs += ' ' * (tabsize - 1)
        if self.newlines:
            self.newlines += '\n'
        self.wstt = get_bool_opt(options, 'wstokentype', True)

    def filter(self, lexer, stream):
        if self.wstt:
            spaces = self.spaces or ' '
            tabs = self.tabs or '\t'
            newlines = self.newlines or '\n'
            regex = re.compile(r'\s')

            def replacefunc(wschar):
                if wschar == ' ':
                    return spaces
                elif wschar == '\t':
                    return tabs
                elif wschar == '\n':
                    return newlines
                return wschar

            for ttype, value in stream:
                yield from _replace_special(ttype, value, regex, Whitespace,
                                            replacefunc)
        else:
            spaces, tabs, newlines = self.spaces, self.tabs, self.newlines
            # simpler processing
            for ttype, value in stream:
                if spaces:
                    value = value.replace(' ', spaces)
                if tabs:
                    value = value.replace('\t', tabs)
                if newlines:
                    value = value.replace('\n', newlines)
                yield ttype, value


class GobbleFilter(Filter):
    &quot;&quot;&quot;Gobbles source code lines (eats initial characters).

    This filter drops the first ``n`` characters off every line of code.  This
    may be useful when the source code fed to the lexer is indented by a fixed
    amount of space that isn't desired in the output.

    Options accepted:

    `n` : int
       The number of characters to gobble.

    .. versionadded:: 1.2
    &quot;&quot;&quot;
    def __init__(self, **options):
        Filter.__init__(self, **options)
        self.n = get_int_opt(options, 'n', 0)

    def gobble(self, value, left):
        if left &lt; len(value):
            return value[left:], 0
        else:
            return '', left - len(value)

    def filter(self, lexer, stream):
        n = self.n
        left = n  # How many characters left to gobble.
        for ttype, value in stream:
            # Remove ``left`` tokens from first line, ``n`` from all others.
            parts = value.split('\n')
            (parts[0], left) = self.gobble(parts[0], left)
            for i in range(1, len(parts)):
                (parts[i], left) = self.gobble(parts[i], n)
            value = '\n'.join(parts)

            if value != '':
                yield ttype, value


class TokenMergeFilter(Filter):
    &quot;&quot;&quot;Merges consecutive tokens with the same token type in the output
    stream of a lexer.

    .. versionadded:: 1.2
    &quot;&quot;&quot;
    def __init__(self, **options):
        Filter.__init__(self, **options)

    def filter(self, lexer, stream):
        current_type = None
        current_value = None
        for ttype, value in stream:
            if ttype is current_type:
                current_value += value
            else:
                if current_type is not None:
                    yield current_type, current_value
                current_type = ttype
                current_value = value
        if current_type is not None:
            yield current_type, current_value


FILTERS = {
    'codetagify':     CodeTagFilter,
    'keywordcase':    KeywordCaseFilter,
    'highlight':      NameHighlightFilter,
    'raiseonerror':   RaiseOnErrorTokenFilter,
    'whitespace':     VisibleWhitespaceFilter,
    'gobble':         GobbleFilter,
    'tokenmerge':     TokenMergeFilter,
    'symbols':        SymbolFilter,
}</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 125:9 - Line 136:26), .venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 107:9 - Line 118:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn451" onclick="toggleCodeBlock('cloneGroup451', 'expandBtn451', 'collapseBtn451')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn451" onclick="toggleCodeBlock('cloneGroup451', 'expandBtn451', 'collapseBtn451')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup451"><code class="language-python text-sm text-gray-800">*,
        init: bool = True,
        repr: bool = True,
        eq: bool = True,
        order: bool = False,
        unsafe_hash: bool = False,
        frozen: bool = False,
        config: Union[ConfigDict, Type[object], None] = None,
        validate_on_init: Optional[bool] = None,
        use_proxy: Optional[bool] = None,
        kw_only: bool = ...,
    ) -&gt; 'DataclassClassOrWrapper'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 139:5 - Line 154:2), .venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 102:2 - Line 117:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn452" onclick="toggleCodeBlock('cloneGroup452', 'expandBtn452', 'collapseBtn452')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn452" onclick="toggleCodeBlock('cloneGroup452', 'expandBtn452', 'collapseBtn452')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup452"><code class="language-python text-sm text-gray-800">:

    @dataclass_transform(field_specifiers=(dataclasses.field, Field))
    @overload
    def dataclass(
        *,
        init: bool = True,
        repr: bool = True,
        eq: bool = True,
        order: bool = False,
        unsafe_hash: bool = False,
        frozen: bool = False,
        config: Union[ConfigDict, Type[object], None] = None,
        validate_on_init: Optional[bool] = None,
        use_proxy: Optional[bool] = None,
    )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 153:5 - Line 171:26), .venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 117:2 - Line 154:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn453" onclick="toggleCodeBlock('cloneGroup453', 'expandBtn453', 'collapseBtn453')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn453" onclick="toggleCodeBlock('cloneGroup453', 'expandBtn453', 'collapseBtn453')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup453"><code class="language-python text-sm text-gray-800">,
    ) -&gt; Callable[[Type[_T]], 'DataclassClassOrWrapper']:
        ...

    @dataclass_transform(field_specifiers=(dataclasses.field, Field))
    @overload
    def dataclass(
        _cls: Type[_T],
        *,
        init: bool = True,
        repr: bool = True,
        eq: bool = True,
        order: bool = False,
        unsafe_hash: bool = False,
        frozen: bool = False,
        config: Union[ConfigDict, Type[object], None] = None,
        validate_on_init: Optional[bool] = None,
        use_proxy: Optional[bool] = None,
    ) -&gt; 'DataclassClassOrWrapper'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 177:5 - Line 188:6), .venv/lib/python3.14/site-packages/pydantic/v1/dataclasses.py (Line 124:2 - Line 117:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn454" onclick="toggleCodeBlock('cloneGroup454', 'expandBtn454', 'collapseBtn454')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn454" onclick="toggleCodeBlock('cloneGroup454', 'expandBtn454', 'collapseBtn454')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup454"><code class="language-python text-sm text-gray-800">,
    *,
    init: bool = True,
    repr: bool = True,
    eq: bool = True,
    order: bool = False,
    unsafe_hash: bool = False,
    frozen: bool = False,
    config: Union[ConfigDict, Type[object], None] = None,
    validate_on_init: Optional[bool] = None,
    use_proxy: Optional[bool] = None,
    kw_only: bool = False</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/parse.py (Line 36:5 - Line 49:15), .venv/lib/python3.14/site-packages/pydantic/v1/parse.py (Line 24:5 - Line 38:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn455" onclick="toggleCodeBlock('cloneGroup455', 'expandBtn455', 'collapseBtn455')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn455" onclick="toggleCodeBlock('cloneGroup455', 'expandBtn455', 'collapseBtn455')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup455"><code class="language-python text-sm text-gray-800">if proto is None and content_type:
        if content_type.endswith(('json', 'javascript')):
            pass
        elif allow_pickle and content_type.endswith('pickle'):
            proto = Protocol.pickle
        else:
            raise TypeError(f'Unknown content-type: {content_type}')

    proto = proto or Protocol.json

    if proto == Protocol.json:
        if isinstance(b, bytes):
            b = b.decode(encoding)
        return json_loads(b)  # type: ignore</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/parse.py (Line 70:5 - Line 80:2), .venv/lib/python3.14/site-packages/pydantic/v1/parse.py (Line 56:5 - Line 66:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn456" onclick="toggleCodeBlock('cloneGroup456', 'expandBtn456', 'collapseBtn456')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn456" onclick="toggleCodeBlock('cloneGroup456', 'expandBtn456', 'collapseBtn456')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup456"><code class="language-python text-sm text-gray-800">path = Path(path)
    b = path.read_bytes()
    if content_type is None:
        if path.suffix in ('.js', '.json'):
            proto = Protocol.json
        elif path.suffix == '.pkl':
            proto = Protocol.pickle

    return load_str_bytes(
        b, proto=proto, content_type=content_type, encoding=encoding, allow_pickle=allow_pickle, json_loads=json_loads
    )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/json.py (Line 54:5 - Line 82:12), .venv/lib/python3.14/site-packages/pydantic/v1/json.py (Line 44:5 - Line 72:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn457" onclick="toggleCodeBlock('cloneGroup457', 'expandBtn457', 'collapseBtn457')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn457" onclick="toggleCodeBlock('cloneGroup457', 'expandBtn457', 'collapseBtn457')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup457"><code class="language-python text-sm text-gray-800">[Any], Callable[[Any], Any]] = {
    bytes: lambda o: o.decode(),
    Color: str,
    datetime.date: isoformat,
    datetime.datetime: isoformat,
    datetime.time: isoformat,
    datetime.timedelta: lambda td: td.total_seconds(),
    Decimal: decimal_encoder,
    Enum: lambda o: o.value,
    frozenset: list,
    deque: list,
    GeneratorType: list,
    IPv4Address: str,
    IPv4Interface: str,
    IPv4Network: str,
    IPv6Address: str,
    IPv6Interface: str,
    IPv6Network: str,
    NameEmail: str,
    Path: str,
    Pattern: lambda o: o.pattern,
    SecretBytes: str,
    SecretStr: str,
    set: list,
    UUID: str,
}


@deprecated</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/decorator.py (Line 51:5 - Line 77:14), .venv/lib/python3.14/site-packages/pydantic/v1/decorator.py (Line 35:5 - Line 61:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn458" onclick="toggleCodeBlock('cloneGroup458', 'expandBtn458', 'collapseBtn458')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn458" onclick="toggleCodeBlock('cloneGroup458', 'expandBtn458', 'collapseBtn458')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup458"><code class="language-python text-sm text-gray-800">def validate(_func: 'AnyCallable') -&gt; 'AnyCallable':
        vd = ValidatedFunction(_func, config)

        @wraps(_func)
        def wrapper_function(*args: Any, **kwargs: Any) -&gt; Any:
            return vd.call(*args, **kwargs)

        wrapper_function.vd = vd  # type: ignore
        wrapper_function.validate = vd.init_model_instance  # type: ignore
        wrapper_function.raw_function = vd.raw_function  # type: ignore
        wrapper_function.model = vd.model  # type: ignore
        return wrapper_function

    if func:
        return validate(func)
    else:
        return validate


ALT_V_ARGS = 'v__args'
ALT_V_KWARGS = 'v__kwargs'
V_POSITIONAL_ONLY_NAME = 'v__positional_only'
V_DUPLICATE_KWARGS = 'v__duplicate_kwargs'


class ValidatedFunction:
    def __init__(self, function: 'AnyCallable'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/decorator.py (Line 98:6 - Line 109:5), .venv/lib/python3.14/site-packages/pydantic/v1/decorator.py (Line 81:6 - Line 92:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn459" onclick="toggleCodeBlock('cloneGroup459', 'expandBtn459', 'collapseBtn459')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn459" onclick="toggleCodeBlock('cloneGroup459', 'expandBtn459', 'collapseBtn459')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup459"><code class="language-python text-sm text-gray-800">[Any, Any]] = {}
        for i, (name, p) in enumerate(parameters.items()):
            if p.annotation is p.empty:
                annotation = Any
            else:
                annotation = type_hints[name]

            default = ... if p.default is p.empty else p.default
            if p.kind == Parameter.POSITIONAL_ONLY:
                self.arg_mapping[i] = name
                fields[name] = annotation, default
                fields[V_POSITIONAL_ONLY_NAME] = list</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/decorator.py (Line 141:5 - Line 153:6), .venv/lib/python3.14/site-packages/pydantic/v1/decorator.py (Line 124:5 - Line 136:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn460" onclick="toggleCodeBlock('cloneGroup460', 'expandBtn460', 'collapseBtn460')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn460" onclick="toggleCodeBlock('cloneGroup460', 'expandBtn460', 'collapseBtn460')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup460"><code class="language-python text-sm text-gray-800">[Any, Any], None

        self.create_model(fields, takes_args, takes_kwargs, config)

    def init_model_instance(self, *args: Any, **kwargs: Any) -&gt; BaseModel:
        values = self.build_values(args, kwargs)
        return self.model(**values)

    def call(self, *args: Any, **kwargs: Any) -&gt; Any:
        m = self.init_model_instance(*args, **kwargs)
        return self.execute(m)

    def build_values(self, args: tuple</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/decorator.py (Line 154:5 - Line 169:5), .venv/lib/python3.14/site-packages/pydantic/v1/decorator.py (Line 137:5 - Line 152:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn461" onclick="toggleCodeBlock('cloneGroup461', 'expandBtn461', 'collapseBtn461')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn461" onclick="toggleCodeBlock('cloneGroup461', 'expandBtn461', 'collapseBtn461')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup461"><code class="language-python text-sm text-gray-800">[str, Any] = {}
        if args:
            arg_iter = enumerate(args)
            while True:
                try:
                    i, a = next(arg_iter)
                except StopIteration:
                    break
                arg_name = self.arg_mapping.get(i)
                if arg_name is not None:
                    values[arg_name] = a
                else:
                    values[self.v_args_name] = [a] + [a for _, a in arg_iter]
                    break

        var_kwargs: dict</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/decorator.py (Line 177:20 - Line 199:9), .venv/lib/python3.14/site-packages/pydantic/v1/decorator.py (Line 160:11 - Line 180:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn462" onclick="toggleCodeBlock('cloneGroup462', 'expandBtn462', 'collapseBtn462')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn462" onclick="toggleCodeBlock('cloneGroup462', 'expandBtn462', 'collapseBtn462')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup462"><code class="language-python text-sm text-gray-800">) - {self.v_args_name, self.v_kwargs_name}
        for k, v in kwargs.items():
            if k in non_var_fields or k in fields_alias:
                if k in self.positional_only_args:
                    wrong_positional_args.append(k)
                if k in values:
                    duplicate_kwargs.append(k)
                values[k] = v
            else:
                var_kwargs[k] = v

        if var_kwargs:
            values[self.v_kwargs_name] = var_kwargs
        if wrong_positional_args:
            values[V_POSITIONAL_ONLY_NAME] = wrong_positional_args
        if duplicate_kwargs:
            values[V_DUPLICATE_KWARGS] = duplicate_kwargs
        return values

    def execute(self, m: BaseModel) -&gt; Any:
        d = {
            k: v
            for k, v in m.__dict__</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/deprecated/decorator.py (Line 205:5 - Line 229:5), .venv/lib/python3.14/site-packages/pydantic/v1/decorator.py (Line 184:5 - Line 208:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn463" onclick="toggleCodeBlock('cloneGroup463', 'expandBtn463', 'collapseBtn463')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn463" onclick="toggleCodeBlock('cloneGroup463', 'expandBtn463', 'collapseBtn463')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup463"><code class="language-python text-sm text-gray-800">[Any] = []
            in_kwargs = False
            kwargs = {}
            for name, value in d.items():
                if in_kwargs:
                    kwargs[name] = value
                elif name == self.v_args_name:
                    args_ += value
                    in_kwargs = True
                else:
                    args_.append(value)
            return self.raw_function(*args_, **kwargs, **var_kwargs)
        elif self.positional_only_args:
            args_ = []
            kwargs = {}
            for name, value in d.items():
                if name in self.positional_only_args:
                    args_.append(value)
                else:
                    kwargs[name] = value
            return self.raw_function(*args_, **kwargs, **var_kwargs)
        else:
            return self.raw_function(**d, **var_kwargs)

    def create_model(self, fields: dict</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_utils.py (Line 215:2 - Line 257:12), .venv/lib/python3.14/site-packages/pydantic/v1/utils.py (Line 534:2 - Line 577:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn464" onclick="toggleCodeBlock('cloneGroup464', 'expandBtn464', 'collapseBtn464')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn464" onclick="toggleCodeBlock('cloneGroup464', 'expandBtn464', 'collapseBtn464')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup464"><code class="language-python text-sm text-gray-800">= {}
        all_items = None
        for i, v in items.items():
            if not (isinstance(v, Mapping) or isinstance(v, AbstractSet) or self.is_true(v)):
                raise TypeError(f'Unexpected type of exclude value for index &quot;{i}&quot; {v.__class__}')
            if i == '__all__':
                all_items = self._coerce_value(v)
                continue
            if not isinstance(i, int):
                raise TypeError(
                    'Excluding fields from a sequence of sub-models or dicts must be performed index-wise: '
                    'expected integer keys or keyword &quot;__all__&quot;'
                )
            normalized_i = v_length + i if i &lt; 0 else i
            normalized_items[normalized_i] = self.merge(v, normalized_items.get(normalized_i))

        if not all_items:
            return normalized_items
        if self.is_true(all_items):
            for i in range(v_length):
                normalized_items.setdefault(i, ...)
            return normalized_items
        for i in range(v_length):
            normalized_item = normalized_items.setdefault(i, {})
            if not self.is_true(normalized_item):
                normalized_items[i] = self.merge(all_items, normalized_item)
        return normalized_items

    @classmethod
    def merge(cls, base: Any, override: Any, intersect: bool = False) -&gt; Any:
        &quot;&quot;&quot;Merge a `base` item with an `override` item.

        Both `base` and `override` are converted to dictionaries if possible.
        Sets are converted to dictionaries with the sets entries as keys and
        Ellipsis as values.

        Each key-value pair existing in `base` is merged with `override`,
        while the rest of the key-value pairs are updated recursively with this function.

        Merging takes place based on the &quot;union&quot; of keys if `intersect` is
        set to `False` (default) and on the intersection of keys if
        `intersect` is set to `True`.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_utils.py (Line 258:9 - Line 273:5), .venv/lib/python3.14/site-packages/pydantic/v1/utils.py (Line 578:9 - Line 593:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn465" onclick="toggleCodeBlock('cloneGroup465', 'expandBtn465', 'collapseBtn465')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn465" onclick="toggleCodeBlock('cloneGroup465', 'expandBtn465', 'collapseBtn465')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup465"><code class="language-python text-sm text-gray-800">override = cls._coerce_value(override)
        base = cls._coerce_value(base)
        if override is None:
            return base
        if cls.is_true(base) or base is None:
            return override
        if cls.is_true(override):
            return base if intersect else override

        # intersection or union of keys while preserving ordering:
        if intersect:
            merge_keys = [k for k in base if k in override] + [k for k in override if k in base]
        else:
            merge_keys = list(base) + [k for k in override if k not in base]

        merged: dict</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_utils.py (Line 292:5 - Line 302:6), .venv/lib/python3.14/site-packages/pydantic/v1/utils.py (Line 615:5 - Line 625:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn466" onclick="toggleCodeBlock('cloneGroup466', 'expandBtn466', 'collapseBtn466')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn466" onclick="toggleCodeBlock('cloneGroup466', 'expandBtn466', 'collapseBtn466')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup466"><code class="language-python text-sm text-gray-800">@classmethod
    def _coerce_value(cls, value: Any) -&gt; Any:
        if value is None or cls.is_true(value):
            return value
        return cls._coerce_items(value)

    @staticmethod
    def is_true(v: Any) -&gt; bool:
        return v is True or v is ...

    def __repr_args__(self) -&gt; _repr</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_typing_extra.py (Line 365:4 - Line 380:6), .venv/lib/python3.14/site-packages/pydantic/_internal/_typing_extra.py (Line 324:2 - Line 339:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn467" onclick="toggleCodeBlock('cloneGroup467', 'expandBtn467', 'collapseBtn467')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn467" onclick="toggleCodeBlock('cloneGroup467', 'expandBtn467', 'collapseBtn467')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup467"><code class="language-python text-sm text-gray-800">] = {}
    ns_resolver = ns_resolver or NsResolver()

    for base in reversed(obj.__mro__):
        # For Python 3.14, we could also use `Format.VALUE` and pass the globals/locals
        # from the ns_resolver, but we want to be able to know which specific field failed
        # to evaluate:
        ann = safe_get_annotations(base)

        if not ann:
            continue

        with ns_resolver.push(base):
            globalns, localns = ns_resolver.types_namespace
            for name, value in ann.items():
                hints</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_signature.py (Line 146:16 - Line 161:14), .venv/lib/python3.14/site-packages/pydantic/v1/utils.py (Line 283:22 - Line 298:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn468" onclick="toggleCodeBlock('cloneGroup468', 'expandBtn468', 'collapseBtn468')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn468" onclick="toggleCodeBlock('cloneGroup468', 'expandBtn468', 'collapseBtn468')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup468"><code class="language-python text-sm text-gray-800">),
            ('data', Parameter.VAR_KEYWORD),
        ]
        if [(p.name, p.kind) for p in present_params] == default_model_signature:
            # if this is the standard model signature, use extra_data as the extra args name
            var_kw_name = 'extra_data'
        else:
            # else start from var_kw
            var_kw_name = var_kw.name

        # generate a name that's definitely unique
        while var_kw_name in fields:
            var_kw_name += '_'
        merged_params[var_kw_name] = var_kw.replace(name=var_kw_name)

    return merged_params</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_mock_val_ser.py (Line 206:2 - Line 228:2), .venv/lib/python3.14/site-packages/pydantic/_internal/_mock_val_ser.py (Line 165:2 - Line 187:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn469" onclick="toggleCodeBlock('cloneGroup469', 'expandBtn469', 'collapseBtn469')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn469" onclick="toggleCodeBlock('cloneGroup469', 'expandBtn469', 'collapseBtn469')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup469"><code class="language-python text-sm text-gray-800">raise_errors=False, _parent_namespace_depth=5) is not False:
                return attr_fn(cls)
            return None

        return handler

    cls.__pydantic_core_schema__ = MockCoreSchema(  # pyright: ignore[reportAttributeAccessIssue]
        undefined_type_error_message,
        code='class-not-fully-defined',
        attempt_rebuild=attempt_rebuild_fn(lambda c: c.__pydantic_core_schema__),
    )
    cls.__pydantic_validator__ = MockValSer(  # pyright: ignore[reportAttributeAccessIssue]
        undefined_type_error_message,
        code='class-not-fully-defined',
        val_or_ser='validator',
        attempt_rebuild=attempt_rebuild_fn(lambda c: c.__pydantic_validator__),
    )
    cls.__pydantic_serializer__ = MockValSer(  # pyright: ignore[reportAttributeAccessIssue]
        undefined_type_error_message,
        code='class-not-fully-defined',
        val_or_ser='serializer',
        attempt_rebuild=attempt_rebuild_fn(lambda c: c.__pydantic_serializer__),
    )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/_internal/_fields.py (Line 586:5 - Line 600:10), .venv/lib/python3.14/site-packages/pydantic/_internal/_fields.py (Line 433:5 - Line 448:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn470" onclick="toggleCodeBlock('cloneGroup470', 'expandBtn470', 'collapseBtn470')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn470" onclick="toggleCodeBlock('cloneGroup470', 'expandBtn470', 'collapseBtn470')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup470"><code class="language-python text-sm text-gray-800">FieldInfo_ = import_cached_field_info()

    rebuilt_fields: dict[str, FieldInfo] = {}
    with ns_resolver.push(cls):
        for f_name, field_info in cls.__pydantic_fields__.items():
            if field_info._complete:
                rebuilt_fields[f_name] = field_info
            else:
                existing_desc = field_info.description
                ann = _typing_extra.eval_type(
                    field_info._original_annotation,
                    *ns_resolver.types_namespace,
                )
                ann = _generics.replace_types(ann, typevars_map)
                new_field</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/licenses/_spdx.py (Line 2:1 - Line 759:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/licenses/_spdx.py (Line 2:1 - Line 759:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn471" onclick="toggleCodeBlock('cloneGroup471', 'expandBtn471', 'collapseBtn471')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn471" onclick="toggleCodeBlock('cloneGroup471', 'expandBtn471', 'collapseBtn471')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup471"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import TypedDict

class SPDXLicense(TypedDict):
    id: str
    deprecated: bool

class SPDXException(TypedDict):
    id: str
    deprecated: bool


VERSION = '3.25.0'

LICENSES: dict[str, SPDXLicense] = {
    '0bsd': {'id': '0BSD', 'deprecated': False},
    '3d-slicer-1.0': {'id': '3D-Slicer-1.0', 'deprecated': False},
    'aal': {'id': 'AAL', 'deprecated': False},
    'abstyles': {'id': 'Abstyles', 'deprecated': False},
    'adacore-doc': {'id': 'AdaCore-doc', 'deprecated': False},
    'adobe-2006': {'id': 'Adobe-2006', 'deprecated': False},
    'adobe-display-postscript': {'id': 'Adobe-Display-PostScript', 'deprecated': False},
    'adobe-glyph': {'id': 'Adobe-Glyph', 'deprecated': False},
    'adobe-utopia': {'id': 'Adobe-Utopia', 'deprecated': False},
    'adsl': {'id': 'ADSL', 'deprecated': False},
    'afl-1.1': {'id': 'AFL-1.1', 'deprecated': False},
    'afl-1.2': {'id': 'AFL-1.2', 'deprecated': False},
    'afl-2.0': {'id': 'AFL-2.0', 'deprecated': False},
    'afl-2.1': {'id': 'AFL-2.1', 'deprecated': False},
    'afl-3.0': {'id': 'AFL-3.0', 'deprecated': False},
    'afmparse': {'id': 'Afmparse', 'deprecated': False},
    'agpl-1.0': {'id': 'AGPL-1.0', 'deprecated': True},
    'agpl-1.0-only': {'id': 'AGPL-1.0-only', 'deprecated': False},
    'agpl-1.0-or-later': {'id': 'AGPL-1.0-or-later', 'deprecated': False},
    'agpl-3.0': {'id': 'AGPL-3.0', 'deprecated': True},
    'agpl-3.0-only': {'id': 'AGPL-3.0-only', 'deprecated': False},
    'agpl-3.0-or-later': {'id': 'AGPL-3.0-or-later', 'deprecated': False},
    'aladdin': {'id': 'Aladdin', 'deprecated': False},
    'amd-newlib': {'id': 'AMD-newlib', 'deprecated': False},
    'amdplpa': {'id': 'AMDPLPA', 'deprecated': False},
    'aml': {'id': 'AML', 'deprecated': False},
    'aml-glslang': {'id': 'AML-glslang', 'deprecated': False},
    'ampas': {'id': 'AMPAS', 'deprecated': False},
    'antlr-pd': {'id': 'ANTLR-PD', 'deprecated': False},
    'antlr-pd-fallback': {'id': 'ANTLR-PD-fallback', 'deprecated': False},
    'any-osi': {'id': 'any-OSI', 'deprecated': False},
    'apache-1.0': {'id': 'Apache-1.0', 'deprecated': False},
    'apache-1.1': {'id': 'Apache-1.1', 'deprecated': False},
    'apache-2.0': {'id': 'Apache-2.0', 'deprecated': False},
    'apafml': {'id': 'APAFML', 'deprecated': False},
    'apl-1.0': {'id': 'APL-1.0', 'deprecated': False},
    'app-s2p': {'id': 'App-s2p', 'deprecated': False},
    'apsl-1.0': {'id': 'APSL-1.0', 'deprecated': False},
    'apsl-1.1': {'id': 'APSL-1.1', 'deprecated': False},
    'apsl-1.2': {'id': 'APSL-1.2', 'deprecated': False},
    'apsl-2.0': {'id': 'APSL-2.0', 'deprecated': False},
    'arphic-1999': {'id': 'Arphic-1999', 'deprecated': False},
    'artistic-1.0': {'id': 'Artistic-1.0', 'deprecated': False},
    'artistic-1.0-cl8': {'id': 'Artistic-1.0-cl8', 'deprecated': False},
    'artistic-1.0-perl': {'id': 'Artistic-1.0-Perl', 'deprecated': False},
    'artistic-2.0': {'id': 'Artistic-2.0', 'deprecated': False},
    'aswf-digital-assets-1.0': {'id': 'ASWF-Digital-Assets-1.0', 'deprecated': False},
    'aswf-digital-assets-1.1': {'id': 'ASWF-Digital-Assets-1.1', 'deprecated': False},
    'baekmuk': {'id': 'Baekmuk', 'deprecated': False},
    'bahyph': {'id': 'Bahyph', 'deprecated': False},
    'barr': {'id': 'Barr', 'deprecated': False},
    'bcrypt-solar-designer': {'id': 'bcrypt-Solar-Designer', 'deprecated': False},
    'beerware': {'id': 'Beerware', 'deprecated': False},
    'bitstream-charter': {'id': 'Bitstream-Charter', 'deprecated': False},
    'bitstream-vera': {'id': 'Bitstream-Vera', 'deprecated': False},
    'bittorrent-1.0': {'id': 'BitTorrent-1.0', 'deprecated': False},
    'bittorrent-1.1': {'id': 'BitTorrent-1.1', 'deprecated': False},
    'blessing': {'id': 'blessing', 'deprecated': False},
    'blueoak-1.0.0': {'id': 'BlueOak-1.0.0', 'deprecated': False},
    'boehm-gc': {'id': 'Boehm-GC', 'deprecated': False},
    'borceux': {'id': 'Borceux', 'deprecated': False},
    'brian-gladman-2-clause': {'id': 'Brian-Gladman-2-Clause', 'deprecated': False},
    'brian-gladman-3-clause': {'id': 'Brian-Gladman-3-Clause', 'deprecated': False},
    'bsd-1-clause': {'id': 'BSD-1-Clause', 'deprecated': False},
    'bsd-2-clause': {'id': 'BSD-2-Clause', 'deprecated': False},
    'bsd-2-clause-darwin': {'id': 'BSD-2-Clause-Darwin', 'deprecated': False},
    'bsd-2-clause-first-lines': {'id': 'BSD-2-Clause-first-lines', 'deprecated': False},
    'bsd-2-clause-freebsd': {'id': 'BSD-2-Clause-FreeBSD', 'deprecated': True},
    'bsd-2-clause-netbsd': {'id': 'BSD-2-Clause-NetBSD', 'deprecated': True},
    'bsd-2-clause-patent': {'id': 'BSD-2-Clause-Patent', 'deprecated': False},
    'bsd-2-clause-views': {'id': 'BSD-2-Clause-Views', 'deprecated': False},
    'bsd-3-clause': {'id': 'BSD-3-Clause', 'deprecated': False},
    'bsd-3-clause-acpica': {'id': 'BSD-3-Clause-acpica', 'deprecated': False},
    'bsd-3-clause-attribution': {'id': 'BSD-3-Clause-Attribution', 'deprecated': False},
    'bsd-3-clause-clear': {'id': 'BSD-3-Clause-Clear', 'deprecated': False},
    'bsd-3-clause-flex': {'id': 'BSD-3-Clause-flex', 'deprecated': False},
    'bsd-3-clause-hp': {'id': 'BSD-3-Clause-HP', 'deprecated': False},
    'bsd-3-clause-lbnl': {'id': 'BSD-3-Clause-LBNL', 'deprecated': False},
    'bsd-3-clause-modification': {'id': 'BSD-3-Clause-Modification', 'deprecated': False},
    'bsd-3-clause-no-military-license': {'id': 'BSD-3-Clause-No-Military-License', 'deprecated': False},
    'bsd-3-clause-no-nuclear-license': {'id': 'BSD-3-Clause-No-Nuclear-License', 'deprecated': False},
    'bsd-3-clause-no-nuclear-license-2014': {'id': 'BSD-3-Clause-No-Nuclear-License-2014', 'deprecated': False},
    'bsd-3-clause-no-nuclear-warranty': {'id': 'BSD-3-Clause-No-Nuclear-Warranty', 'deprecated': False},
    'bsd-3-clause-open-mpi': {'id': 'BSD-3-Clause-Open-MPI', 'deprecated': False},
    'bsd-3-clause-sun': {'id': 'BSD-3-Clause-Sun', 'deprecated': False},
    'bsd-4-clause': {'id': 'BSD-4-Clause', 'deprecated': False},
    'bsd-4-clause-shortened': {'id': 'BSD-4-Clause-Shortened', 'deprecated': False},
    'bsd-4-clause-uc': {'id': 'BSD-4-Clause-UC', 'deprecated': False},
    'bsd-4.3reno': {'id': 'BSD-4.3RENO', 'deprecated': False},
    'bsd-4.3tahoe': {'id': 'BSD-4.3TAHOE', 'deprecated': False},
    'bsd-advertising-acknowledgement': {'id': 'BSD-Advertising-Acknowledgement', 'deprecated': False},
    'bsd-attribution-hpnd-disclaimer': {'id': 'BSD-Attribution-HPND-disclaimer', 'deprecated': False},
    'bsd-inferno-nettverk': {'id': 'BSD-Inferno-Nettverk', 'deprecated': False},
    'bsd-protection': {'id': 'BSD-Protection', 'deprecated': False},
    'bsd-source-beginning-file': {'id': 'BSD-Source-beginning-file', 'deprecated': False},
    'bsd-source-code': {'id': 'BSD-Source-Code', 'deprecated': False},
    'bsd-systemics': {'id': 'BSD-Systemics', 'deprecated': False},
    'bsd-systemics-w3works': {'id': 'BSD-Systemics-W3Works', 'deprecated': False},
    'bsl-1.0': {'id': 'BSL-1.0', 'deprecated': False},
    'busl-1.1': {'id': 'BUSL-1.1', 'deprecated': False},
    'bzip2-1.0.5': {'id': 'bzip2-1.0.5', 'deprecated': True},
    'bzip2-1.0.6': {'id': 'bzip2-1.0.6', 'deprecated': False},
    'c-uda-1.0': {'id': 'C-UDA-1.0', 'deprecated': False},
    'cal-1.0': {'id': 'CAL-1.0', 'deprecated': False},
    'cal-1.0-combined-work-exception': {'id': 'CAL-1.0-Combined-Work-Exception', 'deprecated': False},
    'caldera': {'id': 'Caldera', 'deprecated': False},
    'caldera-no-preamble': {'id': 'Caldera-no-preamble', 'deprecated': False},
    'catharon': {'id': 'Catharon', 'deprecated': False},
    'catosl-1.1': {'id': 'CATOSL-1.1', 'deprecated': False},
    'cc-by-1.0': {'id': 'CC-BY-1.0', 'deprecated': False},
    'cc-by-2.0': {'id': 'CC-BY-2.0', 'deprecated': False},
    'cc-by-2.5': {'id': 'CC-BY-2.5', 'deprecated': False},
    'cc-by-2.5-au': {'id': 'CC-BY-2.5-AU', 'deprecated': False},
    'cc-by-3.0': {'id': 'CC-BY-3.0', 'deprecated': False},
    'cc-by-3.0-at': {'id': 'CC-BY-3.0-AT', 'deprecated': False},
    'cc-by-3.0-au': {'id': 'CC-BY-3.0-AU', 'deprecated': False},
    'cc-by-3.0-de': {'id': 'CC-BY-3.0-DE', 'deprecated': False},
    'cc-by-3.0-igo': {'id': 'CC-BY-3.0-IGO', 'deprecated': False},
    'cc-by-3.0-nl': {'id': 'CC-BY-3.0-NL', 'deprecated': False},
    'cc-by-3.0-us': {'id': 'CC-BY-3.0-US', 'deprecated': False},
    'cc-by-4.0': {'id': 'CC-BY-4.0', 'deprecated': False},
    'cc-by-nc-1.0': {'id': 'CC-BY-NC-1.0', 'deprecated': False},
    'cc-by-nc-2.0': {'id': 'CC-BY-NC-2.0', 'deprecated': False},
    'cc-by-nc-2.5': {'id': 'CC-BY-NC-2.5', 'deprecated': False},
    'cc-by-nc-3.0': {'id': 'CC-BY-NC-3.0', 'deprecated': False},
    'cc-by-nc-3.0-de': {'id': 'CC-BY-NC-3.0-DE', 'deprecated': False},
    'cc-by-nc-4.0': {'id': 'CC-BY-NC-4.0', 'deprecated': False},
    'cc-by-nc-nd-1.0': {'id': 'CC-BY-NC-ND-1.0', 'deprecated': False},
    'cc-by-nc-nd-2.0': {'id': 'CC-BY-NC-ND-2.0', 'deprecated': False},
    'cc-by-nc-nd-2.5': {'id': 'CC-BY-NC-ND-2.5', 'deprecated': False},
    'cc-by-nc-nd-3.0': {'id': 'CC-BY-NC-ND-3.0', 'deprecated': False},
    'cc-by-nc-nd-3.0-de': {'id': 'CC-BY-NC-ND-3.0-DE', 'deprecated': False},
    'cc-by-nc-nd-3.0-igo': {'id': 'CC-BY-NC-ND-3.0-IGO', 'deprecated': False},
    'cc-by-nc-nd-4.0': {'id': 'CC-BY-NC-ND-4.0', 'deprecated': False},
    'cc-by-nc-sa-1.0': {'id': 'CC-BY-NC-SA-1.0', 'deprecated': False},
    'cc-by-nc-sa-2.0': {'id': 'CC-BY-NC-SA-2.0', 'deprecated': False},
    'cc-by-nc-sa-2.0-de': {'id': 'CC-BY-NC-SA-2.0-DE', 'deprecated': False},
    'cc-by-nc-sa-2.0-fr': {'id': 'CC-BY-NC-SA-2.0-FR', 'deprecated': False},
    'cc-by-nc-sa-2.0-uk': {'id': 'CC-BY-NC-SA-2.0-UK', 'deprecated': False},
    'cc-by-nc-sa-2.5': {'id': 'CC-BY-NC-SA-2.5', 'deprecated': False},
    'cc-by-nc-sa-3.0': {'id': 'CC-BY-NC-SA-3.0', 'deprecated': False},
    'cc-by-nc-sa-3.0-de': {'id': 'CC-BY-NC-SA-3.0-DE', 'deprecated': False},
    'cc-by-nc-sa-3.0-igo': {'id': 'CC-BY-NC-SA-3.0-IGO', 'deprecated': False},
    'cc-by-nc-sa-4.0': {'id': 'CC-BY-NC-SA-4.0', 'deprecated': False},
    'cc-by-nd-1.0': {'id': 'CC-BY-ND-1.0', 'deprecated': False},
    'cc-by-nd-2.0': {'id': 'CC-BY-ND-2.0', 'deprecated': False},
    'cc-by-nd-2.5': {'id': 'CC-BY-ND-2.5', 'deprecated': False},
    'cc-by-nd-3.0': {'id': 'CC-BY-ND-3.0', 'deprecated': False},
    'cc-by-nd-3.0-de': {'id': 'CC-BY-ND-3.0-DE', 'deprecated': False},
    'cc-by-nd-4.0': {'id': 'CC-BY-ND-4.0', 'deprecated': False},
    'cc-by-sa-1.0': {'id': 'CC-BY-SA-1.0', 'deprecated': False},
    'cc-by-sa-2.0': {'id': 'CC-BY-SA-2.0', 'deprecated': False},
    'cc-by-sa-2.0-uk': {'id': 'CC-BY-SA-2.0-UK', 'deprecated': False},
    'cc-by-sa-2.1-jp': {'id': 'CC-BY-SA-2.1-JP', 'deprecated': False},
    'cc-by-sa-2.5': {'id': 'CC-BY-SA-2.5', 'deprecated': False},
    'cc-by-sa-3.0': {'id': 'CC-BY-SA-3.0', 'deprecated': False},
    'cc-by-sa-3.0-at': {'id': 'CC-BY-SA-3.0-AT', 'deprecated': False},
    'cc-by-sa-3.0-de': {'id': 'CC-BY-SA-3.0-DE', 'deprecated': False},
    'cc-by-sa-3.0-igo': {'id': 'CC-BY-SA-3.0-IGO', 'deprecated': False},
    'cc-by-sa-4.0': {'id': 'CC-BY-SA-4.0', 'deprecated': False},
    'cc-pddc': {'id': 'CC-PDDC', 'deprecated': False},
    'cc0-1.0': {'id': 'CC0-1.0', 'deprecated': False},
    'cddl-1.0': {'id': 'CDDL-1.0', 'deprecated': False},
    'cddl-1.1': {'id': 'CDDL-1.1', 'deprecated': False},
    'cdl-1.0': {'id': 'CDL-1.0', 'deprecated': False},
    'cdla-permissive-1.0': {'id': 'CDLA-Permissive-1.0', 'deprecated': False},
    'cdla-permissive-2.0': {'id': 'CDLA-Permissive-2.0', 'deprecated': False},
    'cdla-sharing-1.0': {'id': 'CDLA-Sharing-1.0', 'deprecated': False},
    'cecill-1.0': {'id': 'CECILL-1.0', 'deprecated': False},
    'cecill-1.1': {'id': 'CECILL-1.1', 'deprecated': False},
    'cecill-2.0': {'id': 'CECILL-2.0', 'deprecated': False},
    'cecill-2.1': {'id': 'CECILL-2.1', 'deprecated': False},
    'cecill-b': {'id': 'CECILL-B', 'deprecated': False},
    'cecill-c': {'id': 'CECILL-C', 'deprecated': False},
    'cern-ohl-1.1': {'id': 'CERN-OHL-1.1', 'deprecated': False},
    'cern-ohl-1.2': {'id': 'CERN-OHL-1.2', 'deprecated': False},
    'cern-ohl-p-2.0': {'id': 'CERN-OHL-P-2.0', 'deprecated': False},
    'cern-ohl-s-2.0': {'id': 'CERN-OHL-S-2.0', 'deprecated': False},
    'cern-ohl-w-2.0': {'id': 'CERN-OHL-W-2.0', 'deprecated': False},
    'cfitsio': {'id': 'CFITSIO', 'deprecated': False},
    'check-cvs': {'id': 'check-cvs', 'deprecated': False},
    'checkmk': {'id': 'checkmk', 'deprecated': False},
    'clartistic': {'id': 'ClArtistic', 'deprecated': False},
    'clips': {'id': 'Clips', 'deprecated': False},
    'cmu-mach': {'id': 'CMU-Mach', 'deprecated': False},
    'cmu-mach-nodoc': {'id': 'CMU-Mach-nodoc', 'deprecated': False},
    'cnri-jython': {'id': 'CNRI-Jython', 'deprecated': False},
    'cnri-python': {'id': 'CNRI-Python', 'deprecated': False},
    'cnri-python-gpl-compatible': {'id': 'CNRI-Python-GPL-Compatible', 'deprecated': False},
    'coil-1.0': {'id': 'COIL-1.0', 'deprecated': False},
    'community-spec-1.0': {'id': 'Community-Spec-1.0', 'deprecated': False},
    'condor-1.1': {'id': 'Condor-1.1', 'deprecated': False},
    'copyleft-next-0.3.0': {'id': 'copyleft-next-0.3.0', 'deprecated': False},
    'copyleft-next-0.3.1': {'id': 'copyleft-next-0.3.1', 'deprecated': False},
    'cornell-lossless-jpeg': {'id': 'Cornell-Lossless-JPEG', 'deprecated': False},
    'cpal-1.0': {'id': 'CPAL-1.0', 'deprecated': False},
    'cpl-1.0': {'id': 'CPL-1.0', 'deprecated': False},
    'cpol-1.02': {'id': 'CPOL-1.02', 'deprecated': False},
    'cronyx': {'id': 'Cronyx', 'deprecated': False},
    'crossword': {'id': 'Crossword', 'deprecated': False},
    'crystalstacker': {'id': 'CrystalStacker', 'deprecated': False},
    'cua-opl-1.0': {'id': 'CUA-OPL-1.0', 'deprecated': False},
    'cube': {'id': 'Cube', 'deprecated': False},
    'curl': {'id': 'curl', 'deprecated': False},
    'cve-tou': {'id': 'cve-tou', 'deprecated': False},
    'd-fsl-1.0': {'id': 'D-FSL-1.0', 'deprecated': False},
    'dec-3-clause': {'id': 'DEC-3-Clause', 'deprecated': False},
    'diffmark': {'id': 'diffmark', 'deprecated': False},
    'dl-de-by-2.0': {'id': 'DL-DE-BY-2.0', 'deprecated': False},
    'dl-de-zero-2.0': {'id': 'DL-DE-ZERO-2.0', 'deprecated': False},
    'doc': {'id': 'DOC', 'deprecated': False},
    'docbook-schema': {'id': 'DocBook-Schema', 'deprecated': False},
    'docbook-xml': {'id': 'DocBook-XML', 'deprecated': False},
    'dotseqn': {'id': 'Dotseqn', 'deprecated': False},
    'drl-1.0': {'id': 'DRL-1.0', 'deprecated': False},
    'drl-1.1': {'id': 'DRL-1.1', 'deprecated': False},
    'dsdp': {'id': 'DSDP', 'deprecated': False},
    'dtoa': {'id': 'dtoa', 'deprecated': False},
    'dvipdfm': {'id': 'dvipdfm', 'deprecated': False},
    'ecl-1.0': {'id': 'ECL-1.0', 'deprecated': False},
    'ecl-2.0': {'id': 'ECL-2.0', 'deprecated': False},
    'ecos-2.0': {'id': 'eCos-2.0', 'deprecated': True},
    'efl-1.0': {'id': 'EFL-1.0', 'deprecated': False},
    'efl-2.0': {'id': 'EFL-2.0', 'deprecated': False},
    'egenix': {'id': 'eGenix', 'deprecated': False},
    'elastic-2.0': {'id': 'Elastic-2.0', 'deprecated': False},
    'entessa': {'id': 'Entessa', 'deprecated': False},
    'epics': {'id': 'EPICS', 'deprecated': False},
    'epl-1.0': {'id': 'EPL-1.0', 'deprecated': False},
    'epl-2.0': {'id': 'EPL-2.0', 'deprecated': False},
    'erlpl-1.1': {'id': 'ErlPL-1.1', 'deprecated': False},
    'etalab-2.0': {'id': 'etalab-2.0', 'deprecated': False},
    'eudatagrid': {'id': 'EUDatagrid', 'deprecated': False},
    'eupl-1.0': {'id': 'EUPL-1.0', 'deprecated': False},
    'eupl-1.1': {'id': 'EUPL-1.1', 'deprecated': False},
    'eupl-1.2': {'id': 'EUPL-1.2', 'deprecated': False},
    'eurosym': {'id': 'Eurosym', 'deprecated': False},
    'fair': {'id': 'Fair', 'deprecated': False},
    'fbm': {'id': 'FBM', 'deprecated': False},
    'fdk-aac': {'id': 'FDK-AAC', 'deprecated': False},
    'ferguson-twofish': {'id': 'Ferguson-Twofish', 'deprecated': False},
    'frameworx-1.0': {'id': 'Frameworx-1.0', 'deprecated': False},
    'freebsd-doc': {'id': 'FreeBSD-DOC', 'deprecated': False},
    'freeimage': {'id': 'FreeImage', 'deprecated': False},
    'fsfap': {'id': 'FSFAP', 'deprecated': False},
    'fsfap-no-warranty-disclaimer': {'id': 'FSFAP-no-warranty-disclaimer', 'deprecated': False},
    'fsful': {'id': 'FSFUL', 'deprecated': False},
    'fsfullr': {'id': 'FSFULLR', 'deprecated': False},
    'fsfullrwd': {'id': 'FSFULLRWD', 'deprecated': False},
    'ftl': {'id': 'FTL', 'deprecated': False},
    'furuseth': {'id': 'Furuseth', 'deprecated': False},
    'fwlw': {'id': 'fwlw', 'deprecated': False},
    'gcr-docs': {'id': 'GCR-docs', 'deprecated': False},
    'gd': {'id': 'GD', 'deprecated': False},
    'gfdl-1.1': {'id': 'GFDL-1.1', 'deprecated': True},
    'gfdl-1.1-invariants-only': {'id': 'GFDL-1.1-invariants-only', 'deprecated': False},
    'gfdl-1.1-invariants-or-later': {'id': 'GFDL-1.1-invariants-or-later', 'deprecated': False},
    'gfdl-1.1-no-invariants-only': {'id': 'GFDL-1.1-no-invariants-only', 'deprecated': False},
    'gfdl-1.1-no-invariants-or-later': {'id': 'GFDL-1.1-no-invariants-or-later', 'deprecated': False},
    'gfdl-1.1-only': {'id': 'GFDL-1.1-only', 'deprecated': False},
    'gfdl-1.1-or-later': {'id': 'GFDL-1.1-or-later', 'deprecated': False},
    'gfdl-1.2': {'id': 'GFDL-1.2', 'deprecated': True},
    'gfdl-1.2-invariants-only': {'id': 'GFDL-1.2-invariants-only', 'deprecated': False},
    'gfdl-1.2-invariants-or-later': {'id': 'GFDL-1.2-invariants-or-later', 'deprecated': False},
    'gfdl-1.2-no-invariants-only': {'id': 'GFDL-1.2-no-invariants-only', 'deprecated': False},
    'gfdl-1.2-no-invariants-or-later': {'id': 'GFDL-1.2-no-invariants-or-later', 'deprecated': False},
    'gfdl-1.2-only': {'id': 'GFDL-1.2-only', 'deprecated': False},
    'gfdl-1.2-or-later': {'id': 'GFDL-1.2-or-later', 'deprecated': False},
    'gfdl-1.3': {'id': 'GFDL-1.3', 'deprecated': True},
    'gfdl-1.3-invariants-only': {'id': 'GFDL-1.3-invariants-only', 'deprecated': False},
    'gfdl-1.3-invariants-or-later': {'id': 'GFDL-1.3-invariants-or-later', 'deprecated': False},
    'gfdl-1.3-no-invariants-only': {'id': 'GFDL-1.3-no-invariants-only', 'deprecated': False},
    'gfdl-1.3-no-invariants-or-later': {'id': 'GFDL-1.3-no-invariants-or-later', 'deprecated': False},
    'gfdl-1.3-only': {'id': 'GFDL-1.3-only', 'deprecated': False},
    'gfdl-1.3-or-later': {'id': 'GFDL-1.3-or-later', 'deprecated': False},
    'giftware': {'id': 'Giftware', 'deprecated': False},
    'gl2ps': {'id': 'GL2PS', 'deprecated': False},
    'glide': {'id': 'Glide', 'deprecated': False},
    'glulxe': {'id': 'Glulxe', 'deprecated': False},
    'glwtpl': {'id': 'GLWTPL', 'deprecated': False},
    'gnuplot': {'id': 'gnuplot', 'deprecated': False},
    'gpl-1.0': {'id': 'GPL-1.0', 'deprecated': True},
    'gpl-1.0+': {'id': 'GPL-1.0+', 'deprecated': True},
    'gpl-1.0-only': {'id': 'GPL-1.0-only', 'deprecated': False},
    'gpl-1.0-or-later': {'id': 'GPL-1.0-or-later', 'deprecated': False},
    'gpl-2.0': {'id': 'GPL-2.0', 'deprecated': True},
    'gpl-2.0+': {'id': 'GPL-2.0+', 'deprecated': True},
    'gpl-2.0-only': {'id': 'GPL-2.0-only', 'deprecated': False},
    'gpl-2.0-or-later': {'id': 'GPL-2.0-or-later', 'deprecated': False},
    'gpl-2.0-with-autoconf-exception': {'id': 'GPL-2.0-with-autoconf-exception', 'deprecated': True},
    'gpl-2.0-with-bison-exception': {'id': 'GPL-2.0-with-bison-exception', 'deprecated': True},
    'gpl-2.0-with-classpath-exception': {'id': 'GPL-2.0-with-classpath-exception', 'deprecated': True},
    'gpl-2.0-with-font-exception': {'id': 'GPL-2.0-with-font-exception', 'deprecated': True},
    'gpl-2.0-with-gcc-exception': {'id': 'GPL-2.0-with-GCC-exception', 'deprecated': True},
    'gpl-3.0': {'id': 'GPL-3.0', 'deprecated': True},
    'gpl-3.0+': {'id': 'GPL-3.0+', 'deprecated': True},
    'gpl-3.0-only': {'id': 'GPL-3.0-only', 'deprecated': False},
    'gpl-3.0-or-later': {'id': 'GPL-3.0-or-later', 'deprecated': False},
    'gpl-3.0-with-autoconf-exception': {'id': 'GPL-3.0-with-autoconf-exception', 'deprecated': True},
    'gpl-3.0-with-gcc-exception': {'id': 'GPL-3.0-with-GCC-exception', 'deprecated': True},
    'graphics-gems': {'id': 'Graphics-Gems', 'deprecated': False},
    'gsoap-1.3b': {'id': 'gSOAP-1.3b', 'deprecated': False},
    'gtkbook': {'id': 'gtkbook', 'deprecated': False},
    'gutmann': {'id': 'Gutmann', 'deprecated': False},
    'haskellreport': {'id': 'HaskellReport', 'deprecated': False},
    'hdparm': {'id': 'hdparm', 'deprecated': False},
    'hidapi': {'id': 'HIDAPI', 'deprecated': False},
    'hippocratic-2.1': {'id': 'Hippocratic-2.1', 'deprecated': False},
    'hp-1986': {'id': 'HP-1986', 'deprecated': False},
    'hp-1989': {'id': 'HP-1989', 'deprecated': False},
    'hpnd': {'id': 'HPND', 'deprecated': False},
    'hpnd-dec': {'id': 'HPND-DEC', 'deprecated': False},
    'hpnd-doc': {'id': 'HPND-doc', 'deprecated': False},
    'hpnd-doc-sell': {'id': 'HPND-doc-sell', 'deprecated': False},
    'hpnd-export-us': {'id': 'HPND-export-US', 'deprecated': False},
    'hpnd-export-us-acknowledgement': {'id': 'HPND-export-US-acknowledgement', 'deprecated': False},
    'hpnd-export-us-modify': {'id': 'HPND-export-US-modify', 'deprecated': False},
    'hpnd-export2-us': {'id': 'HPND-export2-US', 'deprecated': False},
    'hpnd-fenneberg-livingston': {'id': 'HPND-Fenneberg-Livingston', 'deprecated': False},
    'hpnd-inria-imag': {'id': 'HPND-INRIA-IMAG', 'deprecated': False},
    'hpnd-intel': {'id': 'HPND-Intel', 'deprecated': False},
    'hpnd-kevlin-henney': {'id': 'HPND-Kevlin-Henney', 'deprecated': False},
    'hpnd-markus-kuhn': {'id': 'HPND-Markus-Kuhn', 'deprecated': False},
    'hpnd-merchantability-variant': {'id': 'HPND-merchantability-variant', 'deprecated': False},
    'hpnd-mit-disclaimer': {'id': 'HPND-MIT-disclaimer', 'deprecated': False},
    'hpnd-netrek': {'id': 'HPND-Netrek', 'deprecated': False},
    'hpnd-pbmplus': {'id': 'HPND-Pbmplus', 'deprecated': False},
    'hpnd-sell-mit-disclaimer-xserver': {'id': 'HPND-sell-MIT-disclaimer-xserver', 'deprecated': False},
    'hpnd-sell-regexpr': {'id': 'HPND-sell-regexpr', 'deprecated': False},
    'hpnd-sell-variant': {'id': 'HPND-sell-variant', 'deprecated': False},
    'hpnd-sell-variant-mit-disclaimer': {'id': 'HPND-sell-variant-MIT-disclaimer', 'deprecated': False},
    'hpnd-sell-variant-mit-disclaimer-rev': {'id': 'HPND-sell-variant-MIT-disclaimer-rev', 'deprecated': False},
    'hpnd-uc': {'id': 'HPND-UC', 'deprecated': False},
    'hpnd-uc-export-us': {'id': 'HPND-UC-export-US', 'deprecated': False},
    'htmltidy': {'id': 'HTMLTIDY', 'deprecated': False},
    'ibm-pibs': {'id': 'IBM-pibs', 'deprecated': False},
    'icu': {'id': 'ICU', 'deprecated': False},
    'iec-code-components-eula': {'id': 'IEC-Code-Components-EULA', 'deprecated': False},
    'ijg': {'id': 'IJG', 'deprecated': False},
    'ijg-short': {'id': 'IJG-short', 'deprecated': False},
    'imagemagick': {'id': 'ImageMagick', 'deprecated': False},
    'imatix': {'id': 'iMatix', 'deprecated': False},
    'imlib2': {'id': 'Imlib2', 'deprecated': False},
    'info-zip': {'id': 'Info-ZIP', 'deprecated': False},
    'inner-net-2.0': {'id': 'Inner-Net-2.0', 'deprecated': False},
    'intel': {'id': 'Intel', 'deprecated': False},
    'intel-acpi': {'id': 'Intel-ACPI', 'deprecated': False},
    'interbase-1.0': {'id': 'Interbase-1.0', 'deprecated': False},
    'ipa': {'id': 'IPA', 'deprecated': False},
    'ipl-1.0': {'id': 'IPL-1.0', 'deprecated': False},
    'isc': {'id': 'ISC', 'deprecated': False},
    'isc-veillard': {'id': 'ISC-Veillard', 'deprecated': False},
    'jam': {'id': 'Jam', 'deprecated': False},
    'jasper-2.0': {'id': 'JasPer-2.0', 'deprecated': False},
    'jpl-image': {'id': 'JPL-image', 'deprecated': False},
    'jpnic': {'id': 'JPNIC', 'deprecated': False},
    'json': {'id': 'JSON', 'deprecated': False},
    'kastrup': {'id': 'Kastrup', 'deprecated': False},
    'kazlib': {'id': 'Kazlib', 'deprecated': False},
    'knuth-ctan': {'id': 'Knuth-CTAN', 'deprecated': False},
    'lal-1.2': {'id': 'LAL-1.2', 'deprecated': False},
    'lal-1.3': {'id': 'LAL-1.3', 'deprecated': False},
    'latex2e': {'id': 'Latex2e', 'deprecated': False},
    'latex2e-translated-notice': {'id': 'Latex2e-translated-notice', 'deprecated': False},
    'leptonica': {'id': 'Leptonica', 'deprecated': False},
    'lgpl-2.0': {'id': 'LGPL-2.0', 'deprecated': True},
    'lgpl-2.0+': {'id': 'LGPL-2.0+', 'deprecated': True},
    'lgpl-2.0-only': {'id': 'LGPL-2.0-only', 'deprecated': False},
    'lgpl-2.0-or-later': {'id': 'LGPL-2.0-or-later', 'deprecated': False},
    'lgpl-2.1': {'id': 'LGPL-2.1', 'deprecated': True},
    'lgpl-2.1+': {'id': 'LGPL-2.1+', 'deprecated': True},
    'lgpl-2.1-only': {'id': 'LGPL-2.1-only', 'deprecated': False},
    'lgpl-2.1-or-later': {'id': 'LGPL-2.1-or-later', 'deprecated': False},
    'lgpl-3.0': {'id': 'LGPL-3.0', 'deprecated': True},
    'lgpl-3.0+': {'id': 'LGPL-3.0+', 'deprecated': True},
    'lgpl-3.0-only': {'id': 'LGPL-3.0-only', 'deprecated': False},
    'lgpl-3.0-or-later': {'id': 'LGPL-3.0-or-later', 'deprecated': False},
    'lgpllr': {'id': 'LGPLLR', 'deprecated': False},
    'libpng': {'id': 'Libpng', 'deprecated': False},
    'libpng-2.0': {'id': 'libpng-2.0', 'deprecated': False},
    'libselinux-1.0': {'id': 'libselinux-1.0', 'deprecated': False},
    'libtiff': {'id': 'libtiff', 'deprecated': False},
    'libutil-david-nugent': {'id': 'libutil-David-Nugent', 'deprecated': False},
    'liliq-p-1.1': {'id': 'LiLiQ-P-1.1', 'deprecated': False},
    'liliq-r-1.1': {'id': 'LiLiQ-R-1.1', 'deprecated': False},
    'liliq-rplus-1.1': {'id': 'LiLiQ-Rplus-1.1', 'deprecated': False},
    'linux-man-pages-1-para': {'id': 'Linux-man-pages-1-para', 'deprecated': False},
    'linux-man-pages-copyleft': {'id': 'Linux-man-pages-copyleft', 'deprecated': False},
    'linux-man-pages-copyleft-2-para': {'id': 'Linux-man-pages-copyleft-2-para', 'deprecated': False},
    'linux-man-pages-copyleft-var': {'id': 'Linux-man-pages-copyleft-var', 'deprecated': False},
    'linux-openib': {'id': 'Linux-OpenIB', 'deprecated': False},
    'loop': {'id': 'LOOP', 'deprecated': False},
    'lpd-document': {'id': 'LPD-document', 'deprecated': False},
    'lpl-1.0': {'id': 'LPL-1.0', 'deprecated': False},
    'lpl-1.02': {'id': 'LPL-1.02', 'deprecated': False},
    'lppl-1.0': {'id': 'LPPL-1.0', 'deprecated': False},
    'lppl-1.1': {'id': 'LPPL-1.1', 'deprecated': False},
    'lppl-1.2': {'id': 'LPPL-1.2', 'deprecated': False},
    'lppl-1.3a': {'id': 'LPPL-1.3a', 'deprecated': False},
    'lppl-1.3c': {'id': 'LPPL-1.3c', 'deprecated': False},
    'lsof': {'id': 'lsof', 'deprecated': False},
    'lucida-bitmap-fonts': {'id': 'Lucida-Bitmap-Fonts', 'deprecated': False},
    'lzma-sdk-9.11-to-9.20': {'id': 'LZMA-SDK-9.11-to-9.20', 'deprecated': False},
    'lzma-sdk-9.22': {'id': 'LZMA-SDK-9.22', 'deprecated': False},
    'mackerras-3-clause': {'id': 'Mackerras-3-Clause', 'deprecated': False},
    'mackerras-3-clause-acknowledgment': {'id': 'Mackerras-3-Clause-acknowledgment', 'deprecated': False},
    'magaz': {'id': 'magaz', 'deprecated': False},
    'mailprio': {'id': 'mailprio', 'deprecated': False},
    'makeindex': {'id': 'MakeIndex', 'deprecated': False},
    'martin-birgmeier': {'id': 'Martin-Birgmeier', 'deprecated': False},
    'mcphee-slideshow': {'id': 'McPhee-slideshow', 'deprecated': False},
    'metamail': {'id': 'metamail', 'deprecated': False},
    'minpack': {'id': 'Minpack', 'deprecated': False},
    'miros': {'id': 'MirOS', 'deprecated': False},
    'mit': {'id': 'MIT', 'deprecated': False},
    'mit-0': {'id': 'MIT-0', 'deprecated': False},
    'mit-advertising': {'id': 'MIT-advertising', 'deprecated': False},
    'mit-cmu': {'id': 'MIT-CMU', 'deprecated': False},
    'mit-enna': {'id': 'MIT-enna', 'deprecated': False},
    'mit-feh': {'id': 'MIT-feh', 'deprecated': False},
    'mit-festival': {'id': 'MIT-Festival', 'deprecated': False},
    'mit-khronos-old': {'id': 'MIT-Khronos-old', 'deprecated': False},
    'mit-modern-variant': {'id': 'MIT-Modern-Variant', 'deprecated': False},
    'mit-open-group': {'id': 'MIT-open-group', 'deprecated': False},
    'mit-testregex': {'id': 'MIT-testregex', 'deprecated': False},
    'mit-wu': {'id': 'MIT-Wu', 'deprecated': False},
    'mitnfa': {'id': 'MITNFA', 'deprecated': False},
    'mmixware': {'id': 'MMIXware', 'deprecated': False},
    'motosoto': {'id': 'Motosoto', 'deprecated': False},
    'mpeg-ssg': {'id': 'MPEG-SSG', 'deprecated': False},
    'mpi-permissive': {'id': 'mpi-permissive', 'deprecated': False},
    'mpich2': {'id': 'mpich2', 'deprecated': False},
    'mpl-1.0': {'id': 'MPL-1.0', 'deprecated': False},
    'mpl-1.1': {'id': 'MPL-1.1', 'deprecated': False},
    'mpl-2.0': {'id': 'MPL-2.0', 'deprecated': False},
    'mpl-2.0-no-copyleft-exception': {'id': 'MPL-2.0-no-copyleft-exception', 'deprecated': False},
    'mplus': {'id': 'mplus', 'deprecated': False},
    'ms-lpl': {'id': 'MS-LPL', 'deprecated': False},
    'ms-pl': {'id': 'MS-PL', 'deprecated': False},
    'ms-rl': {'id': 'MS-RL', 'deprecated': False},
    'mtll': {'id': 'MTLL', 'deprecated': False},
    'mulanpsl-1.0': {'id': 'MulanPSL-1.0', 'deprecated': False},
    'mulanpsl-2.0': {'id': 'MulanPSL-2.0', 'deprecated': False},
    'multics': {'id': 'Multics', 'deprecated': False},
    'mup': {'id': 'Mup', 'deprecated': False},
    'naist-2003': {'id': 'NAIST-2003', 'deprecated': False},
    'nasa-1.3': {'id': 'NASA-1.3', 'deprecated': False},
    'naumen': {'id': 'Naumen', 'deprecated': False},
    'nbpl-1.0': {'id': 'NBPL-1.0', 'deprecated': False},
    'ncbi-pd': {'id': 'NCBI-PD', 'deprecated': False},
    'ncgl-uk-2.0': {'id': 'NCGL-UK-2.0', 'deprecated': False},
    'ncl': {'id': 'NCL', 'deprecated': False},
    'ncsa': {'id': 'NCSA', 'deprecated': False},
    'net-snmp': {'id': 'Net-SNMP', 'deprecated': True},
    'netcdf': {'id': 'NetCDF', 'deprecated': False},
    'newsletr': {'id': 'Newsletr', 'deprecated': False},
    'ngpl': {'id': 'NGPL', 'deprecated': False},
    'nicta-1.0': {'id': 'NICTA-1.0', 'deprecated': False},
    'nist-pd': {'id': 'NIST-PD', 'deprecated': False},
    'nist-pd-fallback': {'id': 'NIST-PD-fallback', 'deprecated': False},
    'nist-software': {'id': 'NIST-Software', 'deprecated': False},
    'nlod-1.0': {'id': 'NLOD-1.0', 'deprecated': False},
    'nlod-2.0': {'id': 'NLOD-2.0', 'deprecated': False},
    'nlpl': {'id': 'NLPL', 'deprecated': False},
    'nokia': {'id': 'Nokia', 'deprecated': False},
    'nosl': {'id': 'NOSL', 'deprecated': False},
    'noweb': {'id': 'Noweb', 'deprecated': False},
    'npl-1.0': {'id': 'NPL-1.0', 'deprecated': False},
    'npl-1.1': {'id': 'NPL-1.1', 'deprecated': False},
    'nposl-3.0': {'id': 'NPOSL-3.0', 'deprecated': False},
    'nrl': {'id': 'NRL', 'deprecated': False},
    'ntp': {'id': 'NTP', 'deprecated': False},
    'ntp-0': {'id': 'NTP-0', 'deprecated': False},
    'nunit': {'id': 'Nunit', 'deprecated': True},
    'o-uda-1.0': {'id': 'O-UDA-1.0', 'deprecated': False},
    'oar': {'id': 'OAR', 'deprecated': False},
    'occt-pl': {'id': 'OCCT-PL', 'deprecated': False},
    'oclc-2.0': {'id': 'OCLC-2.0', 'deprecated': False},
    'odbl-1.0': {'id': 'ODbL-1.0', 'deprecated': False},
    'odc-by-1.0': {'id': 'ODC-By-1.0', 'deprecated': False},
    'offis': {'id': 'OFFIS', 'deprecated': False},
    'ofl-1.0': {'id': 'OFL-1.0', 'deprecated': False},
    'ofl-1.0-no-rfn': {'id': 'OFL-1.0-no-RFN', 'deprecated': False},
    'ofl-1.0-rfn': {'id': 'OFL-1.0-RFN', 'deprecated': False},
    'ofl-1.1': {'id': 'OFL-1.1', 'deprecated': False},
    'ofl-1.1-no-rfn': {'id': 'OFL-1.1-no-RFN', 'deprecated': False},
    'ofl-1.1-rfn': {'id': 'OFL-1.1-RFN', 'deprecated': False},
    'ogc-1.0': {'id': 'OGC-1.0', 'deprecated': False},
    'ogdl-taiwan-1.0': {'id': 'OGDL-Taiwan-1.0', 'deprecated': False},
    'ogl-canada-2.0': {'id': 'OGL-Canada-2.0', 'deprecated': False},
    'ogl-uk-1.0': {'id': 'OGL-UK-1.0', 'deprecated': False},
    'ogl-uk-2.0': {'id': 'OGL-UK-2.0', 'deprecated': False},
    'ogl-uk-3.0': {'id': 'OGL-UK-3.0', 'deprecated': False},
    'ogtsl': {'id': 'OGTSL', 'deprecated': False},
    'oldap-1.1': {'id': 'OLDAP-1.1', 'deprecated': False},
    'oldap-1.2': {'id': 'OLDAP-1.2', 'deprecated': False},
    'oldap-1.3': {'id': 'OLDAP-1.3', 'deprecated': False},
    'oldap-1.4': {'id': 'OLDAP-1.4', 'deprecated': False},
    'oldap-2.0': {'id': 'OLDAP-2.0', 'deprecated': False},
    'oldap-2.0.1': {'id': 'OLDAP-2.0.1', 'deprecated': False},
    'oldap-2.1': {'id': 'OLDAP-2.1', 'deprecated': False},
    'oldap-2.2': {'id': 'OLDAP-2.2', 'deprecated': False},
    'oldap-2.2.1': {'id': 'OLDAP-2.2.1', 'deprecated': False},
    'oldap-2.2.2': {'id': 'OLDAP-2.2.2', 'deprecated': False},
    'oldap-2.3': {'id': 'OLDAP-2.3', 'deprecated': False},
    'oldap-2.4': {'id': 'OLDAP-2.4', 'deprecated': False},
    'oldap-2.5': {'id': 'OLDAP-2.5', 'deprecated': False},
    'oldap-2.6': {'id': 'OLDAP-2.6', 'deprecated': False},
    'oldap-2.7': {'id': 'OLDAP-2.7', 'deprecated': False},
    'oldap-2.8': {'id': 'OLDAP-2.8', 'deprecated': False},
    'olfl-1.3': {'id': 'OLFL-1.3', 'deprecated': False},
    'oml': {'id': 'OML', 'deprecated': False},
    'openpbs-2.3': {'id': 'OpenPBS-2.3', 'deprecated': False},
    'openssl': {'id': 'OpenSSL', 'deprecated': False},
    'openssl-standalone': {'id': 'OpenSSL-standalone', 'deprecated': False},
    'openvision': {'id': 'OpenVision', 'deprecated': False},
    'opl-1.0': {'id': 'OPL-1.0', 'deprecated': False},
    'opl-uk-3.0': {'id': 'OPL-UK-3.0', 'deprecated': False},
    'opubl-1.0': {'id': 'OPUBL-1.0', 'deprecated': False},
    'oset-pl-2.1': {'id': 'OSET-PL-2.1', 'deprecated': False},
    'osl-1.0': {'id': 'OSL-1.0', 'deprecated': False},
    'osl-1.1': {'id': 'OSL-1.1', 'deprecated': False},
    'osl-2.0': {'id': 'OSL-2.0', 'deprecated': False},
    'osl-2.1': {'id': 'OSL-2.1', 'deprecated': False},
    'osl-3.0': {'id': 'OSL-3.0', 'deprecated': False},
    'padl': {'id': 'PADL', 'deprecated': False},
    'parity-6.0.0': {'id': 'Parity-6.0.0', 'deprecated': False},
    'parity-7.0.0': {'id': 'Parity-7.0.0', 'deprecated': False},
    'pddl-1.0': {'id': 'PDDL-1.0', 'deprecated': False},
    'php-3.0': {'id': 'PHP-3.0', 'deprecated': False},
    'php-3.01': {'id': 'PHP-3.01', 'deprecated': False},
    'pixar': {'id': 'Pixar', 'deprecated': False},
    'pkgconf': {'id': 'pkgconf', 'deprecated': False},
    'plexus': {'id': 'Plexus', 'deprecated': False},
    'pnmstitch': {'id': 'pnmstitch', 'deprecated': False},
    'polyform-noncommercial-1.0.0': {'id': 'PolyForm-Noncommercial-1.0.0', 'deprecated': False},
    'polyform-small-business-1.0.0': {'id': 'PolyForm-Small-Business-1.0.0', 'deprecated': False},
    'postgresql': {'id': 'PostgreSQL', 'deprecated': False},
    'ppl': {'id': 'PPL', 'deprecated': False},
    'psf-2.0': {'id': 'PSF-2.0', 'deprecated': False},
    'psfrag': {'id': 'psfrag', 'deprecated': False},
    'psutils': {'id': 'psutils', 'deprecated': False},
    'python-2.0': {'id': 'Python-2.0', 'deprecated': False},
    'python-2.0.1': {'id': 'Python-2.0.1', 'deprecated': False},
    'python-ldap': {'id': 'python-ldap', 'deprecated': False},
    'qhull': {'id': 'Qhull', 'deprecated': False},
    'qpl-1.0': {'id': 'QPL-1.0', 'deprecated': False},
    'qpl-1.0-inria-2004': {'id': 'QPL-1.0-INRIA-2004', 'deprecated': False},
    'radvd': {'id': 'radvd', 'deprecated': False},
    'rdisc': {'id': 'Rdisc', 'deprecated': False},
    'rhecos-1.1': {'id': 'RHeCos-1.1', 'deprecated': False},
    'rpl-1.1': {'id': 'RPL-1.1', 'deprecated': False},
    'rpl-1.5': {'id': 'RPL-1.5', 'deprecated': False},
    'rpsl-1.0': {'id': 'RPSL-1.0', 'deprecated': False},
    'rsa-md': {'id': 'RSA-MD', 'deprecated': False},
    'rscpl': {'id': 'RSCPL', 'deprecated': False},
    'ruby': {'id': 'Ruby', 'deprecated': False},
    'ruby-pty': {'id': 'Ruby-pty', 'deprecated': False},
    'sax-pd': {'id': 'SAX-PD', 'deprecated': False},
    'sax-pd-2.0': {'id': 'SAX-PD-2.0', 'deprecated': False},
    'saxpath': {'id': 'Saxpath', 'deprecated': False},
    'scea': {'id': 'SCEA', 'deprecated': False},
    'schemereport': {'id': 'SchemeReport', 'deprecated': False},
    'sendmail': {'id': 'Sendmail', 'deprecated': False},
    'sendmail-8.23': {'id': 'Sendmail-8.23', 'deprecated': False},
    'sgi-b-1.0': {'id': 'SGI-B-1.0', 'deprecated': False},
    'sgi-b-1.1': {'id': 'SGI-B-1.1', 'deprecated': False},
    'sgi-b-2.0': {'id': 'SGI-B-2.0', 'deprecated': False},
    'sgi-opengl': {'id': 'SGI-OpenGL', 'deprecated': False},
    'sgp4': {'id': 'SGP4', 'deprecated': False},
    'shl-0.5': {'id': 'SHL-0.5', 'deprecated': False},
    'shl-0.51': {'id': 'SHL-0.51', 'deprecated': False},
    'simpl-2.0': {'id': 'SimPL-2.0', 'deprecated': False},
    'sissl': {'id': 'SISSL', 'deprecated': False},
    'sissl-1.2': {'id': 'SISSL-1.2', 'deprecated': False},
    'sl': {'id': 'SL', 'deprecated': False},
    'sleepycat': {'id': 'Sleepycat', 'deprecated': False},
    'smlnj': {'id': 'SMLNJ', 'deprecated': False},
    'smppl': {'id': 'SMPPL', 'deprecated': False},
    'snia': {'id': 'SNIA', 'deprecated': False},
    'snprintf': {'id': 'snprintf', 'deprecated': False},
    'softsurfer': {'id': 'softSurfer', 'deprecated': False},
    'soundex': {'id': 'Soundex', 'deprecated': False},
    'spencer-86': {'id': 'Spencer-86', 'deprecated': False},
    'spencer-94': {'id': 'Spencer-94', 'deprecated': False},
    'spencer-99': {'id': 'Spencer-99', 'deprecated': False},
    'spl-1.0': {'id': 'SPL-1.0', 'deprecated': False},
    'ssh-keyscan': {'id': 'ssh-keyscan', 'deprecated': False},
    'ssh-openssh': {'id': 'SSH-OpenSSH', 'deprecated': False},
    'ssh-short': {'id': 'SSH-short', 'deprecated': False},
    'ssleay-standalone': {'id': 'SSLeay-standalone', 'deprecated': False},
    'sspl-1.0': {'id': 'SSPL-1.0', 'deprecated': False},
    'standardml-nj': {'id': 'StandardML-NJ', 'deprecated': True},
    'sugarcrm-1.1.3': {'id': 'SugarCRM-1.1.3', 'deprecated': False},
    'sun-ppp': {'id': 'Sun-PPP', 'deprecated': False},
    'sun-ppp-2000': {'id': 'Sun-PPP-2000', 'deprecated': False},
    'sunpro': {'id': 'SunPro', 'deprecated': False},
    'swl': {'id': 'SWL', 'deprecated': False},
    'swrule': {'id': 'swrule', 'deprecated': False},
    'symlinks': {'id': 'Symlinks', 'deprecated': False},
    'tapr-ohl-1.0': {'id': 'TAPR-OHL-1.0', 'deprecated': False},
    'tcl': {'id': 'TCL', 'deprecated': False},
    'tcp-wrappers': {'id': 'TCP-wrappers', 'deprecated': False},
    'termreadkey': {'id': 'TermReadKey', 'deprecated': False},
    'tgppl-1.0': {'id': 'TGPPL-1.0', 'deprecated': False},
    'threeparttable': {'id': 'threeparttable', 'deprecated': False},
    'tmate': {'id': 'TMate', 'deprecated': False},
    'torque-1.1': {'id': 'TORQUE-1.1', 'deprecated': False},
    'tosl': {'id': 'TOSL', 'deprecated': False},
    'tpdl': {'id': 'TPDL', 'deprecated': False},
    'tpl-1.0': {'id': 'TPL-1.0', 'deprecated': False},
    'ttwl': {'id': 'TTWL', 'deprecated': False},
    'ttyp0': {'id': 'TTYP0', 'deprecated': False},
    'tu-berlin-1.0': {'id': 'TU-Berlin-1.0', 'deprecated': False},
    'tu-berlin-2.0': {'id': 'TU-Berlin-2.0', 'deprecated': False},
    'ubuntu-font-1.0': {'id': 'Ubuntu-font-1.0', 'deprecated': False},
    'ucar': {'id': 'UCAR', 'deprecated': False},
    'ucl-1.0': {'id': 'UCL-1.0', 'deprecated': False},
    'ulem': {'id': 'ulem', 'deprecated': False},
    'umich-merit': {'id': 'UMich-Merit', 'deprecated': False},
    'unicode-3.0': {'id': 'Unicode-3.0', 'deprecated': False},
    'unicode-dfs-2015': {'id': 'Unicode-DFS-2015', 'deprecated': False},
    'unicode-dfs-2016': {'id': 'Unicode-DFS-2016', 'deprecated': False},
    'unicode-tou': {'id': 'Unicode-TOU', 'deprecated': False},
    'unixcrypt': {'id': 'UnixCrypt', 'deprecated': False},
    'unlicense': {'id': 'Unlicense', 'deprecated': False},
    'upl-1.0': {'id': 'UPL-1.0', 'deprecated': False},
    'urt-rle': {'id': 'URT-RLE', 'deprecated': False},
    'vim': {'id': 'Vim', 'deprecated': False},
    'vostrom': {'id': 'VOSTROM', 'deprecated': False},
    'vsl-1.0': {'id': 'VSL-1.0', 'deprecated': False},
    'w3c': {'id': 'W3C', 'deprecated': False},
    'w3c-19980720': {'id': 'W3C-19980720', 'deprecated': False},
    'w3c-20150513': {'id': 'W3C-20150513', 'deprecated': False},
    'w3m': {'id': 'w3m', 'deprecated': False},
    'watcom-1.0': {'id': 'Watcom-1.0', 'deprecated': False},
    'widget-workshop': {'id': 'Widget-Workshop', 'deprecated': False},
    'wsuipa': {'id': 'Wsuipa', 'deprecated': False},
    'wtfpl': {'id': 'WTFPL', 'deprecated': False},
    'wxwindows': {'id': 'wxWindows', 'deprecated': True},
    'x11': {'id': 'X11', 'deprecated': False},
    'x11-distribute-modifications-variant': {'id': 'X11-distribute-modifications-variant', 'deprecated': False},
    'x11-swapped': {'id': 'X11-swapped', 'deprecated': False},
    'xdebug-1.03': {'id': 'Xdebug-1.03', 'deprecated': False},
    'xerox': {'id': 'Xerox', 'deprecated': False},
    'xfig': {'id': 'Xfig', 'deprecated': False},
    'xfree86-1.1': {'id': 'XFree86-1.1', 'deprecated': False},
    'xinetd': {'id': 'xinetd', 'deprecated': False},
    'xkeyboard-config-zinoviev': {'id': 'xkeyboard-config-Zinoviev', 'deprecated': False},
    'xlock': {'id': 'xlock', 'deprecated': False},
    'xnet': {'id': 'Xnet', 'deprecated': False},
    'xpp': {'id': 'xpp', 'deprecated': False},
    'xskat': {'id': 'XSkat', 'deprecated': False},
    'xzoom': {'id': 'xzoom', 'deprecated': False},
    'ypl-1.0': {'id': 'YPL-1.0', 'deprecated': False},
    'ypl-1.1': {'id': 'YPL-1.1', 'deprecated': False},
    'zed': {'id': 'Zed', 'deprecated': False},
    'zeeff': {'id': 'Zeeff', 'deprecated': False},
    'zend-2.0': {'id': 'Zend-2.0', 'deprecated': False},
    'zimbra-1.3': {'id': 'Zimbra-1.3', 'deprecated': False},
    'zimbra-1.4': {'id': 'Zimbra-1.4', 'deprecated': False},
    'zlib': {'id': 'Zlib', 'deprecated': False},
    'zlib-acknowledgement': {'id': 'zlib-acknowledgement', 'deprecated': False},
    'zpl-1.1': {'id': 'ZPL-1.1', 'deprecated': False},
    'zpl-2.0': {'id': 'ZPL-2.0', 'deprecated': False},
    'zpl-2.1': {'id': 'ZPL-2.1', 'deprecated': False},
}

EXCEPTIONS: dict[str, SPDXException] = {
    '389-exception': {'id': '389-exception', 'deprecated': False},
    'asterisk-exception': {'id': 'Asterisk-exception', 'deprecated': False},
    'asterisk-linking-protocols-exception': {'id': 'Asterisk-linking-protocols-exception', 'deprecated': False},
    'autoconf-exception-2.0': {'id': 'Autoconf-exception-2.0', 'deprecated': False},
    'autoconf-exception-3.0': {'id': 'Autoconf-exception-3.0', 'deprecated': False},
    'autoconf-exception-generic': {'id': 'Autoconf-exception-generic', 'deprecated': False},
    'autoconf-exception-generic-3.0': {'id': 'Autoconf-exception-generic-3.0', 'deprecated': False},
    'autoconf-exception-macro': {'id': 'Autoconf-exception-macro', 'deprecated': False},
    'bison-exception-1.24': {'id': 'Bison-exception-1.24', 'deprecated': False},
    'bison-exception-2.2': {'id': 'Bison-exception-2.2', 'deprecated': False},
    'bootloader-exception': {'id': 'Bootloader-exception', 'deprecated': False},
    'classpath-exception-2.0': {'id': 'Classpath-exception-2.0', 'deprecated': False},
    'clisp-exception-2.0': {'id': 'CLISP-exception-2.0', 'deprecated': False},
    'cryptsetup-openssl-exception': {'id': 'cryptsetup-OpenSSL-exception', 'deprecated': False},
    'digirule-foss-exception': {'id': 'DigiRule-FOSS-exception', 'deprecated': False},
    'ecos-exception-2.0': {'id': 'eCos-exception-2.0', 'deprecated': False},
    'erlang-otp-linking-exception': {'id': 'erlang-otp-linking-exception', 'deprecated': False},
    'fawkes-runtime-exception': {'id': 'Fawkes-Runtime-exception', 'deprecated': False},
    'fltk-exception': {'id': 'FLTK-exception', 'deprecated': False},
    'fmt-exception': {'id': 'fmt-exception', 'deprecated': False},
    'font-exception-2.0': {'id': 'Font-exception-2.0', 'deprecated': False},
    'freertos-exception-2.0': {'id': 'freertos-exception-2.0', 'deprecated': False},
    'gcc-exception-2.0': {'id': 'GCC-exception-2.0', 'deprecated': False},
    'gcc-exception-2.0-note': {'id': 'GCC-exception-2.0-note', 'deprecated': False},
    'gcc-exception-3.1': {'id': 'GCC-exception-3.1', 'deprecated': False},
    'gmsh-exception': {'id': 'Gmsh-exception', 'deprecated': False},
    'gnat-exception': {'id': 'GNAT-exception', 'deprecated': False},
    'gnome-examples-exception': {'id': 'GNOME-examples-exception', 'deprecated': False},
    'gnu-compiler-exception': {'id': 'GNU-compiler-exception', 'deprecated': False},
    'gnu-javamail-exception': {'id': 'gnu-javamail-exception', 'deprecated': False},
    'gpl-3.0-interface-exception': {'id': 'GPL-3.0-interface-exception', 'deprecated': False},
    'gpl-3.0-linking-exception': {'id': 'GPL-3.0-linking-exception', 'deprecated': False},
    'gpl-3.0-linking-source-exception': {'id': 'GPL-3.0-linking-source-exception', 'deprecated': False},
    'gpl-cc-1.0': {'id': 'GPL-CC-1.0', 'deprecated': False},
    'gstreamer-exception-2005': {'id': 'GStreamer-exception-2005', 'deprecated': False},
    'gstreamer-exception-2008': {'id': 'GStreamer-exception-2008', 'deprecated': False},
    'i2p-gpl-java-exception': {'id': 'i2p-gpl-java-exception', 'deprecated': False},
    'kicad-libraries-exception': {'id': 'KiCad-libraries-exception', 'deprecated': False},
    'lgpl-3.0-linking-exception': {'id': 'LGPL-3.0-linking-exception', 'deprecated': False},
    'libpri-openh323-exception': {'id': 'libpri-OpenH323-exception', 'deprecated': False},
    'libtool-exception': {'id': 'Libtool-exception', 'deprecated': False},
    'linux-syscall-note': {'id': 'Linux-syscall-note', 'deprecated': False},
    'llgpl': {'id': 'LLGPL', 'deprecated': False},
    'llvm-exception': {'id': 'LLVM-exception', 'deprecated': False},
    'lzma-exception': {'id': 'LZMA-exception', 'deprecated': False},
    'mif-exception': {'id': 'mif-exception', 'deprecated': False},
    'nokia-qt-exception-1.1': {'id': 'Nokia-Qt-exception-1.1', 'deprecated': True},
    'ocaml-lgpl-linking-exception': {'id': 'OCaml-LGPL-linking-exception', 'deprecated': False},
    'occt-exception-1.0': {'id': 'OCCT-exception-1.0', 'deprecated': False},
    'openjdk-assembly-exception-1.0': {'id': 'OpenJDK-assembly-exception-1.0', 'deprecated': False},
    'openvpn-openssl-exception': {'id': 'openvpn-openssl-exception', 'deprecated': False},
    'pcre2-exception': {'id': 'PCRE2-exception', 'deprecated': False},
    'ps-or-pdf-font-exception-20170817': {'id': 'PS-or-PDF-font-exception-20170817', 'deprecated': False},
    'qpl-1.0-inria-2004-exception': {'id': 'QPL-1.0-INRIA-2004-exception', 'deprecated': False},
    'qt-gpl-exception-1.0': {'id': 'Qt-GPL-exception-1.0', 'deprecated': False},
    'qt-lgpl-exception-1.1': {'id': 'Qt-LGPL-exception-1.1', 'deprecated': False},
    'qwt-exception-1.0': {'id': 'Qwt-exception-1.0', 'deprecated': False},
    'romic-exception': {'id': 'romic-exception', 'deprecated': False},
    'rrdtool-floss-exception-2.0': {'id': 'RRDtool-FLOSS-exception-2.0', 'deprecated': False},
    'sane-exception': {'id': 'SANE-exception', 'deprecated': False},
    'shl-2.0': {'id': 'SHL-2.0', 'deprecated': False},
    'shl-2.1': {'id': 'SHL-2.1', 'deprecated': False},
    'stunnel-exception': {'id': 'stunnel-exception', 'deprecated': False},
    'swi-exception': {'id': 'SWI-exception', 'deprecated': False},
    'swift-exception': {'id': 'Swift-exception', 'deprecated': False},
    'texinfo-exception': {'id': 'Texinfo-exception', 'deprecated': False},
    'u-boot-exception-2.0': {'id': 'u-boot-exception-2.0', 'deprecated': False},
    'ubdl-exception': {'id': 'UBDL-exception', 'deprecated': False},
    'universal-foss-exception-1.0': {'id': 'Universal-FOSS-exception-1.0', 'deprecated': False},
    'vsftpd-openssl-exception': {'id': 'vsftpd-openssl-exception', 'deprecated': False},
    'wxwindows-exception-3.1': {'id': 'WxWindows-exception-3.1', 'deprecated': False},
    'x11vnc-openssl-exception': {'id': 'x11vnc-openssl-exception', 'deprecated': False},
}</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/licenses/__init__.py (Line 37:2 - Line 145:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/licenses/__init__.py (Line 37:2 - Line 145:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn472" onclick="toggleCodeBlock('cloneGroup472', 'expandBtn472', 'collapseBtn472')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn472" onclick="toggleCodeBlock('cloneGroup472', 'expandBtn472', 'collapseBtn472')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup472"><code class="language-python text-sm text-gray-800">packaging.licenses._spdx import EXCEPTIONS, LICENSES

__all__ = [
    &quot;InvalidLicenseExpression&quot;,
    &quot;NormalizedLicenseExpression&quot;,
    &quot;canonicalize_license_expression&quot;,
]

license_ref_allowed = re.compile(&quot;^[A-Za-z0-9.-]*$&quot;)

NormalizedLicenseExpression = NewType(&quot;NormalizedLicenseExpression&quot;, str)


class InvalidLicenseExpression(ValueError):
    &quot;&quot;&quot;Raised when a license-expression string is invalid

    &gt;&gt;&gt; canonicalize_license_expression(&quot;invalid&quot;)
    Traceback (most recent call last):
        ...
    packaging.licenses.InvalidLicenseExpression: Invalid license expression: 'invalid'
    &quot;&quot;&quot;


def canonicalize_license_expression(
    raw_license_expression: str,
) -&gt; NormalizedLicenseExpression:
    if not raw_license_expression:
        message = f&quot;Invalid license expression: {raw_license_expression!r}&quot;
        raise InvalidLicenseExpression(message)

    # Pad any parentheses so tokenization can be achieved by merely splitting on
    # whitespace.
    license_expression = raw_license_expression.replace(&quot;(&quot;, &quot; ( &quot;).replace(&quot;)&quot;, &quot; ) &quot;)
    licenseref_prefix = &quot;LicenseRef-&quot;
    license_refs = {
        ref.lower(): &quot;LicenseRef-&quot; + ref[len(licenseref_prefix) :]
        for ref in license_expression.split()
        if ref.lower().startswith(licenseref_prefix.lower())
    }

    # Normalize to lower case so we can look up licenses/exceptions
    # and so boolean operators are Python-compatible.
    license_expression = license_expression.lower()

    tokens = license_expression.split()

    # Rather than implementing boolean logic, we create an expression that Python can
    # parse. Everything that is not involved with the grammar itself is treated as
    # `False` and the expression should evaluate as such.
    python_tokens = []
    for token in tokens:
        if token not in {&quot;or&quot;, &quot;and&quot;, &quot;with&quot;, &quot;(&quot;, &quot;)&quot;}:
            python_tokens.append(&quot;False&quot;)
        elif token == &quot;with&quot;:
            python_tokens.append(&quot;or&quot;)
        elif token == &quot;(&quot; and python_tokens and python_tokens[-1] not in {&quot;or&quot;, &quot;and&quot;}:
            message = f&quot;Invalid license expression: {raw_license_expression!r}&quot;
            raise InvalidLicenseExpression(message)
        else:
            python_tokens.append(token)

    python_expression = &quot; &quot;.join(python_tokens)
    try:
        invalid = eval(python_expression, globals(), locals())
    except Exception:
        invalid = True

    if invalid is not False:
        message = f&quot;Invalid license expression: {raw_license_expression!r}&quot;
        raise InvalidLicenseExpression(message) from None

    # Take a final pass to check for unknown licenses/exceptions.
    normalized_tokens = []
    for token in tokens:
        if token in {&quot;or&quot;, &quot;and&quot;, &quot;with&quot;, &quot;(&quot;, &quot;)&quot;}:
            normalized_tokens.append(token.upper())
            continue

        if normalized_tokens and normalized_tokens[-1] == &quot;WITH&quot;:
            if token not in EXCEPTIONS:
                message = f&quot;Unknown license exception: {token!r}&quot;
                raise InvalidLicenseExpression(message)

            normalized_tokens.append(EXCEPTIONS[token][&quot;id&quot;])
        else:
            if token.endswith(&quot;+&quot;):
                final_token = token[:-1]
                suffix = &quot;+&quot;
            else:
                final_token = token
                suffix = &quot;&quot;

            if final_token.startswith(&quot;licenseref-&quot;):
                if not license_ref_allowed.match(final_token):
                    message = f&quot;Invalid licenseref: {final_token!r}&quot;
                    raise InvalidLicenseExpression(message)
                normalized_tokens.append(license_refs[final_token] + suffix)
            else:
                if final_token not in LICENSES:
                    message = f&quot;Unknown license: {final_token!r}&quot;
                    raise InvalidLicenseExpression(message)
                normalized_tokens.append(LICENSES[final_token][&quot;id&quot;] + suffix)

    normalized_expression = &quot; &quot;.join(normalized_tokens)

    return cast(
        NormalizedLicenseExpression,
        normalized_expression.replace(&quot;( &quot;, &quot;(&quot;).replace(&quot; )&quot;, &quot;)&quot;),
    )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/eval_retrieve_response.py (Line 1:1 - Line 20:23), .venv/lib/python3.14/site-packages/openai/types/eval_update_response.py (Line 1:1 - Line 20:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn473" onclick="toggleCodeBlock('cloneGroup473', 'expandBtn473', 'collapseBtn473')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn473" onclick="toggleCodeBlock('cloneGroup473', 'expandBtn473', 'collapseBtn473')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup473"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import Dict, List, Union, Optional
from typing_extensions import Literal, Annotated, TypeAlias

from pydantic import Field as FieldInfo

from .._utils import PropertyInfo
from .._models import BaseModel
from .shared.metadata import Metadata
from .graders.python_grader import PythonGrader
from .graders.label_model_grader import LabelModelGrader
from .graders.score_model_grader import ScoreModelGrader
from .graders.string_check_grader import StringCheckGrader
from .eval_custom_data_source_config import EvalCustomDataSourceConfig
from .graders.text_similarity_grader import TextSimilarityGrader
from .eval_stored_completions_data_source_config import EvalStoredCompletionsDataSourceConfig

__all__ = [
    &quot;EvalRetrieveResponse&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/eval_retrieve_response.py (Line 20:23 - Line 84:21), .venv/lib/python3.14/site-packages/openai/types/eval_update_response.py (Line 20:21 - Line 84:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn474" onclick="toggleCodeBlock('cloneGroup474', 'expandBtn474', 'collapseBtn474')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn474" onclick="toggleCodeBlock('cloneGroup474', 'expandBtn474', 'collapseBtn474')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup474"><code class="language-python text-sm text-gray-800">,
    &quot;DataSourceConfig&quot;,
    &quot;DataSourceConfigLogs&quot;,
    &quot;TestingCriterion&quot;,
    &quot;TestingCriterionEvalGraderTextSimilarity&quot;,
    &quot;TestingCriterionEvalGraderPython&quot;,
    &quot;TestingCriterionEvalGraderScoreModel&quot;,
]


class DataSourceConfigLogs(BaseModel):
    schema_: Dict[str, object] = FieldInfo(alias=&quot;schema&quot;)
    &quot;&quot;&quot;
    The json schema for the run data source items. Learn how to build JSON schemas
    [here](https://json-schema.org/).
    &quot;&quot;&quot;

    type: Literal[&quot;logs&quot;]
    &quot;&quot;&quot;The type of data source. Always `logs`.&quot;&quot;&quot;

    metadata: Optional[Metadata] = None
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


DataSourceConfig: TypeAlias = Annotated[
    Union[EvalCustomDataSourceConfig, DataSourceConfigLogs, EvalStoredCompletionsDataSourceConfig],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class TestingCriterionEvalGraderTextSimilarity(TextSimilarityGrader):
    __test__ = False
    pass_threshold: float
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


class TestingCriterionEvalGraderPython(PythonGrader):
    __test__ = False
    pass_threshold: Optional[float] = None
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


class TestingCriterionEvalGraderScoreModel(ScoreModelGrader):
    __test__ = False
    pass_threshold: Optional[float] = None
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


TestingCriterion: TypeAlias = Union[
    LabelModelGrader,
    StringCheckGrader,
    TestingCriterionEvalGraderTextSimilarity,
    TestingCriterionEvalGraderPython,
    TestingCriterionEvalGraderScoreModel,
]


class EvalRetrieveResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/eval_list_response.py (Line 1:1 - Line 20:19), .venv/lib/python3.14/site-packages/openai/types/eval_update_response.py (Line 1:1 - Line 20:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn475" onclick="toggleCodeBlock('cloneGroup475', 'expandBtn475', 'collapseBtn475')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn475" onclick="toggleCodeBlock('cloneGroup475', 'expandBtn475', 'collapseBtn475')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup475"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import Dict, List, Union, Optional
from typing_extensions import Literal, Annotated, TypeAlias

from pydantic import Field as FieldInfo

from .._utils import PropertyInfo
from .._models import BaseModel
from .shared.metadata import Metadata
from .graders.python_grader import PythonGrader
from .graders.label_model_grader import LabelModelGrader
from .graders.score_model_grader import ScoreModelGrader
from .graders.string_check_grader import StringCheckGrader
from .eval_custom_data_source_config import EvalCustomDataSourceConfig
from .graders.text_similarity_grader import TextSimilarityGrader
from .eval_stored_completions_data_source_config import EvalStoredCompletionsDataSourceConfig

__all__ = [
    &quot;EvalListResponse&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/eval_list_response.py (Line 20:19 - Line 84:17), .venv/lib/python3.14/site-packages/openai/types/eval_update_response.py (Line 20:21 - Line 84:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn476" onclick="toggleCodeBlock('cloneGroup476', 'expandBtn476', 'collapseBtn476')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn476" onclick="toggleCodeBlock('cloneGroup476', 'expandBtn476', 'collapseBtn476')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup476"><code class="language-python text-sm text-gray-800">,
    &quot;DataSourceConfig&quot;,
    &quot;DataSourceConfigLogs&quot;,
    &quot;TestingCriterion&quot;,
    &quot;TestingCriterionEvalGraderTextSimilarity&quot;,
    &quot;TestingCriterionEvalGraderPython&quot;,
    &quot;TestingCriterionEvalGraderScoreModel&quot;,
]


class DataSourceConfigLogs(BaseModel):
    schema_: Dict[str, object] = FieldInfo(alias=&quot;schema&quot;)
    &quot;&quot;&quot;
    The json schema for the run data source items. Learn how to build JSON schemas
    [here](https://json-schema.org/).
    &quot;&quot;&quot;

    type: Literal[&quot;logs&quot;]
    &quot;&quot;&quot;The type of data source. Always `logs`.&quot;&quot;&quot;

    metadata: Optional[Metadata] = None
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


DataSourceConfig: TypeAlias = Annotated[
    Union[EvalCustomDataSourceConfig, DataSourceConfigLogs, EvalStoredCompletionsDataSourceConfig],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class TestingCriterionEvalGraderTextSimilarity(TextSimilarityGrader):
    __test__ = False
    pass_threshold: float
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


class TestingCriterionEvalGraderPython(PythonGrader):
    __test__ = False
    pass_threshold: Optional[float] = None
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


class TestingCriterionEvalGraderScoreModel(ScoreModelGrader):
    __test__ = False
    pass_threshold: Optional[float] = None
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


TestingCriterion: TypeAlias = Union[
    LabelModelGrader,
    StringCheckGrader,
    TestingCriterionEvalGraderTextSimilarity,
    TestingCriterionEvalGraderPython,
    TestingCriterionEvalGraderScoreModel,
]


class EvalListResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/eval_create_response.py (Line 1:1 - Line 20:21), .venv/lib/python3.14/site-packages/openai/types/eval_update_response.py (Line 1:1 - Line 20:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn477" onclick="toggleCodeBlock('cloneGroup477', 'expandBtn477', 'collapseBtn477')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn477" onclick="toggleCodeBlock('cloneGroup477', 'expandBtn477', 'collapseBtn477')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup477"><code class="language-python text-sm text-gray-800"># File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import Dict, List, Union, Optional
from typing_extensions import Literal, Annotated, TypeAlias

from pydantic import Field as FieldInfo

from .._utils import PropertyInfo
from .._models import BaseModel
from .shared.metadata import Metadata
from .graders.python_grader import PythonGrader
from .graders.label_model_grader import LabelModelGrader
from .graders.score_model_grader import ScoreModelGrader
from .graders.string_check_grader import StringCheckGrader
from .eval_custom_data_source_config import EvalCustomDataSourceConfig
from .graders.text_similarity_grader import TextSimilarityGrader
from .eval_stored_completions_data_source_config import EvalStoredCompletionsDataSourceConfig

__all__ = [
    &quot;EvalCreateResponse&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/eval_create_response.py (Line 20:21 - Line 84:19), .venv/lib/python3.14/site-packages/openai/types/eval_update_response.py (Line 20:21 - Line 84:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn478" onclick="toggleCodeBlock('cloneGroup478', 'expandBtn478', 'collapseBtn478')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn478" onclick="toggleCodeBlock('cloneGroup478', 'expandBtn478', 'collapseBtn478')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup478"><code class="language-python text-sm text-gray-800">,
    &quot;DataSourceConfig&quot;,
    &quot;DataSourceConfigLogs&quot;,
    &quot;TestingCriterion&quot;,
    &quot;TestingCriterionEvalGraderTextSimilarity&quot;,
    &quot;TestingCriterionEvalGraderPython&quot;,
    &quot;TestingCriterionEvalGraderScoreModel&quot;,
]


class DataSourceConfigLogs(BaseModel):
    schema_: Dict[str, object] = FieldInfo(alias=&quot;schema&quot;)
    &quot;&quot;&quot;
    The json schema for the run data source items. Learn how to build JSON schemas
    [here](https://json-schema.org/).
    &quot;&quot;&quot;

    type: Literal[&quot;logs&quot;]
    &quot;&quot;&quot;The type of data source. Always `logs`.&quot;&quot;&quot;

    metadata: Optional[Metadata] = None
    &quot;&quot;&quot;Set of 16 key-value pairs that can be attached to an object.

    This can be useful for storing additional information about the object in a
    structured format, and querying for objects via API or the dashboard.

    Keys are strings with a maximum length of 64 characters. Values are strings with
    a maximum length of 512 characters.
    &quot;&quot;&quot;


DataSourceConfig: TypeAlias = Annotated[
    Union[EvalCustomDataSourceConfig, DataSourceConfigLogs, EvalStoredCompletionsDataSourceConfig],
    PropertyInfo(discriminator=&quot;type&quot;),
]


class TestingCriterionEvalGraderTextSimilarity(TextSimilarityGrader):
    __test__ = False
    pass_threshold: float
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


class TestingCriterionEvalGraderPython(PythonGrader):
    __test__ = False
    pass_threshold: Optional[float] = None
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


class TestingCriterionEvalGraderScoreModel(ScoreModelGrader):
    __test__ = False
    pass_threshold: Optional[float] = None
    &quot;&quot;&quot;The threshold for the score.&quot;&quot;&quot;


TestingCriterion: TypeAlias = Union[
    LabelModelGrader,
    StringCheckGrader,
    TestingCriterionEvalGraderTextSimilarity,
    TestingCriterionEvalGraderPython,
    TestingCriterionEvalGraderScoreModel,
]


class EvalCreateResponse</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/types/completion_create_params.py (Line 179:2 - Line 186:3), .venv/lib/python3.14/site-packages/openai/types/completion_create_params.py (Line 167:2 - Line 179:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn479" onclick="toggleCodeBlock('cloneGroup479', 'expandBtn479', 'collapseBtn479')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn479" onclick="toggleCodeBlock('cloneGroup479', 'expandBtn479', 'collapseBtn479')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup479"><code class="language-python text-sm text-gray-800">to stream back partial progress.

    If set, tokens will be sent as data-only
    [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format)
    as they become available, with the stream terminated by a `data: [DONE]`
    message.
    [Example Python code](https://cookbook.openai.com/examples/how_to_stream_completions).
    &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/webhooks.py (Line 118:17 - Line 132:5), .venv/lib/python3.14/site-packages/openai/resources/webhooks.py (Line 22:16 - Line 36:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn480" onclick="toggleCodeBlock('cloneGroup480', 'expandBtn480', 'collapseBtn480')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn480" onclick="toggleCodeBlock('cloneGroup480', 'expandBtn480', 'collapseBtn480')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup480"><code class="language-python text-sm text-gray-800">):
    def unwrap(
        self,
        payload: str | bytes,
        headers: HeadersLike,
        *,
        secret: str | None = None,
    ) -&gt; UnwrapWebhookEvent:
        &quot;&quot;&quot;Validates that the given payload was sent by OpenAI and parses the payload.&quot;&quot;&quot;
        if secret is None:
            secret = self._client.webhook_secret

        self.verify_signature(payload=payload, headers=headers, secret=secret)

        body</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/webhooks.py (Line 137:5 - Line 164:5), .venv/lib/python3.14/site-packages/openai/resources/webhooks.py (Line 40:8 - Line 69:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn481" onclick="toggleCodeBlock('cloneGroup481', 'expandBtn481', 'collapseBtn481')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn481" onclick="toggleCodeBlock('cloneGroup481', 'expandBtn481', 'collapseBtn481')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup481"><code class="language-python text-sm text-gray-800">),
            ),
        )

    def verify_signature(
        self,
        payload: str | bytes,
        headers: HeadersLike,
        *,
        secret: str | None = None,
        tolerance: int = 300,
    ) -&gt; None:
        &quot;&quot;&quot;Validates whether or not the webhook payload was sent by OpenAI.

        Args:
            payload: The webhook payload
            headers: The webhook headers
            secret: The webhook secret (optional, will use client secret if not provided)
            tolerance: Maximum age of the webhook in seconds (default: 300 = 5 minutes)
        &quot;&quot;&quot;
        if secret is None:
            secret = self._client.webhook_secret

        if secret is None:
            raise ValueError(
                &quot;The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, &quot;
                &quot;on the client class, OpenAI(webhook_secret='123'), or passed to this function&quot;
            ) from</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/webhooks.py (Line 166:9 - Line 210:2), .venv/lib/python3.14/site-packages/openai/resources/webhooks.py (Line 69:9 - Line 115:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn482" onclick="toggleCodeBlock('cloneGroup482', 'expandBtn482', 'collapseBtn482')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn482" onclick="toggleCodeBlock('cloneGroup482', 'expandBtn482', 'collapseBtn482')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup482"><code class="language-python text-sm text-gray-800">signature_header = get_required_header(headers, &quot;webhook-signature&quot;)
        timestamp = get_required_header(headers, &quot;webhook-timestamp&quot;)
        webhook_id = get_required_header(headers, &quot;webhook-id&quot;)

        # Validate timestamp to prevent replay attacks
        try:
            timestamp_seconds = int(timestamp)
        except ValueError:
            raise InvalidWebhookSignatureError(&quot;Invalid webhook timestamp format&quot;) from None

        now = int(time.time())

        if now - timestamp_seconds &gt; tolerance:
            raise InvalidWebhookSignatureError(&quot;Webhook timestamp is too old&quot;) from None

        if timestamp_seconds &gt; now + tolerance:
            raise InvalidWebhookSignatureError(&quot;Webhook timestamp is too new&quot;) from None

        # Extract signatures from v1,&lt;base64&gt; format
        # The signature header can have multiple values, separated by spaces.
        # Each value is in the format v1,&lt;base64&gt;. We should accept if any match.
        signatures: list[str] = []
        for part in signature_header.split():
            if part.startswith(&quot;v1,&quot;):
                signatures.append(part[3:])
            else:
                signatures.append(part)

        # Decode the secret if it starts with whsec_
        if secret.startswith(&quot;whsec_&quot;):
            decoded_secret = base64.b64decode(secret[6:])
        else:
            decoded_secret = secret.encode()

        body = payload.decode(&quot;utf-8&quot;) if isinstance(payload, bytes) else payload

        # Prepare the signed payload (OpenAI uses webhookId.timestamp.payload format)
        signed_payload = f&quot;{webhook_id}.{timestamp}.{body}&quot;
        expected_signature = base64.b64encode(
            hmac.new(decoded_secret, signed_payload.encode(), hashlib.sha256).digest()
        ).decode()

        # Accept if any signature matches
        if not any(hmac.compare_digest(expected_signature, sig) for sig in signatures):
            raise InvalidWebhookSignatureError(&quot;The given webhook signature does not match the expected signature&quot;)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 229:6 - Line 244:6), .venv/lib/python3.14/site-packages/openai/resources/containers/containers.py (Line 134:26 - Line 191:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn483" onclick="toggleCodeBlock('cloneGroup483', 'expandBtn483', 'collapseBtn483')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn483" onclick="toggleCodeBlock('cloneGroup483', 'expandBtn483', 'collapseBtn483')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup483"><code class="language-python text-sm text-gray-800">,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncConversationCursorPage[Video</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 433:9 - Line 469:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 80:9 - Line 116:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn484" onclick="toggleCodeBlock('cloneGroup484', 'expandBtn484', 'collapseBtn484')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn484" onclick="toggleCodeBlock('cloneGroup484', 'expandBtn484', 'collapseBtn484')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup484"><code class="language-python text-sm text-gray-800">Create a video

        Args:
          prompt: Text prompt that describes the video to generate.

          input_reference: Optional image reference that guides generation.

          model: The video generation model to use. Defaults to `sora-2`.

          seconds: Clip duration in seconds. Defaults to 4 seconds.

          size: Output resolution formatted as width x height. Defaults to 720x1280.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        body = deepcopy_minimal(
            {
                &quot;prompt&quot;: prompt,
                &quot;input_reference&quot;: input_reference,
                &quot;model&quot;: model,
                &quot;seconds&quot;: seconds,
                &quot;size&quot;: size,
            }
        )
        files = extract_files(cast(Mapping[str, object], body), paths=[[&quot;input_reference&quot;]])
        if files:
            # It should be noted that the actual Content-Type header that will be
            # sent to the server will contain a `boundary` parameter, e.g.
            # multipart/form-data; boundary=---abc--
            extra_headers = {&quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 479:2 - Line 496:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 126:5 - Line 143:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn485" onclick="toggleCodeBlock('cloneGroup485', 'expandBtn485', 'collapseBtn485')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn485" onclick="toggleCodeBlock('cloneGroup485', 'expandBtn485', 'collapseBtn485')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup485"><code class="language-python text-sm text-gray-800">def create_and_poll(
        self,
        *,
        prompt: str,
        input_reference: FileTypes | Omit = omit,
        model: VideoModel | Omit = omit,
        seconds: VideoSeconds | Omit = omit,
        size: VideoSize | Omit = omit,
        poll_interval_ms: int | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Video:
        &quot;&quot;&quot;Create a video and wait for it to be processed.&quot;&quot;&quot;
        video = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 529:2 - Line 543:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 176:2 - Line 190:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn486" onclick="toggleCodeBlock('cloneGroup486', 'expandBtn486', 'collapseBtn486')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn486" onclick="toggleCodeBlock('cloneGroup486', 'expandBtn486', 'collapseBtn486')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup486"><code class="language-python text-sm text-gray-800">self.with_raw_response.retrieve(
                video_id,
                extra_headers=headers,
            )

            video = response.parse()
            if video.status == &quot;in_progress&quot; or video.status == &quot;queued&quot;:
                if not is_given(poll_interval_ms):
                    from_header = response.headers.get(&quot;openai-poll-after-ms&quot;)
                    if from_header is not None:
                        poll_interval_ms = int(from_header)
                    else:
                        poll_interval_ms = 1000

                await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 552:2 - Line 577:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 199:5 - Line 224:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn487" onclick="toggleCodeBlock('cloneGroup487', 'expandBtn487', 'collapseBtn487')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn487" onclick="toggleCodeBlock('cloneGroup487', 'expandBtn487', 'collapseBtn487')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup487"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        video_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Video:
        &quot;&quot;&quot;
        Retrieve a video

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not video_id:
            raise ValueError(f&quot;Expected a non-empty value for `video_id` but received {video_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 577:2 - Line 597:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 224:2 - Line 273:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn488" onclick="toggleCodeBlock('cloneGroup488', 'expandBtn488', 'collapseBtn488')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn488" onclick="toggleCodeBlock('cloneGroup488', 'expandBtn488', 'collapseBtn488')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup488"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/videos/{video_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=Video,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[Video</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 637:2 - Line 662:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 284:5 - Line 309:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn489" onclick="toggleCodeBlock('cloneGroup489', 'expandBtn489', 'collapseBtn489')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn489" onclick="toggleCodeBlock('cloneGroup489', 'expandBtn489', 'collapseBtn489')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup489"><code class="language-python text-sm text-gray-800">def delete(
        self,
        video_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; VideoDeleteResponse:
        &quot;&quot;&quot;
        Delete a video

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not video_id:
            raise ValueError(f&quot;Expected a non-empty value for `video_id` but received {video_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 670:2 - Line 700:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 317:5 - Line 347:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn490" onclick="toggleCodeBlock('cloneGroup490', 'expandBtn490', 'collapseBtn490')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn490" onclick="toggleCodeBlock('cloneGroup490', 'expandBtn490', 'collapseBtn490')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup490"><code class="language-python text-sm text-gray-800">def download_content(
        self,
        video_id: str,
        *,
        variant: Literal[&quot;video&quot;, &quot;thumbnail&quot;, &quot;spritesheet&quot;] | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; _legacy_response.HttpxBinaryResponseContent:
        &quot;&quot;&quot;Download video content

        Args:
          variant: Which downloadable asset to return.

        Defaults to the MP4 video.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not video_id:
            raise ValueError(f&quot;Expected a non-empty value for `video_id` but received {video_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;application/binary&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 714:2 - Line 742:6), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 359:5 - Line 387:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn491" onclick="toggleCodeBlock('cloneGroup491', 'expandBtn491', 'collapseBtn491')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn491" onclick="toggleCodeBlock('cloneGroup491', 'expandBtn491', 'collapseBtn491')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup491"><code class="language-python text-sm text-gray-800">def remix(
        self,
        video_id: str,
        *,
        prompt: str,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Video:
        &quot;&quot;&quot;
        Create a video remix

        Args:
          prompt: Updated text prompt that directs the remix generation.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not video_id:
            raise ValueError(f&quot;Expected a non-empty value for `video_id` but received {video_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/moderations.py (Line 126:12 - Line 148:6), .venv/lib/python3.14/site-packages/openai/resources/moderations.py (Line 56:12 - Line 78:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn492" onclick="toggleCodeBlock('cloneGroup492', 'expandBtn492', 'collapseBtn492')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn492" onclick="toggleCodeBlock('cloneGroup492', 'expandBtn492', 'collapseBtn492')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup492"><code class="language-python text-sm text-gray-800">Classifies if text and/or image inputs are potentially harmful.

        Learn more in
        the [moderation guide](https://platform.openai.com/docs/guides/moderation).

        Args:
          input: Input (or inputs) to classify. Can be a single string, an array of strings, or
              an array of multi-modal input objects similar to other models.

          model: The content moderation model you would like to use. Learn more in
              [the moderation guide](https://platform.openai.com/docs/guides/moderation), and
              learn about available models
              [here](https://platform.openai.com/docs/models#moderation).

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/models.py (Line 168:9 - Line 182:6), .venv/lib/python3.14/site-packages/openai/resources/models.py (Line 55:9 - Line 69:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn493" onclick="toggleCodeBlock('cloneGroup493', 'expandBtn493', 'collapseBtn493')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn493" onclick="toggleCodeBlock('cloneGroup493', 'expandBtn493', 'collapseBtn493')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup493"><code class="language-python text-sm text-gray-800">Retrieves a model instance, providing basic information about the model such as
        the owner and permissioning.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not model:
            raise ValueError(f&quot;Expected a non-empty value for `model` but received {model!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/models.py (Line 182:2 - Line 199:15), .venv/lib/python3.14/site-packages/openai/resources/models.py (Line 69:2 - Line 86:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn494" onclick="toggleCodeBlock('cloneGroup494', 'expandBtn494', 'collapseBtn494')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn494" onclick="toggleCodeBlock('cloneGroup494', 'expandBtn494', 'collapseBtn494')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup494"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/models/{model}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=Model,
        )

    def list(
        self,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/models.py (Line 213:2 - Line 240:6), .venv/lib/python3.14/site-packages/openai/resources/models.py (Line 100:5 - Line 127:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn495" onclick="toggleCodeBlock('cloneGroup495', 'expandBtn495', 'collapseBtn495')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn495" onclick="toggleCodeBlock('cloneGroup495', 'expandBtn495', 'collapseBtn495')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup495"><code class="language-python text-sm text-gray-800">def delete(
        self,
        model: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; ModelDeleted:
        &quot;&quot;&quot;Delete a fine-tuned model.

        You must have the Owner role in your organization to
        delete a model.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not model:
            raise ValueError(f&quot;Expected a non-empty value for `model` but received {model!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 14:1 - Line 26:15), .venv/lib/python3.14/site-packages/openai/resources/videos.py (Line 20:1 - Line 32:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn496" onclick="toggleCodeBlock('cloneGroup496', 'expandBtn496', 'collapseBtn496')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn496" onclick="toggleCodeBlock('cloneGroup496', 'expandBtn496', 'collapseBtn496')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup496"><code class="language-python text-sm text-gray-800">from .._types import Body, Omit, Query, Headers, NotGiven, FileTypes, omit, not_given
from .._utils import extract_files, maybe_transform, deepcopy_minimal, async_maybe_transform
from .._compat import cached_property
from .._resource import SyncAPIResource, AsyncAPIResource
from .._response import (
    StreamedBinaryAPIResponse,
    AsyncStreamedBinaryAPIResponse,
    to_streamed_response_wrapper,
    async_to_streamed_response_wrapper,
    to_custom_streamed_response_wrapper,
    async_to_custom_streamed_response_wrapper,
)
from ..pagination import SyncCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 32:1 - Line 68:12), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 25:1 - Line 71:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn497" onclick="toggleCodeBlock('cloneGroup497', 'expandBtn497', 'collapseBtn497')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn497" onclick="toggleCodeBlock('cloneGroup497', 'expandBtn497', 'collapseBtn497')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup497"><code class="language-python text-sm text-gray-800">__all__ = [&quot;Files&quot;, &quot;AsyncFiles&quot;]


class Files(SyncAPIResource):
    @cached_property
    def with_raw_response(self) -&gt; FilesWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return FilesWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; FilesWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return FilesWithStreamingResponse(self)

    def create(
        self,
        *,
        file: FileTypes,
        purpose: FilePurpose,
        expires_after: file_create_params.ExpiresAfter | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FileObject:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 99:11 - Line 110:5), .venv/lib/python3.14/site-packages/openai/resources/uploads/uploads.py (Line 217:11 - Line 228:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn498" onclick="toggleCodeBlock('cloneGroup498', 'expandBtn498', 'collapseBtn498')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn498" onclick="toggleCodeBlock('cloneGroup498', 'expandBtn498', 'collapseBtn498')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup498"><code class="language-python text-sm text-gray-800">expires_after: The expiration policy for a file. By default, files with `purpose=batch` expire
              after 30 days and all other files are persisted until they are manually deleted.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        body</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 351:1 - Line 384:12), .venv/lib/python3.14/site-packages/openai/resources/vector_stores/files.py (Line 436:1 - Line 284:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn499" onclick="toggleCodeBlock('cloneGroup499', 'expandBtn499', 'collapseBtn499')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn499" onclick="toggleCodeBlock('cloneGroup499', 'expandBtn499', 'collapseBtn499')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup499"><code class="language-python text-sm text-gray-800">class AsyncFiles(AsyncAPIResource):
    @cached_property
    def with_raw_response(self) -&gt; AsyncFilesWithRawResponse:
        &quot;&quot;&quot;
        This property can be used as a prefix for any HTTP method call to return
        the raw response object instead of the parsed content.

        For more information, see https://www.github.com/openai/openai-python#accessing-raw-response-data-eg-headers
        &quot;&quot;&quot;
        return AsyncFilesWithRawResponse(self)

    @cached_property
    def with_streaming_response(self) -&gt; AsyncFilesWithStreamingResponse:
        &quot;&quot;&quot;
        An alternative to `.with_raw_response` that doesn't eagerly read the response body.

        For more information, see https://www.github.com/openai/openai-python#with_streaming_response
        &quot;&quot;&quot;
        return AsyncFilesWithStreamingResponse(self)

    async def create(
        self,
        *,
        file: FileTypes,
        purpose: FilePurpose,
        expires_after: file_create_params.ExpiresAfter | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FileObject:
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 384:12 - Line 438:6), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 68:12 - Line 122:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn500" onclick="toggleCodeBlock('cloneGroup500', 'expandBtn500', 'collapseBtn500')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn500" onclick="toggleCodeBlock('cloneGroup500', 'expandBtn500', 'collapseBtn500')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup500"><code class="language-python text-sm text-gray-800">Upload a file that can be used across various endpoints.

        Individual files can be
        up to 512 MB, and the size of all files uploaded by one organization can be up
        to 1 TB.

        - The Assistants API supports files up to 2 million tokens and of specific file
          types. See the
          [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools)
          for details.
        - The Fine-tuning API only supports `.jsonl` files. The input also has certain
          required formats for fine-tuning
          [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input)
          or
          [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)
          models.
        - The Batch API only supports `.jsonl` files up to 200 MB in size. The input
          also has a specific required
          [format](https://platform.openai.com/docs/api-reference/batch/request-input).

        Please [contact us](https://help.openai.com/) if you need to increase these
        storage limits.

        Args:
          file: The File object (not file name) to be uploaded.

          purpose: The intended purpose of the uploaded file. One of: - `assistants`: Used in the
              Assistants API - `batch`: Used in the Batch API - `fine-tune`: Used for
              fine-tuning - `vision`: Images used for vision fine-tuning - `user_data`:
              Flexible file type for any purpose - `evals`: Used for eval data sets

          expires_after: The expiration policy for a file. By default, files with `purpose=batch` expire
              after 30 days and all other files are persisted until they are manually deleted.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        body = deepcopy_minimal(
            {
                &quot;file&quot;: file,
                &quot;purpose&quot;: purpose,
                &quot;expires_after&quot;: expires_after,
            }
        )
        files = extract_files(cast(Mapping[str, object], body), paths=[[&quot;file&quot;]])
        # It should be noted that the actual Content-Type header that will be
        # sent to the server will contain a `boundary` parameter, e.g.
        # multipart/form-data; boundary=---abc--
        extra_headers = {&quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 448:2 - Line 473:6), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 132:5 - Line 157:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn501" onclick="toggleCodeBlock('cloneGroup501', 'expandBtn501', 'collapseBtn501')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn501" onclick="toggleCodeBlock('cloneGroup501', 'expandBtn501', 'collapseBtn501')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup501"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        file_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FileObject:
        &quot;&quot;&quot;
        Returns information about a specific file.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 473:2 - Line 494:15), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 157:2 - Line 178:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn502" onclick="toggleCodeBlock('cloneGroup502', 'expandBtn502', 'collapseBtn502')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn502" onclick="toggleCodeBlock('cloneGroup502', 'expandBtn502', 'collapseBtn502')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup502"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/files/{file_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=FileObject,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        order: Literal[&quot;asc&quot;, &quot;desc&quot;] | Omit = omit,
        purpose: str | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 523:16 - Line 542:6), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 207:15 - Line 226:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn503" onclick="toggleCodeBlock('cloneGroup503', 'expandBtn503', 'collapseBtn503')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn503" onclick="toggleCodeBlock('cloneGroup503', 'expandBtn503', 'collapseBtn503')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup503"><code class="language-python text-sm text-gray-800">[FileObject],
            options=make_request_options(
                extra_headers=extra_headers,
                extra_query=extra_query,
                extra_body=extra_body,
                timeout=timeout,
                query=maybe_transform(
                    {
                        &quot;after&quot;: after,
                        &quot;limit&quot;: limit,
                        &quot;order&quot;: order,
                        &quot;purpose&quot;: purpose,
                    },
                    file_list_params.FileListParams,
                ),
            ),
            model=FileObject,
        )

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 542:2 - Line 567:6), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 226:5 - Line 251:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn504" onclick="toggleCodeBlock('cloneGroup504', 'expandBtn504', 'collapseBtn504')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn504" onclick="toggleCodeBlock('cloneGroup504', 'expandBtn504', 'collapseBtn504')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup504"><code class="language-python text-sm text-gray-800">def delete(
        self,
        file_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; FileDeleted:
        &quot;&quot;&quot;
        Delete a file and remove it from all vector stores.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 575:2 - Line 601:6), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 259:5 - Line 285:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn505" onclick="toggleCodeBlock('cloneGroup505', 'expandBtn505', 'collapseBtn505')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn505" onclick="toggleCodeBlock('cloneGroup505', 'expandBtn505', 'collapseBtn505')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup505"><code class="language-python text-sm text-gray-800">def content(
        self,
        file_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; _legacy_response.HttpxBinaryResponseContent:
        &quot;&quot;&quot;
        Returns the contents of the specified file.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        extra_headers = {&quot;Accept&quot;: &quot;application/binary&quot;, **(extra_headers or {})}
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 610:2 - Line 635:6), .venv/lib/python3.14/site-packages/openai/resources/files.py (Line 294:5 - Line 319:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn506" onclick="toggleCodeBlock('cloneGroup506', 'expandBtn506', 'collapseBtn506')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn506" onclick="toggleCodeBlock('cloneGroup506', 'expandBtn506', 'collapseBtn506')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup506"><code class="language-python text-sm text-gray-800">def retrieve_content(
        self,
        file_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; str:
        &quot;&quot;&quot;
        Returns the contents of the specified file.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not file_id:
            raise ValueError(f&quot;Expected a non-empty value for `file_id` but received {file_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 667:1 - Line 683:5), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 460:1 - Line 477:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn507" onclick="toggleCodeBlock('cloneGroup507', 'expandBtn507', 'collapseBtn507')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn507" onclick="toggleCodeBlock('cloneGroup507', 'expandBtn507', 'collapseBtn507')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup507"><code class="language-python text-sm text-gray-800">class FilesWithRawResponse:
    def __init__(self, files: Files) -&gt; None:
        self._files = files

        self.create = _legacy_response.to_raw_response_wrapper(
            files.create,
        )
        self.retrieve = _legacy_response.to_raw_response_wrapper(
            files.retrieve,
        )
        self.list = _legacy_response.to_raw_response_wrapper(
            files.list,
        )
        self.delete = _legacy_response.to_raw_response_wrapper(
            files.delete,
        )
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 690:9 - Line 709:5), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 479:8 - Line 499:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn508" onclick="toggleCodeBlock('cloneGroup508', 'expandBtn508', 'collapseBtn508')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn508" onclick="toggleCodeBlock('cloneGroup508', 'expandBtn508', 'collapseBtn508')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup508"><code class="language-python text-sm text-gray-800">)


class AsyncFilesWithRawResponse:
    def __init__(self, files: AsyncFiles) -&gt; None:
        self._files = files

        self.create = _legacy_response.async_to_raw_response_wrapper(
            files.create,
        )
        self.retrieve = _legacy_response.async_to_raw_response_wrapper(
            files.retrieve,
        )
        self.list = _legacy_response.async_to_raw_response_wrapper(
            files.list,
        )
        self.delete = _legacy_response.async_to_raw_response_wrapper(
            files.delete,
        )
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 716:9 - Line 735:5), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 501:8 - Line 521:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn509" onclick="toggleCodeBlock('cloneGroup509', 'expandBtn509', 'collapseBtn509')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn509" onclick="toggleCodeBlock('cloneGroup509', 'expandBtn509', 'collapseBtn509')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup509"><code class="language-python text-sm text-gray-800">)


class FilesWithStreamingResponse:
    def __init__(self, files: Files) -&gt; None:
        self._files = files

        self.create = to_streamed_response_wrapper(
            files.create,
        )
        self.retrieve = to_streamed_response_wrapper(
            files.retrieve,
        )
        self.list = to_streamed_response_wrapper(
            files.list,
        )
        self.delete = to_streamed_response_wrapper(
            files.delete,
        )
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/files.py (Line 743:9 - Line 762:5), .venv/lib/python3.14/site-packages/openai/resources/containers/files/files.py (Line 523:8 - Line 543:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn510" onclick="toggleCodeBlock('cloneGroup510', 'expandBtn510', 'collapseBtn510')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn510" onclick="toggleCodeBlock('cloneGroup510', 'expandBtn510', 'collapseBtn510')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup510"><code class="language-python text-sm text-gray-800">)


class AsyncFilesWithStreamingResponse:
    def __init__(self, files: AsyncFiles) -&gt; None:
        self._files = files

        self.create = async_to_streamed_response_wrapper(
            files.create,
        )
        self.retrieve = async_to_streamed_response_wrapper(
            files.retrieve,
        )
        self.list = async_to_streamed_response_wrapper(
            files.list,
        )
        self.delete = async_to_streamed_response_wrapper(
            files.delete,
        )
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/embeddings.py (Line 182:9 - Line 251:6), .venv/lib/python3.14/site-packages/openai/resources/embeddings.py (Line 63:9 - Line 132:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn511" onclick="toggleCodeBlock('cloneGroup511', 'expandBtn511', 'collapseBtn511')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn511" onclick="toggleCodeBlock('cloneGroup511', 'expandBtn511', 'collapseBtn511')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup511"><code class="language-python text-sm text-gray-800">Creates an embedding vector representing the input text.

        Args:
          input: Input text to embed, encoded as a string or array of tokens. To embed multiple
              inputs in a single request, pass an array of strings or array of token arrays.
              The input must not exceed the max input tokens for the model (8192 tokens for
              all embedding models), cannot be an empty string, and any array must be 2048
              dimensions or less.
              [Example Python code](https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken)
              for counting tokens. In addition to the per-input token limit, all embedding
              models enforce a maximum of 300,000 tokens summed across all inputs in a single
              request.

          model: ID of the model to use. You can use the
              [List models](https://platform.openai.com/docs/api-reference/models/list) API to
              see all of your available models, or see our
              [Model overview](https://platform.openai.com/docs/models) for descriptions of
              them.

          dimensions: The number of dimensions the resulting output embeddings should have. Only
              supported in `text-embedding-3` and later models.

          encoding_format: The format to return the embeddings in. Can be either `float` or
              [`base64`](https://pypi.org/project/pybase64/).

          user: A unique identifier representing your end-user, which can help OpenAI to monitor
              and detect abuse.
              [Learn more](https://platform.openai.com/docs/guides/safety-best-practices#end-user-ids).

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        params = {
            &quot;input&quot;: input,
            &quot;model&quot;: model,
            &quot;user&quot;: user,
            &quot;dimensions&quot;: dimensions,
            &quot;encoding_format&quot;: encoding_format,
        }
        if not is_given(encoding_format):
            params[&quot;encoding_format&quot;] = &quot;base64&quot;

        def parser(obj: CreateEmbeddingResponse) -&gt; CreateEmbeddingResponse:
            if is_given(encoding_format):
                # don't modify the response object if a user explicitly asked for a format
                return obj

            if not obj.data:
                raise ValueError(&quot;No embedding data received&quot;)

            for embedding in obj.data:
                data = cast(object, embedding.embedding)
                if not isinstance(data, str):
                    continue
                if not has_numpy():
                    # use array for base64 optimisation
                    embedding.embedding = array.array(&quot;f&quot;, base64.b64decode(data)).tolist()
                else:
                    embedding.embedding = np.frombuffer(  # type: ignore[no-untyped-call]
                        base64.b64decode(data), dtype=&quot;float32&quot;
                    ).tolist()

            return obj

        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 80:5 - Line 89:21), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 115:4 - Line 96:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn512" onclick="toggleCodeBlock('cloneGroup512', 'expandBtn512', 'collapseBtn512')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn512" onclick="toggleCodeBlock('cloneGroup512', 'expandBtn512', 'collapseBtn512')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup512"><code class="language-python text-sm text-gray-800">.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          output_expires_after</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 152:5 - Line 162:6), .venv/lib/python3.14/site-packages/openai/resources/fine_tuning/jobs/jobs.py (Line 302:4 - Line 312:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn513" onclick="toggleCodeBlock('cloneGroup513', 'expandBtn513', 'collapseBtn513')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn513" onclick="toggleCodeBlock('cloneGroup513', 'expandBtn513', 'collapseBtn513')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup513"><code class="language-python text-sm text-gray-800">,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; SyncCursorPage[Batch</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 276:9 - Line 315:6), .venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 61:9 - Line 100:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn514" onclick="toggleCodeBlock('cloneGroup514', 'expandBtn514', 'collapseBtn514')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn514" onclick="toggleCodeBlock('cloneGroup514', 'expandBtn514', 'collapseBtn514')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup514"><code class="language-python text-sm text-gray-800">Creates and executes a batch from an uploaded file of requests

        Args:
          completion_window: The time frame within which the batch should be processed. Currently only `24h`
              is supported.

          endpoint: The endpoint to be used for all requests in the batch. Currently
              `/v1/responses`, `/v1/chat/completions`, `/v1/embeddings`, and `/v1/completions`
              are supported. Note that `/v1/embeddings` batches are also restricted to a
              maximum of 50,000 embedding inputs across all requests in the batch.

          input_file_id: The ID of an uploaded file that contains requests for the new batch.

              See [upload file](https://platform.openai.com/docs/api-reference/files/create)
              for how to upload a file.

              Your input file must be formatted as a
              [JSONL file](https://platform.openai.com/docs/api-reference/batch/request-input),
              and must be uploaded with the purpose `batch`. The file can contain up to 50,000
              requests, and can be up to 200 MB in size.

          metadata: Set of 16 key-value pairs that can be attached to an object. This can be useful
              for storing additional information about the object in a structured format, and
              querying for objects via API or the dashboard.

              Keys are strings with a maximum length of 64 characters. Values are strings with
              a maximum length of 512 characters.

          output_expires_after: The expiration policy for the output and/or error file that are generated for a
              batch.

          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 333:2 - Line 358:6), .venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 118:5 - Line 143:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn515" onclick="toggleCodeBlock('cloneGroup515', 'expandBtn515', 'collapseBtn515')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn515" onclick="toggleCodeBlock('cloneGroup515', 'expandBtn515', 'collapseBtn515')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup515"><code class="language-python text-sm text-gray-800">def retrieve(
        self,
        batch_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Batch:
        &quot;&quot;&quot;
        Retrieves a batch.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not batch_id:
            raise ValueError(f&quot;Expected a non-empty value for `batch_id` but received {batch_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 358:2 - Line 377:6), .venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 143:2 - Line 692:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn516" onclick="toggleCodeBlock('cloneGroup516', 'expandBtn516', 'collapseBtn516')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn516" onclick="toggleCodeBlock('cloneGroup516', 'expandBtn516', 'collapseBtn516')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup516"><code class="language-python text-sm text-gray-800">self._get(
            f&quot;/batches/{batch_id}&quot;,
            options=make_request_options(
                extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout
            ),
            cast_to=Batch,
        )

    def list(
        self,
        *,
        after: str | Omit = omit,
        limit: int | Omit = omit,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; AsyncPaginator[Batch</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 418:2 - Line 446:6), .venv/lib/python3.14/site-packages/openai/resources/batches.py (Line 203:5 - Line 231:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn517" onclick="toggleCodeBlock('cloneGroup517', 'expandBtn517', 'collapseBtn517')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn517" onclick="toggleCodeBlock('cloneGroup517', 'expandBtn517', 'collapseBtn517')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup517"><code class="language-python text-sm text-gray-800">def cancel(
        self,
        batch_id: str,
        *,
        # Use the following arguments if you need to pass additional parameters to the API that aren't available via kwargs.
        # The extra values given here take precedence over values defined on the client or passed to this method.
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; Batch:
        &quot;&quot;&quot;Cancels an in-progress batch.

        The batch will be in status `cancelling` for up to
        10 minutes, before changing to `cancelled`, where it will have partial results
        (if any) available in the output file.

        Args:
          extra_headers: Send extra headers

          extra_query: Add additional query parameters to the request

          extra_body: Add additional JSON properties to the request

          timeout: Override the client-level default timeout for this request, in seconds
        &quot;&quot;&quot;
        if not batch_id:
            raise ValueError(f&quot;Expected a non-empty value for `batch_id` but received {batch_id!r}&quot;)
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 114:2 - Line 135:9), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 94:4 - Line 115:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn518" onclick="toggleCodeBlock('cloneGroup518', 'expandBtn518', 'collapseBtn518')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn518" onclick="toggleCodeBlock('cloneGroup518', 'expandBtn518', 'collapseBtn518')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup518"><code class="language-python text-sm text-gray-800">,
        azure_deployment: str | None = None,
        api_version: str | None = None,
        api_key: str | Callable[[], str] | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: AzureADTokenProvider | None = None,
        organization: str | None = None,
        webhook_secret: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.Client | None = None,
        _strict_response_validation: bool = False,
    ) -&gt; None: ...

    @overload
    def __init__(
        self,
        *,
        base_url</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 135:4 - Line 151:4), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 95:5 - Line 111:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn519" onclick="toggleCodeBlock('cloneGroup519', 'expandBtn519', 'collapseBtn519')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn519" onclick="toggleCodeBlock('cloneGroup519', 'expandBtn519', 'collapseBtn519')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup519"><code class="language-python text-sm text-gray-800">,
        api_version: str | None = None,
        api_key: str | Callable[[], str] | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: AzureADTokenProvider | None = None,
        organization: str | None = None,
        webhook_secret: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.Client | None = None,
        _strict_response_validation: bool = False,
    ) -&gt; None: ...

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 164:2 - Line 191:12), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 102:2 - Line 109:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn520" onclick="toggleCodeBlock('cloneGroup520', 'expandBtn520', 'collapseBtn520')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn520" onclick="toggleCodeBlock('cloneGroup520', 'expandBtn520', 'collapseBtn520')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup520"><code class="language-python text-sm text-gray-800">| None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.Client | None = None,
        _strict_response_validation: bool = False,
    ) -&gt; None:
        &quot;&quot;&quot;Construct a new synchronous azure openai client instance.

        This automatically infers the following arguments from their corresponding environment variables if they are not provided:
        - `api_key` from `AZURE_OPENAI_API_KEY`
        - `organization` from `OPENAI_ORG_ID`
        - `project` from `OPENAI_PROJECT_ID`
        - `azure_ad_token` from `AZURE_OPENAI_AD_TOKEN`
        - `api_version` from `OPENAI_API_VERSION`
        - `azure_endpoint` from `AZURE_OPENAI_ENDPOINT`

        Args:
            azure_endpoint: Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`

            azure_ad_token: Your Azure Active Directory token, https://www.microsoft.com/en-us/security/business/identity-access/microsoft-entra-id

            azure_ad_token_provider: A function that returns an Azure Active Directory token, will be invoked on every request.

            azure_deployment: A model deployment, if given with `azure_endpoint`, sets the base client URL to include `/deployments/{azure_deployment}`.
                Not supported with Assistants APIs.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 379:8 - Line 386:12), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 100:13 - Line 107:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn521" onclick="toggleCodeBlock('cloneGroup521', 'expandBtn521', 'collapseBtn521')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn521" onclick="toggleCodeBlock('cloneGroup521', 'expandBtn521', 'collapseBtn521')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup521"><code class="language-python text-sm text-gray-800">: str | None = None,
        webhook_secret: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.AsyncClient</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 393:2 - Line 415:9), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 372:4 - Line 394:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn522" onclick="toggleCodeBlock('cloneGroup522', 'expandBtn522', 'collapseBtn522')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn522" onclick="toggleCodeBlock('cloneGroup522', 'expandBtn522', 'collapseBtn522')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup522"><code class="language-python text-sm text-gray-800">,
        azure_deployment: str | None = None,
        api_version: str | None = None,
        api_key: str | Callable[[], Awaitable[str]] | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: AsyncAzureADTokenProvider | None = None,
        organization: str | None = None,
        project: str | None = None,
        webhook_secret: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.AsyncClient | None = None,
        _strict_response_validation: bool = False,
    ) -&gt; None: ...

    @overload
    def __init__(
        self,
        *,
        base_url</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 415:4 - Line 432:4), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 373:5 - Line 390:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn523" onclick="toggleCodeBlock('cloneGroup523', 'expandBtn523', 'collapseBtn523')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn523" onclick="toggleCodeBlock('cloneGroup523', 'expandBtn523', 'collapseBtn523')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup523"><code class="language-python text-sm text-gray-800">,
        api_version: str | None = None,
        api_key: str | Callable[[], Awaitable[str]] | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: AsyncAzureADTokenProvider | None = None,
        organization: str | None = None,
        project: str | None = None,
        webhook_secret: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.AsyncClient | None = None,
        _strict_response_validation: bool = False,
    ) -&gt; None: ...

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 435:5 - Line 444:9), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 372:4 - Line 381:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn524" onclick="toggleCodeBlock('cloneGroup524', 'expandBtn524', 'collapseBtn524')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn524" onclick="toggleCodeBlock('cloneGroup524', 'expandBtn524', 'collapseBtn524')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup524"><code class="language-python text-sm text-gray-800">,
        azure_deployment: str | None = None,
        api_version: str | None = None,
        api_key: str | Callable[[], Awaitable[str]] | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: AsyncAzureADTokenProvider | None = None,
        organization: str | None = None,
        project: str | None = None,
        webhook_secret: str | None = None,
        base_url</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 444:9 - Line 472:12), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 101:15 - Line 388:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn525" onclick="toggleCodeBlock('cloneGroup525', 'expandBtn525', 'collapseBtn525')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn525" onclick="toggleCodeBlock('cloneGroup525', 'expandBtn525', 'collapseBtn525')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup525"><code class="language-python text-sm text-gray-800">: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        timeout: float | Timeout | None | NotGiven = NOT_GIVEN,
        max_retries: int = DEFAULT_MAX_RETRIES,
        default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        http_client: httpx.AsyncClient | None = None,
        _strict_response_validation: bool = False,
    ) -&gt; None:
        &quot;&quot;&quot;Construct a new asynchronous azure openai client instance.

        This automatically infers the following arguments from their corresponding environment variables if they are not provided:
        - `api_key` from `AZURE_OPENAI_API_KEY`
        - `organization` from `OPENAI_ORG_ID`
        - `project` from `OPENAI_PROJECT_ID`
        - `azure_ad_token` from `AZURE_OPENAI_AD_TOKEN`
        - `api_version` from `OPENAI_API_VERSION`
        - `azure_endpoint` from `AZURE_OPENAI_ENDPOINT`

        Args:
            azure_endpoint: Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`

            azure_ad_token: Your Azure Active Directory token, https://www.microsoft.com/en-us/security/business/identity-access/microsoft-entra-id

            azure_ad_token_provider: A function that returns an Azure Active Directory token, will be invoked on every request.

            azure_deployment: A model deployment, if given with `azure_endpoint`, sets the base client URL to include `/deployments/{azure_deployment}`.
                Not supported with Assistants APIs.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 473:9 - Line 542:10), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 192:9 - Line 261:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn526" onclick="toggleCodeBlock('cloneGroup526', 'expandBtn526', 'collapseBtn526')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn526" onclick="toggleCodeBlock('cloneGroup526', 'expandBtn526', 'collapseBtn526')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup526"><code class="language-python text-sm text-gray-800">if api_key is None:
            api_key = os.environ.get(&quot;AZURE_OPENAI_API_KEY&quot;)

        if azure_ad_token is None:
            azure_ad_token = os.environ.get(&quot;AZURE_OPENAI_AD_TOKEN&quot;)

        if api_key is None and azure_ad_token is None and azure_ad_token_provider is None:
            raise OpenAIError(
                &quot;Missing credentials. Please pass one of `api_key`, `azure_ad_token`, `azure_ad_token_provider`, or the `AZURE_OPENAI_API_KEY` or `AZURE_OPENAI_AD_TOKEN` environment variables.&quot;
            )

        if api_version is None:
            api_version = os.environ.get(&quot;OPENAI_API_VERSION&quot;)

        if api_version is None:
            raise ValueError(
                &quot;Must provide either the `api_version` argument or the `OPENAI_API_VERSION` environment variable&quot;
            )

        if default_query is None:
            default_query = {&quot;api-version&quot;: api_version}
        else:
            default_query = {**default_query, &quot;api-version&quot;: api_version}

        if base_url is None:
            if azure_endpoint is None:
                azure_endpoint = os.environ.get(&quot;AZURE_OPENAI_ENDPOINT&quot;)

            if azure_endpoint is None:
                raise ValueError(
                    &quot;Must provide one of the `base_url` or `azure_endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable&quot;
                )

            if azure_deployment is not None:
                base_url = f&quot;{azure_endpoint.rstrip('/')}/openai/deployments/{azure_deployment}&quot;
            else:
                base_url = f&quot;{azure_endpoint.rstrip('/')}/openai&quot;
        else:
            if azure_endpoint is not None:
                raise ValueError(&quot;base_url and azure_endpoint are mutually exclusive&quot;)

        if api_key is None:
            # define a sentinel value to avoid any typing issues
            api_key = API_KEY_SENTINEL

        super().__init__(
            api_key=api_key,
            organization=organization,
            project=project,
            webhook_secret=webhook_secret,
            base_url=base_url,
            timeout=timeout,
            max_retries=max_retries,
            default_headers=default_headers,
            default_query=default_query,
            http_client=http_client,
            websocket_base_url=websocket_base_url,
            _strict_response_validation=_strict_response_validation,
        )
        self._api_version = api_version
        self._azure_ad_token = azure_ad_token
        self._azure_ad_token_provider = azure_ad_token_provider
        self._azure_deployment = azure_deployment if azure_endpoint else None
        self._azure_endpoint = httpx.URL(azure_endpoint) if azure_endpoint else None

    @override
    def copy(
        self,
        *,
        api_key: str | Callable[[], Awaitable</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 542:2 - Line 549:26), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 261:4 - Line 268:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn527" onclick="toggleCodeBlock('cloneGroup527', 'expandBtn527', 'collapseBtn527')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn527" onclick="toggleCodeBlock('cloneGroup527', 'expandBtn527', 'collapseBtn527')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup527"><code class="language-python text-sm text-gray-800">] | None = None,
        organization: str | None = None,
        project: str | None = None,
        webhook_secret: str | None = None,
        websocket_base_url: str | httpx.URL | None = None,
        api_version: str | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: AsyncAzureADTokenProvider</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 552:2 - Line 587:6), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 271:2 - Line 306:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn528" onclick="toggleCodeBlock('cloneGroup528', 'expandBtn528', 'collapseBtn528')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn528" onclick="toggleCodeBlock('cloneGroup528', 'expandBtn528', 'collapseBtn528')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup528"><code class="language-python text-sm text-gray-800">| None = None,
        max_retries: int | NotGiven = NOT_GIVEN,
        default_headers: Mapping[str, str] | None = None,
        set_default_headers: Mapping[str, str] | None = None,
        default_query: Mapping[str, object] | None = None,
        set_default_query: Mapping[str, object] | None = None,
        _extra_kwargs: Mapping[str, Any] = {},
    ) -&gt; Self:
        &quot;&quot;&quot;
        Create a new client instance re-using the same options given to the current client with optional overriding.
        &quot;&quot;&quot;
        return super().copy(
            api_key=api_key,
            organization=organization,
            project=project,
            webhook_secret=webhook_secret,
            websocket_base_url=websocket_base_url,
            base_url=base_url,
            timeout=timeout,
            http_client=http_client,
            max_retries=max_retries,
            default_headers=default_headers,
            set_default_headers=set_default_headers,
            default_query=default_query,
            set_default_query=set_default_query,
            _extra_kwargs={
                &quot;api_version&quot;: api_version or self._api_version,
                &quot;azure_ad_token&quot;: azure_ad_token or self._azure_ad_token,
                &quot;azure_ad_token_provider&quot;: azure_ad_token_provider or self._azure_ad_token_provider,
                **_extra_kwargs,
            },
        )

    with_options = copy

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 611:2 - Line 624:6), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 328:2 - Line 341:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn529" onclick="toggleCodeBlock('cloneGroup529', 'expandBtn529', 'collapseBtn529')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn529" onclick="toggleCodeBlock('cloneGroup529', 'expandBtn529', 'collapseBtn529')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup529"><code class="language-python text-sm text-gray-800">self._get_azure_ad_token()
        if azure_ad_token is not None:
            if headers.get(&quot;Authorization&quot;) is None:
                headers[&quot;Authorization&quot;] = f&quot;Bearer {azure_ad_token}&quot;
        elif self.api_key is not API_KEY_SENTINEL:
            if headers.get(&quot;api-key&quot;) is None:
                headers[&quot;api-key&quot;] = self.api_key
        else:
            # should never be hit
            raise ValueError(&quot;Unable to handle auth&quot;)

        return options

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 624:2 - Line 634:6), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 341:5 - Line 351:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn530" onclick="toggleCodeBlock('cloneGroup530', 'expandBtn530', 'collapseBtn530')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn530" onclick="toggleCodeBlock('cloneGroup530', 'expandBtn530', 'collapseBtn530')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup530"><code class="language-python text-sm text-gray-800">def _configure_realtime(self, model: str, extra_query: Query) -&gt; tuple[httpx.URL, dict[str, str]]:
        auth_headers = {}
        query = {
            **extra_query,
            &quot;api-version&quot;: self._api_version,
            &quot;deployment&quot;: self._azure_deployment or model,
        }
        if self.api_key and self.api_key != &quot;&lt;missing API key&gt;&quot;:
            auth_headers = {&quot;api-key&quot;: self.api_key}
        else:
            token = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 634:2 - Line 647:13), .venv/lib/python3.14/site-packages/openai/lib/azure.py (Line 351:2 - Line 364:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn531" onclick="toggleCodeBlock('cloneGroup531', 'expandBtn531', 'collapseBtn531')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn531" onclick="toggleCodeBlock('cloneGroup531', 'expandBtn531', 'collapseBtn531')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup531"><code class="language-python text-sm text-gray-800">self._get_azure_ad_token()
            if token:
                auth_headers = {&quot;Authorization&quot;: f&quot;Bearer {token}&quot;}

        if self.websocket_base_url is not None:
            base_url = httpx.URL(self.websocket_base_url)
            merge_raw_path = base_url.raw_path.rstrip(b&quot;/&quot;) + b&quot;/realtime&quot;
            realtime_url = base_url.copy_with(raw_path=merge_raw_path)
        else:
            base_url = self._prepare_url(&quot;/realtime&quot;)
            realtime_url = base_url.copy_with(scheme=&quot;wss&quot;)

        url = realtime_url.copy_with(params={**query})
        return url, auth_headers</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/_realtime.py (Line 60:2 - Line 72:6), .venv/lib/python3.14/site-packages/openai/lib/_realtime.py (Line 23:5 - Line 35:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn532" onclick="toggleCodeBlock('cloneGroup532', 'expandBtn532', 'collapseBtn532')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn532" onclick="toggleCodeBlock('cloneGroup532', 'expandBtn532', 'collapseBtn532')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup532"><code class="language-python text-sm text-gray-800">def create(
        self,
        *,
        sdp: str,
        session: RealtimeSessionCreateRequestParam | Omit = omit,
        extra_headers: Headers | None = None,
        extra_query: Query | None = None,
        extra_body: Body | None = None,
        timeout: float | httpx.Timeout | None | NotGiven = not_given,
    ) -&gt; _legacy_response.HttpxBinaryResponseContent:
        if session is omit:
            extra_headers = {&quot;Accept&quot;: &quot;application/sdp&quot;, &quot;Content-Type&quot;: &quot;application/sdp&quot;, **(extra_headers or {})}
            return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/lib/_realtime.py (Line 72:2 - Line 80:6), .venv/lib/python3.14/site-packages/openai/lib/_realtime.py (Line 35:2 - Line 43:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn533" onclick="toggleCodeBlock('cloneGroup533', 'expandBtn533', 'collapseBtn533')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn533" onclick="toggleCodeBlock('cloneGroup533', 'expandBtn533', 'collapseBtn533')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup533"><code class="language-python text-sm text-gray-800">self._post(
                &quot;/realtime/calls&quot;,
                body=sdp.encode(&quot;utf-8&quot;),
                options=make_request_options(extra_headers=extra_headers, extra_query=extra_query, timeout=timeout),
                cast_to=_legacy_response.HttpxBinaryResponseContent,
            )

        extra_headers = {&quot;Accept&quot;: &quot;application/sdp&quot;, &quot;Content-Type&quot;: &quot;multipart/form-data&quot;, **(extra_headers or {})}
        session_payload = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 346:27 - Line 375:6), .venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 180:21 - Line 209:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn534" onclick="toggleCodeBlock('cloneGroup534', 'expandBtn534', 'collapseBtn534')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn534" onclick="toggleCodeBlock('cloneGroup534', 'expandBtn534', 'collapseBtn534')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup534"><code class="language-python text-sm text-gray-800">(data, stripped_type)

    if origin == dict and is_mapping(data):
        items_type = get_args(stripped_type)[1]
        return {key: _transform_recursive(value, annotation=items_type) for key, value in data.items()}

    if (
        # List[T]
        (is_list_type(stripped_type) and is_list(data))
        # Iterable[T]
        or (is_iterable_type(stripped_type) and is_iterable(data) and not isinstance(data, str))
        # Sequence[T]
        or (is_sequence_type(stripped_type) and is_sequence(data) and not isinstance(data, str))
    ):
        # dicts are technically iterable, but it is an iterable on the keys of the dict and is not usually
        # intended as an iterable, so we don't transform it.
        if isinstance(data, dict):
            return cast(object, data)

        inner_type = extract_type_arg(stripped_type, 0)
        if _no_transform_needed(inner_type):
            # for some types there is no need to transform anything, so we can get a small
            # perf boost from skipping that work.
            #
            # but we still need to convert to a list to ensure the data is json-serializable
            if is_list(data):
                return data
            return list(data)

        return [await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 402:19 - Line 414:6), .venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 236:13 - Line 248:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn535" onclick="toggleCodeBlock('cloneGroup535', 'expandBtn535', 'collapseBtn535')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn535" onclick="toggleCodeBlock('cloneGroup535', 'expandBtn535', 'collapseBtn535')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup535"><code class="language-python text-sm text-gray-800">(data: object, format_: PropertyFormat, format_template: str | None) -&gt; object:
    if isinstance(data, (date, datetime)):
        if format_ == &quot;iso8601&quot;:
            return data.isoformat()

        if format_ == &quot;custom&quot; and format_template is not None:
            return data.strftime(format_template)

    if format_ == &quot;base64&quot; and is_base64_file_input(data):
        binary: str | bytes | None = None

        if isinstance(data, pathlib.Path):
            binary = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 414:2 - Line 429:6), .venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 248:5 - Line 263:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn536" onclick="toggleCodeBlock('cloneGroup536', 'expandBtn536', 'collapseBtn536')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn536" onclick="toggleCodeBlock('cloneGroup536', 'expandBtn536', 'collapseBtn536')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup536"><code class="language-python text-sm text-gray-800">.read_bytes()
        elif isinstance(data, io.IOBase):
            binary = data.read()

            if isinstance(binary, str):  # type: ignore[unreachable]
                binary = binary.encode()

        if not isinstance(binary, bytes):
            raise RuntimeError(f&quot;Could not read bytes from {data}; Received {type(binary)}&quot;)

        return base64.b64encode(binary).decode(&quot;ascii&quot;)

    return data


async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 429:27 - Line 446:6), .venv/lib/python3.14/site-packages/openai/_utils/_transform.py (Line 263:21 - Line 280:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn537" onclick="toggleCodeBlock('cloneGroup537', 'expandBtn537', 'collapseBtn537')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn537" onclick="toggleCodeBlock('cloneGroup537', 'expandBtn537', 'collapseBtn537')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup537"><code class="language-python text-sm text-gray-800">(
    data: Mapping[str, object],
    expected_type: type,
) -&gt; Mapping[str, object]:
    result: dict[str, object] = {}
    annotations = get_type_hints(expected_type, include_extras=True)
    for key, value in data.items():
        if not is_given(value):
            # we don't need to include omitted values here as they'll
            # be stripped out before the request is sent anyway
            continue

        type_ = annotations.get(key)
        if type_ is None:
            # we do not have a type annotation for this field, leave it as is
            result[key] = value
        else:
            result[_maybe_transform_key(key, type_)] = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_utils/_datetime_parse.py (Line 44:19 - Line 56:2), .venv/lib/python3.14/site-packages/pydantic/v1/datetime_parse.py (Line 77:18 - Line 89:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn538" onclick="toggleCodeBlock('cloneGroup538', 'expandBtn538', 'collapseBtn538')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn538" onclick="toggleCodeBlock('cloneGroup538', 'expandBtn538', 'collapseBtn538')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup538"><code class="language-python text-sm text-gray-800">(seconds: Union[int, float]) -&gt; datetime:
    if seconds &gt; MAX_NUMBER:
        return datetime.max
    elif seconds &lt; -MAX_NUMBER:
        return datetime.min

    while abs(seconds) &gt; MS_WATERSHED:
        seconds /= 1000
    dt = EPOCH + timedelta(seconds=seconds)
    return dt.replace(tzinfo=timezone.utc)


def _parse_timezone(value: Optional[str])</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/inference/_common.py (Line 359:27 - Line 375:7), .venv/lib/python3.14/site-packages/huggingface_hub/inference/_common.py (Line 311:2 - Line 327:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn540" onclick="toggleCodeBlock('cloneGroup540', 'expandBtn540', 'collapseBtn540')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn540" onclick="toggleCodeBlock('cloneGroup540', 'expandBtn540', 'collapseBtn540')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup540"><code class="language-python text-sm text-gray-800">]:
    if not byte_payload.startswith(b&quot;data:&quot;):
        return None  # empty line

    if byte_payload.strip() == b&quot;data: [DONE]&quot;:
        raise StopIteration(&quot;[DONE] signal received.&quot;)

    # Decode payload
    payload = byte_payload.decode(&quot;utf-8&quot;)
    json_payload = json.loads(payload.lstrip(&quot;data:&quot;).rstrip(&quot;/n&quot;))

    # Either an error as being returned
    if json_payload.get(&quot;error&quot;) is not None:
        raise _parse_text_generation_error(json_payload[&quot;error&quot;], json_payload.get(&quot;error_type&quot;))

    # Or parse token payload
    return</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/commands/scan_cache.py (Line 131:5 - Line 144:14), .venv/lib/python3.14/site-packages/huggingface_hub/utils/_cache_manager.py (Line 501:9 - Line 514:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn541" onclick="toggleCodeBlock('cloneGroup541', 'expandBtn541', 'collapseBtn541')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn541" onclick="toggleCodeBlock('cloneGroup541', 'expandBtn541', 'collapseBtn541')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup541"><code class="language-python text-sm text-gray-800">if verbosity == 0:
        return tabulate(
            rows=[
                [
                    repo.repo_id,
                    repo.repo_type,
                    &quot;{:&gt;12}&quot;.format(repo.size_on_disk_str),
                    repo.nb_files,
                    repo.last_accessed_str,
                    repo.last_modified_str,
                    &quot;, &quot;.join(sorted(repo.refs)),
                    str(repo.repo_path),
                ]
                for repo in sorted(hf_cache_info</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/commands/scan_cache.py (Line 144:14 - Line 170:14), .venv/lib/python3.14/site-packages/huggingface_hub/utils/_cache_manager.py (Line 514:5 - Line 540:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn542" onclick="toggleCodeBlock('cloneGroup542', 'expandBtn542', 'collapseBtn542')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn542" onclick="toggleCodeBlock('cloneGroup542', 'expandBtn542', 'collapseBtn542')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup542"><code class="language-python text-sm text-gray-800">.repos, key=lambda repo: repo.repo_path)
            ],
            headers=[
                &quot;REPO ID&quot;,
                &quot;REPO TYPE&quot;,
                &quot;SIZE ON DISK&quot;,
                &quot;NB FILES&quot;,
                &quot;LAST_ACCESSED&quot;,
                &quot;LAST_MODIFIED&quot;,
                &quot;REFS&quot;,
                &quot;LOCAL PATH&quot;,
            ],
        )
    else:
        return tabulate(
            rows=[
                [
                    repo.repo_id,
                    repo.repo_type,
                    revision.commit_hash,
                    &quot;{:&gt;12}&quot;.format(revision.size_on_disk_str),
                    revision.nb_files,
                    revision.last_modified_str,
                    &quot;, &quot;.join(sorted(revision.refs)),
                    str(revision.snapshot_path),
                ]
                for repo in sorted(hf_cache_info</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/upload_large_folder.py (Line 38:9 - Line 92:8), .venv/lib/python3.14/site-packages/huggingface_hub/commands/upload_large_folder.py (Line 35:45 - Line 89:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn543" onclick="toggleCodeBlock('cloneGroup543', 'expandBtn543', 'collapseBtn543')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn543" onclick="toggleCodeBlock('cloneGroup543', 'expandBtn543', 'collapseBtn543')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup543"><code class="language-python text-sm text-gray-800">)
        subparser.add_argument(
            &quot;repo_id&quot;, type=str, help=&quot;The ID of the repo to upload to (e.g. `username/repo-name`).&quot;
        )
        subparser.add_argument(&quot;local_path&quot;, type=str, help=&quot;Local path to the file or folder to upload.&quot;)
        subparser.add_argument(
            &quot;--repo-type&quot;,
            choices=[&quot;model&quot;, &quot;dataset&quot;, &quot;space&quot;],
            help=&quot;Type of the repo to upload to (e.g. `dataset`).&quot;,
        )
        subparser.add_argument(
            &quot;--revision&quot;,
            type=str,
            help=(&quot;An optional Git revision to push to. It can be a branch name or a PR reference.&quot;),
        )
        subparser.add_argument(
            &quot;--private&quot;,
            action=&quot;store_true&quot;,
            help=(
                &quot;Whether to create a private repo if repo doesn't exist on the Hub. Ignored if the repo already exists.&quot;
            ),
        )
        subparser.add_argument(&quot;--include&quot;, nargs=&quot;*&quot;, type=str, help=&quot;Glob patterns to match files to upload.&quot;)
        subparser.add_argument(&quot;--exclude&quot;, nargs=&quot;*&quot;, type=str, help=&quot;Glob patterns to exclude from files to upload.&quot;)
        subparser.add_argument(
            &quot;--token&quot;, type=str, help=&quot;A User Access Token generated from https://huggingface.co/settings/tokens&quot;
        )
        subparser.add_argument(
            &quot;--num-workers&quot;, type=int, help=&quot;Number of workers to use to hash, upload and commit files.&quot;
        )
        subparser.add_argument(&quot;--no-report&quot;, action=&quot;store_true&quot;, help=&quot;Whether to disable regular status report.&quot;)
        subparser.add_argument(&quot;--no-bars&quot;, action=&quot;store_true&quot;, help=&quot;Whether to disable progress bars.&quot;)
        subparser.set_defaults(func=UploadLargeFolderCommand)

    def __init__(self, args: Namespace) -&gt; None:
        self.repo_id: str = args.repo_id
        self.local_path: str = args.local_path
        self.repo_type: str = args.repo_type
        self.revision: Optional[str] = args.revision
        self.private: bool = args.private

        self.include: Optional[List[str]] = args.include
        self.exclude: Optional[List[str]] = args.exclude

        self.api: HfApi = HfApi(token=args.token, library_name=&quot;huggingface-cli&quot;)

        self.num_workers: Optional[int] = args.num_workers
        self.no_report: bool = args.no_report
        self.no_bars: bool = args.no_bars

        if not os.path.isdir(self.local_path):
            raise ValueError(&quot;Large upload is only supported for folders.&quot;)

    def run(self) -&gt; None:
        logging</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/upload_large_folder.py (Line 115:17 - Line 132:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/upload_large_folder.py (Line 114:17 - Line 131:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn544" onclick="toggleCodeBlock('cloneGroup544', 'expandBtn544', 'collapseBtn544')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn544" onclick="toggleCodeBlock('cloneGroup544', 'expandBtn544', 'collapseBtn544')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup544"><code class="language-python text-sm text-gray-800">&quot;https://huggingface.co/docs/huggingface_hub/guides/upload#upload-a-large-folder.&quot;
            )
        )

        if self.no_bars:
            disable_progress_bars()

        self.api.upload_large_folder(
            repo_id=self.repo_id,
            folder_path=self.local_path,
            repo_type=self.repo_type,
            revision=self.revision,
            private=self.private,
            allow_patterns=self.include,
            ignore_patterns=self.exclude,
            num_workers=self.num_workers,
            print_report=not self.no_report,
        )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/upload.py (Line 49:1 - Line 65:7), .venv/lib/python3.14/site-packages/huggingface_hub/commands/upload.py (Line 49:1 - Line 64:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn545" onclick="toggleCodeBlock('cloneGroup545', 'expandBtn545', 'collapseBtn545')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn545" onclick="toggleCodeBlock('cloneGroup545', 'expandBtn545', 'collapseBtn545')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup545"><code class="language-python text-sm text-gray-800">import os
import time
import warnings
from argparse import Namespace, _SubParsersAction
from typing import List, Optional

from huggingface_hub import logging
from huggingface_hub._commit_scheduler import CommitScheduler
from huggingface_hub.commands import BaseHuggingfaceCLICommand
from huggingface_hub.constants import HF_HUB_ENABLE_HF_TRANSFER
from huggingface_hub.errors import RevisionNotFoundError
from huggingface_hub.hf_api import HfApi
from huggingface_hub.utils import disable_progress_bars, enable_progress_bars
from huggingface_hub.utils._runtime import is_xet_available


logger</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/upload.py (Line 73:9 - Line 201:3), .venv/lib/python3.14/site-packages/huggingface_hub/commands/upload.py (Line 73:49 - Line 201:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn546" onclick="toggleCodeBlock('cloneGroup546', 'expandBtn546', 'collapseBtn546')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn546" onclick="toggleCodeBlock('cloneGroup546', 'expandBtn546', 'collapseBtn546')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup546"><code class="language-python text-sm text-gray-800">)
        upload_parser.add_argument(
            &quot;repo_id&quot;, type=str, help=&quot;The ID of the repo to upload to (e.g. `username/repo-name`).&quot;
        )
        upload_parser.add_argument(
            &quot;local_path&quot;,
            nargs=&quot;?&quot;,
            help=&quot;Local path to the file or folder to upload. Wildcard patterns are supported. Defaults to current directory.&quot;,
        )
        upload_parser.add_argument(
            &quot;path_in_repo&quot;,
            nargs=&quot;?&quot;,
            help=&quot;Path of the file or folder in the repo. Defaults to the relative path of the file or folder.&quot;,
        )
        upload_parser.add_argument(
            &quot;--repo-type&quot;,
            choices=[&quot;model&quot;, &quot;dataset&quot;, &quot;space&quot;],
            default=&quot;model&quot;,
            help=&quot;Type of the repo to upload to (e.g. `dataset`).&quot;,
        )
        upload_parser.add_argument(
            &quot;--revision&quot;,
            type=str,
            help=(
                &quot;An optional Git revision to push to. It can be a branch name or a PR reference. If revision does not&quot;
                &quot; exist and `--create-pr` is not set, a branch will be automatically created.&quot;
            ),
        )
        upload_parser.add_argument(
            &quot;--private&quot;,
            action=&quot;store_true&quot;,
            help=(
                &quot;Whether to create a private repo if repo doesn't exist on the Hub. Ignored if the repo already&quot;
                &quot; exists.&quot;
            ),
        )
        upload_parser.add_argument(&quot;--include&quot;, nargs=&quot;*&quot;, type=str, help=&quot;Glob patterns to match files to upload.&quot;)
        upload_parser.add_argument(
            &quot;--exclude&quot;, nargs=&quot;*&quot;, type=str, help=&quot;Glob patterns to exclude from files to upload.&quot;
        )
        upload_parser.add_argument(
            &quot;--delete&quot;,
            nargs=&quot;*&quot;,
            type=str,
            help=&quot;Glob patterns for file to be deleted from the repo while committing.&quot;,
        )
        upload_parser.add_argument(
            &quot;--commit-message&quot;, type=str, help=&quot;The summary / title / first line of the generated commit.&quot;
        )
        upload_parser.add_argument(&quot;--commit-description&quot;, type=str, help=&quot;The description of the generated commit.&quot;)
        upload_parser.add_argument(
            &quot;--create-pr&quot;, action=&quot;store_true&quot;, help=&quot;Whether to upload content as a new Pull Request.&quot;
        )
        upload_parser.add_argument(
            &quot;--every&quot;,
            type=float,
            help=&quot;If set, a background job is scheduled to create commits every `every` minutes.&quot;,
        )
        upload_parser.add_argument(
            &quot;--token&quot;, type=str, help=&quot;A User Access Token generated from https://huggingface.co/settings/tokens&quot;
        )
        upload_parser.add_argument(
            &quot;--quiet&quot;,
            action=&quot;store_true&quot;,
            help=&quot;If True, progress bars are disabled and only the path to the uploaded files is printed.&quot;,
        )
        upload_parser.set_defaults(func=UploadCommand)

    def __init__(self, args: Namespace) -&gt; None:
        self.repo_id: str = args.repo_id
        self.repo_type: Optional[str] = args.repo_type
        self.revision: Optional[str] = args.revision
        self.private: bool = args.private

        self.include: Optional[List[str]] = args.include
        self.exclude: Optional[List[str]] = args.exclude
        self.delete: Optional[List[str]] = args.delete

        self.commit_message: Optional[str] = args.commit_message
        self.commit_description: Optional[str] = args.commit_description
        self.create_pr: bool = args.create_pr
        self.api: HfApi = HfApi(token=args.token, library_name=&quot;huggingface-cli&quot;)
        self.quiet: bool = args.quiet  # disable warnings and progress bars

        # Check `--every` is valid
        if args.every is not None and args.every &lt;= 0:
            raise ValueError(f&quot;`every` must be a positive value (got '{args.every}')&quot;)
        self.every: Optional[float] = args.every

        # Resolve `local_path` and `path_in_repo`
        repo_name: str = args.repo_id.split(&quot;/&quot;)[-1]  # e.g. &quot;Wauplin/my-cool-model&quot; =&gt; &quot;my-cool-model&quot;
        self.local_path: str
        self.path_in_repo: str

        if args.local_path is not None and any(c in args.local_path for c in [&quot;*&quot;, &quot;?&quot;, &quot;[&quot;]):
            if args.include is not None:
                raise ValueError(&quot;Cannot set `--include` when passing a `local_path` containing a wildcard.&quot;)
            if args.path_in_repo is not None and args.path_in_repo != &quot;.&quot;:
                raise ValueError(&quot;Cannot set `path_in_repo` when passing a `local_path` containing a wildcard.&quot;)
            self.local_path = &quot;.&quot;
            self.include = args.local_path
            self.path_in_repo = &quot;.&quot;
        elif args.local_path is None and os.path.isfile(repo_name):
            # Implicit case 1: user provided only a repo_id which happen to be a local file as well =&gt; upload it with same name
            self.local_path = repo_name
            self.path_in_repo = repo_name
        elif args.local_path is None and os.path.isdir(repo_name):
            # Implicit case 2: user provided only a repo_id which happen to be a local folder as well =&gt; upload it at root
            self.local_path = repo_name
            self.path_in_repo = &quot;.&quot;
        elif args.local_path is None:
            # Implicit case 3: user provided only a repo_id that does not match a local file or folder
            # =&gt; the user must explicitly provide a local_path =&gt; raise exception
            raise ValueError(f&quot;'{repo_name}' is not a local file or folder. Please set `local_path` explicitly.&quot;)
        elif args.path_in_repo is None and os.path.isfile(args.local_path):
            # Explicit local path to file, no path in repo =&gt; upload it at root with same name
            self.local_path = args.local_path
            self.path_in_repo = os.path.basename(args.local_path)
        elif args.path_in_repo is None:
            # Explicit local path to folder, no path in repo =&gt; upload at root
            self.local_path = args.local_path
            self.path_in_repo = &quot;.&quot;
        else:
            # Finally, if both paths are explicit
            self.local_path = args.local_path
            self.path_in_repo = args.path_in_repo

    def run(self) -&gt; None:
        if</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/upload.py (Line 201:9 - Line 277:99), .venv/lib/python3.14/site-packages/huggingface_hub/commands/upload.py (Line 203:9 - Line 279:112)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn547" onclick="toggleCodeBlock('cloneGroup547', 'expandBtn547', 'collapseBtn547')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn547" onclick="toggleCodeBlock('cloneGroup547', 'expandBtn547', 'collapseBtn547')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup547"><code class="language-python text-sm text-gray-800">if self.quiet:
            disable_progress_bars()
            with warnings.catch_warnings():
                warnings.simplefilter(&quot;ignore&quot;)
                print(self._upload())
            enable_progress_bars()
        else:
            logging.set_verbosity_info()
            print(self._upload())
            logging.set_verbosity_warning()

    def _upload(self) -&gt; str:
        if os.path.isfile(self.local_path):
            if self.include is not None and len(self.include) &gt; 0:
                warnings.warn(&quot;Ignoring `--include` since a single file is uploaded.&quot;)
            if self.exclude is not None and len(self.exclude) &gt; 0:
                warnings.warn(&quot;Ignoring `--exclude` since a single file is uploaded.&quot;)
            if self.delete is not None and len(self.delete) &gt; 0:
                warnings.warn(&quot;Ignoring `--delete` since a single file is uploaded.&quot;)

        if not is_xet_available() and not HF_HUB_ENABLE_HF_TRANSFER:
            logger.info(
                &quot;Consider using `hf_transfer` for faster uploads. This solution comes with some limitations. See&quot;
                &quot; https://huggingface.co/docs/huggingface_hub/hf_transfer for more details.&quot;
            )

        # Schedule commits if `every` is set
        if self.every is not None:
            if os.path.isfile(self.local_path):
                # If file =&gt; watch entire folder + use allow_patterns
                folder_path = os.path.dirname(self.local_path)
                path_in_repo = (
                    self.path_in_repo[: -len(self.local_path)]  # remove filename from path_in_repo
                    if self.path_in_repo.endswith(self.local_path)
                    else self.path_in_repo
                )
                allow_patterns = [self.local_path]
                ignore_patterns = []
            else:
                folder_path = self.local_path
                path_in_repo = self.path_in_repo
                allow_patterns = self.include or []
                ignore_patterns = self.exclude or []
                if self.delete is not None and len(self.delete) &gt; 0:
                    warnings.warn(&quot;Ignoring `--delete` when uploading with scheduled commits.&quot;)

            scheduler = CommitScheduler(
                folder_path=folder_path,
                repo_id=self.repo_id,
                repo_type=self.repo_type,
                revision=self.revision,
                allow_patterns=allow_patterns,
                ignore_patterns=ignore_patterns,
                path_in_repo=path_in_repo,
                private=self.private,
                every=self.every,
                hf_api=self.api,
            )
            print(f&quot;Scheduling commits every {self.every} minutes to {scheduler.repo_id}.&quot;)
            try:  # Block main thread until KeyboardInterrupt
                while True:
                    time.sleep(100)
            except KeyboardInterrupt:
                scheduler.stop()
                return &quot;Stopped scheduled commits.&quot;

        # Otherwise, create repo and proceed with the upload
        if not os.path.isfile(self.local_path) and not os.path.isdir(self.local_path):
            raise FileNotFoundError(f&quot;No such file or directory: '{self.local_path}'.&quot;)
        repo_id = self.api.create_repo(
            repo_id=self.repo_id,
            repo_type=self.repo_type,
            exist_ok=True,
            private=self.private,
            space_sdk=&quot;gradio&quot; if self.repo_type == &quot;space&quot; else None,
            # ^ We don't want it to fail when uploading to a Space =&gt; let's set Gradio by default.
            # ^ I'd rather not add CLI args to set it explicitly as we already have `hf repo create` for that.</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/upload.py (Line 278:9 - Line 316:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/upload.py (Line 280:9 - Line 318:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn548" onclick="toggleCodeBlock('cloneGroup548', 'expandBtn548', 'collapseBtn548')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn548" onclick="toggleCodeBlock('cloneGroup548', 'expandBtn548', 'collapseBtn548')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup548"><code class="language-python text-sm text-gray-800">).repo_id

        # Check if branch already exists and if not, create it
        if self.revision is not None and not self.create_pr:
            try:
                self.api.repo_info(repo_id=repo_id, repo_type=self.repo_type, revision=self.revision)
            except RevisionNotFoundError:
                logger.info(f&quot;Branch '{self.revision}' not found. Creating it...&quot;)
                self.api.create_branch(repo_id=repo_id, repo_type=self.repo_type, branch=self.revision, exist_ok=True)
                # ^ `exist_ok=True` to avoid race concurrency issues

        # File-based upload
        if os.path.isfile(self.local_path):
            return self.api.upload_file(
                path_or_fileobj=self.local_path,
                path_in_repo=self.path_in_repo,
                repo_id=repo_id,
                repo_type=self.repo_type,
                revision=self.revision,
                commit_message=self.commit_message,
                commit_description=self.commit_description,
                create_pr=self.create_pr,
            )

        # Folder-based upload
        else:
            return self.api.upload_folder(
                folder_path=self.local_path,
                path_in_repo=self.path_in_repo,
                repo_id=repo_id,
                repo_type=self.repo_type,
                revision=self.revision,
                commit_message=self.commit_message,
                commit_description=self.commit_description,
                create_pr=self.create_pr,
                allow_patterns=self.include,
                ignore_patterns=self.exclude,
                delete_patterns=self.delete,
            )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo_files.py (Line 45:1 - Line 62:8), .venv/lib/python3.14/site-packages/huggingface_hub/commands/repo_files.py (Line 47:1 - Line 64:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn549" onclick="toggleCodeBlock('cloneGroup549', 'expandBtn549', 'collapseBtn549')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn549" onclick="toggleCodeBlock('cloneGroup549', 'expandBtn549', 'collapseBtn549')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup549"><code class="language-python text-sm text-gray-800">logger = logging.get_logger(__name__)


class DeleteFilesSubCommand:
    def __init__(self, args) -&gt; None:
        self.args = args
        self.repo_id: str = args.repo_id
        self.repo_type: Optional[str] = args.repo_type
        self.revision: Optional[str] = args.revision
        self.api: HfApi = HfApi(token=args.token, library_name=&quot;huggingface-cli&quot;)
        self.patterns: List[str] = args.patterns
        self.commit_message: Optional[str] = args.commit_message
        self.commit_description: Optional[str] = args.commit_description
        self.create_pr: bool = args.create_pr
        self.token: Optional[str] = args.token

    def run(self) -&gt; None:
        logging</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo_files.py (Line 62:9 - Line 79:37), .venv/lib/python3.14/site-packages/huggingface_hub/commands/repo_files.py (Line 66:9 - Line 83:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn550" onclick="toggleCodeBlock('cloneGroup550', 'expandBtn550', 'collapseBtn550')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn550" onclick="toggleCodeBlock('cloneGroup550', 'expandBtn550', 'collapseBtn550')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup550"><code class="language-python text-sm text-gray-800">logging.set_verbosity_info()
        url = self.api.delete_files(
            delete_patterns=self.patterns,
            repo_id=self.repo_id,
            repo_type=self.repo_type,
            revision=self.revision,
            commit_message=self.commit_message,
            commit_description=self.commit_description,
            create_pr=self.create_pr,
        )
        print(f&quot;Files correctly deleted from repo. Commit: {url}.&quot;)
        logging.set_verbosity_warning()


class RepoFilesCommand(BaseHuggingfaceCLICommand):
    @staticmethod
    def register_subcommand(parser: _SubParsersAction):
        repo_files_parser = parser.add_parser(&quot;repo-files&quot;, help=&quot;Manage files in a repo on the Hub.&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo_files.py (Line 91:9 - Line 122:17), .venv/lib/python3.14/site-packages/huggingface_hub/commands/repo_files.py (Line 95:2 - Line 126:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn551" onclick="toggleCodeBlock('cloneGroup551', 'expandBtn551', 'collapseBtn551')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn551" onclick="toggleCodeBlock('cloneGroup551', 'expandBtn551', 'collapseBtn551')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup551"><code class="language-python text-sm text-gray-800">)
        delete_subparser.add_argument(
            &quot;patterns&quot;,
            nargs=&quot;+&quot;,
            type=str,
            help=&quot;Glob patterns to match files to delete.&quot;,
        )
        delete_subparser.add_argument(
            &quot;--repo-type&quot;,
            choices=[&quot;model&quot;, &quot;dataset&quot;, &quot;space&quot;],
            default=&quot;model&quot;,
            help=&quot;Type of the repo to upload to (e.g. `dataset`).&quot;,
        )
        delete_subparser.add_argument(
            &quot;--revision&quot;,
            type=str,
            help=(
                &quot;An optional Git revision to push to. It can be a branch name &quot;
                &quot;or a PR reference. If revision does not&quot;
                &quot; exist and `--create-pr` is not set, a branch will be automatically created.&quot;
            ),
        )
        delete_subparser.add_argument(
            &quot;--commit-message&quot;, type=str, help=&quot;The summary / title / first line of the generated commit.&quot;
        )
        delete_subparser.add_argument(
            &quot;--commit-description&quot;, type=str, help=&quot;The description of the generated commit.&quot;
        )
        delete_subparser.add_argument(
            &quot;--create-pr&quot;, action=&quot;store_true&quot;, help=&quot;Whether to create a new Pull Request for these changes.&quot;
        )
        delete_subparser</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo.py (Line 51:9 - Line 88:13), .venv/lib/python3.14/site-packages/huggingface_hub/commands/repo.py (Line 45:9 - Line 82:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn552" onclick="toggleCodeBlock('cloneGroup552', 'expandBtn552', 'collapseBtn552')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn552" onclick="toggleCodeBlock('cloneGroup552', 'expandBtn552', 'collapseBtn552')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup552"><code class="language-python text-sm text-gray-800">repo_create_parser = repo_subparsers.add_parser(&quot;create&quot;, help=&quot;Create a new repo on huggingface.co&quot;)
        repo_create_parser.add_argument(
            &quot;repo_id&quot;,
            type=str,
            help=&quot;The ID of the repo to create to (e.g. `username/repo-name`). The username is optional and will be set to your username if not provided.&quot;,
        )
        repo_create_parser.add_argument(
            &quot;--repo-type&quot;,
            type=str,
            help='Optional: set to &quot;dataset&quot; or &quot;space&quot; if creating a dataset or space, default is model.',
        )
        repo_create_parser.add_argument(
            &quot;--space_sdk&quot;,
            type=str,
            help='Optional: Hugging Face Spaces SDK type. Required when --type is set to &quot;space&quot;.',
            choices=SPACES_SDK_TYPES,
        )
        repo_create_parser.add_argument(
            &quot;--private&quot;,
            action=&quot;store_true&quot;,
            help=&quot;Whether to create a private repository. Defaults to public unless the organization's default is private.&quot;,
        )
        repo_create_parser.add_argument(
            &quot;--token&quot;,
            type=str,
            help=&quot;Hugging Face token. Will default to the locally saved token if not provided.&quot;,
        )
        repo_create_parser.add_argument(
            &quot;--exist-ok&quot;,
            action=&quot;store_true&quot;,
            help=&quot;Do not raise an error if repo already exists.&quot;,
        )
        repo_create_parser.add_argument(
            &quot;--resource-group-id&quot;,
            type=str,
            help=&quot;Resource group in which to create the repo. Resource groups is only available for Enterprise Hub organizations.&quot;,
        )
        repo_create_parser.set_defaults</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo.py (Line 160:9 - Line 170:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/repo.py (Line 141:9 - Line 151:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn553" onclick="toggleCodeBlock('cloneGroup553', 'expandBtn553', 'collapseBtn553')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn553" onclick="toggleCodeBlock('cloneGroup553', 'expandBtn553', 'collapseBtn553')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup553"><code class="language-python text-sm text-gray-800">repo_url = self._api.create_repo(
            repo_id=self.repo_id,
            repo_type=self.repo_type,
            private=self.private,
            token=self.token,
            exist_ok=self.exist_ok,
            resource_group_id=self.resource_group_id,
            space_sdk=self.space_sdk,
        )
        print(f&quot;Successfully created {ANSI.bold(repo_url.repo_id)} on the Hub.&quot;)
        print(f&quot;Your repo is now available at {ANSI.bold(repo_url)}&quot;)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo.py (Line 211:15 - Line 233:21), .venv/lib/python3.14/site-packages/huggingface_hub/commands/tag.py (Line 122:11 - Line 144:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn554" onclick="toggleCodeBlock('cloneGroup554', 'expandBtn554', 'collapseBtn554')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn554" onclick="toggleCodeBlock('cloneGroup554', 'expandBtn554', 'collapseBtn554')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup554"><code class="language-python text-sm text-gray-800">):
    def run(self):
        try:
            refs = self.api.list_repo_refs(
                repo_id=self.repo_id,
                repo_type=self.repo_type,
            )
        except RepositoryNotFoundError:
            print(f&quot;{self.repo_type.capitalize()} {ANSI.bold(self.repo_id)} not found.&quot;)
            exit(1)
        except HTTPError as e:
            print(e)
            print(ANSI.red(e.response.text))
            exit(1)
        if len(refs.tags) == 0:
            print(&quot;No tags found&quot;)
            exit(0)
        print(f&quot;Tags for {self.repo_type} {ANSI.bold(self.repo_id)}:&quot;)
        for tag in refs.tags:
            print(tag.name)


class RepoTagDeleteCommand</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/repo.py (Line 236:2 - Line 249:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/tag.py (Line 148:4 - Line 161:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn555" onclick="toggleCodeBlock('cloneGroup555', 'expandBtn555', 'collapseBtn555')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn555" onclick="toggleCodeBlock('cloneGroup555', 'expandBtn555', 'collapseBtn555')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup555"><code class="language-python text-sm text-gray-800">:
            choice = input(&quot;Proceed? [Y/n] &quot;).lower()
            if choice not in (&quot;&quot;, &quot;y&quot;, &quot;yes&quot;):
                print(&quot;Abort&quot;)
                exit()
        try:
            self.api.delete_tag(repo_id=self.repo_id, tag=self.args.tag, repo_type=self.repo_type)
        except RepositoryNotFoundError:
            print(f&quot;{self.repo_type.capitalize()} {ANSI.bold(self.repo_id)} not found.&quot;)
            exit(1)
        except RevisionNotFoundError:
            print(f&quot;Tag {ANSI.bold(self.args.tag)} not found on {ANSI.bold(self.repo_id)}&quot;)
            exit(1)
        print(f&quot;Tag {ANSI.bold(self.args.tag)} deleted on {ANSI.bold(self.repo_id)}&quot;)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/lfs.py (Line 1:1 - Line 55:8), .venv/lib/python3.14/site-packages/huggingface_hub/commands/lfs.py (Line 1:1 - Line 55:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn556" onclick="toggleCodeBlock('cloneGroup556', 'expandBtn556', 'collapseBtn556')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn556" onclick="toggleCodeBlock('cloneGroup556', 'expandBtn556', 'collapseBtn556')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup556"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
Implementation of a custom transfer agent for the transfer type &quot;multipart&quot; for
git-lfs.

Inspired by:
github.com/cbartz/git-lfs-swift-transfer-agent/blob/master/git_lfs_swift_transfer.py

Spec is: github.com/git-lfs/git-lfs/blob/master/docs/custom-transfers.md


To launch debugger while developing:

``` [lfs &quot;customtransfer.multipart&quot;]
path = /path/to/huggingface_hub/.env/bin/python args = -m debugpy --listen 5678
--wait-for-client
/path/to/huggingface_hub/src/huggingface_hub/commands/huggingface_cli.py
lfs-multipart-upload ```&quot;&quot;&quot;

import json
import os
import subprocess
import sys
from argparse import _SubParsersAction
from typing import Dict, List, Optional

from huggingface_hub.commands import BaseHuggingfaceCLICommand
from huggingface_hub.lfs import LFS_MULTIPART_UPLOAD_COMMAND

from ..utils import get_session, hf_raise_for_status, logging
from ..utils._lfs import SliceFileObj


logger = logging.get_logger(__name__)


class LfsCommands(BaseHuggingfaceCLICommand):
    &quot;&quot;&quot;
    Implementation of a custom transfer agent for the transfer type &quot;multipart&quot;
    for git-lfs. This lets users upload large files &gt;5GB ðŸ”¥. Spec for LFS custom
    transfer agent is:
    https://github.com/git-lfs/git-lfs/blob/master/docs/custom-transfers.md

    This introduces two commands to the CLI:

    1. $ hf lfs-enable-largefiles

    This should be executed once for each model repo that contains a model file
    &gt;5GB. It's documented in the error message you get if you just try to git
    push a 5GB file without having enabled it before.

    2. $ hf lfs-multipart-upload

    This command is called by lfs directly and is not meant to be called by the
    user.
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/lfs.py (Line 59:6 - Line 78:50), .venv/lib/python3.14/site-packages/huggingface_hub/commands/lfs.py (Line 61:9 - Line 80:63)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn557" onclick="toggleCodeBlock('cloneGroup557', 'expandBtn557', 'collapseBtn557')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn557" onclick="toggleCodeBlock('cloneGroup557', 'expandBtn557', 'collapseBtn557')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup557"><code class="language-python text-sm text-gray-800">)
        enable_parser.add_argument(&quot;path&quot;, type=str, help=&quot;Local path to repository you want to configure.&quot;)
        enable_parser.set_defaults(func=lambda args: LfsEnableCommand(args))

        # Command will get called by git-lfs, do not call it directly.
        upload_parser = parser.add_parser(LFS_MULTIPART_UPLOAD_COMMAND, add_help=False)
        upload_parser.set_defaults(func=lambda args: LfsUploadCommand(args))


class LfsEnableCommand:
    def __init__(self, args):
        self.args = args

    def run(self):
        local_path = os.path.abspath(self.args.path)
        if not os.path.isdir(local_path):
            print(&quot;This does not look like a valid git repo.&quot;)
            exit(1)
        subprocess.run(
            &quot;git config lfs.customtransfer.multipart.path hf&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/lfs.py (Line 78:50 - Line 198:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/lfs.py (Line 80:63 - Line 200:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn558" onclick="toggleCodeBlock('cloneGroup558', 'expandBtn558', 'collapseBtn558')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn558" onclick="toggleCodeBlock('cloneGroup558', 'expandBtn558', 'collapseBtn558')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup558"><code class="language-python text-sm text-gray-800">.split(),
            check=True,
            cwd=local_path,
        )
        subprocess.run(
            f&quot;git config lfs.customtransfer.multipart.args {LFS_MULTIPART_UPLOAD_COMMAND}&quot;.split(),
            check=True,
            cwd=local_path,
        )
        print(&quot;Local repo set up for largefiles&quot;)


def write_msg(msg: Dict):
    &quot;&quot;&quot;Write out the message in Line delimited JSON.&quot;&quot;&quot;
    msg_str = json.dumps(msg) + &quot;\n&quot;
    sys.stdout.write(msg_str)
    sys.stdout.flush()


def read_msg() -&gt; Optional[Dict]:
    &quot;&quot;&quot;Read Line delimited JSON from stdin.&quot;&quot;&quot;
    msg = json.loads(sys.stdin.readline().strip())

    if &quot;terminate&quot; in (msg.get(&quot;type&quot;), msg.get(&quot;event&quot;)):
        # terminate message received
        return None

    if msg.get(&quot;event&quot;) not in (&quot;download&quot;, &quot;upload&quot;):
        logger.critical(&quot;Received unexpected message&quot;)
        sys.exit(1)

    return msg


class LfsUploadCommand:
    def __init__(self, args) -&gt; None:
        self.args = args

    def run(self) -&gt; None:
        # Immediately after invoking a custom transfer process, git-lfs
        # sends initiation data to the process over stdin.
        # This tells the process useful information about the configuration.
        init_msg = json.loads(sys.stdin.readline().strip())
        if not (init_msg.get(&quot;event&quot;) == &quot;init&quot; and init_msg.get(&quot;operation&quot;) == &quot;upload&quot;):
            write_msg({&quot;error&quot;: {&quot;code&quot;: 32, &quot;message&quot;: &quot;Wrong lfs init operation&quot;}})
            sys.exit(1)

        # The transfer process should use the information it needs from the
        # initiation structure, and also perform any one-off setup tasks it
        # needs to do. It should then respond on stdout with a simple empty
        # confirmation structure, as follows:
        write_msg({})

        # After the initiation exchange, git-lfs will send any number of
        # transfer requests to the stdin of the transfer process, in a serial sequence.
        while True:
            msg = read_msg()
            if msg is None:
                # When all transfers have been processed, git-lfs will send
                # a terminate event to the stdin of the transfer process.
                # On receiving this message the transfer process should
                # clean up and terminate. No response is expected.
                sys.exit(0)

            oid = msg[&quot;oid&quot;]
            filepath = msg[&quot;path&quot;]
            completion_url = msg[&quot;action&quot;][&quot;href&quot;]
            header = msg[&quot;action&quot;][&quot;header&quot;]
            chunk_size = int(header.pop(&quot;chunk_size&quot;))
            presigned_urls: List[str] = list(header.values())

            # Send a &quot;started&quot; progress event to allow other workers to start.
            # Otherwise they're delayed until first &quot;progress&quot; event is reported,
            # i.e. after the first 5GB by default (!)
            write_msg(
                {
                    &quot;event&quot;: &quot;progress&quot;,
                    &quot;oid&quot;: oid,
                    &quot;bytesSoFar&quot;: 1,
                    &quot;bytesSinceLast&quot;: 0,
                }
            )

            parts = []
            with open(filepath, &quot;rb&quot;) as file:
                for i, presigned_url in enumerate(presigned_urls):
                    with SliceFileObj(
                        file,
                        seek_from=i * chunk_size,
                        read_limit=chunk_size,
                    ) as data:
                        r = get_session().put(presigned_url, data=data)
                        hf_raise_for_status(r)
                        parts.append(
                            {
                                &quot;etag&quot;: r.headers.get(&quot;etag&quot;),
                                &quot;partNumber&quot;: i + 1,
                            }
                        )
                        # In order to support progress reporting while data is uploading / downloading,
                        # the transfer process should post messages to stdout
                        write_msg(
                            {
                                &quot;event&quot;: &quot;progress&quot;,
                                &quot;oid&quot;: oid,
                                &quot;bytesSoFar&quot;: (i + 1) * chunk_size,
                                &quot;bytesSinceLast&quot;: chunk_size,
                            }
                        )
                        # Not precise but that's ok.

            r = get_session().post(
                completion_url,
                json={
                    &quot;oid&quot;: oid,
                    &quot;parts&quot;: parts,
                },
            )
            hf_raise_for_status(r)

            write_msg({&quot;event&quot;: &quot;complete&quot;, &quot;oid&quot;: oid})</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/download.py (Line 50:1 - Line 93:19), .venv/lib/python3.14/site-packages/huggingface_hub/commands/download.py (Line 52:1 - Line 95:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn559" onclick="toggleCodeBlock('cloneGroup559', 'expandBtn559', 'collapseBtn559')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn559" onclick="toggleCodeBlock('cloneGroup559', 'expandBtn559', 'collapseBtn559')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup559"><code class="language-python text-sm text-gray-800">logger = logging.get_logger(__name__)


class DownloadCommand(BaseHuggingfaceCLICommand):
    @staticmethod
    def register_subcommand(parser: _SubParsersAction):
        download_parser = parser.add_parser(&quot;download&quot;, help=&quot;Download files from the Hub&quot;)
        download_parser.add_argument(
            &quot;repo_id&quot;, type=str, help=&quot;ID of the repo to download from (e.g. `username/repo-name`).&quot;
        )
        download_parser.add_argument(
            &quot;filenames&quot;, type=str, nargs=&quot;*&quot;, help=&quot;Files to download (e.g. `config.json`, `data/metadata.jsonl`).&quot;
        )
        download_parser.add_argument(
            &quot;--repo-type&quot;,
            choices=[&quot;model&quot;, &quot;dataset&quot;, &quot;space&quot;],
            default=&quot;model&quot;,
            help=&quot;Type of repo to download from (defaults to 'model').&quot;,
        )
        download_parser.add_argument(
            &quot;--revision&quot;,
            type=str,
            help=&quot;An optional Git revision id which can be a branch name, a tag, or a commit hash.&quot;,
        )
        download_parser.add_argument(
            &quot;--include&quot;, nargs=&quot;*&quot;, type=str, help=&quot;Glob patterns to match files to download.&quot;
        )
        download_parser.add_argument(
            &quot;--exclude&quot;, nargs=&quot;*&quot;, type=str, help=&quot;Glob patterns to exclude from files to download.&quot;
        )
        download_parser.add_argument(
            &quot;--cache-dir&quot;, type=str, help=&quot;Path to the directory where to save the downloaded files.&quot;
        )
        download_parser.add_argument(
            &quot;--local-dir&quot;,
            type=str,
            help=(
                &quot;If set, the downloaded file will be placed under this directory. Check out&quot;
                &quot; https://huggingface.co/docs/huggingface_hub/guides/download#download-files-to-local-folder for more&quot;
                &quot; details.&quot;
            ),
        )
        download_parser.add_argument(
            &quot;--force-download&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/download.py (Line 95:73 - Line 124:6), .venv/lib/python3.14/site-packages/huggingface_hub/commands/download.py (Line 107:150 - Line 136:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn560" onclick="toggleCodeBlock('cloneGroup560', 'expandBtn560', 'collapseBtn560')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn560" onclick="toggleCodeBlock('cloneGroup560', 'expandBtn560', 'collapseBtn560')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup560"><code class="language-python text-sm text-gray-800">,
        )
        download_parser.add_argument(
            &quot;--token&quot;, type=str, help=&quot;A User Access Token generated from https://huggingface.co/settings/tokens&quot;
        )
        download_parser.add_argument(
            &quot;--quiet&quot;,
            action=&quot;store_true&quot;,
            help=&quot;If True, progress bars are disabled and only the path to the download files is printed.&quot;,
        )
        download_parser.add_argument(
            &quot;--max-workers&quot;,
            type=int,
            default=8,
            help=&quot;Maximum number of workers to use for downloading files. Default is 8.&quot;,
        )
        download_parser.set_defaults(func=DownloadCommand)

    def __init__(self, args: Namespace) -&gt; None:
        self.token = args.token
        self.repo_id: str = args.repo_id
        self.filenames: List[str] = args.filenames
        self.repo_type: str = args.repo_type
        self.revision: Optional[str] = args.revision
        self.include: Optional[List[str]] = args.include
        self.exclude: Optional[List[str]] = args.exclude
        self.cache_dir: Optional[str] = args.cache_dir
        self.local_dir: Optional[str] = args.local_dir
        self.force_download: bool = args.force_download
        self.quiet</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/download.py (Line 128:9 - Line 155:15), .venv/lib/python3.14/site-packages/huggingface_hub/commands/download.py (Line 149:9 - Line 176:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn561" onclick="toggleCodeBlock('cloneGroup561', 'expandBtn561', 'collapseBtn561')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn561" onclick="toggleCodeBlock('cloneGroup561', 'expandBtn561', 'collapseBtn561')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup561"><code class="language-python text-sm text-gray-800">if self.quiet:
            disable_progress_bars()
            with warnings.catch_warnings():
                warnings.simplefilter(&quot;ignore&quot;)
                print(self._download())  # Print path to downloaded files
            enable_progress_bars()
        else:
            logging.set_verbosity_info()
            print(self._download())  # Print path to downloaded files
            logging.set_verbosity_warning()

    def _download(self) -&gt; str:
        # Warn user if patterns are ignored
        if len(self.filenames) &gt; 0:
            if self.include is not None and len(self.include) &gt; 0:
                warnings.warn(&quot;Ignoring `--include` since filenames have being explicitly set.&quot;)
            if self.exclude is not None and len(self.exclude) &gt; 0:
                warnings.warn(&quot;Ignoring `--exclude` since filenames have being explicitly set.&quot;)

        # Single file to download: use `hf_hub_download`
        if len(self.filenames) == 1:
            return hf_hub_download(
                repo_id=self.repo_id,
                repo_type=self.repo_type,
                revision=self.revision,
                filename=self.filenames[0],
                cache_dir=self.cache_dir,
                force_download</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/download.py (Line 154:10 - Line 175:15), .venv/lib/python3.14/site-packages/huggingface_hub/commands/download.py (Line 176:16 - Line 197:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn562" onclick="toggleCodeBlock('cloneGroup562', 'expandBtn562', 'collapseBtn562')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn562" onclick="toggleCodeBlock('cloneGroup562', 'expandBtn562', 'collapseBtn562')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup562"><code class="language-python text-sm text-gray-800">,
                force_download=self.force_download,
                token=self.token,
                local_dir=self.local_dir,
                library_name=&quot;huggingface-cli&quot;,
            )

        # Otherwise: use `snapshot_download` to ensure all files comes from same revision
        elif len(self.filenames) == 0:
            allow_patterns = self.include
            ignore_patterns = self.exclude
        else:
            allow_patterns = self.filenames
            ignore_patterns = None

        return snapshot_download(
            repo_id=self.repo_id,
            repo_type=self.repo_type,
            revision=self.revision,
            allow_patterns=allow_patterns,
            ignore_patterns=ignore_patterns,
            force_download</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/cache.py (Line 136:2 - Line 150:12), .venv/lib/python3.14/site-packages/huggingface_hub/commands/scan_cache.py (Line 69:14 - Line 84:30)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn563" onclick="toggleCodeBlock('cloneGroup563', 'expandBtn563', 'collapseBtn563')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn563" onclick="toggleCodeBlock('cloneGroup563', 'expandBtn563', 'collapseBtn563')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup563"><code class="language-python text-sm text-gray-800">)
        print(
            f&quot;\nDone in {round(t1 - t0, 1)}s. Scanned {len(hf_cache_info.repos)} repo(s)&quot;
            f&quot; for a total of {ANSI.red(hf_cache_info.size_on_disk_str)}.&quot;
        )
        if len(hf_cache_info.warnings) &gt; 0:
            message = f&quot;Got {len(hf_cache_info.warnings)} warning(s) while scanning.&quot;
            if self.verbosity &gt;= 3:
                print(ANSI.gray(message))
                for warning in hf_cache_info.warnings:
                    print(ANSI.gray(str(warning)))
            else:
                print(ANSI.gray(message + &quot; Use -vvv to print details.&quot;))

    def _run_delete</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/cache.py (Line 176:5 - Line 228:2), .venv/lib/python3.14/site-packages/huggingface_hub/utils/_cache_manager.py (Line 501:9 - Line 183:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn564" onclick="toggleCodeBlock('cloneGroup564', 'expandBtn564', 'collapseBtn564')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn564" onclick="toggleCodeBlock('cloneGroup564', 'expandBtn564', 'collapseBtn564')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup564"><code class="language-python text-sm text-gray-800">if verbosity == 0:
        return tabulate(
            rows=[
                [
                    repo.repo_id,
                    repo.repo_type,
                    &quot;{:&gt;12}&quot;.format(repo.size_on_disk_str),
                    repo.nb_files,
                    repo.last_accessed_str,
                    repo.last_modified_str,
                    &quot;, &quot;.join(sorted(repo.refs)),
                    str(repo.repo_path),
                ]
                for repo in sorted(hf_cache_info.repos, key=lambda repo: repo.repo_path)
            ],
            headers=[
                &quot;REPO ID&quot;,
                &quot;REPO TYPE&quot;,
                &quot;SIZE ON DISK&quot;,
                &quot;NB FILES&quot;,
                &quot;LAST_ACCESSED&quot;,
                &quot;LAST_MODIFIED&quot;,
                &quot;REFS&quot;,
                &quot;LOCAL PATH&quot;,
            ],
        )
    else:
        return tabulate(
            rows=[
                [
                    repo.repo_id,
                    repo.repo_type,
                    revision.commit_hash,
                    &quot;{:&gt;12}&quot;.format(revision.size_on_disk_str),
                    revision.nb_files,
                    revision.last_modified_str,
                    &quot;, &quot;.join(sorted(revision.refs)),
                    str(revision.snapshot_path),
                ]
                for repo in sorted(hf_cache_info.repos, key=lambda repo: repo.repo_path)
                for revision in sorted(repo.revisions, key=lambda revision: revision.commit_hash)
            ],
            headers=[
                &quot;REPO ID&quot;,
                &quot;REPO TYPE&quot;,
                &quot;REVISION&quot;,
                &quot;SIZE ON DISK&quot;,
                &quot;NB FILES&quot;,
                &quot;LAST_MODIFIED&quot;,
                &quot;REFS&quot;,
                &quot;LOCAL PATH&quot;,
            ],
        )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/cache.py (Line 345:5 - Line 362:3), .venv/lib/python3.14/site-packages/huggingface_hub/commands/delete_cache.py (Line 377:5 - Line 401:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn565" onclick="toggleCodeBlock('cloneGroup565', 'expandBtn565', 'collapseBtn565')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn565" onclick="toggleCodeBlock('cloneGroup565', 'expandBtn565', 'collapseBtn565')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup565"><code class="language-python text-sm text-gray-800">YES = (&quot;y&quot;, &quot;yes&quot;, &quot;1&quot;)
    NO = (&quot;n&quot;, &quot;no&quot;, &quot;0&quot;)
    DEFAULT = &quot;&quot;
    ALL = YES + NO + (DEFAULT,)
    full_message = message + (&quot; (Y/n) &quot; if default else &quot; (y/N) &quot;)
    while True:
        answer = input(full_message).lower()
        if answer == DEFAULT:
            return default
        if answer in YES:
            return True
        if answer in NO:
            return False
        print(f&quot;Invalid input. Must be one of {ALL}&quot;)


def _get_expectations_str(hf_cache_info: HFCacheInfo, selected_hashes: List[str]) -&gt; str:
    if</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/auth.py (Line 33:1 - Line 47:7), .venv/lib/python3.14/site-packages/huggingface_hub/commands/user.py (Line 33:1 - Line 44:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn566" onclick="toggleCodeBlock('cloneGroup566', 'expandBtn566', 'collapseBtn566')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn566" onclick="toggleCodeBlock('cloneGroup566', 'expandBtn566', 'collapseBtn566')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup566"><code class="language-python text-sm text-gray-800">from argparse import _SubParsersAction
from typing import List, Optional

from requests.exceptions import HTTPError

from huggingface_hub.commands import BaseHuggingfaceCLICommand
from huggingface_hub.constants import ENDPOINT
from huggingface_hub.hf_api import HfApi

from .._login import auth_list, auth_switch, login, logout
from ..utils import get_stored_tokens, get_token, logging
from ._cli_utils import ANSI


logger</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/auth.py (Line 140:9 - Line 189:9), .venv/lib/python3.14/site-packages/huggingface_hub/commands/user.py (Line 131:9 - Line 180:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn567" onclick="toggleCodeBlock('cloneGroup567', 'expandBtn567', 'collapseBtn567')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn567" onclick="toggleCodeBlock('cloneGroup567', 'expandBtn567', 'collapseBtn567')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup567"><code class="language-python text-sm text-gray-800">logging.set_verbosity_info()
        token_name = self.args.token_name
        if token_name is None:
            token_name = self._select_token_name()

        if token_name is None:
            print(&quot;No token name provided. Aborting.&quot;)
            exit()
        auth_switch(token_name, add_to_git_credential=self.args.add_to_git_credential)

    def _select_token_name(self) -&gt; Optional[str]:
        token_names = list(get_stored_tokens().keys())

        if not token_names:
            logger.error(&quot;No stored tokens found. Please login first.&quot;)
            return None

        if _inquirer_py_available:
            return self._select_token_name_tui(token_names)
        # if inquirer is not available, use a simpler terminal UI
        print(&quot;Available stored tokens:&quot;)
        for i, token_name in enumerate(token_names, 1):
            print(f&quot;{i}. {token_name}&quot;)
        while True:
            try:
                choice = input(&quot;Enter the number of the token to switch to (or 'q' to quit): &quot;)
                if choice.lower() == &quot;q&quot;:
                    return None
                index = int(choice) - 1
                if 0 &lt;= index &lt; len(token_names):
                    return token_names[index]
                else:
                    print(&quot;Invalid selection. Please try again.&quot;)
            except ValueError:
                print(&quot;Invalid input. Please enter a number or 'q' to quit.&quot;)

    def _select_token_name_tui(self, token_names: List[str]) -&gt; Optional[str]:
        choices = [Choice(token_name, name=token_name) for token_name in token_names]
        try:
            return inquirer.select(
                message=&quot;Select a token to switch to:&quot;,
                choices=choices,
                default=None,
            ).execute()
        except KeyboardInterrupt:
            logger.info(&quot;Token selection cancelled.&quot;)
            return None


class AuthList</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/auth.py (Line 203:2 - Line 213:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/user.py (Line 198:2 - Line 208:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn568" onclick="toggleCodeBlock('cloneGroup568', 'expandBtn568', 'collapseBtn568')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn568" onclick="toggleCodeBlock('cloneGroup568', 'expandBtn568', 'collapseBtn568')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup568"><code class="language-python text-sm text-gray-800">info[&quot;name&quot;])
            orgs = [org[&quot;name&quot;] for org in info[&quot;orgs&quot;]]
            if orgs:
                print(ANSI.bold(&quot;orgs: &quot;), &quot;,&quot;.join(orgs))

            if ENDPOINT != &quot;https://huggingface.co&quot;:
                print(f&quot;Authenticated through private endpoint: {ENDPOINT}&quot;)
        except HTTPError as e:
            print(e)
            print(ANSI.red(e.response.text))
            exit(1)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/cli/_cli_utils.py (Line 1:1 - Line 69:2), .venv/lib/python3.14/site-packages/huggingface_hub/commands/_cli_utils.py (Line 1:1 - Line 69:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn569" onclick="toggleCodeBlock('cloneGroup569', 'expandBtn569', 'collapseBtn569')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn569" onclick="toggleCodeBlock('cloneGroup569', 'expandBtn569', 'collapseBtn569')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup569"><code class="language-python text-sm text-gray-800"># Copyright 2022 The HuggingFace Team. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
&quot;&quot;&quot;Contains a utility for good-looking prints.&quot;&quot;&quot;

import os
from typing import List, Union


class ANSI:
    &quot;&quot;&quot;
    Helper for en.wikipedia.org/wiki/ANSI_escape_code
    &quot;&quot;&quot;

    _bold = &quot;\u001b[1m&quot;
    _gray = &quot;\u001b[90m&quot;
    _red = &quot;\u001b[31m&quot;
    _reset = &quot;\u001b[0m&quot;
    _yellow = &quot;\u001b[33m&quot;

    @classmethod
    def bold(cls, s: str) -&gt; str:
        return cls._format(s, cls._bold)

    @classmethod
    def gray(cls, s: str) -&gt; str:
        return cls._format(s, cls._gray)

    @classmethod
    def red(cls, s: str) -&gt; str:
        return cls._format(s, cls._bold + cls._red)

    @classmethod
    def yellow(cls, s: str) -&gt; str:
        return cls._format(s, cls._yellow)

    @classmethod
    def _format(cls, s: str, code: str) -&gt; str:
        if os.environ.get(&quot;NO_COLOR&quot;):
            # See https://no-color.org/
            return s
        return f&quot;{code}{s}{cls._reset}&quot;


def tabulate(rows: List[List[Union[str, int]]], headers: List[str]) -&gt; str:
    &quot;&quot;&quot;
    Inspired by:

    - stackoverflow.com/a/8356620/593036
    - stackoverflow.com/questions/9535954/printing-lists-as-tabular-data
    &quot;&quot;&quot;
    col_widths = [max(len(str(x)) for x in col) for col in zip(*rows, headers)]
    row_format = (&quot;{{:{}}} &quot; * len(headers)).format(*col_widths)
    lines = []
    lines.append(row_format.format(*headers))
    lines.append(row_format.format(*[&quot;-&quot; * w for w in col_widths]))
    for row in rows:
        lines.append(row_format.format(*row))
    return &quot;\n&quot;.join(lines)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 279:19 - Line 300:20), .venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 135:14 - Line 156:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn570" onclick="toggleCodeBlock('cloneGroup570', 'expandBtn570', 'collapseBtn570')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn570" onclick="toggleCodeBlock('cloneGroup570', 'expandBtn570', 'collapseBtn570')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup570"><code class="language-python text-sm text-gray-800">):
    def __init__(
        self,
        verify: ssl.SSLContext | str | bool = True,
        cert: CertTypes | None = None,
        trust_env: bool = True,
        http1: bool = True,
        http2: bool = False,
        limits: Limits = DEFAULT_LIMITS,
        proxy: ProxyTypes | None = None,
        uds: str | None = None,
        local_address: str | None = None,
        retries: int = 0,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        import httpcore

        proxy = Proxy(url=proxy) if isinstance(proxy, (str, URL)) else proxy
        ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)

        if proxy is None:
            self._pool = httpcore.AsyncConnectionPool</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 300:20 - Line 313:15), .venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 156:15 - Line 169:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn571" onclick="toggleCodeBlock('cloneGroup571', 'expandBtn571', 'collapseBtn571')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn571" onclick="toggleCodeBlock('cloneGroup571', 'expandBtn571', 'collapseBtn571')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup571"><code class="language-python text-sm text-gray-800">(
                ssl_context=ssl_context,
                max_connections=limits.max_connections,
                max_keepalive_connections=limits.max_keepalive_connections,
                keepalive_expiry=limits.keepalive_expiry,
                http1=http1,
                http2=http2,
                uds=uds,
                local_address=local_address,
                retries=retries,
                socket_options=socket_options,
            )
        elif proxy.url.scheme in (&quot;http&quot;, &quot;https&quot;):
            self._pool = httpcore.AsyncHTTPProxy</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 323:2 - Line 340:16), .venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 179:2 - Line 196:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn572" onclick="toggleCodeBlock('cloneGroup572', 'expandBtn572', 'collapseBtn572')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn572" onclick="toggleCodeBlock('cloneGroup572', 'expandBtn572', 'collapseBtn572')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup572"><code class="language-python text-sm text-gray-800">ssl_context,
                max_connections=limits.max_connections,
                max_keepalive_connections=limits.max_keepalive_connections,
                keepalive_expiry=limits.keepalive_expiry,
                http1=http1,
                http2=http2,
                socket_options=socket_options,
            )
        elif proxy.url.scheme in (&quot;socks5&quot;, &quot;socks5h&quot;):
            try:
                import socksio  # noqa
            except ImportError:  # pragma: no cover
                raise ImportError(
                    &quot;Using SOCKS proxy, but the 'socksio' package is not installed. &quot;
                    &quot;Make sure to install httpx using `pip install httpx[socks]`.&quot;
                ) from None

            self._pool = httpcore.AsyncSOCKSProxy</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 340:16 - Line 358:33), .venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 196:11 - Line 214:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn573" onclick="toggleCodeBlock('cloneGroup573', 'expandBtn573', 'collapseBtn573')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn573" onclick="toggleCodeBlock('cloneGroup573', 'expandBtn573', 'collapseBtn573')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup573"><code class="language-python text-sm text-gray-800">(
                proxy_url=httpcore.URL(
                    scheme=proxy.url.raw_scheme,
                    host=proxy.url.raw_host,
                    port=proxy.url.port,
                    target=proxy.url.raw_path,
                ),
                proxy_auth=proxy.raw_auth,
                ssl_context=ssl_context,
                max_connections=limits.max_connections,
                max_keepalive_connections=limits.max_keepalive_connections,
                keepalive_expiry=limits.keepalive_expiry,
                http1=http1,
                http2=http2,
            )
        else:  # pragma: no cover
            raise ValueError(
                &quot;Proxy protocol must be either 'http', 'https', 'socks5', or 'socks5h',&quot;
                &quot; but got {proxy.url.scheme!r}.&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 378:16 - Line 394:6), .venv/lib/python3.14/site-packages/httpx/_transports/default.py (Line 234:15 - Line 250:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn574" onclick="toggleCodeBlock('cloneGroup574', 'expandBtn574', 'collapseBtn574')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn574" onclick="toggleCodeBlock('cloneGroup574', 'expandBtn574', 'collapseBtn574')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup574"><code class="language-python text-sm text-gray-800">)
        import httpcore

        req = httpcore.Request(
            method=request.method,
            url=httpcore.URL(
                scheme=request.url.raw_scheme,
                host=request.url.raw_host,
                port=request.url.port,
                target=request.url.raw_path,
            ),
            headers=request.headers.raw,
            content=request.stream,
            extensions=request.extensions,
        )
        with map_httpcore_exceptions():
            resp = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_sync/interfaces.py (Line 61:2 - Line 79:6), .venv/lib/python3.14/site-packages/httpcore/_sync/interfaces.py (Line 29:9 - Line 47:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn576" onclick="toggleCodeBlock('cloneGroup576', 'expandBtn576', 'collapseBtn576')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn576" onclick="toggleCodeBlock('cloneGroup576', 'expandBtn576', 'collapseBtn576')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup576"><code class="language-python text-sm text-gray-800">:
        # Strict type checking on our parameters.
        method = enforce_bytes(method, name=&quot;method&quot;)
        url = enforce_url(url, name=&quot;url&quot;)
        headers = enforce_headers(headers, name=&quot;headers&quot;)

        # Include Host header, and optionally Content-Length or Transfer-Encoding.
        headers = include_request_headers(headers, url=url, content=content)

        request = Request(
            method=method,
            url=url,
            headers=headers,
            content=content,
            extensions=extensions,
        )
        response = self.handle_request(request)
        try:
            yield</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 312:2 - Line 328:5), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 262:2 - Line 279:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn577" onclick="toggleCodeBlock('cloneGroup577', 'expandBtn577', 'collapseBtn577')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn577" onclick="toggleCodeBlock('cloneGroup577', 'expandBtn577', 'collapseBtn577')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup577"><code class="language-python text-sm text-gray-800">self._remote_origin.host.decode(&quot;ascii&quot;),
                    &quot;timeout&quot;: timeout,
                }
                with Trace(&quot;start_tls&quot;, logger, request, kwargs) as trace:
                    stream = stream.start_tls(**kwargs)
                    trace.return_value = stream

                # Determine if we should be using HTTP/1.1 or HTTP/2
                ssl_object = stream.get_extra_info(&quot;ssl_object&quot;)
                http2_negotiated = (
                    ssl_object is not None
                    and ssl_object.selected_alpn_protocol() == &quot;h2&quot;
                )

                # Create the HTTP/1.1 or HTTP/2 connection
                if http2_negotiated or (self._http2 and not self._http1):
                    from</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 343:8 - Line 367:46), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 206:14 - Line 230:46)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn578" onclick="toggleCodeBlock('cloneGroup578', 'expandBtn578', 'collapseBtn578')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn578" onclick="toggleCodeBlock('cloneGroup578', 'expandBtn578', 'collapseBtn578')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup578"><code class="language-python text-sm text-gray-800">)

    def can_handle_request(self, origin: Origin) -&gt; bool:
        return origin == self._remote_origin

    def close(self) -&gt; None:
        self._connection.close()

    def info(self) -&gt; str:
        return self._connection.info()

    def is_available(self) -&gt; bool:
        return self._connection.is_available()

    def has_expired(self) -&gt; bool:
        return self._connection.has_expired()

    def is_idle(self) -&gt; bool:
        return self._connection.is_idle()

    def is_closed(self) -&gt; bool:
        return self._connection.is_closed()

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self.__class__.__name__} [{self.info()}]&gt;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 51:2 - Line 91:12), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 65:2 - Line 111:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn579" onclick="toggleCodeBlock('cloneGroup579', 'expandBtn579', 'collapseBtn579')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn579" onclick="toggleCodeBlock('cloneGroup579', 'expandBtn579', 'collapseBtn579')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup579"><code class="language-python text-sm text-gray-800">| None = None,
        max_connections: int | None = 10,
        max_keepalive_connections: int | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        local_address: str | None = None,
        uds: str | None = None,
        network_backend: NetworkBackend | None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        &quot;&quot;&quot;
        A connection pool for making HTTP requests.

        Parameters:
            ssl_context: An SSL context to use for verifying connections.
                If not specified, the default `httpcore.default_ssl_context()`
                will be used.
            max_connections: The maximum number of concurrent HTTP connections that
                the pool should allow. Any attempt to send a request on a pool that
                would exceed this amount will block until a connection is available.
            max_keepalive_connections: The maximum number of idle HTTP connections
                that will be maintained in the pool.
            keepalive_expiry: The duration in seconds that an idle HTTP connection
                may be maintained for before being expired from the pool.
            http1: A boolean indicating if HTTP/1.1 requests should be supported
                by the connection pool. Defaults to True.
            http2: A boolean indicating if HTTP/2 requests should be supported by
                the connection pool. Defaults to False.
            retries: The maximum number of retries when trying to establish a
                connection.
            local_address: Local address to connect from. Can also be used to connect
                using a particular address family. Using `local_address=&quot;0.0.0.0&quot;`
                will connect using an `AF_INET` address (IPv4), while using
                `local_address=&quot;::&quot;` will connect using an `AF_INET6` address (IPv6).
            uds: Path to a Unix Domain Socket to use instead of TCP sockets.
            network_backend: A backend instance to use for handling network I/O.
            socket_options: Socket options that have to be included
             in the TCP socket when the connection was established.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_sync/connection.py (Line 42:2 - Line 52:5), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 67:2 - Line 111:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn580" onclick="toggleCodeBlock('cloneGroup580', 'expandBtn580', 'collapseBtn580')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn580" onclick="toggleCodeBlock('cloneGroup580', 'expandBtn580', 'collapseBtn580')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup580"><code class="language-python text-sm text-gray-800">| None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        local_address: str | None = None,
        uds: str | None = None,
        network_backend: NetworkBackend | None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_backends/anyio.py (Line 128:2 - Line 140:13), .venv/lib/python3.14/site-packages/httpcore/_backends/anyio.py (Line 103:2 - Line 115:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn581" onclick="toggleCodeBlock('cloneGroup581', 'expandBtn581', 'collapseBtn581')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn581" onclick="toggleCodeBlock('cloneGroup581', 'expandBtn581', 'collapseBtn581')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup581"><code class="language-python text-sm text-gray-800">| None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; AsyncNetworkStream:  # pragma: nocover
        if socket_options is None:
            socket_options = []
        exc_map = {
            TimeoutError: ConnectTimeout,
            OSError: ConnectError,
            anyio.BrokenResourceError: ConnectError,
        }
        with map_exceptions(exc_map):
            with anyio.fail_after(timeout):
                stream: anyio.abc.ByteStream = await anyio.connect_unix</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 19:1 - Line 42:6), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 19:1 - Line 42:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn582" onclick="toggleCodeBlock('cloneGroup582', 'expandBtn582', 'collapseBtn582')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn582" onclick="toggleCodeBlock('cloneGroup582', 'expandBtn582', 'collapseBtn582')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup582"><code class="language-python text-sm text-gray-800">logger = logging.getLogger(&quot;httpcore.socks&quot;)


AUTH_METHODS = {
    b&quot;\x00&quot;: &quot;NO AUTHENTICATION REQUIRED&quot;,
    b&quot;\x01&quot;: &quot;GSSAPI&quot;,
    b&quot;\x02&quot;: &quot;USERNAME/PASSWORD&quot;,
    b&quot;\xff&quot;: &quot;NO ACCEPTABLE METHODS&quot;,
}

REPLY_CODES = {
    b&quot;\x00&quot;: &quot;Succeeded&quot;,
    b&quot;\x01&quot;: &quot;General SOCKS server failure&quot;,
    b&quot;\x02&quot;: &quot;Connection not allowed by ruleset&quot;,
    b&quot;\x03&quot;: &quot;Network unreachable&quot;,
    b&quot;\x04&quot;: &quot;Host unreachable&quot;,
    b&quot;\x05&quot;: &quot;Connection refused&quot;,
    b&quot;\x06&quot;: &quot;TTL expired&quot;,
    b&quot;\x07&quot;: &quot;Command not supported&quot;,
    b&quot;\x08&quot;: &quot;Address type not supported&quot;,
}


async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 43:19 - Line 59:6), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 43:14 - Line 59:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn583" onclick="toggleCodeBlock('cloneGroup583', 'expandBtn583', 'collapseBtn583')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn583" onclick="toggleCodeBlock('cloneGroup583', 'expandBtn583', 'collapseBtn583')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup583"><code class="language-python text-sm text-gray-800">,
    *,
    host: bytes,
    port: int,
    auth: tuple[bytes, bytes] | None = None,
) -&gt; None:
    conn = socksio.socks5.SOCKS5Connection()

    # Auth method request
    auth_method = (
        socksio.socks5.SOCKS5AuthMethod.NO_AUTH_REQUIRED
        if auth is None
        else socksio.socks5.SOCKS5AuthMethod.USERNAME_PASSWORD
    )
    conn.send(socksio.socks5.SOCKS5AuthMethodsRequest([auth_method]))
    outgoing_bytes = conn.data_to_send()
    await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 62:2 - Line 78:6), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 62:2 - Line 78:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn584" onclick="toggleCodeBlock('cloneGroup584', 'expandBtn584', 'collapseBtn584')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn584" onclick="toggleCodeBlock('cloneGroup584', 'expandBtn584', 'collapseBtn584')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup584"><code class="language-python text-sm text-gray-800">stream.read(max_bytes=4096)
    response = conn.receive_data(incoming_bytes)
    assert isinstance(response, socksio.socks5.SOCKS5AuthReply)
    if response.method != auth_method:
        requested = AUTH_METHODS.get(auth_method, &quot;UNKNOWN&quot;)
        responded = AUTH_METHODS.get(response.method, &quot;UNKNOWN&quot;)
        raise ProxyError(
            f&quot;Requested {requested} from proxy server, but got {responded}.&quot;
        )

    if response.method == socksio.socks5.SOCKS5AuthMethod.USERNAME_PASSWORD:
        # Username/password request
        assert auth is not None
        username, password = auth
        conn.send(socksio.socks5.SOCKS5UsernamePasswordRequest(username, password))
        outgoing_bytes = conn.data_to_send()
        await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 81:2 - Line 94:6), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 81:2 - Line 94:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn585" onclick="toggleCodeBlock('cloneGroup585', 'expandBtn585', 'collapseBtn585')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn585" onclick="toggleCodeBlock('cloneGroup585', 'expandBtn585', 'collapseBtn585')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup585"><code class="language-python text-sm text-gray-800">stream.read(max_bytes=4096)
        response = conn.receive_data(incoming_bytes)
        assert isinstance(response, socksio.socks5.SOCKS5UsernamePasswordReply)
        if not response.success:
            raise ProxyError(&quot;Invalid username/password&quot;)

    # Connect request
    conn.send(
        socksio.socks5.SOCKS5CommandRequest.from_address(
            socksio.socks5.SOCKS5Command.CONNECT, (host, port)
        )
    )
    outgoing_bytes = conn.data_to_send()
    await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 105:20 - Line 121:20), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 105:15 - Line 121:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn586" onclick="toggleCodeBlock('cloneGroup586', 'expandBtn586', 'collapseBtn586')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn586" onclick="toggleCodeBlock('cloneGroup586', 'expandBtn586', 'collapseBtn586')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup586"><code class="language-python text-sm text-gray-800">):  # pragma: nocover
    &quot;&quot;&quot;
    A connection pool that sends requests via an HTTP proxy.
    &quot;&quot;&quot;

    def __init__(
        self,
        proxy_url: URL | bytes | str,
        proxy_auth: tuple[bytes | str, bytes | str] | None = None,
        ssl_context: ssl.SSLContext | None = None,
        max_connections: int | None = 10,
        max_keepalive_connections: int | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        network_backend: AsyncNetworkBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 121:2 - Line 176:25), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 121:2 - Line 176:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn587" onclick="toggleCodeBlock('cloneGroup587', 'expandBtn587', 'collapseBtn587')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn587" onclick="toggleCodeBlock('cloneGroup587', 'expandBtn587', 'collapseBtn587')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup587"><code class="language-python text-sm text-gray-800">| None = None,
    ) -&gt; None:
        &quot;&quot;&quot;
        A connection pool for making HTTP requests.

        Parameters:
            proxy_url: The URL to use when connecting to the proxy server.
                For example `&quot;http://127.0.0.1:8080/&quot;`.
            ssl_context: An SSL context to use for verifying connections.
                If not specified, the default `httpcore.default_ssl_context()`
                will be used.
            max_connections: The maximum number of concurrent HTTP connections that
                the pool should allow. Any attempt to send a request on a pool that
                would exceed this amount will block until a connection is available.
            max_keepalive_connections: The maximum number of idle HTTP connections
                that will be maintained in the pool.
            keepalive_expiry: The duration in seconds that an idle HTTP connection
                may be maintained for before being expired from the pool.
            http1: A boolean indicating if HTTP/1.1 requests should be supported
                by the connection pool. Defaults to True.
            http2: A boolean indicating if HTTP/2 requests should be supported by
                the connection pool. Defaults to False.
            retries: The maximum number of retries when trying to establish
                a connection.
            local_address: Local address to connect from. Can also be used to
                connect using a particular address family. Using
                `local_address=&quot;0.0.0.0&quot;` will connect using an `AF_INET` address
                (IPv4), while using `local_address=&quot;::&quot;` will connect using an
                `AF_INET6` address (IPv6).
            uds: Path to a Unix Domain Socket to use instead of TCP sockets.
            network_backend: A backend instance to use for handling network I/O.
        &quot;&quot;&quot;
        super().__init__(
            ssl_context=ssl_context,
            max_connections=max_connections,
            max_keepalive_connections=max_keepalive_connections,
            keepalive_expiry=keepalive_expiry,
            http1=http1,
            http2=http2,
            network_backend=network_backend,
            retries=retries,
        )
        self._ssl_context = ssl_context
        self._proxy_url = enforce_url(proxy_url, name=&quot;proxy_url&quot;)
        if proxy_auth is not None:
            username, password = proxy_auth
            username_bytes = enforce_bytes(username, name=&quot;proxy_auth&quot;)
            password_bytes = enforce_bytes(password, name=&quot;proxy_auth&quot;)
            self._proxy_auth: tuple[bytes, bytes] | None = (
                username_bytes,
                password_bytes,
            )
        else:
            self._proxy_auth = None

    def create_connection(self, origin: Origin) -&gt; AsyncConnectionInterface</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 189:25 - Line 199:20), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 189:20 - Line 199:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn588" onclick="toggleCodeBlock('cloneGroup588', 'expandBtn588', 'collapseBtn588')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn588" onclick="toggleCodeBlock('cloneGroup588', 'expandBtn588', 'collapseBtn588')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup588"><code class="language-python text-sm text-gray-800">):
    def __init__(
        self,
        proxy_origin: Origin,
        remote_origin: Origin,
        proxy_auth: tuple[bytes, bytes] | None = None,
        ssl_context: ssl.SSLContext | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        network_backend: AsyncNetworkBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 244:2 - Line 265:6), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 244:25 - Line 265:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn589" onclick="toggleCodeBlock('cloneGroup589', 'expandBtn589', 'collapseBtn589')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn589" onclick="toggleCodeBlock('cloneGroup589', 'expandBtn589', 'collapseBtn589')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup589"><code class="language-python text-sm text-gray-800">_init_socks5_connection(**kwargs)
                        trace.return_value = stream

                    # Upgrade the stream to SSL
                    if self._remote_origin.scheme == b&quot;https&quot;:
                        ssl_context = (
                            default_ssl_context()
                            if self._ssl_context is None
                            else self._ssl_context
                        )
                        alpn_protocols = (
                            [&quot;http/1.1&quot;, &quot;h2&quot;] if self._http2 else [&quot;http/1.1&quot;]
                        )
                        ssl_context.set_alpn_protocols(alpn_protocols)

                        kwargs = {
                            &quot;ssl_context&quot;: ssl_context,
                            &quot;server_hostname&quot;: sni_hostname
                            or self._remote_origin.host.decode(&quot;ascii&quot;),
                            &quot;timeout&quot;: timeout,
                        }
                        async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 306:7 - Line 341:46), .venv/lib/python3.14/site-packages/httpcore/_sync/socks_proxy.py (Line 306:6 - Line 341:46)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn590" onclick="toggleCodeBlock('cloneGroup590', 'expandBtn590', 'collapseBtn590')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn590" onclick="toggleCodeBlock('cloneGroup590', 'expandBtn590', 'collapseBtn590')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup590"><code class="language-python text-sm text-gray-800">()

    def is_available(self) -&gt; bool:
        if self._connection is None:  # pragma: nocover
            # If HTTP/2 support is enabled, and the resulting connection could
            # end up as HTTP/2 then we should indicate the connection as being
            # available to service multiple requests.
            return (
                self._http2
                and (self._remote_origin.scheme == b&quot;https&quot; or not self._http1)
                and not self._connect_failed
            )
        return self._connection.is_available()

    def has_expired(self) -&gt; bool:
        if self._connection is None:  # pragma: nocover
            return self._connect_failed
        return self._connection.has_expired()

    def is_idle(self) -&gt; bool:
        if self._connection is None:  # pragma: nocover
            return self._connect_failed
        return self._connection.is_idle()

    def is_closed(self) -&gt; bool:
        if self._connection is None:  # pragma: nocover
            return self._connect_failed
        return self._connection.is_closed()

    def info(self) -&gt; str:
        if self._connection is None:  # pragma: nocover
            return &quot;CONNECTION FAILED&quot; if self._connect_failed else &quot;CONNECTING&quot;
        return self._connection.info()

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self.__class__.__name__} [{self.info()}]&gt;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/interfaces.py (Line 27:14 - Line 45:6), .venv/lib/python3.14/site-packages/httpcore/_sync/interfaces.py (Line 27:9 - Line 45:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn591" onclick="toggleCodeBlock('cloneGroup591', 'expandBtn591', 'collapseBtn591')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn591" onclick="toggleCodeBlock('cloneGroup591', 'expandBtn591', 'collapseBtn591')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup591"><code class="language-python text-sm text-gray-800">[bytes] | None = None,
        extensions: Extensions | None = None,
    ) -&gt; Response:
        # Strict type checking on our parameters.
        method = enforce_bytes(method, name=&quot;method&quot;)
        url = enforce_url(url, name=&quot;url&quot;)
        headers = enforce_headers(headers, name=&quot;headers&quot;)

        # Include Host header, and optionally Content-Length or Transfer-Encoding.
        headers = include_request_headers(headers, url=url, content=content)

        request = Request(
            method=method,
            url=url,
            headers=headers,
            content=content,
            extensions=extensions,
        )
        response = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/interfaces.py (Line 61:14 - Line 79:6), .venv/lib/python3.14/site-packages/httpcore/_sync/interfaces.py (Line 61:9 - Line 47:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn592" onclick="toggleCodeBlock('cloneGroup592', 'expandBtn592', 'collapseBtn592')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn592" onclick="toggleCodeBlock('cloneGroup592', 'expandBtn592', 'collapseBtn592')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup592"><code class="language-python text-sm text-gray-800">[Response]:
        # Strict type checking on our parameters.
        method = enforce_bytes(method, name=&quot;method&quot;)
        url = enforce_url(url, name=&quot;url&quot;)
        headers = enforce_headers(headers, name=&quot;headers&quot;)

        # Include Host header, and optionally Content-Length or Transfer-Encoding.
        headers = include_request_headers(headers, url=url, content=content)

        request = Request(
            method=method,
            url=url,
            headers=headers,
            content=content,
            extensions=extensions,
        )
        response = await self.handle_async_request(request)
        try:
            yield</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/interfaces.py (Line 88:7 - Line 137:18), .venv/lib/python3.14/site-packages/httpcore/_sync/interfaces.py (Line 88:6 - Line 137:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn593" onclick="toggleCodeBlock('cloneGroup593', 'expandBtn593', 'collapseBtn593')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn593" onclick="toggleCodeBlock('cloneGroup593', 'expandBtn593', 'collapseBtn593')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup593"><code class="language-python text-sm text-gray-800">(self) -&gt; None:
        raise NotImplementedError()  # pragma: nocover

    def info(self) -&gt; str:
        raise NotImplementedError()  # pragma: nocover

    def can_handle_request(self, origin: Origin) -&gt; bool:
        raise NotImplementedError()  # pragma: nocover

    def is_available(self) -&gt; bool:
        &quot;&quot;&quot;
        Return `True` if the connection is currently able to accept an
        outgoing request.

        An HTTP/1.1 connection will only be available if it is currently idle.

        An HTTP/2 connection will be available so long as the stream ID space is
        not yet exhausted, and the connection is not in an error state.

        While the connection is being established we may not yet know if it is going
        to result in an HTTP/1.1 or HTTP/2 connection. The connection should be
        treated as being available, but might ultimately raise `NewConnectionRequired`
        required exceptions if multiple requests are attempted over a connection
        that ends up being established as HTTP/1.1.
        &quot;&quot;&quot;
        raise NotImplementedError()  # pragma: nocover

    def has_expired(self) -&gt; bool:
        &quot;&quot;&quot;
        Return `True` if the connection is in a state where it should be closed.

        This either means that the connection is idle and it has passed the
        expiry time on its keep-alive, or that server has sent an EOF.
        &quot;&quot;&quot;
        raise NotImplementedError()  # pragma: nocover

    def is_idle(self) -&gt; bool:
        &quot;&quot;&quot;
        Return `True` if the connection is currently idle.
        &quot;&quot;&quot;
        raise NotImplementedError()  # pragma: nocover

    def is_closed(self) -&gt; bool:
        &quot;&quot;&quot;
        Return `True` if the connection has been closed.

        Used when a response is closed to determine if the connection may be
        returned to the connection pool or not.
        &quot;&quot;&quot;
        raise NotImplementedError()  # pragma: nocover</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 27:1 - Line 54:15), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 27:1 - Line 54:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn594" onclick="toggleCodeBlock('cloneGroup594', 'expandBtn594', 'collapseBtn594')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn594" onclick="toggleCodeBlock('cloneGroup594', 'expandBtn594', 'collapseBtn594')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup594"><code class="language-python text-sm text-gray-800">ByteOrStr = typing.Union[bytes, str]
HeadersAsSequence = typing.Sequence[typing.Tuple[ByteOrStr, ByteOrStr]]
HeadersAsMapping = typing.Mapping[ByteOrStr, ByteOrStr]


logger = logging.getLogger(&quot;httpcore.proxy&quot;)


def merge_headers(
    default_headers: typing.Sequence[tuple[bytes, bytes]] | None = None,
    override_headers: typing.Sequence[tuple[bytes, bytes]] | None = None,
) -&gt; list[tuple[bytes, bytes]]:
    &quot;&quot;&quot;
    Append default_headers and override_headers, de-duplicating if a key exists
    in both cases.
    &quot;&quot;&quot;
    default_headers = [] if default_headers is None else list(default_headers)
    override_headers = [] if override_headers is None else list(override_headers)
    has_override = set(key.lower() for key, value in override_headers)
    default_headers = [
        (key, value)
        for key, value in default_headers
        if key.lower() not in has_override
    ]
    return default_headers + override_headers


class AsyncHTTPProxy</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 54:20 - Line 74:20), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 54:15 - Line 74:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn595" onclick="toggleCodeBlock('cloneGroup595', 'expandBtn595', 'collapseBtn595')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn595" onclick="toggleCodeBlock('cloneGroup595', 'expandBtn595', 'collapseBtn595')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup595"><code class="language-python text-sm text-gray-800">):  # pragma: nocover
    &quot;&quot;&quot;
    A connection pool that sends requests via an HTTP proxy.
    &quot;&quot;&quot;

    def __init__(
        self,
        proxy_url: URL | bytes | str,
        proxy_auth: tuple[bytes | str, bytes | str] | None = None,
        proxy_headers: HeadersAsMapping | HeadersAsSequence | None = None,
        ssl_context: ssl.SSLContext | None = None,
        proxy_ssl_context: ssl.SSLContext | None = None,
        max_connections: int | None = 10,
        max_keepalive_connections: int | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        local_address: str | None = None,
        uds: str | None = None,
        network_backend: AsyncNetworkBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 74:2 - Line 146:25), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 74:2 - Line 146:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn596" onclick="toggleCodeBlock('cloneGroup596', 'expandBtn596', 'collapseBtn596')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn596" onclick="toggleCodeBlock('cloneGroup596', 'expandBtn596', 'collapseBtn596')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup596"><code class="language-python text-sm text-gray-800">| None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        &quot;&quot;&quot;
        A connection pool for making HTTP requests.

        Parameters:
            proxy_url: The URL to use when connecting to the proxy server.
                For example `&quot;http://127.0.0.1:8080/&quot;`.
            proxy_auth: Any proxy authentication as a two-tuple of
                (username, password). May be either bytes or ascii-only str.
            proxy_headers: Any HTTP headers to use for the proxy requests.
                For example `{&quot;Proxy-Authorization&quot;: &quot;Basic &lt;username&gt;:&lt;password&gt;&quot;}`.
            ssl_context: An SSL context to use for verifying connections.
                If not specified, the default `httpcore.default_ssl_context()`
                will be used.
            proxy_ssl_context: The same as `ssl_context`, but for a proxy server rather than a remote origin.
            max_connections: The maximum number of concurrent HTTP connections that
                the pool should allow. Any attempt to send a request on a pool that
                would exceed this amount will block until a connection is available.
            max_keepalive_connections: The maximum number of idle HTTP connections
                that will be maintained in the pool.
            keepalive_expiry: The duration in seconds that an idle HTTP connection
                may be maintained for before being expired from the pool.
            http1: A boolean indicating if HTTP/1.1 requests should be supported
                by the connection pool. Defaults to True.
            http2: A boolean indicating if HTTP/2 requests should be supported by
                the connection pool. Defaults to False.
            retries: The maximum number of retries when trying to establish
                a connection.
            local_address: Local address to connect from. Can also be used to
                connect using a particular address family. Using
                `local_address=&quot;0.0.0.0&quot;` will connect using an `AF_INET` address
                (IPv4), while using `local_address=&quot;::&quot;` will connect using an
                `AF_INET6` address (IPv6).
            uds: Path to a Unix Domain Socket to use instead of TCP sockets.
            network_backend: A backend instance to use for handling network I/O.
        &quot;&quot;&quot;
        super().__init__(
            ssl_context=ssl_context,
            max_connections=max_connections,
            max_keepalive_connections=max_keepalive_connections,
            keepalive_expiry=keepalive_expiry,
            http1=http1,
            http2=http2,
            network_backend=network_backend,
            retries=retries,
            local_address=local_address,
            uds=uds,
            socket_options=socket_options,
        )

        self._proxy_url = enforce_url(proxy_url, name=&quot;proxy_url&quot;)
        if (
            self._proxy_url.scheme == b&quot;http&quot; and proxy_ssl_context is not None
        ):  # pragma: no cover
            raise RuntimeError(
                &quot;The `proxy_ssl_context` argument is not allowed for the http scheme&quot;
            )

        self._ssl_context = ssl_context
        self._proxy_ssl_context = proxy_ssl_context
        self._proxy_headers = enforce_headers(proxy_headers, name=&quot;proxy_headers&quot;)
        if proxy_auth is not None:
            username = enforce_bytes(proxy_auth[0], name=&quot;proxy_auth&quot;)
            password = enforce_bytes(proxy_auth[1], name=&quot;proxy_auth&quot;)
            userpass = username + b&quot;:&quot; + password
            authorization = b&quot;Basic &quot; + base64.b64encode(userpass)
            self._proxy_headers = [
                (b&quot;Proxy-Authorization&quot;, authorization)
            ] + self._proxy_headers

    def create_connection(self, origin: Origin) -&gt; AsyncConnectionInterface</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 191:21 - Line 206:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 191:15 - Line 206:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn597" onclick="toggleCodeBlock('cloneGroup597', 'expandBtn597', 'collapseBtn597')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn597" onclick="toggleCodeBlock('cloneGroup597', 'expandBtn597', 'collapseBtn597')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup597"><code class="language-python text-sm text-gray-800">(self, request: Request) -&gt; Response:
        headers = merge_headers(self._proxy_headers, request.headers)
        url = URL(
            scheme=self._proxy_origin.scheme,
            host=self._proxy_origin.host,
            port=self._proxy_origin.port,
            target=bytes(request.url),
        )
        proxy_request = Request(
            method=request.method,
            url=url,
            headers=headers,
            content=request.stream,
            extensions=request.extensions,
        )
        return await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 212:7 - Line 233:26), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 212:6 - Line 233:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn598" onclick="toggleCodeBlock('cloneGroup598', 'expandBtn598', 'collapseBtn598')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn598" onclick="toggleCodeBlock('cloneGroup598', 'expandBtn598', 'collapseBtn598')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup598"><code class="language-python text-sm text-gray-800">()

    def info(self) -&gt; str:
        return self._connection.info()

    def is_available(self) -&gt; bool:
        return self._connection.is_available()

    def has_expired(self) -&gt; bool:
        return self._connection.has_expired()

    def is_idle(self) -&gt; bool:
        return self._connection.is_idle()

    def is_closed(self) -&gt; bool:
        return self._connection.is_closed()

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self.__class__.__name__} [{self.info()}]&gt;&quot;


class AsyncTunnelHTTPConnection</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 233:25 - Line 244:20), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 233:20 - Line 244:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn599" onclick="toggleCodeBlock('cloneGroup599', 'expandBtn599', 'collapseBtn599')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn599" onclick="toggleCodeBlock('cloneGroup599', 'expandBtn599', 'collapseBtn599')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup599"><code class="language-python text-sm text-gray-800">):
    def __init__(
        self,
        proxy_origin: Origin,
        remote_origin: Origin,
        ssl_context: ssl.SSLContext | None = None,
        proxy_ssl_context: ssl.SSLContext | None = None,
        proxy_headers: typing.Sequence[tuple[bytes, bytes]] | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        network_backend: AsyncNetworkBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 247:20 - Line 262:10), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 247:15 - Line 262:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn600" onclick="toggleCodeBlock('cloneGroup600', 'expandBtn600', 'collapseBtn600')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn600" onclick="toggleCodeBlock('cloneGroup600', 'expandBtn600', 'collapseBtn600')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup600"><code class="language-python text-sm text-gray-800">(
            origin=proxy_origin,
            keepalive_expiry=keepalive_expiry,
            network_backend=network_backend,
            socket_options=socket_options,
            ssl_context=proxy_ssl_context,
        )
        self._proxy_origin = proxy_origin
        self._remote_origin = remote_origin
        self._ssl_context = ssl_context
        self._proxy_ssl_context = proxy_ssl_context
        self._proxy_headers = enforce_headers(proxy_headers, name=&quot;proxy_headers&quot;)
        self._keepalive_expiry = keepalive_expiry
        self._http1 = http1
        self._http2 = http2
        self._connect_lock = AsyncLock</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 269:2 - Line 288:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 269:9 - Line 288:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn601" onclick="toggleCodeBlock('cloneGroup601', 'expandBtn601', 'collapseBtn601')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn601" onclick="toggleCodeBlock('cloneGroup601', 'expandBtn601', 'collapseBtn601')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup601"><code class="language-python text-sm text-gray-800">with self._connect_lock:
            if not self._connected:
                target = b&quot;%b:%d&quot; % (self._remote_origin.host, self._remote_origin.port)

                connect_url = URL(
                    scheme=self._proxy_origin.scheme,
                    host=self._proxy_origin.host,
                    port=self._proxy_origin.port,
                    target=target,
                )
                connect_headers = merge_headers(
                    [(b&quot;Host&quot;, target), (b&quot;Accept&quot;, b&quot;*/*&quot;)], self._proxy_headers
                )
                connect_request = Request(
                    method=b&quot;CONNECT&quot;,
                    url=connect_url,
                    headers=connect_headers,
                    extensions=request.extensions,
                )
                connect_response = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 296:7 - Line 315:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http_proxy.py (Line 296:6 - Line 315:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn602" onclick="toggleCodeBlock('cloneGroup602', 'expandBtn602', 'collapseBtn602')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn602" onclick="toggleCodeBlock('cloneGroup602', 'expandBtn602', 'collapseBtn602')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup602"><code class="language-python text-sm text-gray-800">()
                    raise ProxyError(msg)

                stream = connect_response.extensions[&quot;network_stream&quot;]

                # Upgrade the stream to SSL
                ssl_context = (
                    default_ssl_context()
                    if self._ssl_context is None
                    else self._ssl_context
                )
                alpn_protocols = [&quot;http/1.1&quot;, &quot;h2&quot;] if self._http2 else [&quot;http/1.1&quot;]
                ssl_context.set_alpn_protocols(alpn_protocols)

                kwargs = {
                    &quot;ssl_context&quot;: ssl_context,
                    &quot;server_hostname&quot;: self._remote_origin.host.decode(&quot;ascii&quot;),
                    &quot;timeout&quot;: timeout,
                }
                async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 312:2 - Line 328:5), .venv/lib/python3.14/site-packages/httpcore/_async/socks_proxy.py (Line 262:2 - Line 279:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn603" onclick="toggleCodeBlock('cloneGroup603', 'expandBtn603', 'collapseBtn603')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn603" onclick="toggleCodeBlock('cloneGroup603', 'expandBtn603', 'collapseBtn603')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup603"><code class="language-python text-sm text-gray-800">self._remote_origin.host.decode(&quot;ascii&quot;),
                    &quot;timeout&quot;: timeout,
                }
                async with Trace(&quot;start_tls&quot;, logger, request, kwargs) as trace:
                    stream = await stream.start_tls(**kwargs)
                    trace.return_value = stream

                # Determine if we should be using HTTP/1.1 or HTTP/2
                ssl_object = stream.get_extra_info(&quot;ssl_object&quot;)
                http2_negotiated = (
                    ssl_object is not None
                    and ssl_object.selected_alpn_protocol() == &quot;h2&quot;
                )

                # Create the HTTP/1.1 or HTTP/2 connection
                if http2_negotiated or (self._http2 and not self._http1):
                    from</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 343:8 - Line 367:46), .venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 206:14 - Line 230:46)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn604" onclick="toggleCodeBlock('cloneGroup604', 'expandBtn604', 'collapseBtn604')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn604" onclick="toggleCodeBlock('cloneGroup604', 'expandBtn604', 'collapseBtn604')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup604"><code class="language-python text-sm text-gray-800">)

    def can_handle_request(self, origin: Origin) -&gt; bool:
        return origin == self._remote_origin

    async def aclose(self) -&gt; None:
        await self._connection.aclose()

    def info(self) -&gt; str:
        return self._connection.info()

    def is_available(self) -&gt; bool:
        return self._connection.is_available()

    def has_expired(self) -&gt; bool:
        return self._connection.has_expired()

    def is_idle(self) -&gt; bool:
        return self._connection.is_idle()

    def is_closed(self) -&gt; bool:
        return self._connection.is_closed()

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self.__class__.__name__} [{self.info()}]&gt;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 26:1 - Line 42:21), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 26:1 - Line 42:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn605" onclick="toggleCodeBlock('cloneGroup605', 'expandBtn605', 'collapseBtn605')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn605" onclick="toggleCodeBlock('cloneGroup605', 'expandBtn605', 'collapseBtn605')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup605"><code class="language-python text-sm text-gray-800">logger = logging.getLogger(&quot;httpcore.http2&quot;)


def has_body_headers(request: Request) -&gt; bool:
    return any(
        k.lower() == b&quot;content-length&quot; or k.lower() == b&quot;transfer-encoding&quot;
        for k, v in request.headers
    )


class HTTPConnectionState(enum.IntEnum):
    ACTIVE = 1
    IDLE = 2
    CLOSED = 3


class AsyncHTTP2Connection</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 49:19 - Line 59:10), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 49:14 - Line 59:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn606" onclick="toggleCodeBlock('cloneGroup606', 'expandBtn606', 'collapseBtn606')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn606" onclick="toggleCodeBlock('cloneGroup606', 'expandBtn606', 'collapseBtn606')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup606"><code class="language-python text-sm text-gray-800">,
        keepalive_expiry: float | None = None,
    ):
        self._origin = origin
        self._network_stream = stream
        self._keepalive_expiry: float | None = keepalive_expiry
        self._h2_state = h2.connection.H2Connection(config=self.CONFIG)
        self._state = HTTPConnectionState.IDLE
        self._expire_at: float | None = None
        self._request_count = 0
        self._init_lock = AsyncLock</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 62:10 - Line 85:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 62:5 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn607" onclick="toggleCodeBlock('cloneGroup607', 'expandBtn607', 'collapseBtn607')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn607" onclick="toggleCodeBlock('cloneGroup607', 'expandBtn607', 'collapseBtn607')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup607"><code class="language-python text-sm text-gray-800">()
        self._sent_connection_init = False
        self._used_all_stream_ids = False
        self._connection_error = False

        # Mapping from stream ID to response stream events.
        self._events: dict[
            int,
            list[
                h2.events.ResponseReceived
                | h2.events.DataReceived
                | h2.events.StreamEnded
                | h2.events.StreamReset,
            ],
        ] = {}

        # Connection terminated events are stored as state since
        # we need to handle them for all streams.
        self._connection_terminated: h2.events.ConnectionTerminated | None = None

        self._read_exception: Exception | None = None
        self._write_exception: Exception | None = None

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 131:2 - Line 143:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 131:9 - Line 143:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn608" onclick="toggleCodeBlock('cloneGroup608', 'expandBtn608', 'collapseBtn608')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn608" onclick="toggleCodeBlock('cloneGroup608', 'expandBtn608', 'collapseBtn608')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup608"><code class="language-python text-sm text-gray-800">self._max_streams_semaphore.acquire()

        try:
            stream_id = self._h2_state.get_next_available_stream_id()
            self._events[stream_id] = []
        except h2.exceptions.NoAvailableStreamIDError:  # pragma: nocover
            self._used_all_stream_ids = True
            self._request_count -= 1
            raise ConnectionNotAvailable()

        try:
            kwargs = {&quot;request&quot;: request, &quot;stream_id&quot;: stream_id}
            async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 150:2 - Line 166:24), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 150:2 - Line 166:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn609" onclick="toggleCodeBlock('cloneGroup609', 'expandBtn609', 'collapseBtn609')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn609" onclick="toggleCodeBlock('cloneGroup609', 'expandBtn609', 'collapseBtn609')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup609"><code class="language-python text-sm text-gray-800">self._receive_response(
                    request=request, stream_id=stream_id
                )
                trace.return_value = (status, headers)

            return Response(
                status=status,
                headers=headers,
                content=HTTP2ConnectionByteStream(self, request, stream_id=stream_id),
                extensions={
                    &quot;http_version&quot;: b&quot;HTTP/2&quot;,
                    &quot;network_stream&quot;: self._network_stream,
                    &quot;stream_id&quot;: stream_id,
                },
            )
        except BaseException as exc:  # noqa: PIE786
            with AsyncShieldCancellation</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 189:2 - Line 218:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 189:5 - Line 218:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn610" onclick="toggleCodeBlock('cloneGroup610', 'expandBtn610', 'collapseBtn610')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn610" onclick="toggleCodeBlock('cloneGroup610', 'expandBtn610', 'collapseBtn610')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup610"><code class="language-python text-sm text-gray-800">def _send_connection_init(self, request: Request) -&gt; None:
        &quot;&quot;&quot;
        The HTTP/2 connection requires some initial setup before we can start
        using individual request/response streams on it.
        &quot;&quot;&quot;
        # Need to set these manually here instead of manipulating via
        # __setitem__() otherwise the H2Connection will emit SettingsUpdate
        # frames in addition to sending the undesired defaults.
        self._h2_state.local_settings = h2.settings.Settings(
            client=True,
            initial_values={
                # Disable PUSH_PROMISE frames from the server since we don't do anything
                # with them for now.  Maybe when we support caching?
                h2.settings.SettingCodes.ENABLE_PUSH: 0,
                # These two are taken from h2 for safe defaults
                h2.settings.SettingCodes.MAX_CONCURRENT_STREAMS: 100,
                h2.settings.SettingCodes.MAX_HEADER_LIST_SIZE: 65536,
            },
        )

        # Some websites (*cough* Yahoo *cough*) balk at this setting being
        # present in the initial handshake since it's not defined in the original
        # RFC despite the RFC mandating ignoring settings you don't know about.
        del self._h2_state.local_settings[
            h2.settings.SettingCodes.ENABLE_CONNECT_PROTOCOL
        ]

        self._h2_state.initiate_connection()
        self._h2_state.increment_flow_control_window(2**24)
        await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 222:2 - Line 251:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 222:5 - Line 251:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn611" onclick="toggleCodeBlock('cloneGroup611', 'expandBtn611', 'collapseBtn611')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn611" onclick="toggleCodeBlock('cloneGroup611', 'expandBtn611', 'collapseBtn611')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup611"><code class="language-python text-sm text-gray-800">def _send_request_headers(self, request: Request, stream_id: int) -&gt; None:
        &quot;&quot;&quot;
        Send the request headers to a given stream ID.
        &quot;&quot;&quot;
        end_stream = not has_body_headers(request)

        # In HTTP/2 the ':authority' pseudo-header is used instead of 'Host'.
        # In order to gracefully handle HTTP/1.1 and HTTP/2 we always require
        # HTTP/1.1 style headers, and map them appropriately if we end up on
        # an HTTP/2 connection.
        authority = [v for k, v in request.headers if k.lower() == b&quot;host&quot;][0]

        headers = [
            (b&quot;:method&quot;, request.method),
            (b&quot;:authority&quot;, authority),
            (b&quot;:scheme&quot;, request.url.scheme),
            (b&quot;:path&quot;, request.url.target),
        ] + [
            (k.lower(), v)
            for k, v in request.headers
            if k.lower()
            not in (
                b&quot;host&quot;,
                b&quot;transfer-encoding&quot;,
            )
        ]

        self._h2_state.send_headers(stream_id, headers, end_stream=end_stream)
        self._h2_state.increment_flow_control_window(2**24, stream_id=stream_id)
        await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 294:2 - Line 309:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 294:2 - Line 309:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn612" onclick="toggleCodeBlock('cloneGroup612', 'expandBtn612', 'collapseBtn612')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn612" onclick="toggleCodeBlock('cloneGroup612', 'expandBtn612', 'collapseBtn612')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup612"><code class="language-python text-sm text-gray-800">self._receive_stream_event(request, stream_id)
            if isinstance(event, h2.events.ResponseReceived):
                break

        status_code = 200
        headers = []
        assert event.headers is not None
        for k, v in event.headers:
            if k == b&quot;:status&quot;:
                status_code = int(v.decode(&quot;ascii&quot;, errors=&quot;ignore&quot;))
            elif not k.startswith(b&quot;:&quot;):
                headers.append((k, v))

        return (status_code, headers)

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 349:2 - Line 364:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 349:9 - Line 364:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn613" onclick="toggleCodeBlock('cloneGroup613', 'expandBtn613', 'collapseBtn613')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn613" onclick="toggleCodeBlock('cloneGroup613', 'expandBtn613', 'collapseBtn613')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup613"><code class="language-python text-sm text-gray-800">with self._read_lock:
            if self._connection_terminated is not None:
                last_stream_id = self._connection_terminated.last_stream_id
                if stream_id and last_stream_id and stream_id &gt; last_stream_id:
                    self._request_count -= 1
                    raise ConnectionNotAvailable()
                raise RemoteProtocolError(self._connection_terminated)

            # This conditional is a bit icky. We don't want to block reading if we've
            # actually got an event to return for a given stream. We need to do that
            # check *within* the atomic read lock. Though it also need to be optional,
            # because when we call it from `_wait_for_outgoing_flow` we *do* want to
            # block until we've available flow control, event when we have events
            # pending for the stream ID we're attempting to send on.
            if stream_id is None or not self._events.get(stream_id):
                events = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 370:2 - Line 388:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 370:29 - Line 388:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn614" onclick="toggleCodeBlock('cloneGroup614', 'expandBtn614', 'collapseBtn614')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn614" onclick="toggleCodeBlock('cloneGroup614', 'expandBtn614', 'collapseBtn614')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup614"><code class="language-python text-sm text-gray-800">self._receive_remote_settings_change(event)
                            trace.return_value = event

                    elif isinstance(
                        event,
                        (
                            h2.events.ResponseReceived,
                            h2.events.DataReceived,
                            h2.events.StreamEnded,
                            h2.events.StreamReset,
                        ),
                    ):
                        if event.stream_id in self._events:
                            self._events[event.stream_id].append(event)

                    elif isinstance(event, h2.events.ConnectionTerminated):
                        self._connection_terminated = event

        await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 390:2 - Line 403:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 390:5 - Line 403:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn615" onclick="toggleCodeBlock('cloneGroup615', 'expandBtn615', 'collapseBtn615')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn615" onclick="toggleCodeBlock('cloneGroup615', 'expandBtn615', 'collapseBtn615')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup615"><code class="language-python text-sm text-gray-800">def _receive_remote_settings_change(
        self, event: h2.events.RemoteSettingsChanged
    ) -&gt; None:
        max_concurrent_streams = event.changed_settings.get(
            h2.settings.SettingCodes.MAX_CONCURRENT_STREAMS
        )
        if max_concurrent_streams:
            new_max_streams = min(
                max_concurrent_streams.new_value,
                self._h2_state.local_settings.max_concurrent_streams,
            )
            if new_max_streams and new_max_streams != self._max_streams:
                while new_max_streams &gt; self._max_streams:
                    await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 433:2 - Line 441:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 433:5 - Line 441:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn616" onclick="toggleCodeBlock('cloneGroup616', 'expandBtn616', 'collapseBtn616')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn616" onclick="toggleCodeBlock('cloneGroup616', 'expandBtn616', 'collapseBtn616')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup616"><code class="language-python text-sm text-gray-800">def _read_incoming_data(self, request: Request) -&gt; list[h2.events.Event]:
        timeouts = request.extensions.get(&quot;timeout&quot;, {})
        timeout = timeouts.get(&quot;read&quot;, None)

        if self._read_exception is not None:
            raise self._read_exception  # pragma: nocover

        try:
            data = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 441:2 - Line 461:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 441:2 - Line 461:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn617" onclick="toggleCodeBlock('cloneGroup617', 'expandBtn617', 'collapseBtn617')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn617" onclick="toggleCodeBlock('cloneGroup617', 'expandBtn617', 'collapseBtn617')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup617"><code class="language-python text-sm text-gray-800">self._network_stream.read(self.READ_NUM_BYTES, timeout)
            if data == b&quot;&quot;:
                raise RemoteProtocolError(&quot;Server disconnected&quot;)
        except Exception as exc:
            # If we get a network error we should:
            #
            # 1. Save the exception and just raise it immediately on any future reads.
            #    (For example, this means that a single read timeout or disconnect will
            #    immediately close all pending streams. Without requiring multiple
            #    sequential timeouts.)
            # 2. Mark the connection as errored, so that we don't accept any other
            #    incoming requests.
            self._read_exception = exc
            self._connection_error = True
            raise exc

        events: list[h2.events.Event] = self._h2_state.receive_data(data)

        return events

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http2.py (Line 500:2 - Line 550:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http2.py (Line 500:13 - Line 550:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn618" onclick="toggleCodeBlock('cloneGroup618', 'expandBtn618', 'collapseBtn618')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn618" onclick="toggleCodeBlock('cloneGroup618', 'expandBtn618', 'collapseBtn618')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup618"><code class="language-python text-sm text-gray-800">self._receive_events(request)
            local_flow = self._h2_state.local_flow_control_window(stream_id)
            max_frame_size = self._h2_state.max_outbound_frame_size
            flow = min(local_flow, max_frame_size)
        return flow

    # Interface for connection pooling...

    def can_handle_request(self, origin: Origin) -&gt; bool:
        return origin == self._origin

    def is_available(self) -&gt; bool:
        return (
            self._state != HTTPConnectionState.CLOSED
            and not self._connection_error
            and not self._used_all_stream_ids
            and not (
                self._h2_state.state_machine.state
                == h2.connection.ConnectionState.CLOSED
            )
        )

    def has_expired(self) -&gt; bool:
        now = time.monotonic()
        return self._expire_at is not None and now &gt; self._expire_at

    def is_idle(self) -&gt; bool:
        return self._state == HTTPConnectionState.IDLE

    def is_closed(self) -&gt; bool:
        return self._state == HTTPConnectionState.CLOSED

    def info(self) -&gt; str:
        origin = str(self._origin)
        return (
            f&quot;{origin!r}, HTTP/2, {self._state.name}, &quot;
            f&quot;Request Count: {self._request_count}&quot;
        )

    def __repr__(self) -&gt; str:
        class_name = self.__class__.__name__
        origin = str(self._origin)
        return (
            f&quot;&lt;{class_name} [{origin!r}, {self._state.name}, &quot;
            f&quot;Request Count: {self._request_count}]&gt;&quot;
        )

    # These context managers are not used in the standard flow, but are
    # useful for testing or working with connection instances directly.

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http11.py (Line 140:2 - Line 150:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http11.py (Line 140:5 - Line 150:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn619" onclick="toggleCodeBlock('cloneGroup619', 'expandBtn619', 'collapseBtn619')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn619" onclick="toggleCodeBlock('cloneGroup619', 'expandBtn619', 'collapseBtn619')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup619"><code class="language-python text-sm text-gray-800">def _send_request_headers(self, request: Request) -&gt; None:
        timeouts = request.extensions.get(&quot;timeout&quot;, {})
        timeout = timeouts.get(&quot;write&quot;, None)

        with map_exceptions({h11.LocalProtocolError: LocalProtocolError}):
            event = h11.Request(
                method=request.method,
                target=request.url.target,
                headers=request.headers,
            )
        await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http11.py (Line 170:2 - Line 177:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http11.py (Line 170:5 - Line 177:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn620" onclick="toggleCodeBlock('cloneGroup620', 'expandBtn620', 'collapseBtn620')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn620" onclick="toggleCodeBlock('cloneGroup620', 'expandBtn620', 'collapseBtn620')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup620"><code class="language-python text-sm text-gray-800">def _receive_response_headers(
        self, request: Request
    ) -&gt; tuple[bytes, int, bytes, list[tuple[bytes, bytes]], bytes]:
        timeouts = request.extensions.get(&quot;timeout&quot;, {})
        timeout = timeouts.get(&quot;read&quot;, None)

        while True:
            event = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http11.py (Line 177:2 - Line 196:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http11.py (Line 177:2 - Line 196:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn621" onclick="toggleCodeBlock('cloneGroup621', 'expandBtn621', 'collapseBtn621')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn621" onclick="toggleCodeBlock('cloneGroup621', 'expandBtn621', 'collapseBtn621')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup621"><code class="language-python text-sm text-gray-800">self._receive_event(timeout=timeout)
            if isinstance(event, h11.Response):
                break
            if (
                isinstance(event, h11.InformationalResponse)
                and event.status_code == 101
            ):
                break

        http_version = b&quot;HTTP/&quot; + event.http_version

        # h11 version 0.11+ supports a `raw_items` interface to get the
        # raw header casing, rather than the enforced lowercase headers.
        headers = event.headers.raw_items()

        trailing_data, _ = self._h11_state.trailing_data

        return http_version, event.status_code, event.reason, headers, trailing_data

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http11.py (Line 217:2 - Line 238:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http11.py (Line 217:2 - Line 238:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn622" onclick="toggleCodeBlock('cloneGroup622', 'expandBtn622', 'collapseBtn622')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn622" onclick="toggleCodeBlock('cloneGroup622', 'expandBtn622', 'collapseBtn622')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup622"><code class="language-python text-sm text-gray-800">self._network_stream.read(
                    self.READ_NUM_BYTES, timeout=timeout
                )

                # If we feed this case through h11 we'll raise an exception like:
                #
                #     httpcore.RemoteProtocolError: can't handle event type
                #     ConnectionClosed when role=SERVER and state=SEND_RESPONSE
                #
                # Which is accurate, but not very informative from an end-user
                # perspective. Instead we handle this case distinctly and treat
                # it as a ConnectError.
                if data == b&quot;&quot; and self._h11_state.their_state == h11.SEND_RESPONSE:
                    msg = &quot;Server disconnected without sending a response.&quot;
                    raise RemoteProtocolError(msg)

                self._h11_state.receive_data(data)
            else:
                # mypy fails to narrow the type in the above if statement above
                return event  # type: ignore[return-value]

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http11.py (Line 239:2 - Line 250:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http11.py (Line 239:9 - Line 250:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn623" onclick="toggleCodeBlock('cloneGroup623', 'expandBtn623', 'collapseBtn623')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn623" onclick="toggleCodeBlock('cloneGroup623', 'expandBtn623', 'collapseBtn623')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup623"><code class="language-python text-sm text-gray-800">with self._state_lock:
            if (
                self._h11_state.our_state is h11.DONE
                and self._h11_state.their_state is h11.DONE
            ):
                self._state = HTTPConnectionState.IDLE
                self._h11_state.start_next_cycle()
                if self._keepalive_expiry is not None:
                    now = time.monotonic()
                    self._expire_at = now + self._keepalive_expiry
            else:
                await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/http11.py (Line 261:5 - Line 312:6), .venv/lib/python3.14/site-packages/httpcore/_sync/http11.py (Line 261:5 - Line 312:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn624" onclick="toggleCodeBlock('cloneGroup624', 'expandBtn624', 'collapseBtn624')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn624" onclick="toggleCodeBlock('cloneGroup624', 'expandBtn624', 'collapseBtn624')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup624"><code class="language-python text-sm text-gray-800"># the connection, allowing for a connection pooling implementation to
    # determine when to reuse and when to close the connection...

    def can_handle_request(self, origin: Origin) -&gt; bool:
        return origin == self._origin

    def is_available(self) -&gt; bool:
        # Note that HTTP/1.1 connections in the &quot;NEW&quot; state are not treated as
        # being &quot;available&quot;. The control flow which created the connection will
        # be able to send an outgoing request, but the connection will not be
        # acquired from the connection pool for any other request.
        return self._state == HTTPConnectionState.IDLE

    def has_expired(self) -&gt; bool:
        now = time.monotonic()
        keepalive_expired = self._expire_at is not None and now &gt; self._expire_at

        # If the HTTP connection is idle but the socket is readable, then the
        # only valid state is that the socket is about to return b&quot;&quot;, indicating
        # a server-initiated disconnect.
        server_disconnected = (
            self._state == HTTPConnectionState.IDLE
            and self._network_stream.get_extra_info(&quot;is_readable&quot;)
        )

        return keepalive_expired or server_disconnected

    def is_idle(self) -&gt; bool:
        return self._state == HTTPConnectionState.IDLE

    def is_closed(self) -&gt; bool:
        return self._state == HTTPConnectionState.CLOSED

    def info(self) -&gt; str:
        origin = str(self._origin)
        return (
            f&quot;{origin!r}, HTTP/1.1, {self._state.name}, &quot;
            f&quot;Request Count: {self._request_count}&quot;
        )

    def __repr__(self) -&gt; str:
        class_name = self.__class__.__name__
        origin = str(self._origin)
        return (
            f&quot;&lt;{class_name} [{origin!r}, {self._state.name}, &quot;
            f&quot;Request Count: {self._request_count}]&gt;&quot;
        )

    # These context managers are not used in the standard flow, but are
    # useful for testing or working with connection instances directly.

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 43:22 - Line 91:12), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 43:17 - Line 111:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn625" onclick="toggleCodeBlock('cloneGroup625', 'expandBtn625', 'collapseBtn625')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn625" onclick="toggleCodeBlock('cloneGroup625', 'expandBtn625', 'collapseBtn625')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup625"><code class="language-python text-sm text-gray-800">):
    &quot;&quot;&quot;
    A connection pool for making HTTP requests.
    &quot;&quot;&quot;

    def __init__(
        self,
        ssl_context: ssl.SSLContext | None = None,
        proxy: Proxy | None = None,
        max_connections: int | None = 10,
        max_keepalive_connections: int | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        local_address: str | None = None,
        uds: str | None = None,
        network_backend: AsyncNetworkBackend | None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        &quot;&quot;&quot;
        A connection pool for making HTTP requests.

        Parameters:
            ssl_context: An SSL context to use for verifying connections.
                If not specified, the default `httpcore.default_ssl_context()`
                will be used.
            max_connections: The maximum number of concurrent HTTP connections that
                the pool should allow. Any attempt to send a request on a pool that
                would exceed this amount will block until a connection is available.
            max_keepalive_connections: The maximum number of idle HTTP connections
                that will be maintained in the pool.
            keepalive_expiry: The duration in seconds that an idle HTTP connection
                may be maintained for before being expired from the pool.
            http1: A boolean indicating if HTTP/1.1 requests should be supported
                by the connection pool. Defaults to True.
            http2: A boolean indicating if HTTP/2 requests should be supported by
                the connection pool. Defaults to False.
            retries: The maximum number of retries when trying to establish a
                connection.
            local_address: Local address to connect from. Can also be used to connect
                using a particular address family. Using `local_address=&quot;0.0.0.0&quot;`
                will connect using an `AF_INET` address (IPv4), while using
                `local_address=&quot;::&quot;` will connect using an `AF_INET6` address (IPv6).
            uds: Path to a Unix Domain Socket to use instead of TCP sockets.
            network_backend: A backend instance to use for handling network I/O.
            socket_options: Socket options that have to be included
             in the TCP socket when the connection was established.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 60:2 - Line 114:12), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 60:2 - Line 114:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn626" onclick="toggleCodeBlock('cloneGroup626', 'expandBtn626', 'collapseBtn626')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn626" onclick="toggleCodeBlock('cloneGroup626', 'expandBtn626', 'collapseBtn626')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup626"><code class="language-python text-sm text-gray-800">| None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        &quot;&quot;&quot;
        A connection pool for making HTTP requests.

        Parameters:
            ssl_context: An SSL context to use for verifying connections.
                If not specified, the default `httpcore.default_ssl_context()`
                will be used.
            max_connections: The maximum number of concurrent HTTP connections that
                the pool should allow. Any attempt to send a request on a pool that
                would exceed this amount will block until a connection is available.
            max_keepalive_connections: The maximum number of idle HTTP connections
                that will be maintained in the pool.
            keepalive_expiry: The duration in seconds that an idle HTTP connection
                may be maintained for before being expired from the pool.
            http1: A boolean indicating if HTTP/1.1 requests should be supported
                by the connection pool. Defaults to True.
            http2: A boolean indicating if HTTP/2 requests should be supported by
                the connection pool. Defaults to False.
            retries: The maximum number of retries when trying to establish a
                connection.
            local_address: Local address to connect from. Can also be used to connect
                using a particular address family. Using `local_address=&quot;0.0.0.0&quot;`
                will connect using an `AF_INET` address (IPv4), while using
                `local_address=&quot;::&quot;` will connect using an `AF_INET6` address (IPv6).
            uds: Path to a Unix Domain Socket to use instead of TCP sockets.
            network_backend: A backend instance to use for handling network I/O.
            socket_options: Socket options that have to be included
             in the TCP socket when the connection was established.
        &quot;&quot;&quot;
        self._ssl_context = ssl_context
        self._proxy = proxy
        self._max_connections = (
            sys.maxsize if max_connections is None else max_connections
        )
        self._max_keepalive_connections = (
            sys.maxsize
            if max_keepalive_connections is None
            else max_keepalive_connections
        )
        self._max_keepalive_connections = min(
            self._max_connections, self._max_keepalive_connections
        )

        self._keepalive_expiry = keepalive_expiry
        self._http1 = http1
        self._http2 = http2
        self._retries = retries
        self._local_address = local_address
        self._uds = uds

        self._network_backend = (
            AutoBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 133:22 - Line 144:27), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 133:17 - Line 144:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn627" onclick="toggleCodeBlock('cloneGroup627', 'expandBtn627', 'collapseBtn627')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn627" onclick="toggleCodeBlock('cloneGroup627', 'expandBtn627', 'collapseBtn627')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup627"><code class="language-python text-sm text-gray-800">(
                    proxy_origin=self._proxy.url.origin,
                    proxy_auth=self._proxy.auth,
                    remote_origin=origin,
                    ssl_context=self._ssl_context,
                    keepalive_expiry=self._keepalive_expiry,
                    http1=self._http1,
                    http2=self._http2,
                    network_backend=self._network_backend,
                )
            elif origin.scheme == b&quot;http&quot;:
                from .http_proxy import AsyncForwardHTTPConnection</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 156:26 - Line 168:20), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 156:21 - Line 168:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn628" onclick="toggleCodeBlock('cloneGroup628', 'expandBtn628', 'collapseBtn628')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn628" onclick="toggleCodeBlock('cloneGroup628', 'expandBtn628', 'collapseBtn628')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup628"><code class="language-python text-sm text-gray-800">(
                proxy_origin=self._proxy.url.origin,
                proxy_headers=self._proxy.headers,
                proxy_ssl_context=self._proxy.ssl_context,
                remote_origin=origin,
                ssl_context=self._ssl_context,
                keepalive_expiry=self._keepalive_expiry,
                http1=self._http1,
                http2=self._http2,
                network_backend=self._network_backend,
            )

        return AsyncHTTPConnection</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 168:20 - Line 182:25), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 168:15 - Line 182:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn629" onclick="toggleCodeBlock('cloneGroup629', 'expandBtn629', 'collapseBtn629')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn629" onclick="toggleCodeBlock('cloneGroup629', 'expandBtn629', 'collapseBtn629')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup629"><code class="language-python text-sm text-gray-800">(
            origin=origin,
            ssl_context=self._ssl_context,
            keepalive_expiry=self._keepalive_expiry,
            http1=self._http1,
            http2=self._http2,
            retries=self._retries,
            local_address=self._local_address,
            uds=self._uds,
            network_backend=self._network_backend,
            socket_options=self._socket_options,
        )

    @property
    def connections(self) -&gt; list[AsyncConnectionInterface</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 199:21 - Line 220:17), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 199:15 - Line 220:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn630" onclick="toggleCodeBlock('cloneGroup630', 'expandBtn630', 'collapseBtn630')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn630" onclick="toggleCodeBlock('cloneGroup630', 'expandBtn630', 'collapseBtn630')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup630"><code class="language-python text-sm text-gray-800">(self, request: Request) -&gt; Response:
        &quot;&quot;&quot;
        Send an HTTP request, and return an HTTP response.

        This is the core implementation that is called into by `.request()` or `.stream()`.
        &quot;&quot;&quot;
        scheme = request.url.scheme.decode()
        if scheme == &quot;&quot;:
            raise UnsupportedProtocol(
                &quot;Request URL is missing an 'http://' or 'https://' protocol.&quot;
            )
        if scheme not in (&quot;http&quot;, &quot;https&quot;, &quot;ws&quot;, &quot;wss&quot;):
            raise UnsupportedProtocol(
                f&quot;Request URL has an unsupported protocol '{scheme}://'.&quot;
            )

        timeouts = request.extensions.get(&quot;timeout&quot;, {})
        timeout = timeouts.get(&quot;pool&quot;, None)

        with self._optional_thread_lock:
            # Add the incoming request to our request queue.
            pool_request = AsyncPoolRequest</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 270:25 - Line 341:6), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 270:20 - Line 341:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn631" onclick="toggleCodeBlock('cloneGroup631', 'expandBtn631', 'collapseBtn631')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn631" onclick="toggleCodeBlock('cloneGroup631', 'expandBtn631', 'collapseBtn631')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup631"><code class="language-python text-sm text-gray-800">]:
        &quot;&quot;&quot;
        Manage the state of the connection pool, assigning incoming
        requests to connections as available.

        Called whenever a new request is added or removed from the pool.

        Any closing connections are returned, allowing the I/O for closing
        those connections to be handled seperately.
        &quot;&quot;&quot;
        closing_connections = []

        # First we handle cleaning up any connections that are closed,
        # have expired their keep-alive, or surplus idle connections.
        for connection in list(self._connections):
            if connection.is_closed():
                # log: &quot;removing closed connection&quot;
                self._connections.remove(connection)
            elif connection.has_expired():
                # log: &quot;closing expired connection&quot;
                self._connections.remove(connection)
                closing_connections.append(connection)
            elif (
                connection.is_idle()
                and len([connection.is_idle() for connection in self._connections])
                &gt; self._max_keepalive_connections
            ):
                # log: &quot;closing idle connection&quot;
                self._connections.remove(connection)
                closing_connections.append(connection)

        # Assign queued requests to connections.
        queued_requests = [request for request in self._requests if request.is_queued()]
        for pool_request in queued_requests:
            origin = pool_request.request.url.origin
            available_connections = [
                connection
                for connection in self._connections
                if connection.can_handle_request(origin) and connection.is_available()
            ]
            idle_connections = [
                connection for connection in self._connections if connection.is_idle()
            ]

            # There are three cases for how we may be able to handle the request:
            #
            # 1. There is an existing connection that can handle the request.
            # 2. We can create a new connection to handle the request.
            # 3. We can close an idle connection and then create a new connection
            #    to handle the request.
            if available_connections:
                # log: &quot;reusing existing connection&quot;
                connection = available_connections[0]
                pool_request.assign_to_connection(connection)
            elif len(self._connections) &lt; self._max_connections:
                # log: &quot;creating new connection&quot;
                connection = self.create_connection(origin)
                self._connections.append(connection)
                pool_request.assign_to_connection(connection)
            elif idle_connections:
                # log: &quot;closing idle connection&quot;
                connection = idle_connections[0]
                self._connections.remove(connection)
                closing_connections.append(connection)
                # log: &quot;creating new connection&quot;
                connection = self.create_connection(origin)
                self._connections.append(connection)
                pool_request.assign_to_connection(connection)

        return closing_connections

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection_pool.py (Line 364:7 - Line 392:14), .venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py (Line 364:6 - Line 392:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn632" onclick="toggleCodeBlock('cloneGroup632', 'expandBtn632', 'collapseBtn632')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn632" onclick="toggleCodeBlock('cloneGroup632', 'expandBtn632', 'collapseBtn632')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup632"><code class="language-python text-sm text-gray-800">()

    def __repr__(self) -&gt; str:
        class_name = self.__class__.__name__
        with self._optional_thread_lock:
            request_is_queued = [request.is_queued() for request in self._requests]
            connection_is_idle = [
                connection.is_idle() for connection in self._connections
            ]

            num_active_requests = request_is_queued.count(False)
            num_queued_requests = request_is_queued.count(True)
            num_active_connections = connection_is_idle.count(False)
            num_idle_connections = connection_is_idle.count(True)

        requests_info = (
            f&quot;Requests: {num_active_requests} active, {num_queued_requests} queued&quot;
        )
        connection_info = (
            f&quot;Connections: {num_active_connections} active, {num_idle_connections} idle&quot;
        )

        return f&quot;&lt;{class_name} [{requests_info} | {connection_info}]&gt;&quot;


class PoolByteStream:
    def __init__(
        self,
        stream: typing.AsyncIterable</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection.py (Line 38:25 - Line 49:20), .venv/lib/python3.14/site-packages/httpcore/_sync/connection.py (Line 38:20 - Line 49:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn633" onclick="toggleCodeBlock('cloneGroup633', 'expandBtn633', 'collapseBtn633')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn633" onclick="toggleCodeBlock('cloneGroup633', 'expandBtn633', 'collapseBtn633')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup633"><code class="language-python text-sm text-gray-800">):
    def __init__(
        self,
        origin: Origin,
        ssl_context: ssl.SSLContext | None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        local_address: str | None = None,
        uds: str | None = None,
        network_backend: AsyncNetworkBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection.py (Line 42:2 - Line 52:5), .venv/lib/python3.14/site-packages/httpcore/_async/http_proxy.py (Line 67:2 - Line 111:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn634" onclick="toggleCodeBlock('cloneGroup634', 'expandBtn634', 'collapseBtn634')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn634" onclick="toggleCodeBlock('cloneGroup634', 'expandBtn634', 'collapseBtn634')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup634"><code class="language-python text-sm text-gray-800">| None = None,
        keepalive_expiry: float | None = None,
        http1: bool = True,
        http2: bool = False,
        retries: int = 0,
        local_address: str | None = None,
        uds: str | None = None,
        network_backend: AsyncNetworkBackend | None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection.py (Line 49:2 - Line 61:20), .venv/lib/python3.14/site-packages/httpcore/_sync/connection.py (Line 49:2 - Line 61:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn635" onclick="toggleCodeBlock('cloneGroup635', 'expandBtn635', 'collapseBtn635')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn635" onclick="toggleCodeBlock('cloneGroup635', 'expandBtn635', 'collapseBtn635')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup635"><code class="language-python text-sm text-gray-800">| None = None,
        socket_options: typing.Iterable[SOCKET_OPTION] | None = None,
    ) -&gt; None:
        self._origin = origin
        self._ssl_context = ssl_context
        self._keepalive_expiry = keepalive_expiry
        self._http1 = http1
        self._http2 = http2
        self._retries = retries
        self._local_address = local_address
        self._uds = uds

        self._network_backend: AsyncNetworkBackend</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection.py (Line 105:19 - Line 123:6), .venv/lib/python3.14/site-packages/httpcore/_sync/connection.py (Line 105:14 - Line 123:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn636" onclick="toggleCodeBlock('cloneGroup636', 'expandBtn636', 'collapseBtn636')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn636" onclick="toggleCodeBlock('cloneGroup636', 'expandBtn636', 'collapseBtn636')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup636"><code class="language-python text-sm text-gray-800">:
        timeouts = request.extensions.get(&quot;timeout&quot;, {})
        sni_hostname = request.extensions.get(&quot;sni_hostname&quot;, None)
        timeout = timeouts.get(&quot;connect&quot;, None)

        retries_left = self._retries
        delays = exponential_backoff(factor=RETRIES_BACKOFF_FACTOR)

        while True:
            try:
                if self._uds is None:
                    kwargs = {
                        &quot;host&quot;: self._origin.host.decode(&quot;ascii&quot;),
                        &quot;port&quot;: self._origin.port,
                        &quot;local_address&quot;: self._local_address,
                        &quot;timeout&quot;: timeout,
                        &quot;socket_options&quot;: self._socket_options,
                    }
                    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection.py (Line 135:2 - Line 155:6), .venv/lib/python3.14/site-packages/httpcore/_sync/connection.py (Line 135:2 - Line 155:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn637" onclick="toggleCodeBlock('cloneGroup637', 'expandBtn637', 'collapseBtn637')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn637" onclick="toggleCodeBlock('cloneGroup637', 'expandBtn637', 'collapseBtn637')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup637"><code class="language-python text-sm text-gray-800">self._network_backend.connect_unix_socket(
                            **kwargs
                        )
                        trace.return_value = stream

                if self._origin.scheme in (b&quot;https&quot;, b&quot;wss&quot;):
                    ssl_context = (
                        default_ssl_context()
                        if self._ssl_context is None
                        else self._ssl_context
                    )
                    alpn_protocols = [&quot;http/1.1&quot;, &quot;h2&quot;] if self._http2 else [&quot;http/1.1&quot;]
                    ssl_context.set_alpn_protocols(alpn_protocols)

                    kwargs = {
                        &quot;ssl_context&quot;: ssl_context,
                        &quot;server_hostname&quot;: sni_hostname
                        or self._origin.host.decode(&quot;ascii&quot;),
                        &quot;timeout&quot;: timeout,
                    }
                    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_async/connection.py (Line 173:7 - Line 213:6), .venv/lib/python3.14/site-packages/httpcore/_sync/connection.py (Line 173:6 - Line 213:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn638" onclick="toggleCodeBlock('cloneGroup638', 'expandBtn638', 'collapseBtn638')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn638" onclick="toggleCodeBlock('cloneGroup638', 'expandBtn638', 'collapseBtn638')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup638"><code class="language-python text-sm text-gray-800">()

    def is_available(self) -&gt; bool:
        if self._connection is None:
            # If HTTP/2 support is enabled, and the resulting connection could
            # end up as HTTP/2 then we should indicate the connection as being
            # available to service multiple requests.
            return (
                self._http2
                and (self._origin.scheme == b&quot;https&quot; or not self._http1)
                and not self._connect_failed
            )
        return self._connection.is_available()

    def has_expired(self) -&gt; bool:
        if self._connection is None:
            return self._connect_failed
        return self._connection.has_expired()

    def is_idle(self) -&gt; bool:
        if self._connection is None:
            return self._connect_failed
        return self._connection.is_idle()

    def is_closed(self) -&gt; bool:
        if self._connection is None:
            return self._connect_failed
        return self._connection.is_closed()

    def info(self) -&gt; str:
        if self._connection is None:
            return &quot;CONNECTION FAILED&quot; if self._connect_failed else &quot;CONNECTING&quot;
        return self._connection.info()

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self.__class__.__name__} [{self.info()}]&gt;&quot;

    # These context managers are not used in the standard flow, but are
    # useful for testing or working with connection instances directly.

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/http.py (Line 187:13 - Line 200:6), .venv/lib/python3.14/site-packages/fsspec/implementations/http_sync.py (Line 314:13 - Line 327:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn639" onclick="toggleCodeBlock('cloneGroup639', 'expandBtn639', 'collapseBtn639')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn639" onclick="toggleCodeBlock('cloneGroup639', 'expandBtn639', 'collapseBtn639')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup639"><code class="language-python text-sm text-gray-800">if l.startswith(&quot;http&quot;):
                if self.same_schema and l.startswith(url.rstrip(&quot;/&quot;) + &quot;/&quot;):
                    out.add(l)
                elif l.replace(&quot;https&quot;, &quot;http&quot;).startswith(
                    url.replace(&quot;https&quot;, &quot;http&quot;).rstrip(&quot;/&quot;) + &quot;/&quot;
                ):
                    # allowed to cross http &lt;-&gt; https
                    out.add(l)
            else:
                if l not in [&quot;..&quot;, &quot;../&quot;]:
                    # Ignore FTP-like &quot;parent&quot;
                    out.add(&quot;/&quot;.join([url.rstrip(&quot;/&quot;), l.lstrip(&quot;/&quot;)]))
        if not out and url.endswith(&quot;/&quot;):
            out = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/http.py (Line 231:10 - Line 241:6), .venv/lib/python3.14/site-packages/fsspec/implementations/http_sync.py (Line 356:9 - Line 366:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn640" onclick="toggleCodeBlock('cloneGroup640', 'expandBtn640', 'collapseBtn640')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn640" onclick="toggleCodeBlock('cloneGroup640', 'expandBtn640', 'collapseBtn640')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup640"><code class="language-python text-sm text-gray-800">(self, url, start=None, end=None, **kwargs):
        kw = self.kwargs.copy()
        kw.update(kwargs)
        logger.debug(url)

        if start is not None or end is not None:
            if start == end:
                return b&quot;&quot;
            headers = kw.pop(&quot;headers&quot;, {}).copy()

            headers[&quot;Range&quot;] = await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/http.py (Line 300:17 - Line 317:8), .venv/lib/python3.14/site-packages/fsspec/implementations/http_sync.py (Line 412:17 - Line 430:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn641" onclick="toggleCodeBlock('cloneGroup641', 'expandBtn641', 'collapseBtn641')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn641" onclick="toggleCodeBlock('cloneGroup641', 'expandBtn641', 'collapseBtn641')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup641"><code class="language-python text-sm text-gray-800">use_seek = True

            with context as f:
                if use_seek:
                    callback.set_size(f.seek(0, 2))
                    f.seek(0)
                else:
                    callback.set_size(getattr(f, &quot;size&quot;, None))

                chunk = f.read(chunk_size)
                while chunk:
                    yield chunk
                    callback.relative_update(len(chunk))
                    chunk = f.read(chunk_size)

        kw = self.kwargs.copy()
        kw.update(kwargs)
        session</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/http.py (Line 342:8 - Line 373:2), .venv/lib/python3.14/site-packages/fsspec/implementations/http_sync.py (Line 477:7 - Line 508:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn642" onclick="toggleCodeBlock('cloneGroup642', 'expandBtn642', 'collapseBtn642')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn642" onclick="toggleCodeBlock('cloneGroup642', 'expandBtn642', 'collapseBtn642')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup642"><code class="language-python text-sm text-gray-800">(path, **kwargs)

    def _open(
        self,
        path,
        mode=&quot;rb&quot;,
        block_size=None,
        autocommit=None,  # XXX: This differs from the base class.
        cache_type=None,
        cache_options=None,
        size=None,
        **kwargs,
    ):
        &quot;&quot;&quot;Make a file-like object

        Parameters
        ----------
        path: str
            Full URL with protocol
        mode: string
            must be &quot;rb&quot;
        block_size: int or None
            Bytes to download in one request; use instance value if None. If
            zero, will return a streaming Requests file-like instance.
        kwargs: key-value
            Any other parameters, passed to requests calls
        &quot;&quot;&quot;
        if mode != &quot;rb&quot;:
            raise NotImplementedError
        block_size = block_size if block_size is not None else self.block_size
        kw = self.kwargs.copy()
        kw[</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/http.py (Line 603:9 - Line 639:6), .venv/lib/python3.14/site-packages/fsspec/implementations/http_sync.py (Line 694:9 - Line 730:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn643" onclick="toggleCodeBlock('cloneGroup643', 'expandBtn643', 'collapseBtn643')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn643" onclick="toggleCodeBlock('cloneGroup643', 'expandBtn643', 'collapseBtn643')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup643"><code class="language-python text-sm text-gray-800">self.url = url
        self.session = session
        self.details = {&quot;name&quot;: url, &quot;size&quot;: size, &quot;type&quot;: &quot;file&quot;}
        super().__init__(
            fs=fs,
            path=url,
            mode=mode,
            block_size=block_size,
            cache_type=cache_type,
            cache_options=cache_options,
            **kwargs,
        )

    def read(self, length=-1):
        &quot;&quot;&quot;Read bytes from file

        Parameters
        ----------
        length: int
            Read up to this many bytes. If negative, read all content to end of
            file. If the server has not supplied the filesize, attempting to
            read only part of the data will raise a ValueError.
        &quot;&quot;&quot;
        if (
            (length &lt; 0 and self.loc == 0)  # explicit read all
            # but not when the size is known and fits into a block anyways
            and not (self.size is not None and self.size &lt;= self.blocksize)
        ):
            self._fetch_all()
        if self.size is None:
            if length &lt; 0:
                self._fetch_all()
        else:
            length = min(self.size - self.loc, length)
        return super().read(length)

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/http.py (Line 656:16 - Line 672:6), .venv/lib/python3.14/site-packages/fsspec/implementations/http_sync.py (Line 742:4 - Line 758:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn644" onclick="toggleCodeBlock('cloneGroup644', 'expandBtn644', 'collapseBtn644')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn644" onclick="toggleCodeBlock('cloneGroup644', 'expandBtn644', 'collapseBtn644')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup644"><code class="language-python text-sm text-gray-800">)

    def _parse_content_range(self, headers):
        &quot;&quot;&quot;Parse the Content-Range header&quot;&quot;&quot;
        s = headers.get(&quot;Content-Range&quot;, &quot;&quot;)
        m = re.match(r&quot;bytes (\d+-\d+|\*)/(\d+|\*)&quot;, s)
        if not m:
            return None, None, None

        if m[1] == &quot;*&quot;:
            start = end = None
        else:
            start, end = [int(x) for x in m[1].split(&quot;-&quot;)]
        total = None if m[2] == &quot;*&quot; else int(m[2])
        return start, end, total

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/implementations/cached.py (Line 923:9 - Line 941:7), .venv/lib/python3.14/site-packages/fsspec/implementations/cached.py (Line 716:9 - Line 734:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn645" onclick="toggleCodeBlock('cloneGroup645', 'expandBtn645', 'collapseBtn645')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn645" onclick="toggleCodeBlock('cloneGroup645', 'expandBtn645', 'collapseBtn645')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup645"><code class="language-python text-sm text-gray-800">if self.compression:
            with self.fs._open(path, **kwargs) as f, open(fn, &quot;wb&quot;) as f2:
                if isinstance(f, AbstractBufferedFile):
                    # want no type of caching if just downloading whole thing
                    f.cache = BaseCache(0, f.cache.fetcher, f.size)
                comp = (
                    infer_compression(path)
                    if self.compression == &quot;infer&quot;
                    else self.compression
                )
                f = compr[comp](f, mode=&quot;rb&quot;)
                data = True
                while data:
                    block = getattr(f, &quot;blocksize&quot;, 5 * 2**20)
                    data = f.read(block)
                    f2.write(data)
        else:
            self.fs.get_file(path, fn)
        return</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/streams/stapled.py (Line 76:7 - Line 95:14), .venv/lib/python3.14/site-packages/anyio/streams/stapled.py (Line 40:6 - Line 59:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn646" onclick="toggleCodeBlock('cloneGroup646', 'expandBtn646', 'collapseBtn646')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn646" onclick="toggleCodeBlock('cloneGroup646', 'expandBtn646', 'collapseBtn646')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup646"><code class="language-python text-sm text-gray-800">) -&gt; None:
        await self.send_stream.send(item)

    async def send_eof(self) -&gt; None:
        await self.send_stream.aclose()

    async def aclose(self) -&gt; None:
        await self.send_stream.aclose()
        await self.receive_stream.aclose()

    @property
    def extra_attributes(self) -&gt; Mapping[Any, Callable[[], Any]]:
        return {
            **self.send_stream.extra_attributes,
            **self.receive_stream.extra_attributes,
        }


@dataclass(eq=False)
class MultiListener</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/streams/memory.py (Line 301:9 - Line 319:2), .venv/lib/python3.14/site-packages/anyio/streams/memory.py (Line 170:5 - Line 188:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn647" onclick="toggleCodeBlock('cloneGroup647', 'expandBtn647', 'collapseBtn647')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn647" onclick="toggleCodeBlock('cloneGroup647', 'expandBtn647', 'collapseBtn647')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup647"><code class="language-python text-sm text-gray-800">]:
        return self

    def __exit__(
        self,
        exc_type: type[BaseException] | None,
        exc_val: BaseException | None,
        exc_tb: TracebackType | None,
    ) -&gt; None:
        self.close()

    def __del__(self) -&gt; None:
        if not self._closed:
            warnings.warn(
                f&quot;Unclosed &lt;{self.__class__.__name__} at {id(self):x}&gt;&quot;,
                ResourceWarning,
                stacklevel=1,
                source=self,
            )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 63:13 - Line 74:4), .venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 50:2 - Line 60:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn648" onclick="toggleCodeBlock('cloneGroup648', 'expandBtn648', 'collapseBtn648')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn648" onclick="toggleCodeBlock('cloneGroup648', 'expandBtn648', 'collapseBtn648')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup648"><code class="language-python text-sm text-gray-800">,
        buffering: int = ...,
        encoding: str | None = ...,
        newline: str | None = ...,
        suffix: str | None = ...,
        prefix: str | None = ...,
        dir: str | None = ...,
        *,
        errors: str | None = ...,
    ): ...

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 147:19 - Line 155:7), .venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 49:14 - Line 57:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn649" onclick="toggleCodeBlock('cloneGroup649', 'expandBtn649', 'collapseBtn649')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn649" onclick="toggleCodeBlock('cloneGroup649', 'expandBtn649', 'collapseBtn649')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup649"><code class="language-python text-sm text-gray-800">[bytes],
        mode: OpenBinaryMode = ...,
        buffering: int = ...,
        encoding: str | None = ...,
        newline: str | None = ...,
        suffix: str | None = ...,
        prefix: str | None = ...,
        dir: str | None = ...,
        delete</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 162:19 - Line 176:4), .venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 62:14 - Line 160:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn650" onclick="toggleCodeBlock('cloneGroup650', 'expandBtn650', 'collapseBtn650')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn650" onclick="toggleCodeBlock('cloneGroup650', 'expandBtn650', 'collapseBtn650')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup650"><code class="language-python text-sm text-gray-800">[str],
        mode: OpenTextMode,
        buffering: int = ...,
        encoding: str | None = ...,
        newline: str | None = ...,
        suffix: str | None = ...,
        prefix: str | None = ...,
        dir: str | None = ...,
        delete: bool = ...,
        *,
        errors: str | None = ...,
        delete_on_close: bool = ...,
    ): ...

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 244:2 - Line 257:21), .venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 49:2 - Line 62:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn651" onclick="toggleCodeBlock('cloneGroup651', 'expandBtn651', 'collapseBtn651')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn651" onclick="toggleCodeBlock('cloneGroup651', 'expandBtn651', 'collapseBtn651')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup651"><code class="language-python text-sm text-gray-800">,
        mode: OpenBinaryMode = ...,
        buffering: int = ...,
        encoding: str | None = ...,
        newline: str | None = ...,
        suffix: str | None = ...,
        prefix: str | None = ...,
        dir: str | None = ...,
        *,
        errors: str | None = ...,
    ): ...
    @overload
    def __init__(
        self: SpooledTemporaryFile</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 259:2 - Line 272:9), .venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 50:2 - Line 76:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn652" onclick="toggleCodeBlock('cloneGroup652', 'expandBtn652', 'collapseBtn652')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn652" onclick="toggleCodeBlock('cloneGroup652', 'expandBtn652', 'collapseBtn652')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup652"><code class="language-python text-sm text-gray-800">= ...,
        buffering: int = ...,
        encoding: str | None = ...,
        newline: str | None = ...,
        suffix: str | None = ...,
        prefix: str | None = ...,
        dir: str | None = ...,
        *,
        errors: str | None = ...,
    ): ...

    def __init__(
        self,
        max_size</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 273:2 - Line 283:17), .venv/lib/python3.14/site-packages/anyio/_core/_tempfile.py (Line 76:2 - Line 86:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn653" onclick="toggleCodeBlock('cloneGroup653', 'expandBtn653', 'collapseBtn653')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn653" onclick="toggleCodeBlock('cloneGroup653', 'expandBtn653', 'collapseBtn653')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup653"><code class="language-python text-sm text-gray-800">= &quot;w+b&quot;,
        buffering: int = -1,
        encoding: str | None = None,
        newline: str | None = None,
        suffix: str | None = None,
        prefix: str | None = None,
        dir: str | None = None,
        *,
        errors: str | None = None,
    ) -&gt; None:
        self._tempfile_params</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_subprocesses.py (Line 133:5 - Line 144:8), .venv/lib/python3.14/site-packages/anyio/_core/_subprocesses.py (Line 29:5 - Line 40:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn654" onclick="toggleCodeBlock('cloneGroup654', 'expandBtn654', 'collapseBtn654')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn654" onclick="toggleCodeBlock('cloneGroup654', 'expandBtn654', 'collapseBtn654')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup654"><code class="language-python text-sm text-gray-800">,
    cwd: StrOrBytesPath | None = None,
    env: Mapping[str, str] | None = None,
    startupinfo: Any = None,
    creationflags: int = 0,
    start_new_session: bool = False,
    pass_fds: Sequence[int] = (),
    user: str | int | None = None,
    group: str | int | None = None,
    extra_groups: Iterable[str | int] | None = None,
    umask: int = -1,
) -&gt; Process</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_sockets.py (Line 525:5 - Line 536:8), .venv/lib/python3.14/site-packages/anyio/_core/_sockets.py (Line 477:5 - Line 487:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn655" onclick="toggleCodeBlock('cloneGroup655', 'expandBtn655', 'collapseBtn655')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn655" onclick="toggleCodeBlock('cloneGroup655', 'expandBtn655', 'collapseBtn655')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup655"><code class="language-python text-sm text-gray-800">if local_host:
        gai_res = await getaddrinfo(
            str(local_host),
            local_port,
            family=family,
            type=socket.SOCK_DGRAM,
            flags=socket.AI_PASSIVE | socket.AI_ADDRCONFIG,
        )
        family = cast(AnyIPAddressFamily, gai_res[0][0])
        local_address = gai_res[0][-1]

    gai_res</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/anyio/_core/_fileio.py (Line 159:2 - Line 166:4), .venv/lib/python3.14/site-packages/anyio/_core/_fileio.py (Line 146:15 - Line 153:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn656" onclick="toggleCodeBlock('cloneGroup656', 'expandBtn656', 'collapseBtn656')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn656" onclick="toggleCodeBlock('cloneGroup656', 'expandBtn656', 'collapseBtn656')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup656"><code class="language-python text-sm text-gray-800">,
    buffering: int = ...,
    encoding: str | None = ...,
    errors: str | None = ...,
    newline: str | None = ...,
    closefd: bool = ...,
    opener: Callable[[str, int], int] | None = ...,
) -&gt; AsyncFile[str</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/_pytest/_io/pprint.py (Line 413:24 - Line 430:4), .venv/lib/python3.14/site-packages/_pytest/_io/pprint.py (Line 389:19 - Line 406:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn657" onclick="toggleCodeBlock('cloneGroup657', 'expandBtn657', 'collapseBtn657')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn657" onclick="toggleCodeBlock('cloneGroup657', 'expandBtn657', 'collapseBtn657')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup657"><code class="language-python text-sm text-gray-800">(
        self,
        items: list[tuple[Any, Any]],
        stream: IO[str],
        indent: int,
        allowance: int,
        context: set[int],
        level: int,
    ) -&gt; None:
        if not items:
            return

        write = stream.write
        item_indent = indent + self._indent_per_level
        delimnl = &quot;\n&quot; + &quot; &quot; * item_indent
        for key, ent in items:
            write(delimnl)
            write(key</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/_pytest/_io/pprint.py (Line 564:18 - Line 575:9), .venv/lib/python3.14/site-packages/_pytest/_io/pprint.py (Line 551:18 - Line 562:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn658" onclick="toggleCodeBlock('cloneGroup658', 'expandBtn658', 'collapseBtn658')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn658" onclick="toggleCodeBlock('cloneGroup658', 'expandBtn658', 'collapseBtn658')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup658"><code class="language-python text-sm text-gray-800">(
        self,
        object: Any,
        stream: IO[str],
        indent: int,
        allowance: int,
        context: set[int],
        level: int,
    ) -&gt; None:
        self._format(object.data, stream, indent, allowance, context, level - 1)

    _dispatch[_collections.UserList</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/_pytest/_io/pprint.py (Line 577:20 - Line 588:11), .venv/lib/python3.14/site-packages/_pytest/_io/pprint.py (Line 551:18 - Line 562:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn659" onclick="toggleCodeBlock('cloneGroup659', 'expandBtn659', 'collapseBtn659')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn659" onclick="toggleCodeBlock('cloneGroup659', 'expandBtn659', 'collapseBtn659')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup659"><code class="language-python text-sm text-gray-800">(
        self,
        object: Any,
        stream: IO[str],
        indent: int,
        allowance: int,
        context: set[int],
        level: int,
    ) -&gt; None:
        self._format(object.data, stream, indent, allowance, context, level - 1)

    _dispatch[_collections.UserString</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/yaml/dumper.py (Line 27:9 - Line 41:16), .venv/lib/python3.14/site-packages/yaml/dumper.py (Line 9:13 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn660" onclick="toggleCodeBlock('cloneGroup660', 'expandBtn660', 'collapseBtn660')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn660" onclick="toggleCodeBlock('cloneGroup660', 'expandBtn660', 'collapseBtn660')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup660"><code class="language-python text-sm text-gray-800">):

    def __init__(self, stream,
            default_style=None, default_flow_style=False,
            canonical=None, indent=None, width=None,
            allow_unicode=None, line_break=None,
            encoding=None, explicit_start=None, explicit_end=None,
            version=None, tags=None, sort_keys=True):
        Emitter.__init__(self, stream, canonical=canonical,
                indent=indent, width=width,
                allow_unicode=allow_unicode, line_break=line_break)
        Serializer.__init__(self, encoding=encoding,
                explicit_start=explicit_start, explicit_end=explicit_end,
                version=version, tags=tags)
        SafeRepresenter</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/yaml/dumper.py (Line 45:12 - Line 61:2), .venv/lib/python3.14/site-packages/yaml/dumper.py (Line 27:16 - Line 25:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn661" onclick="toggleCodeBlock('cloneGroup661', 'expandBtn661', 'collapseBtn661')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn661" onclick="toggleCodeBlock('cloneGroup661', 'expandBtn661', 'collapseBtn661')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup661"><code class="language-python text-sm text-gray-800">, Resolver):

    def __init__(self, stream,
            default_style=None, default_flow_style=False,
            canonical=None, indent=None, width=None,
            allow_unicode=None, line_break=None,
            encoding=None, explicit_start=None, explicit_end=None,
            version=None, tags=None, sort_keys=True):
        Emitter.__init__(self, stream, canonical=canonical,
                indent=indent, width=width,
                allow_unicode=allow_unicode, line_break=line_break)
        Serializer.__init__(self, encoding=encoding,
                explicit_start=explicit_start, explicit_end=explicit_end,
                version=version, tags=tags)
        Representer.__init__(self, default_style=default_style,
                default_flow_style=default_flow_style, sort_keys=sort_keys)
        Resolver.__init__(self)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/yaml/cyaml.py (Line 51:9 - Line 59:9), .venv/lib/python3.14/site-packages/yaml/dumper.py (Line 9:11 - Line 17:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn662" onclick="toggleCodeBlock('cloneGroup662', 'expandBtn662', 'collapseBtn662')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn662" onclick="toggleCodeBlock('cloneGroup662', 'expandBtn662', 'collapseBtn662')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup662"><code class="language-python text-sm text-gray-800">, BaseRepresenter, BaseResolver):

    def __init__(self, stream,
            default_style=None, default_flow_style=False,
            canonical=None, indent=None, width=None,
            allow_unicode=None, line_break=None,
            encoding=None, explicit_start=None, explicit_end=None,
            version=None, tags=None, sort_keys=True):
        CEmitter</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/yaml/cyaml.py (Line 68:9 - Line 81:16), .venv/lib/python3.14/site-packages/yaml/dumper.py (Line 27:11 - Line 64:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn663" onclick="toggleCodeBlock('cloneGroup663', 'expandBtn663', 'collapseBtn663')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn663" onclick="toggleCodeBlock('cloneGroup663', 'expandBtn663', 'collapseBtn663')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup663"><code class="language-python text-sm text-gray-800">, SafeRepresenter, Resolver):

    def __init__(self, stream,
            default_style=None, default_flow_style=False,
            canonical=None, indent=None, width=None,
            allow_unicode=None, line_break=None,
            encoding=None, explicit_start=None, explicit_end=None,
            version=None, tags=None, sort_keys=True):
        CEmitter.__init__(self, stream, canonical=canonical,
                indent=indent, width=width, encoding=encoding,
                allow_unicode=allow_unicode, line_break=line_break,
                explicit_start=explicit_start, explicit_end=explicit_end,
                version=version, tags=tags)
        SafeRepresenter</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/yaml/cyaml.py (Line 85:9 - Line 100:2), .venv/lib/python3.14/site-packages/yaml/dumper.py (Line 45:8 - Line 66:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn664" onclick="toggleCodeBlock('cloneGroup664', 'expandBtn664', 'collapseBtn664')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn664" onclick="toggleCodeBlock('cloneGroup664', 'expandBtn664', 'collapseBtn664')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup664"><code class="language-python text-sm text-gray-800">, Serializer, Representer, Resolver):

    def __init__(self, stream,
            default_style=None, default_flow_style=False,
            canonical=None, indent=None, width=None,
            allow_unicode=None, line_break=None,
            encoding=None, explicit_start=None, explicit_end=None,
            version=None, tags=None, sort_keys=True):
        CEmitter.__init__(self, stream, canonical=canonical,
                indent=indent, width=width, encoding=encoding,
                allow_unicode=allow_unicode, line_break=line_break,
                explicit_start=explicit_start, explicit_end=explicit_end,
                version=version, tags=tags)
        Representer.__init__(self, default_style=default_style,
                default_flow_style=default_flow_style, sort_keys=sort_keys)
        Resolver.__init__(self)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/yaml/constructor.py (Line 500:23 - Line 516:4), .venv/lib/python3.14/site-packages/yaml/constructor.py (Line 294:22 - Line 310:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn665" onclick="toggleCodeBlock('cloneGroup665', 'expandBtn665', 'collapseBtn665')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn665" onclick="toggleCodeBlock('cloneGroup665', 'expandBtn665', 'collapseBtn665')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup665"><code class="language-python text-sm text-gray-800">(self, node):
        try:
            value = self.construct_scalar(node).encode('ascii')
        except UnicodeEncodeError as exc:
            raise ConstructorError(None, None,
                    &quot;failed to convert base64 data into ascii: %s&quot; % exc,
                    node.start_mark)
        try:
            if hasattr(base64, 'decodebytes'):
                return base64.decodebytes(value)
            else:
                return base64.decodestring(value)
        except binascii.Error as exc:
            raise ConstructorError(None, None,
                    &quot;failed to decode base64 data: %s&quot; % exc, node.start_mark)

    def</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/poolmanager.py (Line 97:8 - Line 143:74), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/poolmanager.py (Line 79:2 - Line 125:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn666" onclick="toggleCodeBlock('cloneGroup666', 'expandBtn666', 'collapseBtn666')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn666" onclick="toggleCodeBlock('cloneGroup666', 'expandBtn666', 'collapseBtn666')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup666"><code class="language-python text-sm text-gray-800">:
    &quot;&quot;&quot;
    Create a pool key out of a request context dictionary.

    According to RFC 3986, both the scheme and host are case-insensitive.
    Therefore, this function normalizes both before constructing the pool
    key for an HTTPS request. If you wish to change this behaviour, provide
    alternate callables to ``key_fn_by_scheme``.

    :param key_class:
        The class to use when constructing the key. This should be a namedtuple
        with the ``scheme`` and ``host`` keys at a minimum.
    :type  key_class: namedtuple
    :param request_context:
        A dictionary-like object that contain the context for a request.
    :type  request_context: dict

    :return: A namedtuple that can be used as a connection pool key.
    :rtype:  PoolKey
    &quot;&quot;&quot;
    # Since we mutate the dictionary, make a copy first
    context = request_context.copy()
    context[&quot;scheme&quot;] = context[&quot;scheme&quot;].lower()
    context[&quot;host&quot;] = context[&quot;host&quot;].lower()

    # These are both dictionaries and need to be transformed into frozensets
    for key in (&quot;headers&quot;, &quot;_proxy_headers&quot;, &quot;_socks_options&quot;):
        if key in context and context[key] is not None:
            context[key] = frozenset(context[key].items())

    # The socket_options key may be a list and needs to be transformed into a
    # tuple.
    socket_opts = context.get(&quot;socket_options&quot;)
    if socket_opts is not None:
        context[&quot;socket_options&quot;] = tuple(socket_opts)

    # Map the kwargs to the names in the namedtuple - this is necessary since
    # namedtuples can't have fields starting with '_'.
    for key in list(context.keys()):
        context[&quot;key_&quot; + key] = context.pop(key)

    # Default to ``None`` for keys missing from the context
    for field in key_class._fields:
        if field not in context:
            context[field] = None

    # Default key_blocksize to _DEFAULT_BLOCKSIZE if missing from the context</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/poolmanager.py (Line 298:19 - Line 322:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/poolmanager.py (Line 225:2 - Line 248:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn667" onclick="toggleCodeBlock('cloneGroup667', 'expandBtn667', 'collapseBtn667')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn667" onclick="toggleCodeBlock('cloneGroup667', 'expandBtn667', 'collapseBtn667')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup667"><code class="language-python text-sm text-gray-800">:
        &quot;&quot;&quot;
        Get a :class:`urllib3.connectionpool.ConnectionPool` based on the host, port, and scheme.

        If ``port`` isn't given, it will be derived from the ``scheme`` using
        ``urllib3.connectionpool.port_by_scheme``. If ``pool_kwargs`` is
        provided, it is merged with the instance's ``connection_pool_kw``
        variable and used to create the new connection pool, if one is
        needed.
        &quot;&quot;&quot;

        if not host:
            raise LocationValueError(&quot;No host specified.&quot;)

        request_context = self._merge_pool_kwargs(pool_kwargs)
        request_context[&quot;scheme&quot;] = scheme or &quot;http&quot;
        if not port:
            port = port_by_scheme.get(request_context[&quot;scheme&quot;].lower(), 80)
        request_context[&quot;port&quot;] = port
        request_context[&quot;host&quot;] = host

        return self.connection_from_context(request_context)

    def connection_from_context(
        self, request_context:</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/poolmanager.py (Line 348:19 - Line 373:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/poolmanager.py (Line 263:2 - Line 287:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn668" onclick="toggleCodeBlock('cloneGroup668', 'expandBtn668', 'collapseBtn668')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn668" onclick="toggleCodeBlock('cloneGroup668', 'expandBtn668', 'collapseBtn668')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup668"><code class="language-python text-sm text-gray-800">:
        &quot;&quot;&quot;
        Get a :class:`urllib3.connectionpool.ConnectionPool` based on the provided pool key.

        ``pool_key`` should be a namedtuple that only contains immutable
        objects. At a minimum it must have the ``scheme``, ``host``, and
        ``port`` fields.
        &quot;&quot;&quot;
        with self.pools.lock:
            # If the scheme, host, or port doesn't match existing open
            # connections, open a new ConnectionPool.
            pool = self.pools.get(pool_key)
            if pool:
                return pool

            # Make a fresh ConnectionPool of the desired type
            scheme = request_context[&quot;scheme&quot;]
            host = request_context[&quot;host&quot;]
            port = request_context[&quot;port&quot;]
            pool = self._new_pool(scheme, host, port, request_context=request_context)
            self.pools[pool_key] = pool

        return pool

    def connection_from_url(
        self, url:</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/poolmanager.py (Line 456:9 - Line 475:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/poolmanager.py (Line 373:9 - Line 392:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn669" onclick="toggleCodeBlock('cloneGroup669', 'expandBtn669', 'collapseBtn669')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn669" onclick="toggleCodeBlock('cloneGroup669', 'expandBtn669', 'collapseBtn669')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup669"><code class="language-python text-sm text-gray-800">if self._proxy_requires_url_absolute_form(u):
            response = conn.urlopen(method, url, **kw)
        else:
            response = conn.urlopen(method, u.request_uri, **kw)

        redirect_location = redirect and response.get_redirect_location()
        if not redirect_location:
            return response

        # Support relative URLs for redirecting.
        redirect_location = urljoin(url, redirect_location)

        if response.status == 303:
            # Change the method according to RFC 9110, Section 15.4.4.
            method = &quot;GET&quot;
            # And lose the body not to transfer anything sensitive.
            kw[&quot;body&quot;] = None
            kw[&quot;headers&quot;] = HTTPHeaderDict(kw[&quot;headers&quot;])._prepare_for_method_change()

        retries = kw.get(&quot;retries&quot;,</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/poolmanager.py (Line 491:9 - Line 561:8), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/poolmanager.py (Line 407:9 - Line 462:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn670" onclick="toggleCodeBlock('cloneGroup670', 'expandBtn670', 'collapseBtn670')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn670" onclick="toggleCodeBlock('cloneGroup670', 'expandBtn670', 'collapseBtn670')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup670"><code class="language-python text-sm text-gray-800">try:
            retries = retries.increment(method, url, response=response, _pool=conn)
        except MaxRetryError:
            if retries.raise_on_redirect:
                response.drain_conn()
                raise
            return response

        kw[&quot;retries&quot;] = retries
        kw[&quot;redirect&quot;] = redirect

        log.info(&quot;Redirecting %s -&gt; %s&quot;, url, redirect_location)

        response.drain_conn()
        return self.urlopen(method, redirect_location, **kw)


class ProxyManager(PoolManager):
    &quot;&quot;&quot;
    Behaves just like :class:`PoolManager`, but sends all requests through
    the defined proxy, using the CONNECT method for HTTPS URLs.

    :param proxy_url:
        The URL of the proxy to be used.

    :param proxy_headers:
        A dictionary containing headers that will be sent to the proxy. In case
        of HTTP they are being sent with each request, while in the
        HTTPS/CONNECT case they are sent only once. Could be used for proxy
        authentication.

    :param proxy_ssl_context:
        The proxy SSL context is used to establish the TLS connection to the
        proxy when using HTTPS proxies.

    :param use_forwarding_for_https:
        (Defaults to False) If set to True will forward requests to the HTTPS
        proxy to be made on behalf of the client instead of creating a TLS
        tunnel via the CONNECT method. **Enabling this flag means that request
        and response headers and content will be visible from the HTTPS proxy**
        whereas tunneling keeps request and response headers and content
        private.  IP address, target hostname, SNI, and port are always visible
        to an HTTPS proxy even when this flag is disabled.

    :param proxy_assert_hostname:
        The hostname of the certificate to verify against.

    :param proxy_assert_fingerprint:
        The fingerprint of the certificate to verify against.

    Example:

    .. code-block:: python

        import urllib3

        proxy = urllib3.ProxyManager(&quot;https://localhost:3128/&quot;)

        resp1 = proxy.request(&quot;GET&quot;, &quot;https://google.com/&quot;)
        resp2 = proxy.request(&quot;GET&quot;, &quot;https://httpbin.org/&quot;)

        print(len(proxy.pools))
        # 1

        resp3 = proxy.request(&quot;GET&quot;, &quot;https://httpbin.org/&quot;)
        resp4 = proxy.request(&quot;GET&quot;, &quot;https://twitter.com/&quot;)

        print(len(proxy.pools))
        # 3

    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/poolmanager.py (Line 579:14 - Line 593:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/poolmanager.py (Line 481:10 - Line 493:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn671" onclick="toggleCodeBlock('cloneGroup671', 'expandBtn671', 'collapseBtn671')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn671" onclick="toggleCodeBlock('cloneGroup671', 'expandBtn671', 'collapseBtn671')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup671"><code class="language-python text-sm text-gray-800">)

        if proxy.scheme not in (&quot;http&quot;, &quot;https&quot;):
            raise ProxySchemeUnknown(proxy.scheme)

        if not proxy.port:
            port = port_by_scheme.get(proxy.scheme, 80)
            proxy = proxy._replace(port=port)

        self.proxy = proxy
        self.proxy_headers = proxy_headers or {}
        self.proxy_ssl_context = proxy_ssl_context
        self.proxy_config = ProxyConfig(
            proxy_ssl_context,
            use_forwarding_for_https,</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/fields.py (Line 226:9 - Line 244:2), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/fields.py (Line 177:9 - Line 195:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn672" onclick="toggleCodeBlock('cloneGroup672', 'expandBtn672', 'collapseBtn672')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn672" onclick="toggleCodeBlock('cloneGroup672', 'expandBtn672', 'collapseBtn672')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup672"><code class="language-python text-sm text-gray-800">if isinstance(value, tuple):
            if len(value) == 3:
                filename, data, content_type = value
            else:
                filename, data = value
                content_type = guess_content_type(filename)
        else:
            filename = None
            content_type = None
            data = value

        request_param = cls(
            fieldname, data, filename=filename, header_formatter=header_formatter
        )
        request_param.make_multipart(content_type=content_type)

        return request_param

    def _render_part(self, name:</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/_base_connection.py (Line 77:9 - Line 91:2), .venv/lib/python3.14/site-packages/urllib3/contrib/emscripten/connection.py (Line 84:5 - Line 99:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn673" onclick="toggleCodeBlock('cloneGroup673', 'expandBtn673', 'collapseBtn673')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn673" onclick="toggleCodeBlock('cloneGroup673', 'expandBtn673', 'collapseBtn673')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup673"><code class="language-python text-sm text-gray-800">def request(
            self,
            method: str,
            url: str,
            body: _TYPE_BODY | None = None,
            headers: typing.Mapping[str, str] | None = None,
            # We know *at least* botocore is depending on the order of the
            # first 3 parameters so to be safe we only mark the later ones
            # as keyword-only to ensure we have space to extend.
            *,
            chunked: bool = False,
            preload_content: bool = True,
            decode_content: bool = True,
            enforce_content_length: bool = True,
        ) -&gt; None: .</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/_base_connection.py (Line 148:2 - Line 155:4), .venv/lib/python3.14/site-packages/urllib3/contrib/emscripten/connection.py (Line 187:23 - Line 194:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn674" onclick="toggleCodeBlock('cloneGroup674', 'expandBtn674', 'collapseBtn674')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn674" onclick="toggleCodeBlock('cloneGroup674', 'expandBtn674', 'collapseBtn674')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup674"><code class="language-python text-sm text-gray-800">,
            proxy: Url | None = None,
            proxy_config: ProxyConfig | None = None,
            cert_reqs: int | str | None = None,
            assert_hostname: None | str | typing.Literal[False] = None,
            assert_fingerprint: str | None = None,
            server_hostname: str | None = None,
            ssl_context: ssl</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/_base_connection.py (Line 155:2 - Line 165:2), .venv/lib/python3.14/site-packages/urllib3/contrib/emscripten/connection.py (Line 194:2 - Line 205:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn675" onclick="toggleCodeBlock('cloneGroup675', 'expandBtn675', 'collapseBtn675')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn675" onclick="toggleCodeBlock('cloneGroup675', 'expandBtn675', 'collapseBtn675')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup675"><code class="language-python text-sm text-gray-800">| None = None,
            ca_certs: str | None = None,
            ca_cert_dir: str | None = None,
            ca_cert_data: None | str | bytes = None,
            ssl_minimum_version: int | None = None,
            ssl_maximum_version: int | None = None,
            ssl_version: int | str | None = None,  # Deprecated
            cert_file: str | None = None,
            key_file: str | None = None,
            key_password: str | None = None,
        ) -&gt; None: .</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/urllib3/__init__.py (Line 76:2 - Line 103:80), .venv/lib/python3.14/site-packages/pip/_vendor/urllib3/__init__.py (Line 63:2 - Line 90:54)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn676" onclick="toggleCodeBlock('cloneGroup676', 'expandBtn676', 'collapseBtn676')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn676" onclick="toggleCodeBlock('cloneGroup676', 'expandBtn676', 'collapseBtn676')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup676"><code class="language-python text-sm text-gray-800">:
    &quot;&quot;&quot;
    Helper for quickly adding a StreamHandler to the logger. Useful for
    debugging.

    Returns the handler after adding it.
    &quot;&quot;&quot;
    # This method needs to be in this __init__.py to get the __name__ correct
    # even if urllib3 is vendored within another package.
    logger = logging.getLogger(__name__)
    handler = logging.StreamHandler()
    handler.setFormatter(logging.Formatter(&quot;%(asctime)s %(levelname)s %(message)s&quot;))
    logger.addHandler(handler)
    logger.setLevel(level)
    logger.debug(&quot;Added a stderr logging handler to logger: %s&quot;, __name__)
    return handler


# ... Clean up.
del NullHandler


# All warning filters *must* be appended unless you're really certain that they
# shouldn't be: otherwise, it's very hard for users to use most Python
# mechanisms to silence them.
# SecurityWarning's always go off by default.
warnings.simplefilter(&quot;always&quot;, exceptions.SecurityWarning, append=True)
# InsecurePlatformWarning's don't vary between requests, so we keep it default.</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/tqdm/gui.py (Line 159:6 - Line 168:3), .venv/lib/python3.14/site-packages/tqdm/tk.py (Line 131:2 - Line 139:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn677" onclick="toggleCodeBlock('cloneGroup677', 'expandBtn677', 'collapseBtn677')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn677" onclick="toggleCodeBlock('cloneGroup677', 'expandBtn677', 'collapseBtn677')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup677"><code class="language-python text-sm text-gray-800">)

        d = self.format_dict
        # remove {bar}
        d['bar_format'] = (d['bar_format'] or &quot;{l_bar}&lt;bar/&gt;{r_bar}&quot;).replace(
            &quot;{bar}&quot;, &quot;&lt;bar/&gt;&quot;)
        msg = self.format_meter(**d)
        if '&lt;bar/&gt;' in msg:
            msg = &quot;&quot;.join(re.split(r'\|?&lt;bar/&gt;\|?', msg, maxsplit=1))
        ax</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/structures.py (Line 1:1 - Line 99:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/structures.py (Line 1:1 - Line 99:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn678" onclick="toggleCodeBlock('cloneGroup678', 'expandBtn678', 'collapseBtn678')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn678" onclick="toggleCodeBlock('cloneGroup678', 'expandBtn678', 'collapseBtn678')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup678"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests.structures
~~~~~~~~~~~~~~~~~~~

Data structures that power Requests.
&quot;&quot;&quot;

from collections import OrderedDict

from .compat import Mapping, MutableMapping


class CaseInsensitiveDict(MutableMapping):
    &quot;&quot;&quot;A case-insensitive ``dict``-like object.

    Implements all methods and operations of
    ``MutableMapping`` as well as dict's ``copy``. Also
    provides ``lower_items``.

    All keys are expected to be strings. The structure remembers the
    case of the last key to be set, and ``iter(instance)``,
    ``keys()``, ``items()``, ``iterkeys()``, and ``iteritems()``
    will contain case-sensitive keys. However, querying and contains
    testing is case insensitive::

        cid = CaseInsensitiveDict()
        cid['Accept'] = 'application/json'
        cid['aCCEPT'] == 'application/json'  # True
        list(cid) == ['Accept']  # True

    For example, ``headers['content-encoding']`` will return the
    value of a ``'Content-Encoding'`` response header, regardless
    of how the header name was originally stored.

    If the constructor, ``.update``, or equality comparison
    operations are given keys that have equal ``.lower()``s, the
    behavior is undefined.
    &quot;&quot;&quot;

    def __init__(self, data=None, **kwargs):
        self._store = OrderedDict()
        if data is None:
            data = {}
        self.update(data, **kwargs)

    def __setitem__(self, key, value):
        # Use the lowercased key for lookups, but store the actual
        # key alongside the value.
        self._store[key.lower()] = (key, value)

    def __getitem__(self, key):
        return self._store[key.lower()][1]

    def __delitem__(self, key):
        del self._store[key.lower()]

    def __iter__(self):
        return (casedkey for casedkey, mappedvalue in self._store.values())

    def __len__(self):
        return len(self._store)

    def lower_items(self):
        &quot;&quot;&quot;Like iteritems(), but with all lowercase keys.&quot;&quot;&quot;
        return ((lowerkey, keyval[1]) for (lowerkey, keyval) in self._store.items())

    def __eq__(self, other):
        if isinstance(other, Mapping):
            other = CaseInsensitiveDict(other)
        else:
            return NotImplemented
        # Compare insensitively
        return dict(self.lower_items()) == dict(other.lower_items())

    # Copy is required
    def copy(self):
        return CaseInsensitiveDict(self._store.values())

    def __repr__(self):
        return str(dict(self.items()))


class LookupDict(dict):
    &quot;&quot;&quot;Dictionary lookup object.&quot;&quot;&quot;

    def __init__(self, name=None):
        self.name = name
        super().__init__()

    def __repr__(self):
        return f&quot;&lt;lookup '{self.name}'&gt;&quot;

    def __getitem__(self, key):
        # We allow fall-through here, so values default to None

        return self.__dict__.get(key, None)

    def get(self, key, default=None):
        return self.__dict__.get(key, default)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/status_codes.py (Line 1:1 - Line 128:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/status_codes.py (Line 1:1 - Line 128:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn679" onclick="toggleCodeBlock('cloneGroup679', 'expandBtn679', 'collapseBtn679')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn679" onclick="toggleCodeBlock('cloneGroup679', 'expandBtn679', 'collapseBtn679')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup679"><code class="language-python text-sm text-gray-800">r&quot;&quot;&quot;
The ``codes`` object defines a mapping from common names for HTTP statuses
to their numerical codes, accessible either as attributes or as dictionary
items.

Example::

    &gt;&gt;&gt; import requests
    &gt;&gt;&gt; requests.codes['temporary_redirect']
    307
    &gt;&gt;&gt; requests.codes.teapot
    418
    &gt;&gt;&gt; requests.codes['\o/']
    200

Some codes have multiple names, and both upper- and lower-case versions of
the names are allowed. For example, ``codes.ok``, ``codes.OK``, and
``codes.okay`` all correspond to the HTTP status code 200.
&quot;&quot;&quot;

from .structures import LookupDict

_codes = {
    # Informational.
    100: (&quot;continue&quot;,),
    101: (&quot;switching_protocols&quot;,),
    102: (&quot;processing&quot;, &quot;early-hints&quot;),
    103: (&quot;checkpoint&quot;,),
    122: (&quot;uri_too_long&quot;, &quot;request_uri_too_long&quot;),
    200: (&quot;ok&quot;, &quot;okay&quot;, &quot;all_ok&quot;, &quot;all_okay&quot;, &quot;all_good&quot;, &quot;\\o/&quot;, &quot;âœ“&quot;),
    201: (&quot;created&quot;,),
    202: (&quot;accepted&quot;,),
    203: (&quot;non_authoritative_info&quot;, &quot;non_authoritative_information&quot;),
    204: (&quot;no_content&quot;,),
    205: (&quot;reset_content&quot;, &quot;reset&quot;),
    206: (&quot;partial_content&quot;, &quot;partial&quot;),
    207: (&quot;multi_status&quot;, &quot;multiple_status&quot;, &quot;multi_stati&quot;, &quot;multiple_stati&quot;),
    208: (&quot;already_reported&quot;,),
    226: (&quot;im_used&quot;,),
    # Redirection.
    300: (&quot;multiple_choices&quot;,),
    301: (&quot;moved_permanently&quot;, &quot;moved&quot;, &quot;\\o-&quot;),
    302: (&quot;found&quot;,),
    303: (&quot;see_other&quot;, &quot;other&quot;),
    304: (&quot;not_modified&quot;,),
    305: (&quot;use_proxy&quot;,),
    306: (&quot;switch_proxy&quot;,),
    307: (&quot;temporary_redirect&quot;, &quot;temporary_moved&quot;, &quot;temporary&quot;),
    308: (
        &quot;permanent_redirect&quot;,
        &quot;resume_incomplete&quot;,
        &quot;resume&quot;,
    ),  # &quot;resume&quot; and &quot;resume_incomplete&quot; to be removed in 3.0
    # Client Error.
    400: (&quot;bad_request&quot;, &quot;bad&quot;),
    401: (&quot;unauthorized&quot;,),
    402: (&quot;payment_required&quot;, &quot;payment&quot;),
    403: (&quot;forbidden&quot;,),
    404: (&quot;not_found&quot;, &quot;-o-&quot;),
    405: (&quot;method_not_allowed&quot;, &quot;not_allowed&quot;),
    406: (&quot;not_acceptable&quot;,),
    407: (&quot;proxy_authentication_required&quot;, &quot;proxy_auth&quot;, &quot;proxy_authentication&quot;),
    408: (&quot;request_timeout&quot;, &quot;timeout&quot;),
    409: (&quot;conflict&quot;,),
    410: (&quot;gone&quot;,),
    411: (&quot;length_required&quot;,),
    412: (&quot;precondition_failed&quot;, &quot;precondition&quot;),
    413: (&quot;request_entity_too_large&quot;, &quot;content_too_large&quot;),
    414: (&quot;request_uri_too_large&quot;, &quot;uri_too_long&quot;),
    415: (&quot;unsupported_media_type&quot;, &quot;unsupported_media&quot;, &quot;media_type&quot;),
    416: (
        &quot;requested_range_not_satisfiable&quot;,
        &quot;requested_range&quot;,
        &quot;range_not_satisfiable&quot;,
    ),
    417: (&quot;expectation_failed&quot;,),
    418: (&quot;im_a_teapot&quot;, &quot;teapot&quot;, &quot;i_am_a_teapot&quot;),
    421: (&quot;misdirected_request&quot;,),
    422: (&quot;unprocessable_entity&quot;, &quot;unprocessable&quot;, &quot;unprocessable_content&quot;),
    423: (&quot;locked&quot;,),
    424: (&quot;failed_dependency&quot;, &quot;dependency&quot;),
    425: (&quot;unordered_collection&quot;, &quot;unordered&quot;, &quot;too_early&quot;),
    426: (&quot;upgrade_required&quot;, &quot;upgrade&quot;),
    428: (&quot;precondition_required&quot;, &quot;precondition&quot;),
    429: (&quot;too_many_requests&quot;, &quot;too_many&quot;),
    431: (&quot;header_fields_too_large&quot;, &quot;fields_too_large&quot;),
    444: (&quot;no_response&quot;, &quot;none&quot;),
    449: (&quot;retry_with&quot;, &quot;retry&quot;),
    450: (&quot;blocked_by_windows_parental_controls&quot;, &quot;parental_controls&quot;),
    451: (&quot;unavailable_for_legal_reasons&quot;, &quot;legal_reasons&quot;),
    499: (&quot;client_closed_request&quot;,),
    # Server Error.
    500: (&quot;internal_server_error&quot;, &quot;server_error&quot;, &quot;/o\\&quot;, &quot;âœ—&quot;),
    501: (&quot;not_implemented&quot;,),
    502: (&quot;bad_gateway&quot;,),
    503: (&quot;service_unavailable&quot;, &quot;unavailable&quot;),
    504: (&quot;gateway_timeout&quot;,),
    505: (&quot;http_version_not_supported&quot;, &quot;http_version&quot;),
    506: (&quot;variant_also_negotiates&quot;,),
    507: (&quot;insufficient_storage&quot;,),
    509: (&quot;bandwidth_limit_exceeded&quot;, &quot;bandwidth&quot;),
    510: (&quot;not_extended&quot;,),
    511: (&quot;network_authentication_required&quot;, &quot;network_auth&quot;, &quot;network_authentication&quot;),
}

codes = LookupDict(name=&quot;status_codes&quot;)


def _init():
    for code, titles in _codes.items():
        for title in titles:
            setattr(codes, title, code)
            if not title.startswith((&quot;\\&quot;, &quot;/&quot;)):
                setattr(codes, title.upper(), code)

    def doc(code):
        names = &quot;, &quot;.join(f&quot;``{n}``&quot; for n in _codes[code])
        return &quot;* %d: %s&quot; % (code, names)

    global __doc__
    __doc__ = (
        __doc__ + &quot;\n&quot; + &quot;\n&quot;.join(doc(code) for code in sorted(_codes))
        if __doc__ is not None
        else None
    )


_init()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/sessions.py (Line 1:1 - Line 831:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/sessions.py (Line 1:1 - Line 831:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn680" onclick="toggleCodeBlock('cloneGroup680', 'expandBtn680', 'collapseBtn680')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn680" onclick="toggleCodeBlock('cloneGroup680', 'expandBtn680', 'collapseBtn680')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup680"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests.sessions
~~~~~~~~~~~~~~~~~

This module provides a Session object to manage and persist settings across
requests (cookies, auth, proxies).
&quot;&quot;&quot;
import os
import sys
import time
from collections import OrderedDict
from datetime import timedelta

from ._internal_utils import to_native_string
from .adapters import HTTPAdapter
from .auth import _basic_auth_str
from .compat import Mapping, cookielib, urljoin, urlparse
from .cookies import (
    RequestsCookieJar,
    cookiejar_from_dict,
    extract_cookies_to_jar,
    merge_cookies,
)
from .exceptions import (
    ChunkedEncodingError,
    ContentDecodingError,
    InvalidSchema,
    TooManyRedirects,
)
from .hooks import default_hooks, dispatch_hook

# formerly defined here, reexposed here for backward compatibility
from .models import (  # noqa: F401
    DEFAULT_REDIRECT_LIMIT,
    REDIRECT_STATI,
    PreparedRequest,
    Request,
)
from .status_codes import codes
from .structures import CaseInsensitiveDict
from .utils import (  # noqa: F401
    DEFAULT_PORTS,
    default_headers,
    get_auth_from_url,
    get_environ_proxies,
    get_netrc_auth,
    requote_uri,
    resolve_proxies,
    rewind_body,
    should_bypass_proxies,
    to_key_val_list,
)

# Preferred clock, based on which one is more accurate on a given system.
if sys.platform == &quot;win32&quot;:
    preferred_clock = time.perf_counter
else:
    preferred_clock = time.time


def merge_setting(request_setting, session_setting, dict_class=OrderedDict):
    &quot;&quot;&quot;Determines appropriate setting for a given request, taking into account
    the explicit setting on that request, and the setting in the session. If a
    setting is a dictionary, they will be merged together using `dict_class`
    &quot;&quot;&quot;

    if session_setting is None:
        return request_setting

    if request_setting is None:
        return session_setting

    # Bypass if not a dictionary (e.g. verify)
    if not (
        isinstance(session_setting, Mapping) and isinstance(request_setting, Mapping)
    ):
        return request_setting

    merged_setting = dict_class(to_key_val_list(session_setting))
    merged_setting.update(to_key_val_list(request_setting))

    # Remove keys that are set to None. Extract keys first to avoid altering
    # the dictionary during iteration.
    none_keys = [k for (k, v) in merged_setting.items() if v is None]
    for key in none_keys:
        del merged_setting[key]

    return merged_setting


def merge_hooks(request_hooks, session_hooks, dict_class=OrderedDict):
    &quot;&quot;&quot;Properly merges both requests and session hooks.

    This is necessary because when request_hooks == {'response': []}, the
    merge breaks Session hooks entirely.
    &quot;&quot;&quot;
    if session_hooks is None or session_hooks.get(&quot;response&quot;) == []:
        return request_hooks

    if request_hooks is None or request_hooks.get(&quot;response&quot;) == []:
        return session_hooks

    return merge_setting(request_hooks, session_hooks, dict_class)


class SessionRedirectMixin:
    def get_redirect_target(self, resp):
        &quot;&quot;&quot;Receives a Response. Returns a redirect URI or ``None``&quot;&quot;&quot;
        # Due to the nature of how requests processes redirects this method will
        # be called at least once upon the original response and at least twice
        # on each subsequent redirect response (if any).
        # If a custom mixin is used to handle this logic, it may be advantageous
        # to cache the redirect location onto the response object as a private
        # attribute.
        if resp.is_redirect:
            location = resp.headers[&quot;location&quot;]
            # Currently the underlying http module on py3 decode headers
            # in latin1, but empirical evidence suggests that latin1 is very
            # rarely used with non-ASCII characters in HTTP headers.
            # It is more likely to get UTF8 header rather than latin1.
            # This causes incorrect handling of UTF8 encoded location headers.
            # To solve this, we re-encode the location in latin1.
            location = location.encode(&quot;latin1&quot;)
            return to_native_string(location, &quot;utf8&quot;)
        return None

    def should_strip_auth(self, old_url, new_url):
        &quot;&quot;&quot;Decide whether Authorization header should be removed when redirecting&quot;&quot;&quot;
        old_parsed = urlparse(old_url)
        new_parsed = urlparse(new_url)
        if old_parsed.hostname != new_parsed.hostname:
            return True
        # Special case: allow http -&gt; https redirect when using the standard
        # ports. This isn't specified by RFC 7235, but is kept to avoid
        # breaking backwards compatibility with older versions of requests
        # that allowed any redirects on the same host.
        if (
            old_parsed.scheme == &quot;http&quot;
            and old_parsed.port in (80, None)
            and new_parsed.scheme == &quot;https&quot;
            and new_parsed.port in (443, None)
        ):
            return False

        # Handle default port usage corresponding to scheme.
        changed_port = old_parsed.port != new_parsed.port
        changed_scheme = old_parsed.scheme != new_parsed.scheme
        default_port = (DEFAULT_PORTS.get(old_parsed.scheme, None), None)
        if (
            not changed_scheme
            and old_parsed.port in default_port
            and new_parsed.port in default_port
        ):
            return False

        # Standard case: root URI must match
        return changed_port or changed_scheme

    def resolve_redirects(
        self,
        resp,
        req,
        stream=False,
        timeout=None,
        verify=True,
        cert=None,
        proxies=None,
        yield_requests=False,
        **adapter_kwargs,
    ):
        &quot;&quot;&quot;Receives a Response. Returns a generator of Responses or Requests.&quot;&quot;&quot;

        hist = []  # keep track of history

        url = self.get_redirect_target(resp)
        previous_fragment = urlparse(req.url).fragment
        while url:
            prepared_request = req.copy()

            # Update history and keep track of redirects.
            # resp.history must ignore the original request in this loop
            hist.append(resp)
            resp.history = hist[1:]

            try:
                resp.content  # Consume socket so it can be released
            except (ChunkedEncodingError, ContentDecodingError, RuntimeError):
                resp.raw.read(decode_content=False)

            if len(resp.history) &gt;= self.max_redirects:
                raise TooManyRedirects(
                    f&quot;Exceeded {self.max_redirects} redirects.&quot;, response=resp
                )

            # Release the connection back into the pool.
            resp.close()

            # Handle redirection without scheme (see: RFC 1808 Section 4)
            if url.startswith(&quot;//&quot;):
                parsed_rurl = urlparse(resp.url)
                url = &quot;:&quot;.join([to_native_string(parsed_rurl.scheme), url])

            # Normalize url case and attach previous fragment if needed (RFC 7231 7.1.2)
            parsed = urlparse(url)
            if parsed.fragment == &quot;&quot; and previous_fragment:
                parsed = parsed._replace(fragment=previous_fragment)
            elif parsed.fragment:
                previous_fragment = parsed.fragment
            url = parsed.geturl()

            # Facilitate relative 'location' headers, as allowed by RFC 7231.
            # (e.g. '/path/to/resource' instead of 'http://domain.tld/path/to/resource')
            # Compliant with RFC3986, we percent encode the url.
            if not parsed.netloc:
                url = urljoin(resp.url, requote_uri(url))
            else:
                url = requote_uri(url)

            prepared_request.url = to_native_string(url)

            self.rebuild_method(prepared_request, resp)

            # https://github.com/psf/requests/issues/1084
            if resp.status_code not in (
                codes.temporary_redirect,
                codes.permanent_redirect,
            ):
                # https://github.com/psf/requests/issues/3490
                purged_headers = (&quot;Content-Length&quot;, &quot;Content-Type&quot;, &quot;Transfer-Encoding&quot;)
                for header in purged_headers:
                    prepared_request.headers.pop(header, None)
                prepared_request.body = None

            headers = prepared_request.headers
            headers.pop(&quot;Cookie&quot;, None)

            # Extract any cookies sent on the response to the cookiejar
            # in the new request. Because we've mutated our copied prepared
            # request, use the old one that we haven't yet touched.
            extract_cookies_to_jar(prepared_request._cookies, req, resp.raw)
            merge_cookies(prepared_request._cookies, self.cookies)
            prepared_request.prepare_cookies(prepared_request._cookies)

            # Rebuild auth and proxy information.
            proxies = self.rebuild_proxies(prepared_request, proxies)
            self.rebuild_auth(prepared_request, resp)

            # A failed tell() sets `_body_position` to `object()`. This non-None
            # value ensures `rewindable` will be True, allowing us to raise an
            # UnrewindableBodyError, instead of hanging the connection.
            rewindable = prepared_request._body_position is not None and (
                &quot;Content-Length&quot; in headers or &quot;Transfer-Encoding&quot; in headers
            )

            # Attempt to rewind consumed file-like object.
            if rewindable:
                rewind_body(prepared_request)

            # Override the original request.
            req = prepared_request

            if yield_requests:
                yield req
            else:
                resp = self.send(
                    req,
                    stream=stream,
                    timeout=timeout,
                    verify=verify,
                    cert=cert,
                    proxies=proxies,
                    allow_redirects=False,
                    **adapter_kwargs,
                )

                extract_cookies_to_jar(self.cookies, prepared_request, resp.raw)

                # extract redirect url, if any, for the next loop
                url = self.get_redirect_target(resp)
                yield resp

    def rebuild_auth(self, prepared_request, response):
        &quot;&quot;&quot;When being redirected we may want to strip authentication from the
        request to avoid leaking credentials. This method intelligently removes
        and reapplies authentication where possible to avoid credential loss.
        &quot;&quot;&quot;
        headers = prepared_request.headers
        url = prepared_request.url

        if &quot;Authorization&quot; in headers and self.should_strip_auth(
            response.request.url, url
        ):
            # If we get redirected to a new host, we should strip out any
            # authentication headers.
            del headers[&quot;Authorization&quot;]

        # .netrc might have more auth for us on our new host.
        new_auth = get_netrc_auth(url) if self.trust_env else None
        if new_auth is not None:
            prepared_request.prepare_auth(new_auth)

    def rebuild_proxies(self, prepared_request, proxies):
        &quot;&quot;&quot;This method re-evaluates the proxy configuration by considering the
        environment variables. If we are redirected to a URL covered by
        NO_PROXY, we strip the proxy configuration. Otherwise, we set missing
        proxy keys for this URL (in case they were stripped by a previous
        redirect).

        This method also replaces the Proxy-Authorization header where
        necessary.

        :rtype: dict
        &quot;&quot;&quot;
        headers = prepared_request.headers
        scheme = urlparse(prepared_request.url).scheme
        new_proxies = resolve_proxies(prepared_request, proxies, self.trust_env)

        if &quot;Proxy-Authorization&quot; in headers:
            del headers[&quot;Proxy-Authorization&quot;]

        try:
            username, password = get_auth_from_url(new_proxies[scheme])
        except KeyError:
            username, password = None, None

        # urllib3 handles proxy authorization for us in the standard adapter.
        # Avoid appending this to TLS tunneled requests where it may be leaked.
        if not scheme.startswith(&quot;https&quot;) and username and password:
            headers[&quot;Proxy-Authorization&quot;] = _basic_auth_str(username, password)

        return new_proxies

    def rebuild_method(self, prepared_request, response):
        &quot;&quot;&quot;When being redirected we may want to change the method of the request
        based on certain specs or browser behavior.
        &quot;&quot;&quot;
        method = prepared_request.method

        # https://tools.ietf.org/html/rfc7231#section-6.4.4
        if response.status_code == codes.see_other and method != &quot;HEAD&quot;:
            method = &quot;GET&quot;

        # Do what the browsers do, despite standards...
        # First, turn 302s into GETs.
        if response.status_code == codes.found and method != &quot;HEAD&quot;:
            method = &quot;GET&quot;

        # Second, if a POST is responded to with a 301, turn it into a GET.
        # This bizarre behaviour is explained in Issue 1704.
        if response.status_code == codes.moved and method == &quot;POST&quot;:
            method = &quot;GET&quot;

        prepared_request.method = method


class Session(SessionRedirectMixin):
    &quot;&quot;&quot;A Requests session.

    Provides cookie persistence, connection-pooling, and configuration.

    Basic Usage::

      &gt;&gt;&gt; import requests
      &gt;&gt;&gt; s = requests.Session()
      &gt;&gt;&gt; s.get('https://httpbin.org/get')
      &lt;Response [200]&gt;

    Or as a context manager::

      &gt;&gt;&gt; with requests.Session() as s:
      ...     s.get('https://httpbin.org/get')
      &lt;Response [200]&gt;
    &quot;&quot;&quot;

    __attrs__ = [
        &quot;headers&quot;,
        &quot;cookies&quot;,
        &quot;auth&quot;,
        &quot;proxies&quot;,
        &quot;hooks&quot;,
        &quot;params&quot;,
        &quot;verify&quot;,
        &quot;cert&quot;,
        &quot;adapters&quot;,
        &quot;stream&quot;,
        &quot;trust_env&quot;,
        &quot;max_redirects&quot;,
    ]

    def __init__(self):
        #: A case-insensitive dictionary of headers to be sent on each
        #: :class:`Request &lt;Request&gt;` sent from this
        #: :class:`Session &lt;Session&gt;`.
        self.headers = default_headers()

        #: Default Authentication tuple or object to attach to
        #: :class:`Request &lt;Request&gt;`.
        self.auth = None

        #: Dictionary mapping protocol or protocol and host to the URL of the proxy
        #: (e.g. {'http': 'foo.bar:3128', 'http://host.name': 'foo.bar:4012'}) to
        #: be used on each :class:`Request &lt;Request&gt;`.
        self.proxies = {}

        #: Event-handling hooks.
        self.hooks = default_hooks()

        #: Dictionary of querystring data to attach to each
        #: :class:`Request &lt;Request&gt;`. The dictionary values may be lists for
        #: representing multivalued query parameters.
        self.params = {}

        #: Stream response content default.
        self.stream = False

        #: SSL Verification default.
        #: Defaults to `True`, requiring requests to verify the TLS certificate at the
        #: remote end.
        #: If verify is set to `False`, requests will accept any TLS certificate
        #: presented by the server, and will ignore hostname mismatches and/or
        #: expired certificates, which will make your application vulnerable to
        #: man-in-the-middle (MitM) attacks.
        #: Only set this to `False` for testing.
        self.verify = True

        #: SSL client certificate default, if String, path to ssl client
        #: cert file (.pem). If Tuple, ('cert', 'key') pair.
        self.cert = None

        #: Maximum number of redirects allowed. If the request exceeds this
        #: limit, a :class:`TooManyRedirects` exception is raised.
        #: This defaults to requests.models.DEFAULT_REDIRECT_LIMIT, which is
        #: 30.
        self.max_redirects = DEFAULT_REDIRECT_LIMIT

        #: Trust environment settings for proxy configuration, default
        #: authentication and similar.
        self.trust_env = True

        #: A CookieJar containing all currently outstanding cookies set on this
        #: session. By default it is a
        #: :class:`RequestsCookieJar &lt;requests.cookies.RequestsCookieJar&gt;`, but
        #: may be any other ``cookielib.CookieJar`` compatible object.
        self.cookies = cookiejar_from_dict({})

        # Default connection adapters.
        self.adapters = OrderedDict()
        self.mount(&quot;https://&quot;, HTTPAdapter())
        self.mount(&quot;http://&quot;, HTTPAdapter())

    def __enter__(self):
        return self

    def __exit__(self, *args):
        self.close()

    def prepare_request(self, request):
        &quot;&quot;&quot;Constructs a :class:`PreparedRequest &lt;PreparedRequest&gt;` for
        transmission and returns it. The :class:`PreparedRequest` has settings
        merged from the :class:`Request &lt;Request&gt;` instance and those of the
        :class:`Session`.

        :param request: :class:`Request` instance to prepare with this
            session's settings.
        :rtype: requests.PreparedRequest
        &quot;&quot;&quot;
        cookies = request.cookies or {}

        # Bootstrap CookieJar.
        if not isinstance(cookies, cookielib.CookieJar):
            cookies = cookiejar_from_dict(cookies)

        # Merge with session cookies
        merged_cookies = merge_cookies(
            merge_cookies(RequestsCookieJar(), self.cookies), cookies
        )

        # Set environment's basic authentication if not explicitly set.
        auth = request.auth
        if self.trust_env and not auth and not self.auth:
            auth = get_netrc_auth(request.url)

        p = PreparedRequest()
        p.prepare(
            method=request.method.upper(),
            url=request.url,
            files=request.files,
            data=request.data,
            json=request.json,
            headers=merge_setting(
                request.headers, self.headers, dict_class=CaseInsensitiveDict
            ),
            params=merge_setting(request.params, self.params),
            auth=merge_setting(auth, self.auth),
            cookies=merged_cookies,
            hooks=merge_hooks(request.hooks, self.hooks),
        )
        return p

    def request(
        self,
        method,
        url,
        params=None,
        data=None,
        headers=None,
        cookies=None,
        files=None,
        auth=None,
        timeout=None,
        allow_redirects=True,
        proxies=None,
        hooks=None,
        stream=None,
        verify=None,
        cert=None,
        json=None,
    ):
        &quot;&quot;&quot;Constructs a :class:`Request &lt;Request&gt;`, prepares it and sends it.
        Returns :class:`Response &lt;Response&gt;` object.

        :param method: method for the new :class:`Request` object.
        :param url: URL for the new :class:`Request` object.
        :param params: (optional) Dictionary or bytes to be sent in the query
            string for the :class:`Request`.
        :param data: (optional) Dictionary, list of tuples, bytes, or file-like
            object to send in the body of the :class:`Request`.
        :param json: (optional) json to send in the body of the
            :class:`Request`.
        :param headers: (optional) Dictionary of HTTP Headers to send with the
            :class:`Request`.
        :param cookies: (optional) Dict or CookieJar object to send with the
            :class:`Request`.
        :param files: (optional) Dictionary of ``'filename': file-like-objects``
            for multipart encoding upload.
        :param auth: (optional) Auth tuple or callable to enable
            Basic/Digest/Custom HTTP Auth.
        :param timeout: (optional) How many seconds to wait for the server to send
            data before giving up, as a float, or a :ref:`(connect timeout,
            read timeout) &lt;timeouts&gt;` tuple.
        :type timeout: float or tuple
        :param allow_redirects: (optional) Set to True by default.
        :type allow_redirects: bool
        :param proxies: (optional) Dictionary mapping protocol or protocol and
            hostname to the URL of the proxy.
        :param hooks: (optional) Dictionary mapping hook name to one event or
            list of events, event must be callable.
        :param stream: (optional) whether to immediately download the response
            content. Defaults to ``False``.
        :param verify: (optional) Either a boolean, in which case it controls whether we verify
            the server's TLS certificate, or a string, in which case it must be a path
            to a CA bundle to use. Defaults to ``True``. When set to
            ``False``, requests will accept any TLS certificate presented by
            the server, and will ignore hostname mismatches and/or expired
            certificates, which will make your application vulnerable to
            man-in-the-middle (MitM) attacks. Setting verify to ``False``
            may be useful during local development or testing.
        :param cert: (optional) if String, path to ssl client cert file (.pem).
            If Tuple, ('cert', 'key') pair.
        :rtype: requests.Response
        &quot;&quot;&quot;
        # Create the Request.
        req = Request(
            method=method.upper(),
            url=url,
            headers=headers,
            files=files,
            data=data or {},
            json=json,
            params=params or {},
            auth=auth,
            cookies=cookies,
            hooks=hooks,
        )
        prep = self.prepare_request(req)

        proxies = proxies or {}

        settings = self.merge_environment_settings(
            prep.url, proxies, stream, verify, cert
        )

        # Send the request.
        send_kwargs = {
            &quot;timeout&quot;: timeout,
            &quot;allow_redirects&quot;: allow_redirects,
        }
        send_kwargs.update(settings)
        resp = self.send(prep, **send_kwargs)

        return resp

    def get(self, url, **kwargs):
        r&quot;&quot;&quot;Sends a GET request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        kwargs.setdefault(&quot;allow_redirects&quot;, True)
        return self.request(&quot;GET&quot;, url, **kwargs)

    def options(self, url, **kwargs):
        r&quot;&quot;&quot;Sends a OPTIONS request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        kwargs.setdefault(&quot;allow_redirects&quot;, True)
        return self.request(&quot;OPTIONS&quot;, url, **kwargs)

    def head(self, url, **kwargs):
        r&quot;&quot;&quot;Sends a HEAD request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        kwargs.setdefault(&quot;allow_redirects&quot;, False)
        return self.request(&quot;HEAD&quot;, url, **kwargs)

    def post(self, url, data=None, json=None, **kwargs):
        r&quot;&quot;&quot;Sends a POST request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param data: (optional) Dictionary, list of tuples, bytes, or file-like
            object to send in the body of the :class:`Request`.
        :param json: (optional) json to send in the body of the :class:`Request`.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        return self.request(&quot;POST&quot;, url, data=data, json=json, **kwargs)

    def put(self, url, data=None, **kwargs):
        r&quot;&quot;&quot;Sends a PUT request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param data: (optional) Dictionary, list of tuples, bytes, or file-like
            object to send in the body of the :class:`Request`.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        return self.request(&quot;PUT&quot;, url, data=data, **kwargs)

    def patch(self, url, data=None, **kwargs):
        r&quot;&quot;&quot;Sends a PATCH request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param data: (optional) Dictionary, list of tuples, bytes, or file-like
            object to send in the body of the :class:`Request`.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        return self.request(&quot;PATCH&quot;, url, data=data, **kwargs)

    def delete(self, url, **kwargs):
        r&quot;&quot;&quot;Sends a DELETE request. Returns :class:`Response` object.

        :param url: URL for the new :class:`Request` object.
        :param \*\*kwargs: Optional arguments that ``request`` takes.
        :rtype: requests.Response
        &quot;&quot;&quot;

        return self.request(&quot;DELETE&quot;, url, **kwargs)

    def send(self, request, **kwargs):
        &quot;&quot;&quot;Send a given PreparedRequest.

        :rtype: requests.Response
        &quot;&quot;&quot;
        # Set defaults that the hooks can utilize to ensure they always have
        # the correct parameters to reproduce the previous request.
        kwargs.setdefault(&quot;stream&quot;, self.stream)
        kwargs.setdefault(&quot;verify&quot;, self.verify)
        kwargs.setdefault(&quot;cert&quot;, self.cert)
        if &quot;proxies&quot; not in kwargs:
            kwargs[&quot;proxies&quot;] = resolve_proxies(request, self.proxies, self.trust_env)

        # It's possible that users might accidentally send a Request object.
        # Guard against that specific failure case.
        if isinstance(request, Request):
            raise ValueError(&quot;You can only send PreparedRequests.&quot;)

        # Set up variables needed for resolve_redirects and dispatching of hooks
        allow_redirects = kwargs.pop(&quot;allow_redirects&quot;, True)
        stream = kwargs.get(&quot;stream&quot;)
        hooks = request.hooks

        # Get the appropriate adapter to use
        adapter = self.get_adapter(url=request.url)

        # Start time (approximately) of the request
        start = preferred_clock()

        # Send the request
        r = adapter.send(request, **kwargs)

        # Total elapsed time of the request (approximately)
        elapsed = preferred_clock() - start
        r.elapsed = timedelta(seconds=elapsed)

        # Response manipulation hooks
        r = dispatch_hook(&quot;response&quot;, hooks, r, **kwargs)

        # Persist cookies
        if r.history:
            # If the hooks create history then we want those cookies too
            for resp in r.history:
                extract_cookies_to_jar(self.cookies, resp.request, resp.raw)

        extract_cookies_to_jar(self.cookies, request, r.raw)

        # Resolve redirects if allowed.
        if allow_redirects:
            # Redirect resolving generator.
            gen = self.resolve_redirects(r, request, **kwargs)
            history = [resp for resp in gen]
        else:
            history = []

        # Shuffle things around if there's history.
        if history:
            # Insert the first (original) request at the start
            history.insert(0, r)
            # Get the last request made
            r = history.pop()
            r.history = history

        # If redirects aren't being followed, store the response on the Request for Response.next().
        if not allow_redirects:
            try:
                r._next = next(
                    self.resolve_redirects(r, request, yield_requests=True, **kwargs)
                )
            except StopIteration:
                pass

        if not stream:
            r.content

        return r

    def merge_environment_settings(self, url, proxies, stream, verify, cert):
        &quot;&quot;&quot;
        Check the environment and merge it with some settings.

        :rtype: dict
        &quot;&quot;&quot;
        # Gather clues from the surrounding environment.
        if self.trust_env:
            # Set environment's proxies.
            no_proxy = proxies.get(&quot;no_proxy&quot;) if proxies is not None else None
            env_proxies = get_environ_proxies(url, no_proxy=no_proxy)
            for k, v in env_proxies.items():
                proxies.setdefault(k, v)

            # Look for requests environment configuration
            # and be compatible with cURL.
            if verify is True or verify is None:
                verify = (
                    os.environ.get(&quot;REQUESTS_CA_BUNDLE&quot;)
                    or os.environ.get(&quot;CURL_CA_BUNDLE&quot;)
                    or verify
                )

        # Merge all the kwargs.
        proxies = merge_setting(proxies, self.proxies)
        stream = merge_setting(stream, self.stream)
        verify = merge_setting(verify, self.verify)
        cert = merge_setting(cert, self.cert)

        return {&quot;proxies&quot;: proxies, &quot;stream&quot;: stream, &quot;verify&quot;: verify, &quot;cert&quot;: cert}

    def get_adapter(self, url):
        &quot;&quot;&quot;
        Returns the appropriate connection adapter for the given URL.

        :rtype: requests.adapters.BaseAdapter
        &quot;&quot;&quot;
        for prefix, adapter in self.adapters.items():
            if url.lower().startswith(prefix.lower()):
                return adapter

        # Nothing matches :-/
        raise InvalidSchema(f&quot;No connection adapters were found for {url!r}&quot;)

    def close(self):
        &quot;&quot;&quot;Closes all adapters and as such the session&quot;&quot;&quot;
        for v in self.adapters.values():
            v.close()

    def mount(self, prefix, adapter):
        &quot;&quot;&quot;Registers a connection adapter to a prefix.

        Adapters are sorted in descending order by prefix length.
        &quot;&quot;&quot;
        self.adapters[prefix] = adapter
        keys_to_move = [k for k in self.adapters if len(k) &lt; len(prefix)]

        for key in keys_to_move:
            self.adapters[key] = self.adapters.pop(key)

    def __getstate__(self):
        state = {attr: getattr(self, attr, None) for attr in self.__attrs__}
        return state

    def __setstate__(self, state):
        for attr, value in state.items():
            setattr(self, attr, value)


def session():
    &quot;&quot;&quot;
    Returns a :class:`Session` for context-management.

    .. deprecated:: 1.0.0

        This method has been deprecated since version 1.0.0 and is only kept for
        backwards compatibility. New code should use :class:`~requests.sessions.Session`
        to create a session. This may be removed at a future date.

    :rtype: Session
    &quot;&quot;&quot;
    return Session()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/packages.py (Line 14:26 - Line 23:13), .venv/lib/python3.14/site-packages/pip/_vendor/requests/packages.py (Line 16:15 - Line 25:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn681" onclick="toggleCodeBlock('cloneGroup681', 'expandBtn681', 'collapseBtn681')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn681" onclick="toggleCodeBlock('cloneGroup681', 'expandBtn681', 'collapseBtn681')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup681"><code class="language-python text-sm text-gray-800">] = sys.modules[mod]

if chardet is not None:
    target = chardet.__name__
    for mod in list(sys.modules):
        if mod == target or mod.startswith(f&quot;{target}.&quot;):
            imported_mod = sys.modules[mod]
            sys.modules[f&quot;requests.packages.{mod}&quot;] = imported_mod
            mod = mod.replace(target, &quot;chardet&quot;)
            sys.modules[f&quot;requests.packages.{mod}&quot;] = imported_mod</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/hooks.py (Line 1:1 - Line 33:10), .venv/lib/python3.14/site-packages/pip/_vendor/requests/hooks.py (Line 1:1 - Line 33:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn682" onclick="toggleCodeBlock('cloneGroup682', 'expandBtn682', 'collapseBtn682')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn682" onclick="toggleCodeBlock('cloneGroup682', 'expandBtn682', 'collapseBtn682')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup682"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests.hooks
~~~~~~~~~~~~~~

This module provides the capabilities for the Requests hooks system.

Available hooks:

``response``:
    The response generated from a Request.
&quot;&quot;&quot;
HOOKS = [&quot;response&quot;]


def default_hooks():
    return {event: [] for event in HOOKS}


# TODO: response is the only one


def dispatch_hook(key, hooks, hook_data, **kwargs):
    &quot;&quot;&quot;Dispatches a hook dictionary on a given piece of data.&quot;&quot;&quot;
    hooks = hooks or {}
    hooks = hooks.get(key)
    if hooks:
        if hasattr(hooks, &quot;__call__&quot;):
            hooks = [hooks]
        for hook in hooks:
            _hook_data = hook(hook_data, **kwargs)
            if _hook_data is not None:
                hook_data = _hook_data
    return hook_data</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/help.py (Line 24:2 - Line 134:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/help.py (Line 17:2 - Line 127:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn683" onclick="toggleCodeBlock('cloneGroup683', 'expandBtn683', 'collapseBtn683')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn683" onclick="toggleCodeBlock('cloneGroup683', 'expandBtn683', 'collapseBtn683')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup683"><code class="language-python text-sm text-gray-800">urllib3.contrib import pyopenssl
except ImportError:
    pyopenssl = None
    OpenSSL = None
    cryptography = None
else:
    import cryptography
    import OpenSSL


def _implementation():
    &quot;&quot;&quot;Return a dict with the Python implementation and version.

    Provide both the name and the version of the Python implementation
    currently running. For example, on CPython 3.10.3 it will return
    {'name': 'CPython', 'version': '3.10.3'}.

    This function works best on CPython and PyPy: in particular, it probably
    doesn't work for Jython or IronPython. Future investigation should be done
    to work out the correct shape of the code for those platforms.
    &quot;&quot;&quot;
    implementation = platform.python_implementation()

    if implementation == &quot;CPython&quot;:
        implementation_version = platform.python_version()
    elif implementation == &quot;PyPy&quot;:
        implementation_version = &quot;{}.{}.{}&quot;.format(
            sys.pypy_version_info.major,
            sys.pypy_version_info.minor,
            sys.pypy_version_info.micro,
        )
        if sys.pypy_version_info.releaselevel != &quot;final&quot;:
            implementation_version = &quot;&quot;.join(
                [implementation_version, sys.pypy_version_info.releaselevel]
            )
    elif implementation == &quot;Jython&quot;:
        implementation_version = platform.python_version()  # Complete Guess
    elif implementation == &quot;IronPython&quot;:
        implementation_version = platform.python_version()  # Complete Guess
    else:
        implementation_version = &quot;Unknown&quot;

    return {&quot;name&quot;: implementation, &quot;version&quot;: implementation_version}


def info():
    &quot;&quot;&quot;Generate information for a bug report.&quot;&quot;&quot;
    try:
        platform_info = {
            &quot;system&quot;: platform.system(),
            &quot;release&quot;: platform.release(),
        }
    except OSError:
        platform_info = {
            &quot;system&quot;: &quot;Unknown&quot;,
            &quot;release&quot;: &quot;Unknown&quot;,
        }

    implementation_info = _implementation()
    urllib3_info = {&quot;version&quot;: urllib3.__version__}
    charset_normalizer_info = {&quot;version&quot;: None}
    chardet_info = {&quot;version&quot;: None}
    if charset_normalizer:
        charset_normalizer_info = {&quot;version&quot;: charset_normalizer.__version__}
    if chardet:
        chardet_info = {&quot;version&quot;: chardet.__version__}

    pyopenssl_info = {
        &quot;version&quot;: None,
        &quot;openssl_version&quot;: &quot;&quot;,
    }
    if OpenSSL:
        pyopenssl_info = {
            &quot;version&quot;: OpenSSL.__version__,
            &quot;openssl_version&quot;: f&quot;{OpenSSL.SSL.OPENSSL_VERSION_NUMBER:x}&quot;,
        }
    cryptography_info = {
        &quot;version&quot;: getattr(cryptography, &quot;__version__&quot;, &quot;&quot;),
    }
    idna_info = {
        &quot;version&quot;: getattr(idna, &quot;__version__&quot;, &quot;&quot;),
    }

    system_ssl = ssl.OPENSSL_VERSION_NUMBER
    system_ssl_info = {&quot;version&quot;: f&quot;{system_ssl:x}&quot; if system_ssl is not None else &quot;&quot;}

    return {
        &quot;platform&quot;: platform_info,
        &quot;implementation&quot;: implementation_info,
        &quot;system_ssl&quot;: system_ssl_info,
        &quot;using_pyopenssl&quot;: pyopenssl is not None,
        &quot;using_charset_normalizer&quot;: chardet is None,
        &quot;pyOpenSSL&quot;: pyopenssl_info,
        &quot;urllib3&quot;: urllib3_info,
        &quot;chardet&quot;: chardet_info,
        &quot;charset_normalizer&quot;: charset_normalizer_info,
        &quot;cryptography&quot;: cryptography_info,
        &quot;idna&quot;: idna_info,
        &quot;requests&quot;: {
            &quot;version&quot;: requests_version,
        },
    }


def main():
    &quot;&quot;&quot;Pretty-print the bug information as JSON.&quot;&quot;&quot;
    print(json.dumps(info(), sort_keys=True, indent=2))


if __name__ == &quot;__main__&quot;:
    main()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/exceptions.py (Line 7:2 - Line 151:71), .venv/lib/python3.14/site-packages/pip/_vendor/requests/exceptions.py (Line 7:2 - Line 151:71)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn684" onclick="toggleCodeBlock('cloneGroup684', 'expandBtn684', 'collapseBtn684')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn684" onclick="toggleCodeBlock('cloneGroup684', 'expandBtn684', 'collapseBtn684')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup684"><code class="language-python text-sm text-gray-800">urllib3.exceptions import HTTPError as BaseHTTPError

from .compat import JSONDecodeError as CompatJSONDecodeError


class RequestException(IOError):
    &quot;&quot;&quot;There was an ambiguous exception that occurred while handling your
    request.
    &quot;&quot;&quot;

    def __init__(self, *args, **kwargs):
        &quot;&quot;&quot;Initialize RequestException with `request` and `response` objects.&quot;&quot;&quot;
        response = kwargs.pop(&quot;response&quot;, None)
        self.response = response
        self.request = kwargs.pop(&quot;request&quot;, None)
        if response is not None and not self.request and hasattr(response, &quot;request&quot;):
            self.request = self.response.request
        super().__init__(*args, **kwargs)


class InvalidJSONError(RequestException):
    &quot;&quot;&quot;A JSON error occurred.&quot;&quot;&quot;


class JSONDecodeError(InvalidJSONError, CompatJSONDecodeError):
    &quot;&quot;&quot;Couldn't decode the text into json&quot;&quot;&quot;

    def __init__(self, *args, **kwargs):
        &quot;&quot;&quot;
        Construct the JSONDecodeError instance first with all
        args. Then use it's args to construct the IOError so that
        the json specific args aren't used as IOError specific args
        and the error message from JSONDecodeError is preserved.
        &quot;&quot;&quot;
        CompatJSONDecodeError.__init__(self, *args)
        InvalidJSONError.__init__(self, *self.args, **kwargs)

    def __reduce__(self):
        &quot;&quot;&quot;
        The __reduce__ method called when pickling the object must
        be the one from the JSONDecodeError (be it json/simplejson)
        as it expects all the arguments for instantiation, not just
        one like the IOError, and the MRO would by default call the
        __reduce__ method from the IOError due to the inheritance order.
        &quot;&quot;&quot;
        return CompatJSONDecodeError.__reduce__(self)


class HTTPError(RequestException):
    &quot;&quot;&quot;An HTTP error occurred.&quot;&quot;&quot;


class ConnectionError(RequestException):
    &quot;&quot;&quot;A Connection error occurred.&quot;&quot;&quot;


class ProxyError(ConnectionError):
    &quot;&quot;&quot;A proxy error occurred.&quot;&quot;&quot;


class SSLError(ConnectionError):
    &quot;&quot;&quot;An SSL error occurred.&quot;&quot;&quot;


class Timeout(RequestException):
    &quot;&quot;&quot;The request timed out.

    Catching this error will catch both
    :exc:`~requests.exceptions.ConnectTimeout` and
    :exc:`~requests.exceptions.ReadTimeout` errors.
    &quot;&quot;&quot;


class ConnectTimeout(ConnectionError, Timeout):
    &quot;&quot;&quot;The request timed out while trying to connect to the remote server.

    Requests that produced this error are safe to retry.
    &quot;&quot;&quot;


class ReadTimeout(Timeout):
    &quot;&quot;&quot;The server did not send any data in the allotted amount of time.&quot;&quot;&quot;


class URLRequired(RequestException):
    &quot;&quot;&quot;A valid URL is required to make a request.&quot;&quot;&quot;


class TooManyRedirects(RequestException):
    &quot;&quot;&quot;Too many redirects.&quot;&quot;&quot;


class MissingSchema(RequestException, ValueError):
    &quot;&quot;&quot;The URL scheme (e.g. http or https) is missing.&quot;&quot;&quot;


class InvalidSchema(RequestException, ValueError):
    &quot;&quot;&quot;The URL scheme provided is either invalid or unsupported.&quot;&quot;&quot;


class InvalidURL(RequestException, ValueError):
    &quot;&quot;&quot;The URL provided was somehow invalid.&quot;&quot;&quot;


class InvalidHeader(RequestException, ValueError):
    &quot;&quot;&quot;The header value provided was somehow invalid.&quot;&quot;&quot;


class InvalidProxyURL(InvalidURL):
    &quot;&quot;&quot;The proxy URL provided is invalid.&quot;&quot;&quot;


class ChunkedEncodingError(RequestException):
    &quot;&quot;&quot;The server declared chunked encoding but sent an invalid chunk.&quot;&quot;&quot;


class ContentDecodingError(RequestException, BaseHTTPError):
    &quot;&quot;&quot;Failed to decode response content.&quot;&quot;&quot;


class StreamConsumedError(RequestException, TypeError):
    &quot;&quot;&quot;The content for this response was already consumed.&quot;&quot;&quot;


class RetryError(RequestException):
    &quot;&quot;&quot;Custom retries logic failed&quot;&quot;&quot;


class UnrewindableBodyError(RequestException):
    &quot;&quot;&quot;Requests encountered an error when trying to rewind a body.&quot;&quot;&quot;


# Warnings


class RequestsWarning(Warning):
    &quot;&quot;&quot;Base warning for Requests.&quot;&quot;&quot;


class FileModeWarning(RequestsWarning, DeprecationWarning):
    &quot;&quot;&quot;A file was opened in text mode, but Requests determined its binary length.&quot;&quot;&quot;


class RequestsDependencyWarning(RequestsWarning):
    &quot;&quot;&quot;An imported dependency doesn't match the expected version range.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/cookies.py (Line 1:1 - Line 561:10), .venv/lib/python3.14/site-packages/pip/_vendor/requests/cookies.py (Line 1:1 - Line 561:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn685" onclick="toggleCodeBlock('cloneGroup685', 'expandBtn685', 'collapseBtn685')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn685" onclick="toggleCodeBlock('cloneGroup685', 'expandBtn685', 'collapseBtn685')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup685"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests.cookies
~~~~~~~~~~~~~~~~

Compatibility code to be able to use `http.cookiejar.CookieJar` with requests.

requests.utils imports from here, so be careful with imports.
&quot;&quot;&quot;

import calendar
import copy
import time

from ._internal_utils import to_native_string
from .compat import Morsel, MutableMapping, cookielib, urlparse, urlunparse

try:
    import threading
except ImportError:
    import dummy_threading as threading


class MockRequest:
    &quot;&quot;&quot;Wraps a `requests.Request` to mimic a `urllib2.Request`.

    The code in `http.cookiejar.CookieJar` expects this interface in order to correctly
    manage cookie policies, i.e., determine whether a cookie can be set, given the
    domains of the request and the cookie.

    The original request object is read-only. The client is responsible for collecting
    the new headers via `get_new_headers()` and interpreting them appropriately. You
    probably want `get_cookie_header`, defined below.
    &quot;&quot;&quot;

    def __init__(self, request):
        self._r = request
        self._new_headers = {}
        self.type = urlparse(self._r.url).scheme

    def get_type(self):
        return self.type

    def get_host(self):
        return urlparse(self._r.url).netloc

    def get_origin_req_host(self):
        return self.get_host()

    def get_full_url(self):
        # Only return the response's URL if the user hadn't set the Host
        # header
        if not self._r.headers.get(&quot;Host&quot;):
            return self._r.url
        # If they did set it, retrieve it and reconstruct the expected domain
        host = to_native_string(self._r.headers[&quot;Host&quot;], encoding=&quot;utf-8&quot;)
        parsed = urlparse(self._r.url)
        # Reconstruct the URL as we expect it
        return urlunparse(
            [
                parsed.scheme,
                host,
                parsed.path,
                parsed.params,
                parsed.query,
                parsed.fragment,
            ]
        )

    def is_unverifiable(self):
        return True

    def has_header(self, name):
        return name in self._r.headers or name in self._new_headers

    def get_header(self, name, default=None):
        return self._r.headers.get(name, self._new_headers.get(name, default))

    def add_header(self, key, val):
        &quot;&quot;&quot;cookiejar has no legitimate use for this method; add it back if you find one.&quot;&quot;&quot;
        raise NotImplementedError(
            &quot;Cookie headers should be added with add_unredirected_header()&quot;
        )

    def add_unredirected_header(self, name, value):
        self._new_headers[name] = value

    def get_new_headers(self):
        return self._new_headers

    @property
    def unverifiable(self):
        return self.is_unverifiable()

    @property
    def origin_req_host(self):
        return self.get_origin_req_host()

    @property
    def host(self):
        return self.get_host()


class MockResponse:
    &quot;&quot;&quot;Wraps a `httplib.HTTPMessage` to mimic a `urllib.addinfourl`.

    ...what? Basically, expose the parsed HTTP headers from the server response
    the way `http.cookiejar` expects to see them.
    &quot;&quot;&quot;

    def __init__(self, headers):
        &quot;&quot;&quot;Make a MockResponse for `cookiejar` to read.

        :param headers: a httplib.HTTPMessage or analogous carrying the headers
        &quot;&quot;&quot;
        self._headers = headers

    def info(self):
        return self._headers

    def getheaders(self, name):
        self._headers.getheaders(name)


def extract_cookies_to_jar(jar, request, response):
    &quot;&quot;&quot;Extract the cookies from the response into a CookieJar.

    :param jar: http.cookiejar.CookieJar (not necessarily a RequestsCookieJar)
    :param request: our own requests.Request object
    :param response: urllib3.HTTPResponse object
    &quot;&quot;&quot;
    if not (hasattr(response, &quot;_original_response&quot;) and response._original_response):
        return
    # the _original_response field is the wrapped httplib.HTTPResponse object,
    req = MockRequest(request)
    # pull out the HTTPMessage with the headers and put it in the mock:
    res = MockResponse(response._original_response.msg)
    jar.extract_cookies(res, req)


def get_cookie_header(jar, request):
    &quot;&quot;&quot;
    Produce an appropriate Cookie header string to be sent with `request`, or None.

    :rtype: str
    &quot;&quot;&quot;
    r = MockRequest(request)
    jar.add_cookie_header(r)
    return r.get_new_headers().get(&quot;Cookie&quot;)


def remove_cookie_by_name(cookiejar, name, domain=None, path=None):
    &quot;&quot;&quot;Unsets a cookie by name, by default over all domains and paths.

    Wraps CookieJar.clear(), is O(n).
    &quot;&quot;&quot;
    clearables = []
    for cookie in cookiejar:
        if cookie.name != name:
            continue
        if domain is not None and domain != cookie.domain:
            continue
        if path is not None and path != cookie.path:
            continue
        clearables.append((cookie.domain, cookie.path, cookie.name))

    for domain, path, name in clearables:
        cookiejar.clear(domain, path, name)


class CookieConflictError(RuntimeError):
    &quot;&quot;&quot;There are two cookies that meet the criteria specified in the cookie jar.
    Use .get and .set and include domain and path args in order to be more specific.
    &quot;&quot;&quot;


class RequestsCookieJar(cookielib.CookieJar, MutableMapping):
    &quot;&quot;&quot;Compatibility class; is a http.cookiejar.CookieJar, but exposes a dict
    interface.

    This is the CookieJar we create by default for requests and sessions that
    don't specify one, since some clients may expect response.cookies and
    session.cookies to support dict operations.

    Requests does not use the dict interface internally; it's just for
    compatibility with external client code. All requests code should work
    out of the box with externally provided instances of ``CookieJar``, e.g.
    ``LWPCookieJar`` and ``FileCookieJar``.

    Unlike a regular CookieJar, this class is pickleable.

    .. warning:: dictionary operations that are normally O(1) may be O(n).
    &quot;&quot;&quot;

    def get(self, name, default=None, domain=None, path=None):
        &quot;&quot;&quot;Dict-like get() that also supports optional domain and path args in
        order to resolve naming collisions from using one cookie jar over
        multiple domains.

        .. warning:: operation is O(n), not O(1).
        &quot;&quot;&quot;
        try:
            return self._find_no_duplicates(name, domain, path)
        except KeyError:
            return default

    def set(self, name, value, **kwargs):
        &quot;&quot;&quot;Dict-like set() that also supports optional domain and path args in
        order to resolve naming collisions from using one cookie jar over
        multiple domains.
        &quot;&quot;&quot;
        # support client code that unsets cookies by assignment of a None value:
        if value is None:
            remove_cookie_by_name(
                self, name, domain=kwargs.get(&quot;domain&quot;), path=kwargs.get(&quot;path&quot;)
            )
            return

        if isinstance(value, Morsel):
            c = morsel_to_cookie(value)
        else:
            c = create_cookie(name, value, **kwargs)
        self.set_cookie(c)
        return c

    def iterkeys(self):
        &quot;&quot;&quot;Dict-like iterkeys() that returns an iterator of names of cookies
        from the jar.

        .. seealso:: itervalues() and iteritems().
        &quot;&quot;&quot;
        for cookie in iter(self):
            yield cookie.name

    def keys(self):
        &quot;&quot;&quot;Dict-like keys() that returns a list of names of cookies from the
        jar.

        .. seealso:: values() and items().
        &quot;&quot;&quot;
        return list(self.iterkeys())

    def itervalues(self):
        &quot;&quot;&quot;Dict-like itervalues() that returns an iterator of values of cookies
        from the jar.

        .. seealso:: iterkeys() and iteritems().
        &quot;&quot;&quot;
        for cookie in iter(self):
            yield cookie.value

    def values(self):
        &quot;&quot;&quot;Dict-like values() that returns a list of values of cookies from the
        jar.

        .. seealso:: keys() and items().
        &quot;&quot;&quot;
        return list(self.itervalues())

    def iteritems(self):
        &quot;&quot;&quot;Dict-like iteritems() that returns an iterator of name-value tuples
        from the jar.

        .. seealso:: iterkeys() and itervalues().
        &quot;&quot;&quot;
        for cookie in iter(self):
            yield cookie.name, cookie.value

    def items(self):
        &quot;&quot;&quot;Dict-like items() that returns a list of name-value tuples from the
        jar. Allows client-code to call ``dict(RequestsCookieJar)`` and get a
        vanilla python dict of key value pairs.

        .. seealso:: keys() and values().
        &quot;&quot;&quot;
        return list(self.iteritems())

    def list_domains(self):
        &quot;&quot;&quot;Utility method to list all the domains in the jar.&quot;&quot;&quot;
        domains = []
        for cookie in iter(self):
            if cookie.domain not in domains:
                domains.append(cookie.domain)
        return domains

    def list_paths(self):
        &quot;&quot;&quot;Utility method to list all the paths in the jar.&quot;&quot;&quot;
        paths = []
        for cookie in iter(self):
            if cookie.path not in paths:
                paths.append(cookie.path)
        return paths

    def multiple_domains(self):
        &quot;&quot;&quot;Returns True if there are multiple domains in the jar.
        Returns False otherwise.

        :rtype: bool
        &quot;&quot;&quot;
        domains = []
        for cookie in iter(self):
            if cookie.domain is not None and cookie.domain in domains:
                return True
            domains.append(cookie.domain)
        return False  # there is only one domain in jar

    def get_dict(self, domain=None, path=None):
        &quot;&quot;&quot;Takes as an argument an optional domain and path and returns a plain
        old Python dict of name-value pairs of cookies that meet the
        requirements.

        :rtype: dict
        &quot;&quot;&quot;
        dictionary = {}
        for cookie in iter(self):
            if (domain is None or cookie.domain == domain) and (
                path is None or cookie.path == path
            ):
                dictionary[cookie.name] = cookie.value
        return dictionary

    def __contains__(self, name):
        try:
            return super().__contains__(name)
        except CookieConflictError:
            return True

    def __getitem__(self, name):
        &quot;&quot;&quot;Dict-like __getitem__() for compatibility with client code. Throws
        exception if there are more than one cookie with name. In that case,
        use the more explicit get() method instead.

        .. warning:: operation is O(n), not O(1).
        &quot;&quot;&quot;
        return self._find_no_duplicates(name)

    def __setitem__(self, name, value):
        &quot;&quot;&quot;Dict-like __setitem__ for compatibility with client code. Throws
        exception if there is already a cookie of that name in the jar. In that
        case, use the more explicit set() method instead.
        &quot;&quot;&quot;
        self.set(name, value)

    def __delitem__(self, name):
        &quot;&quot;&quot;Deletes a cookie given a name. Wraps ``http.cookiejar.CookieJar``'s
        ``remove_cookie_by_name()``.
        &quot;&quot;&quot;
        remove_cookie_by_name(self, name)

    def set_cookie(self, cookie, *args, **kwargs):
        if (
            hasattr(cookie.value, &quot;startswith&quot;)
            and cookie.value.startswith('&quot;')
            and cookie.value.endswith('&quot;')
        ):
            cookie.value = cookie.value.replace('\\&quot;', &quot;&quot;)
        return super().set_cookie(cookie, *args, **kwargs)

    def update(self, other):
        &quot;&quot;&quot;Updates this jar with cookies from another CookieJar or dict-like&quot;&quot;&quot;
        if isinstance(other, cookielib.CookieJar):
            for cookie in other:
                self.set_cookie(copy.copy(cookie))
        else:
            super().update(other)

    def _find(self, name, domain=None, path=None):
        &quot;&quot;&quot;Requests uses this method internally to get cookie values.

        If there are conflicting cookies, _find arbitrarily chooses one.
        See _find_no_duplicates if you want an exception thrown if there are
        conflicting cookies.

        :param name: a string containing name of cookie
        :param domain: (optional) string containing domain of cookie
        :param path: (optional) string containing path of cookie
        :return: cookie.value
        &quot;&quot;&quot;
        for cookie in iter(self):
            if cookie.name == name:
                if domain is None or cookie.domain == domain:
                    if path is None or cookie.path == path:
                        return cookie.value

        raise KeyError(f&quot;name={name!r}, domain={domain!r}, path={path!r}&quot;)

    def _find_no_duplicates(self, name, domain=None, path=None):
        &quot;&quot;&quot;Both ``__get_item__`` and ``get`` call this function: it's never
        used elsewhere in Requests.

        :param name: a string containing name of cookie
        :param domain: (optional) string containing domain of cookie
        :param path: (optional) string containing path of cookie
        :raises KeyError: if cookie is not found
        :raises CookieConflictError: if there are multiple cookies
            that match name and optionally domain and path
        :return: cookie.value
        &quot;&quot;&quot;
        toReturn = None
        for cookie in iter(self):
            if cookie.name == name:
                if domain is None or cookie.domain == domain:
                    if path is None or cookie.path == path:
                        if toReturn is not None:
                            # if there are multiple cookies that meet passed in criteria
                            raise CookieConflictError(
                                f&quot;There are multiple cookies with name, {name!r}&quot;
                            )
                        # we will eventually return this as long as no cookie conflict
                        toReturn = cookie.value

        if toReturn:
            return toReturn
        raise KeyError(f&quot;name={name!r}, domain={domain!r}, path={path!r}&quot;)

    def __getstate__(self):
        &quot;&quot;&quot;Unlike a normal CookieJar, this class is pickleable.&quot;&quot;&quot;
        state = self.__dict__.copy()
        # remove the unpickleable RLock object
        state.pop(&quot;_cookies_lock&quot;)
        return state

    def __setstate__(self, state):
        &quot;&quot;&quot;Unlike a normal CookieJar, this class is pickleable.&quot;&quot;&quot;
        self.__dict__.update(state)
        if &quot;_cookies_lock&quot; not in self.__dict__:
            self._cookies_lock = threading.RLock()

    def copy(self):
        &quot;&quot;&quot;Return a copy of this RequestsCookieJar.&quot;&quot;&quot;
        new_cj = RequestsCookieJar()
        new_cj.set_policy(self.get_policy())
        new_cj.update(self)
        return new_cj

    def get_policy(self):
        &quot;&quot;&quot;Return the CookiePolicy instance used.&quot;&quot;&quot;
        return self._policy


def _copy_cookie_jar(jar):
    if jar is None:
        return None

    if hasattr(jar, &quot;copy&quot;):
        # We're dealing with an instance of RequestsCookieJar
        return jar.copy()
    # We're dealing with a generic CookieJar instance
    new_jar = copy.copy(jar)
    new_jar.clear()
    for cookie in jar:
        new_jar.set_cookie(copy.copy(cookie))
    return new_jar


def create_cookie(name, value, **kwargs):
    &quot;&quot;&quot;Make a cookie from underspecified parameters.

    By default, the pair of `name` and `value` will be set for the domain ''
    and sent on every request (this is sometimes called a &quot;supercookie&quot;).
    &quot;&quot;&quot;
    result = {
        &quot;version&quot;: 0,
        &quot;name&quot;: name,
        &quot;value&quot;: value,
        &quot;port&quot;: None,
        &quot;domain&quot;: &quot;&quot;,
        &quot;path&quot;: &quot;/&quot;,
        &quot;secure&quot;: False,
        &quot;expires&quot;: None,
        &quot;discard&quot;: True,
        &quot;comment&quot;: None,
        &quot;comment_url&quot;: None,
        &quot;rest&quot;: {&quot;HttpOnly&quot;: None},
        &quot;rfc2109&quot;: False,
    }

    badargs = set(kwargs) - set(result)
    if badargs:
        raise TypeError(
            f&quot;create_cookie() got unexpected keyword arguments: {list(badargs)}&quot;
        )

    result.update(kwargs)
    result[&quot;port_specified&quot;] = bool(result[&quot;port&quot;])
    result[&quot;domain_specified&quot;] = bool(result[&quot;domain&quot;])
    result[&quot;domain_initial_dot&quot;] = result[&quot;domain&quot;].startswith(&quot;.&quot;)
    result[&quot;path_specified&quot;] = bool(result[&quot;path&quot;])

    return cookielib.Cookie(**result)


def morsel_to_cookie(morsel):
    &quot;&quot;&quot;Convert a Morsel object into a Cookie containing the one k/v pair.&quot;&quot;&quot;

    expires = None
    if morsel[&quot;max-age&quot;]:
        try:
            expires = int(time.time() + int(morsel[&quot;max-age&quot;]))
        except ValueError:
            raise TypeError(f&quot;max-age: {morsel['max-age']} must be integer&quot;)
    elif morsel[&quot;expires&quot;]:
        time_template = &quot;%a, %d-%b-%Y %H:%M:%S GMT&quot;
        expires = calendar.timegm(time.strptime(morsel[&quot;expires&quot;], time_template))
    return create_cookie(
        comment=morsel[&quot;comment&quot;],
        comment_url=bool(morsel[&quot;comment&quot;]),
        discard=False,
        domain=morsel[&quot;domain&quot;],
        expires=expires,
        name=morsel.key,
        path=morsel[&quot;path&quot;],
        port=None,
        rest={&quot;HttpOnly&quot;: morsel[&quot;httponly&quot;]},
        rfc2109=False,
        secure=bool(morsel[&quot;secure&quot;]),
        value=morsel.value,
        version=morsel[&quot;version&quot;] or 0,
    )


def cookiejar_from_dict(cookie_dict, cookiejar=None, overwrite=True):
    &quot;&quot;&quot;Returns a CookieJar from a key/value dictionary.

    :param cookie_dict: Dict of key/values to insert into CookieJar.
    :param cookiejar: (optional) A cookiejar to add the cookies to.
    :param overwrite: (optional) If False, will not replace cookies
        already in the jar with new ones.
    :rtype: CookieJar
    &quot;&quot;&quot;
    if cookiejar is None:
        cookiejar = RequestsCookieJar()

    if cookie_dict is not None:
        names_from_jar = [cookie.name for cookie in cookiejar]
        for name in cookie_dict:
            if overwrite or (name not in names_from_jar):
                cookiejar.set_cookie(create_cookie(name, cookie_dict[name]))

    return cookiejar


def merge_cookies(cookiejar, cookies):
    &quot;&quot;&quot;Add cookies to cookiejar and returns a merged CookieJar.

    :param cookiejar: CookieJar object to add the cookies to.
    :param cookies: Dictionary or CookieJar object to be added.
    :rtype: CookieJar
    &quot;&quot;&quot;
    if not isinstance(cookiejar, cookielib.CookieJar):
        raise ValueError(&quot;You can only merge into CookieJar&quot;)

    if isinstance(cookies, dict):
        cookiejar = cookiejar_from_dict(cookies, cookiejar=cookiejar, overwrite=False)
    elif isinstance(cookies, cookielib.CookieJar):
        try:
            cookiejar.update(cookies)
        except AttributeError:
            for cookie_in_jar in cookies:
                cookiejar.set_cookie(cookie_in_jar)

    return cookiejar</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/compat.py (Line 69:5 - Line 106:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/compat.py (Line 53:1 - Line 90:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn686" onclick="toggleCodeBlock('cloneGroup686', 'expandBtn686', 'collapseBtn686')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn686" onclick="toggleCodeBlock('cloneGroup686', 'expandBtn686', 'collapseBtn686')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup686"><code class="language-python text-sm text-gray-800">from json import JSONDecodeError

# Keep OrderedDict for backwards compatibility.
from collections import OrderedDict
from collections.abc import Callable, Mapping, MutableMapping
from http import cookiejar as cookielib
from http.cookies import Morsel
from io import StringIO

# --------------
# Legacy Imports
# --------------
from urllib.parse import (
    quote,
    quote_plus,
    unquote,
    unquote_plus,
    urldefrag,
    urlencode,
    urljoin,
    urlparse,
    urlsplit,
    urlunparse,
)
from urllib.request import (
    getproxies,
    getproxies_environment,
    parse_http_list,
    proxy_bypass,
    proxy_bypass_environment,
)

builtin_str = str
str = str
bytes = bytes
basestring = (str, bytes)
numeric_types = (int, float)
integer_types = (int,)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/auth.py (Line 1:1 - Line 314:6), .venv/lib/python3.14/site-packages/pip/_vendor/requests/auth.py (Line 1:1 - Line 314:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn687" onclick="toggleCodeBlock('cloneGroup687', 'expandBtn687', 'collapseBtn687')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn687" onclick="toggleCodeBlock('cloneGroup687', 'expandBtn687', 'collapseBtn687')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup687"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests.auth
~~~~~~~~~~~~~

This module contains the authentication handlers for Requests.
&quot;&quot;&quot;

import hashlib
import os
import re
import threading
import time
import warnings
from base64 import b64encode

from ._internal_utils import to_native_string
from .compat import basestring, str, urlparse
from .cookies import extract_cookies_to_jar
from .utils import parse_dict_header

CONTENT_TYPE_FORM_URLENCODED = &quot;application/x-www-form-urlencoded&quot;
CONTENT_TYPE_MULTI_PART = &quot;multipart/form-data&quot;


def _basic_auth_str(username, password):
    &quot;&quot;&quot;Returns a Basic Auth string.&quot;&quot;&quot;

    # &quot;I want us to put a big-ol' comment on top of it that
    # says that this behaviour is dumb but we need to preserve
    # it because people are relying on it.&quot;
    #    - Lukasa
    #
    # These are here solely to maintain backwards compatibility
    # for things like ints. This will be removed in 3.0.0.
    if not isinstance(username, basestring):
        warnings.warn(
            &quot;Non-string usernames will no longer be supported in Requests &quot;
            &quot;3.0.0. Please convert the object you've passed in ({!r}) to &quot;
            &quot;a string or bytes object in the near future to avoid &quot;
            &quot;problems.&quot;.format(username),
            category=DeprecationWarning,
        )
        username = str(username)

    if not isinstance(password, basestring):
        warnings.warn(
            &quot;Non-string passwords will no longer be supported in Requests &quot;
            &quot;3.0.0. Please convert the object you've passed in ({!r}) to &quot;
            &quot;a string or bytes object in the near future to avoid &quot;
            &quot;problems.&quot;.format(type(password)),
            category=DeprecationWarning,
        )
        password = str(password)
    # -- End Removal --

    if isinstance(username, str):
        username = username.encode(&quot;latin1&quot;)

    if isinstance(password, str):
        password = password.encode(&quot;latin1&quot;)

    authstr = &quot;Basic &quot; + to_native_string(
        b64encode(b&quot;:&quot;.join((username, password))).strip()
    )

    return authstr


class AuthBase:
    &quot;&quot;&quot;Base class that all auth implementations derive from&quot;&quot;&quot;

    def __call__(self, r):
        raise NotImplementedError(&quot;Auth hooks must be callable.&quot;)


class HTTPBasicAuth(AuthBase):
    &quot;&quot;&quot;Attaches HTTP Basic Authentication to the given Request object.&quot;&quot;&quot;

    def __init__(self, username, password):
        self.username = username
        self.password = password

    def __eq__(self, other):
        return all(
            [
                self.username == getattr(other, &quot;username&quot;, None),
                self.password == getattr(other, &quot;password&quot;, None),
            ]
        )

    def __ne__(self, other):
        return not self == other

    def __call__(self, r):
        r.headers[&quot;Authorization&quot;] = _basic_auth_str(self.username, self.password)
        return r


class HTTPProxyAuth(HTTPBasicAuth):
    &quot;&quot;&quot;Attaches HTTP Proxy Authentication to a given Request object.&quot;&quot;&quot;

    def __call__(self, r):
        r.headers[&quot;Proxy-Authorization&quot;] = _basic_auth_str(self.username, self.password)
        return r


class HTTPDigestAuth(AuthBase):
    &quot;&quot;&quot;Attaches HTTP Digest Authentication to the given Request object.&quot;&quot;&quot;

    def __init__(self, username, password):
        self.username = username
        self.password = password
        # Keep state in per-thread local storage
        self._thread_local = threading.local()

    def init_per_thread_state(self):
        # Ensure state is initialized just once per-thread
        if not hasattr(self._thread_local, &quot;init&quot;):
            self._thread_local.init = True
            self._thread_local.last_nonce = &quot;&quot;
            self._thread_local.nonce_count = 0
            self._thread_local.chal = {}
            self._thread_local.pos = None
            self._thread_local.num_401_calls = None

    def build_digest_header(self, method, url):
        &quot;&quot;&quot;
        :rtype: str
        &quot;&quot;&quot;

        realm = self._thread_local.chal[&quot;realm&quot;]
        nonce = self._thread_local.chal[&quot;nonce&quot;]
        qop = self._thread_local.chal.get(&quot;qop&quot;)
        algorithm = self._thread_local.chal.get(&quot;algorithm&quot;)
        opaque = self._thread_local.chal.get(&quot;opaque&quot;)
        hash_utf8 = None

        if algorithm is None:
            _algorithm = &quot;MD5&quot;
        else:
            _algorithm = algorithm.upper()
        # lambdas assume digest modules are imported at the top level
        if _algorithm == &quot;MD5&quot; or _algorithm == &quot;MD5-SESS&quot;:

            def md5_utf8(x):
                if isinstance(x, str):
                    x = x.encode(&quot;utf-8&quot;)
                return hashlib.md5(x).hexdigest()

            hash_utf8 = md5_utf8
        elif _algorithm == &quot;SHA&quot;:

            def sha_utf8(x):
                if isinstance(x, str):
                    x = x.encode(&quot;utf-8&quot;)
                return hashlib.sha1(x).hexdigest()

            hash_utf8 = sha_utf8
        elif _algorithm == &quot;SHA-256&quot;:

            def sha256_utf8(x):
                if isinstance(x, str):
                    x = x.encode(&quot;utf-8&quot;)
                return hashlib.sha256(x).hexdigest()

            hash_utf8 = sha256_utf8
        elif _algorithm == &quot;SHA-512&quot;:

            def sha512_utf8(x):
                if isinstance(x, str):
                    x = x.encode(&quot;utf-8&quot;)
                return hashlib.sha512(x).hexdigest()

            hash_utf8 = sha512_utf8

        KD = lambda s, d: hash_utf8(f&quot;{s}:{d}&quot;)  # noqa:E731

        if hash_utf8 is None:
            return None

        # XXX not implemented yet
        entdig = None
        p_parsed = urlparse(url)
        #: path is request-uri defined in RFC 2616 which should not be empty
        path = p_parsed.path or &quot;/&quot;
        if p_parsed.query:
            path += f&quot;?{p_parsed.query}&quot;

        A1 = f&quot;{self.username}:{realm}:{self.password}&quot;
        A2 = f&quot;{method}:{path}&quot;

        HA1 = hash_utf8(A1)
        HA2 = hash_utf8(A2)

        if nonce == self._thread_local.last_nonce:
            self._thread_local.nonce_count += 1
        else:
            self._thread_local.nonce_count = 1
        ncvalue = f&quot;{self._thread_local.nonce_count:08x}&quot;
        s = str(self._thread_local.nonce_count).encode(&quot;utf-8&quot;)
        s += nonce.encode(&quot;utf-8&quot;)
        s += time.ctime().encode(&quot;utf-8&quot;)
        s += os.urandom(8)

        cnonce = hashlib.sha1(s).hexdigest()[:16]
        if _algorithm == &quot;MD5-SESS&quot;:
            HA1 = hash_utf8(f&quot;{HA1}:{nonce}:{cnonce}&quot;)

        if not qop:
            respdig = KD(HA1, f&quot;{nonce}:{HA2}&quot;)
        elif qop == &quot;auth&quot; or &quot;auth&quot; in qop.split(&quot;,&quot;):
            noncebit = f&quot;{nonce}:{ncvalue}:{cnonce}:auth:{HA2}&quot;
            respdig = KD(HA1, noncebit)
        else:
            # XXX handle auth-int.
            return None

        self._thread_local.last_nonce = nonce

        # XXX should the partial digests be encoded too?
        base = (
            f'username=&quot;{self.username}&quot;, realm=&quot;{realm}&quot;, nonce=&quot;{nonce}&quot;, '
            f'uri=&quot;{path}&quot;, response=&quot;{respdig}&quot;'
        )
        if opaque:
            base += f', opaque=&quot;{opaque}&quot;'
        if algorithm:
            base += f', algorithm=&quot;{algorithm}&quot;'
        if entdig:
            base += f', digest=&quot;{entdig}&quot;'
        if qop:
            base += f', qop=&quot;auth&quot;, nc={ncvalue}, cnonce=&quot;{cnonce}&quot;'

        return f&quot;Digest {base}&quot;

    def handle_redirect(self, r, **kwargs):
        &quot;&quot;&quot;Reset num_401_calls counter on redirects.&quot;&quot;&quot;
        if r.is_redirect:
            self._thread_local.num_401_calls = 1

    def handle_401(self, r, **kwargs):
        &quot;&quot;&quot;
        Takes the given response and tries digest-auth, if needed.

        :rtype: requests.Response
        &quot;&quot;&quot;

        # If response is not 4xx, do not auth
        # See https://github.com/psf/requests/issues/3772
        if not 400 &lt;= r.status_code &lt; 500:
            self._thread_local.num_401_calls = 1
            return r

        if self._thread_local.pos is not None:
            # Rewind the file position indicator of the body to where
            # it was to resend the request.
            r.request.body.seek(self._thread_local.pos)
        s_auth = r.headers.get(&quot;www-authenticate&quot;, &quot;&quot;)

        if &quot;digest&quot; in s_auth.lower() and self._thread_local.num_401_calls &lt; 2:
            self._thread_local.num_401_calls += 1
            pat = re.compile(r&quot;digest &quot;, flags=re.IGNORECASE)
            self._thread_local.chal = parse_dict_header(pat.sub(&quot;&quot;, s_auth, count=1))

            # Consume content and release the original connection
            # to allow our new request to reuse the same one.
            r.content
            r.close()
            prep = r.request.copy()
            extract_cookies_to_jar(prep._cookies, r.request, r.raw)
            prep.prepare_cookies(prep._cookies)

            prep.headers[&quot;Authorization&quot;] = self.build_digest_header(
                prep.method, prep.url
            )
            _r = r.connection.send(prep, **kwargs)
            _r.history.append(r)
            _r.request = prep

            return _r

        self._thread_local.num_401_calls = 1
        return r

    def __call__(self, r):
        # Initialize per-thread state, if needed
        self.init_per_thread_state()
        # If we have a saved nonce, skip the 401
        if self._thread_local.last_nonce:
            r.headers[&quot;Authorization&quot;] = self.build_digest_header(r.method, r.url)
        try:
            self._thread_local.pos = r.body.tell()
        except AttributeError:
            # In the case of HTTPDigestAuth being reused and the body of
            # the previous request was a file-like object, pos has the
            # file position of the previous body. Ensure it's set to
            # None.
            self._thread_local.pos = None
        r.register_hook(&quot;response&quot;, self.handle_401)
        r.register_hook(&quot;response&quot;, self.handle_redirect)
        self._thread_local.num_401_calls = 1

        return r

    def __eq__(self, other):
        return all(
            [
                self.username == getattr(other, &quot;username&quot;, None),
                self.password == getattr(other, &quot;password&quot;, None),
            ]
        )

    def __ne__(self, other):
        return not self == other</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/api.py (Line 1:1 - Line 157:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/api.py (Line 1:1 - Line 157:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn688" onclick="toggleCodeBlock('cloneGroup688', 'expandBtn688', 'collapseBtn688')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn688" onclick="toggleCodeBlock('cloneGroup688', 'expandBtn688', 'collapseBtn688')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup688"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests.api
~~~~~~~~~~~~

This module implements the Requests API.

:copyright: (c) 2012 by Kenneth Reitz.
:license: Apache2, see LICENSE for more details.
&quot;&quot;&quot;

from . import sessions


def request(method, url, **kwargs):
    &quot;&quot;&quot;Constructs and sends a :class:`Request &lt;Request&gt;`.

    :param method: method for the new :class:`Request` object: ``GET``, ``OPTIONS``, ``HEAD``, ``POST``, ``PUT``, ``PATCH``, or ``DELETE``.
    :param url: URL for the new :class:`Request` object.
    :param params: (optional) Dictionary, list of tuples or bytes to send
        in the query string for the :class:`Request`.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) A JSON serializable Python object to send in the body of the :class:`Request`.
    :param headers: (optional) Dictionary of HTTP Headers to send with the :class:`Request`.
    :param cookies: (optional) Dict or CookieJar object to send with the :class:`Request`.
    :param files: (optional) Dictionary of ``'name': file-like-objects`` (or ``{'name': file-tuple}``) for multipart encoding upload.
        ``file-tuple`` can be a 2-tuple ``('filename', fileobj)``, 3-tuple ``('filename', fileobj, 'content_type')``
        or a 4-tuple ``('filename', fileobj, 'content_type', custom_headers)``, where ``'content_type'`` is a string
        defining the content type of the given file and ``custom_headers`` a dict-like object containing additional headers
        to add for the file.
    :param auth: (optional) Auth tuple to enable Basic/Digest/Custom HTTP Auth.
    :param timeout: (optional) How many seconds to wait for the server to send data
        before giving up, as a float, or a :ref:`(connect timeout, read
        timeout) &lt;timeouts&gt;` tuple.
    :type timeout: float or tuple
    :param allow_redirects: (optional) Boolean. Enable/disable GET/OPTIONS/POST/PUT/PATCH/DELETE/HEAD redirection. Defaults to ``True``.
    :type allow_redirects: bool
    :param proxies: (optional) Dictionary mapping protocol to the URL of the proxy.
    :param verify: (optional) Either a boolean, in which case it controls whether we verify
            the server's TLS certificate, or a string, in which case it must be a path
            to a CA bundle to use. Defaults to ``True``.
    :param stream: (optional) if ``False``, the response content will be immediately downloaded.
    :param cert: (optional) if String, path to ssl client cert file (.pem). If Tuple, ('cert', 'key') pair.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response

    Usage::

      &gt;&gt;&gt; import requests
      &gt;&gt;&gt; req = requests.request('GET', 'https://httpbin.org/get')
      &gt;&gt;&gt; req
      &lt;Response [200]&gt;
    &quot;&quot;&quot;

    # By using the 'with' statement we are sure the session is closed, thus we
    # avoid leaving sockets open which can trigger a ResourceWarning in some
    # cases, and look like a memory leak in others.
    with sessions.Session() as session:
        return session.request(method=method, url=url, **kwargs)


def get(url, params=None, **kwargs):
    r&quot;&quot;&quot;Sends a GET request.

    :param url: URL for the new :class:`Request` object.
    :param params: (optional) Dictionary, list of tuples or bytes to send
        in the query string for the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    return request(&quot;get&quot;, url, params=params, **kwargs)


def options(url, **kwargs):
    r&quot;&quot;&quot;Sends an OPTIONS request.

    :param url: URL for the new :class:`Request` object.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    return request(&quot;options&quot;, url, **kwargs)


def head(url, **kwargs):
    r&quot;&quot;&quot;Sends a HEAD request.

    :param url: URL for the new :class:`Request` object.
    :param \*\*kwargs: Optional arguments that ``request`` takes. If
        `allow_redirects` is not provided, it will be set to `False` (as
        opposed to the default :meth:`request` behavior).
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    kwargs.setdefault(&quot;allow_redirects&quot;, False)
    return request(&quot;head&quot;, url, **kwargs)


def post(url, data=None, json=None, **kwargs):
    r&quot;&quot;&quot;Sends a POST request.

    :param url: URL for the new :class:`Request` object.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) A JSON serializable Python object to send in the body of the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    return request(&quot;post&quot;, url, data=data, json=json, **kwargs)


def put(url, data=None, **kwargs):
    r&quot;&quot;&quot;Sends a PUT request.

    :param url: URL for the new :class:`Request` object.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) A JSON serializable Python object to send in the body of the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    return request(&quot;put&quot;, url, data=data, **kwargs)


def patch(url, data=None, **kwargs):
    r&quot;&quot;&quot;Sends a PATCH request.

    :param url: URL for the new :class:`Request` object.
    :param data: (optional) Dictionary, list of tuples, bytes, or file-like
        object to send in the body of the :class:`Request`.
    :param json: (optional) A JSON serializable Python object to send in the body of the :class:`Request`.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    return request(&quot;patch&quot;, url, data=data, **kwargs)


def delete(url, **kwargs):
    r&quot;&quot;&quot;Sends a DELETE request.

    :param url: URL for the new :class:`Request` object.
    :param \*\*kwargs: Optional arguments that ``request`` takes.
    :return: :class:`Response &lt;Response&gt;` object
    :rtype: requests.Response
    &quot;&quot;&quot;

    return request(&quot;delete&quot;, url, **kwargs)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/adapters.py (Line 29:2 - Line 59:8), .venv/lib/python3.14/site-packages/pip/_vendor/requests/adapters.py (Line 29:2 - Line 59:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn689" onclick="toggleCodeBlock('cloneGroup689', 'expandBtn689', 'collapseBtn689')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn689" onclick="toggleCodeBlock('cloneGroup689', 'expandBtn689', 'collapseBtn689')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup689"><code class="language-python text-sm text-gray-800">urllib3.util.retry import Retry

from .auth import _basic_auth_str
from .compat import basestring, urlparse
from .cookies import extract_cookies_to_jar
from .exceptions import (
    ConnectionError,
    ConnectTimeout,
    InvalidHeader,
    InvalidProxyURL,
    InvalidSchema,
    InvalidURL,
    ProxyError,
    ReadTimeout,
    RetryError,
    SSLError,
)
from .models import Response
from .structures import CaseInsensitiveDict
from .utils import (
    DEFAULT_CA_BUNDLE_PATH,
    extract_zipped_paths,
    get_auth_from_url,
    get_encoding_from_headers,
    prepend_scheme_if_needed,
    select_proxy,
    urldefragauth,
)

try:
    from urllib3</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/adapters.py (Line 59:2 - Line 696:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/adapters.py (Line 59:2 - Line 696:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn690" onclick="toggleCodeBlock('cloneGroup690', 'expandBtn690', 'collapseBtn690')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn690" onclick="toggleCodeBlock('cloneGroup690', 'expandBtn690', 'collapseBtn690')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup690"><code class="language-python text-sm text-gray-800">urllib3.contrib.socks import SOCKSProxyManager
except ImportError:

    def SOCKSProxyManager(*args, **kwargs):
        raise InvalidSchema(&quot;Missing dependencies for SOCKS support.&quot;)


if typing.TYPE_CHECKING:
    from .models import PreparedRequest


DEFAULT_POOLBLOCK = False
DEFAULT_POOLSIZE = 10
DEFAULT_RETRIES = 0
DEFAULT_POOL_TIMEOUT = None


def _urllib3_request_context(
    request: &quot;PreparedRequest&quot;,
    verify: &quot;bool | str | None&quot;,
    client_cert: &quot;typing.Tuple[str, str] | str | None&quot;,
    poolmanager: &quot;PoolManager&quot;,
) -&gt; &quot;(typing.Dict[str, typing.Any], typing.Dict[str, typing.Any])&quot;:
    host_params = {}
    pool_kwargs = {}
    parsed_request_url = urlparse(request.url)
    scheme = parsed_request_url.scheme.lower()
    port = parsed_request_url.port

    cert_reqs = &quot;CERT_REQUIRED&quot;
    if verify is False:
        cert_reqs = &quot;CERT_NONE&quot;
    elif isinstance(verify, str):
        if not os.path.isdir(verify):
            pool_kwargs[&quot;ca_certs&quot;] = verify
        else:
            pool_kwargs[&quot;ca_cert_dir&quot;] = verify
    pool_kwargs[&quot;cert_reqs&quot;] = cert_reqs
    if client_cert is not None:
        if isinstance(client_cert, tuple) and len(client_cert) == 2:
            pool_kwargs[&quot;cert_file&quot;] = client_cert[0]
            pool_kwargs[&quot;key_file&quot;] = client_cert[1]
        else:
            # According to our docs, we allow users to specify just the client
            # cert path
            pool_kwargs[&quot;cert_file&quot;] = client_cert
    host_params = {
        &quot;scheme&quot;: scheme,
        &quot;host&quot;: parsed_request_url.hostname,
        &quot;port&quot;: port,
    }
    return host_params, pool_kwargs


class BaseAdapter:
    &quot;&quot;&quot;The Base Transport Adapter&quot;&quot;&quot;

    def __init__(self):
        super().__init__()

    def send(
        self, request, stream=False, timeout=None, verify=True, cert=None, proxies=None
    ):
        &quot;&quot;&quot;Sends PreparedRequest object. Returns Response object.

        :param request: The :class:`PreparedRequest &lt;PreparedRequest&gt;` being sent.
        :param stream: (optional) Whether to stream the request content.
        :param timeout: (optional) How long to wait for the server to send
            data before giving up, as a float, or a :ref:`(connect timeout,
            read timeout) &lt;timeouts&gt;` tuple.
        :type timeout: float or tuple
        :param verify: (optional) Either a boolean, in which case it controls whether we verify
            the server's TLS certificate, or a string, in which case it must be a path
            to a CA bundle to use
        :param cert: (optional) Any user-provided SSL certificate to be trusted.
        :param proxies: (optional) The proxies dictionary to apply to the request.
        &quot;&quot;&quot;
        raise NotImplementedError

    def close(self):
        &quot;&quot;&quot;Cleans up adapter specific items.&quot;&quot;&quot;
        raise NotImplementedError


class HTTPAdapter(BaseAdapter):
    &quot;&quot;&quot;The built-in HTTP Adapter for urllib3.

    Provides a general-case interface for Requests sessions to contact HTTP and
    HTTPS urls by implementing the Transport Adapter interface. This class will
    usually be created by the :class:`Session &lt;Session&gt;` class under the
    covers.

    :param pool_connections: The number of urllib3 connection pools to cache.
    :param pool_maxsize: The maximum number of connections to save in the pool.
    :param max_retries: The maximum number of retries each connection
        should attempt. Note, this applies only to failed DNS lookups, socket
        connections and connection timeouts, never to requests where data has
        made it to the server. By default, Requests does not retry failed
        connections. If you need granular control over the conditions under
        which we retry a request, import urllib3's ``Retry`` class and pass
        that instead.
    :param pool_block: Whether the connection pool should block for connections.

    Usage::

      &gt;&gt;&gt; import requests
      &gt;&gt;&gt; s = requests.Session()
      &gt;&gt;&gt; a = requests.adapters.HTTPAdapter(max_retries=3)
      &gt;&gt;&gt; s.mount('http://', a)
    &quot;&quot;&quot;

    __attrs__ = [
        &quot;max_retries&quot;,
        &quot;config&quot;,
        &quot;_pool_connections&quot;,
        &quot;_pool_maxsize&quot;,
        &quot;_pool_block&quot;,
    ]

    def __init__(
        self,
        pool_connections=DEFAULT_POOLSIZE,
        pool_maxsize=DEFAULT_POOLSIZE,
        max_retries=DEFAULT_RETRIES,
        pool_block=DEFAULT_POOLBLOCK,
    ):
        if max_retries == DEFAULT_RETRIES:
            self.max_retries = Retry(0, read=False)
        else:
            self.max_retries = Retry.from_int(max_retries)
        self.config = {}
        self.proxy_manager = {}

        super().__init__()

        self._pool_connections = pool_connections
        self._pool_maxsize = pool_maxsize
        self._pool_block = pool_block

        self.init_poolmanager(pool_connections, pool_maxsize, block=pool_block)

    def __getstate__(self):
        return {attr: getattr(self, attr, None) for attr in self.__attrs__}

    def __setstate__(self, state):
        # Can't handle by adding 'proxy_manager' to self.__attrs__ because
        # self.poolmanager uses a lambda function, which isn't pickleable.
        self.proxy_manager = {}
        self.config = {}

        for attr, value in state.items():
            setattr(self, attr, value)

        self.init_poolmanager(
            self._pool_connections, self._pool_maxsize, block=self._pool_block
        )

    def init_poolmanager(
        self, connections, maxsize, block=DEFAULT_POOLBLOCK, **pool_kwargs
    ):
        &quot;&quot;&quot;Initializes a urllib3 PoolManager.

        This method should not be called from user code, and is only
        exposed for use when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param connections: The number of urllib3 connection pools to cache.
        :param maxsize: The maximum number of connections to save in the pool.
        :param block: Block when no free connections are available.
        :param pool_kwargs: Extra keyword arguments used to initialize the Pool Manager.
        &quot;&quot;&quot;
        # save these values for pickling
        self._pool_connections = connections
        self._pool_maxsize = maxsize
        self._pool_block = block

        self.poolmanager = PoolManager(
            num_pools=connections,
            maxsize=maxsize,
            block=block,
            **pool_kwargs,
        )

    def proxy_manager_for(self, proxy, **proxy_kwargs):
        &quot;&quot;&quot;Return urllib3 ProxyManager for the given proxy.

        This method should not be called from user code, and is only
        exposed for use when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param proxy: The proxy to return a urllib3 ProxyManager for.
        :param proxy_kwargs: Extra keyword arguments used to configure the Proxy Manager.
        :returns: ProxyManager
        :rtype: urllib3.ProxyManager
        &quot;&quot;&quot;
        if proxy in self.proxy_manager:
            manager = self.proxy_manager[proxy]
        elif proxy.lower().startswith(&quot;socks&quot;):
            username, password = get_auth_from_url(proxy)
            manager = self.proxy_manager[proxy] = SOCKSProxyManager(
                proxy,
                username=username,
                password=password,
                num_pools=self._pool_connections,
                maxsize=self._pool_maxsize,
                block=self._pool_block,
                **proxy_kwargs,
            )
        else:
            proxy_headers = self.proxy_headers(proxy)
            manager = self.proxy_manager[proxy] = proxy_from_url(
                proxy,
                proxy_headers=proxy_headers,
                num_pools=self._pool_connections,
                maxsize=self._pool_maxsize,
                block=self._pool_block,
                **proxy_kwargs,
            )

        return manager

    def cert_verify(self, conn, url, verify, cert):
        &quot;&quot;&quot;Verify a SSL certificate. This method should not be called from user
        code, and is only exposed for use when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param conn: The urllib3 connection object associated with the cert.
        :param url: The requested URL.
        :param verify: Either a boolean, in which case it controls whether we verify
            the server's TLS certificate, or a string, in which case it must be a path
            to a CA bundle to use
        :param cert: The SSL certificate to verify.
        &quot;&quot;&quot;
        if url.lower().startswith(&quot;https&quot;) and verify:
            cert_loc = None

            # Allow self-specified cert location.
            if verify is not True:
                cert_loc = verify

            if not cert_loc:
                cert_loc = extract_zipped_paths(DEFAULT_CA_BUNDLE_PATH)

            if not cert_loc or not os.path.exists(cert_loc):
                raise OSError(
                    f&quot;Could not find a suitable TLS CA certificate bundle, &quot;
                    f&quot;invalid path: {cert_loc}&quot;
                )

            conn.cert_reqs = &quot;CERT_REQUIRED&quot;

            if not os.path.isdir(cert_loc):
                conn.ca_certs = cert_loc
            else:
                conn.ca_cert_dir = cert_loc
        else:
            conn.cert_reqs = &quot;CERT_NONE&quot;
            conn.ca_certs = None
            conn.ca_cert_dir = None

        if cert:
            if not isinstance(cert, basestring):
                conn.cert_file = cert[0]
                conn.key_file = cert[1]
            else:
                conn.cert_file = cert
                conn.key_file = None
            if conn.cert_file and not os.path.exists(conn.cert_file):
                raise OSError(
                    f&quot;Could not find the TLS certificate file, &quot;
                    f&quot;invalid path: {conn.cert_file}&quot;
                )
            if conn.key_file and not os.path.exists(conn.key_file):
                raise OSError(
                    f&quot;Could not find the TLS key file, invalid path: {conn.key_file}&quot;
                )

    def build_response(self, req, resp):
        &quot;&quot;&quot;Builds a :class:`Response &lt;requests.Response&gt;` object from a urllib3
        response. This should not be called from user code, and is only exposed
        for use when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`

        :param req: The :class:`PreparedRequest &lt;PreparedRequest&gt;` used to generate the response.
        :param resp: The urllib3 response object.
        :rtype: requests.Response
        &quot;&quot;&quot;
        response = Response()

        # Fallback to None if there's no status_code, for whatever reason.
        response.status_code = getattr(resp, &quot;status&quot;, None)

        # Make headers case-insensitive.
        response.headers = CaseInsensitiveDict(getattr(resp, &quot;headers&quot;, {}))

        # Set encoding.
        response.encoding = get_encoding_from_headers(response.headers)
        response.raw = resp
        response.reason = response.raw.reason

        if isinstance(req.url, bytes):
            response.url = req.url.decode(&quot;utf-8&quot;)
        else:
            response.url = req.url

        # Add new cookies from the server.
        extract_cookies_to_jar(response.cookies, req, resp)

        # Give the Response some context.
        response.request = req
        response.connection = self

        return response

    def build_connection_pool_key_attributes(self, request, verify, cert=None):
        &quot;&quot;&quot;Build the PoolKey attributes used by urllib3 to return a connection.

        This looks at the PreparedRequest, the user-specified verify value,
        and the value of the cert parameter to determine what PoolKey values
        to use to select a connection from a given urllib3 Connection Pool.

        The SSL related pool key arguments are not consistently set. As of
        this writing, use the following to determine what keys may be in that
        dictionary:

        * If ``verify`` is ``True``, ``&quot;ssl_context&quot;`` will be set and will be the
          default Requests SSL Context
        * If ``verify`` is ``False``, ``&quot;ssl_context&quot;`` will not be set but
          ``&quot;cert_reqs&quot;`` will be set
        * If ``verify`` is a string, (i.e., it is a user-specified trust bundle)
          ``&quot;ca_certs&quot;`` will be set if the string is not a directory recognized
          by :py:func:`os.path.isdir`, otherwise ``&quot;ca_cert_dir&quot;`` will be
          set.
        * If ``&quot;cert&quot;`` is specified, ``&quot;cert_file&quot;`` will always be set. If
          ``&quot;cert&quot;`` is a tuple with a second item, ``&quot;key_file&quot;`` will also
          be present

        To override these settings, one may subclass this class, call this
        method and use the above logic to change parameters as desired. For
        example, if one wishes to use a custom :py:class:`ssl.SSLContext` one
        must both set ``&quot;ssl_context&quot;`` and based on what else they require,
        alter the other keys to ensure the desired behaviour.

        :param request:
            The PreparedReqest being sent over the connection.
        :type request:
            :class:`~requests.models.PreparedRequest`
        :param verify:
            Either a boolean, in which case it controls whether
            we verify the server's TLS certificate, or a string, in which case it
            must be a path to a CA bundle to use.
        :param cert:
            (optional) Any user-provided SSL certificate for client
            authentication (a.k.a., mTLS). This may be a string (i.e., just
            the path to a file which holds both certificate and key) or a
            tuple of length 2 with the certificate file path and key file
            path.
        :returns:
            A tuple of two dictionaries. The first is the &quot;host parameters&quot;
            portion of the Pool Key including scheme, hostname, and port. The
            second is a dictionary of SSLContext related parameters.
        &quot;&quot;&quot;
        return _urllib3_request_context(request, verify, cert, self.poolmanager)

    def get_connection_with_tls_context(self, request, verify, proxies=None, cert=None):
        &quot;&quot;&quot;Returns a urllib3 connection for the given request and TLS settings.
        This should not be called from user code, and is only exposed for use
        when subclassing the :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param request:
            The :class:`PreparedRequest &lt;PreparedRequest&gt;` object to be sent
            over the connection.
        :param verify:
            Either a boolean, in which case it controls whether we verify the
            server's TLS certificate, or a string, in which case it must be a
            path to a CA bundle to use.
        :param proxies:
            (optional) The proxies dictionary to apply to the request.
        :param cert:
            (optional) Any user-provided SSL certificate to be used for client
            authentication (a.k.a., mTLS).
        :rtype:
            urllib3.ConnectionPool
        &quot;&quot;&quot;
        proxy = select_proxy(request.url, proxies)
        try:
            host_params, pool_kwargs = self.build_connection_pool_key_attributes(
                request,
                verify,
                cert,
            )
        except ValueError as e:
            raise InvalidURL(e, request=request)
        if proxy:
            proxy = prepend_scheme_if_needed(proxy, &quot;http&quot;)
            proxy_url = parse_url(proxy)
            if not proxy_url.host:
                raise InvalidProxyURL(
                    &quot;Please check proxy URL. It is malformed &quot;
                    &quot;and could be missing the host.&quot;
                )
            proxy_manager = self.proxy_manager_for(proxy)
            conn = proxy_manager.connection_from_host(
                **host_params, pool_kwargs=pool_kwargs
            )
        else:
            # Only scheme should be lower case
            conn = self.poolmanager.connection_from_host(
                **host_params, pool_kwargs=pool_kwargs
            )

        return conn

    def get_connection(self, url, proxies=None):
        &quot;&quot;&quot;DEPRECATED: Users should move to `get_connection_with_tls_context`
        for all subclasses of HTTPAdapter using Requests&gt;=2.32.2.

        Returns a urllib3 connection for the given URL. This should not be
        called from user code, and is only exposed for use when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param url: The URL to connect to.
        :param proxies: (optional) A Requests-style dictionary of proxies used on this request.
        :rtype: urllib3.ConnectionPool
        &quot;&quot;&quot;
        warnings.warn(
            (
                &quot;`get_connection` has been deprecated in favor of &quot;
                &quot;`get_connection_with_tls_context`. Custom HTTPAdapter subclasses &quot;
                &quot;will need to migrate for Requests&gt;=2.32.2. Please see &quot;
                &quot;https://github.com/psf/requests/pull/6710 for more details.&quot;
            ),
            DeprecationWarning,
        )
        proxy = select_proxy(url, proxies)

        if proxy:
            proxy = prepend_scheme_if_needed(proxy, &quot;http&quot;)
            proxy_url = parse_url(proxy)
            if not proxy_url.host:
                raise InvalidProxyURL(
                    &quot;Please check proxy URL. It is malformed &quot;
                    &quot;and could be missing the host.&quot;
                )
            proxy_manager = self.proxy_manager_for(proxy)
            conn = proxy_manager.connection_from_url(url)
        else:
            # Only scheme should be lower case
            parsed = urlparse(url)
            url = parsed.geturl()
            conn = self.poolmanager.connection_from_url(url)

        return conn

    def close(self):
        &quot;&quot;&quot;Disposes of any internal state.

        Currently, this closes the PoolManager and any active ProxyManager,
        which closes any pooled connections.
        &quot;&quot;&quot;
        self.poolmanager.clear()
        for proxy in self.proxy_manager.values():
            proxy.clear()

    def request_url(self, request, proxies):
        &quot;&quot;&quot;Obtain the url to use when making the final request.

        If the message is being sent through a HTTP proxy, the full URL has to
        be used. Otherwise, we should only use the path portion of the URL.

        This should not be called from user code, and is only exposed for use
        when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param request: The :class:`PreparedRequest &lt;PreparedRequest&gt;` being sent.
        :param proxies: A dictionary of schemes or schemes and hosts to proxy URLs.
        :rtype: str
        &quot;&quot;&quot;
        proxy = select_proxy(request.url, proxies)
        scheme = urlparse(request.url).scheme

        is_proxied_http_request = proxy and scheme != &quot;https&quot;
        using_socks_proxy = False
        if proxy:
            proxy_scheme = urlparse(proxy).scheme.lower()
            using_socks_proxy = proxy_scheme.startswith(&quot;socks&quot;)

        url = request.path_url
        if url.startswith(&quot;//&quot;):  # Don't confuse urllib3
            url = f&quot;/{url.lstrip('/')}&quot;

        if is_proxied_http_request and not using_socks_proxy:
            url = urldefragauth(request.url)

        return url

    def add_headers(self, request, **kwargs):
        &quot;&quot;&quot;Add any headers needed by the connection. As of v2.0 this does
        nothing by default, but is left for overriding by users that subclass
        the :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        This should not be called from user code, and is only exposed for use
        when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param request: The :class:`PreparedRequest &lt;PreparedRequest&gt;` to add headers to.
        :param kwargs: The keyword arguments from the call to send().
        &quot;&quot;&quot;
        pass

    def proxy_headers(self, proxy):
        &quot;&quot;&quot;Returns a dictionary of the headers to add to any request sent
        through a proxy. This works with urllib3 magic to ensure that they are
        correctly sent to the proxy, rather than in a tunnelled request if
        CONNECT is being used.

        This should not be called from user code, and is only exposed for use
        when subclassing the
        :class:`HTTPAdapter &lt;requests.adapters.HTTPAdapter&gt;`.

        :param proxy: The url of the proxy being used for this request.
        :rtype: dict
        &quot;&quot;&quot;
        headers = {}
        username, password = get_auth_from_url(proxy)

        if username:
            headers[&quot;Proxy-Authorization&quot;] = _basic_auth_str(username, password)

        return headers

    def send(
        self, request, stream=False, timeout=None, verify=True, cert=None, proxies=None
    ):
        &quot;&quot;&quot;Sends PreparedRequest object. Returns Response object.

        :param request: The :class:`PreparedRequest &lt;PreparedRequest&gt;` being sent.
        :param stream: (optional) Whether to stream the request content.
        :param timeout: (optional) How long to wait for the server to send
            data before giving up, as a float, or a :ref:`(connect timeout,
            read timeout) &lt;timeouts&gt;` tuple.
        :type timeout: float or tuple or urllib3 Timeout object
        :param verify: (optional) Either a boolean, in which case it controls whether
            we verify the server's TLS certificate, or a string, in which case it
            must be a path to a CA bundle to use
        :param cert: (optional) Any user-provided SSL certificate to be trusted.
        :param proxies: (optional) The proxies dictionary to apply to the request.
        :rtype: requests.Response
        &quot;&quot;&quot;

        try:
            conn = self.get_connection_with_tls_context(
                request, verify, proxies=proxies, cert=cert
            )
        except LocationValueError as e:
            raise InvalidURL(e, request=request)

        self.cert_verify(conn, request.url, verify, cert)
        url = self.request_url(request, proxies)
        self.add_headers(
            request,
            stream=stream,
            timeout=timeout,
            verify=verify,
            cert=cert,
            proxies=proxies,
        )

        chunked = not (request.body is None or &quot;Content-Length&quot; in request.headers)

        if isinstance(timeout, tuple):
            try:
                connect, read = timeout
                timeout = TimeoutSauce(connect=connect, read=read)
            except ValueError:
                raise ValueError(
                    f&quot;Invalid timeout {timeout}. Pass a (connect, read) timeout tuple, &quot;
                    f&quot;or a single float to set both timeouts to the same value.&quot;
                )
        elif isinstance(timeout, TimeoutSauce):
            pass
        else:
            timeout = TimeoutSauce(connect=timeout, read=timeout)

        try:
            resp = conn.urlopen(
                method=request.method,
                url=url,
                body=request.body,
                headers=request.headers,
                redirect=False,
                assert_same_host=False,
                preload_content=False,
                decode_content=False,
                retries=self.max_retries,
                timeout=timeout,
                chunked=chunked,
            )

        except (ProtocolError, OSError) as err:
            raise ConnectionError(err, request=request)

        except MaxRetryError as e:
            if isinstance(e.reason, ConnectTimeoutError):
                # TODO: Remove this in 3.0.0: see #2811
                if not isinstance(e.reason, NewConnectionError):
                    raise ConnectTimeout(e, request=request)

            if isinstance(e.reason, ResponseError):
                raise RetryError(e, request=request)

            if isinstance(e.reason, _ProxyError):
                raise ProxyError(e, request=request)

            if isinstance(e.reason, _SSLError):
                # This branch is for urllib3 v1.22 and later.
                raise SSLError(e, request=request)

            raise ConnectionError(e, request=request)

        except ClosedPoolError as e:
            raise ConnectionError(e, request=request)

        except _ProxyError as e:
            raise ProxyError(e)

        except (_SSLError, _HTTPError) as e:
            if isinstance(e, _SSLError):
                # This branch is for urllib3 versions earlier than v1.22
                raise SSLError(e, request=request)
            elif isinstance(e, ReadTimeoutError):
                raise ReadTimeout(e, request=request)
            elif isinstance(e, _InvalidHeader):
                raise InvalidHeader(e, request=request)
            else:
                raise

        return self.build_response(request, resp)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/_internal_utils.py (Line 1:1 - Line 50:6), .venv/lib/python3.14/site-packages/pip/_vendor/requests/_internal_utils.py (Line 1:1 - Line 50:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn691" onclick="toggleCodeBlock('cloneGroup691', 'expandBtn691', 'collapseBtn691')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn691" onclick="toggleCodeBlock('cloneGroup691', 'expandBtn691', 'collapseBtn691')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup691"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
requests._internal_utils
~~~~~~~~~~~~~~

Provides utility functions that are consumed internally by Requests
which depend on extremely few external helpers (such as compat)
&quot;&quot;&quot;
import re

from .compat import builtin_str

_VALID_HEADER_NAME_RE_BYTE = re.compile(rb&quot;^[^:\s][^:\r\n]*$&quot;)
_VALID_HEADER_NAME_RE_STR = re.compile(r&quot;^[^:\s][^:\r\n]*$&quot;)
_VALID_HEADER_VALUE_RE_BYTE = re.compile(rb&quot;^\S[^\r\n]*$|^$&quot;)
_VALID_HEADER_VALUE_RE_STR = re.compile(r&quot;^\S[^\r\n]*$|^$&quot;)

_HEADER_VALIDATORS_STR = (_VALID_HEADER_NAME_RE_STR, _VALID_HEADER_VALUE_RE_STR)
_HEADER_VALIDATORS_BYTE = (_VALID_HEADER_NAME_RE_BYTE, _VALID_HEADER_VALUE_RE_BYTE)
HEADER_VALIDATORS = {
    bytes: _HEADER_VALIDATORS_BYTE,
    str: _HEADER_VALIDATORS_STR,
}


def to_native_string(string, encoding=&quot;ascii&quot;):
    &quot;&quot;&quot;Given a string object, regardless of type, returns a representation of
    that string in the native string type, encoding and decoding where
    necessary. This assumes ASCII unless told otherwise.
    &quot;&quot;&quot;
    if isinstance(string, builtin_str):
        out = string
    else:
        out = string.decode(encoding)

    return out


def unicode_is_ascii(u_string):
    &quot;&quot;&quot;Determine if unicode string only contains ASCII characters.

    :param str u_string: unicode string to check. Must be unicode
        and not Python 2 `str`.
    :rtype: bool
    &quot;&quot;&quot;
    assert isinstance(u_string, str)
    try:
        u_string.encode(&quot;ascii&quot;)
        return True
    except UnicodeEncodeError:
        return False</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/__init__.py (Line 55:5 - Line 86:9), .venv/lib/python3.14/site-packages/pip/_vendor/requests/__init__.py (Line 48:1 - Line 79:47)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn692" onclick="toggleCodeBlock('cloneGroup692', 'expandBtn692', 'collapseBtn692')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn692" onclick="toggleCodeBlock('cloneGroup692', 'expandBtn692', 'collapseBtn692')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup692"><code class="language-python text-sm text-gray-800">chardet_version = None


def check_compatibility(urllib3_version, chardet_version, charset_normalizer_version):
    urllib3_version = urllib3_version.split(&quot;.&quot;)
    assert urllib3_version != [&quot;dev&quot;]  # Verify urllib3 isn't installed from git.

    # Sometimes, urllib3 only reports its version as 16.1.
    if len(urllib3_version) == 2:
        urllib3_version.append(&quot;0&quot;)

    # Check urllib3 for compatibility.
    major, minor, patch = urllib3_version  # noqa: F811
    major, minor, patch = int(major), int(minor), int(patch)
    # urllib3 &gt;= 1.21.1
    assert major &gt;= 1
    if major == 1:
        assert minor &gt;= 21

    # Check charset_normalizer for compatibility.
    if chardet_version:
        major, minor, patch = chardet_version.split(&quot;.&quot;)[:3]
        major, minor, patch = int(major), int(minor), int(patch)
        # chardet_version &gt;= 3.0.2, &lt; 6.0.0
        assert (3, 0, 2) &lt;= (major, minor, patch) &lt; (6, 0, 0)
    elif charset_normalizer_version:
        major, minor, patch = charset_normalizer_version.split(&quot;.&quot;)[:3]
        major, minor, patch = int(major), int(minor), int(patch)
        # charset_normalizer &gt;= 2.0.0 &lt; 4.0.0
        assert (2, 0, 0) &lt;= (major, minor, patch) &lt; (4, 0, 0)
    else:
        warnings</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/__init__.py (Line 93:1 - Line 125:4), .venv/lib/python3.14/site-packages/pip/_vendor/requests/__init__.py (Line 83:1 - Line 115:75)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn693" onclick="toggleCodeBlock('cloneGroup693', 'expandBtn693', 'collapseBtn693')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn693" onclick="toggleCodeBlock('cloneGroup693', 'expandBtn693', 'collapseBtn693')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup693"><code class="language-python text-sm text-gray-800">def _check_cryptography(cryptography_version):
    # cryptography &lt; 1.3.4
    try:
        cryptography_version = list(map(int, cryptography_version.split(&quot;.&quot;)))
    except ValueError:
        return

    if cryptography_version &lt; [1, 3, 4]:
        warning = &quot;Old version of cryptography ({}) may cause slowdown.&quot;.format(
            cryptography_version
        )
        warnings.warn(warning, RequestsDependencyWarning)


# Check imported dependencies for compatibility.
try:
    check_compatibility(
        urllib3.__version__, chardet_version, charset_normalizer_version
    )
except (AssertionError, ValueError):
    warnings.warn(
        &quot;urllib3 ({}) or chardet ({})/charset_normalizer ({}) doesn't match a supported &quot;
        &quot;version!&quot;.format(
            urllib3.__version__, chardet_version, charset_normalizer_version
        ),
        RequestsDependencyWarning,
    )

# Attempt to enable urllib3's fallback for SNI support
# if the standard library doesn't support SNI or the
# 'ssl' library isn't available.
try:
    try</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/requests/__init__.py (Line 143:2 - Line 184:2), .venv/lib/python3.14/site-packages/pip/_vendor/requests/__init__.py (Line 138:2 - Line 179:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn694" onclick="toggleCodeBlock('cloneGroup694', 'expandBtn694', 'collapseBtn694')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn694" onclick="toggleCodeBlock('cloneGroup694', 'expandBtn694', 'collapseBtn694')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup694"><code class="language-python text-sm text-gray-800">urllib3.exceptions import DependencyWarning

warnings.simplefilter(&quot;ignore&quot;, DependencyWarning)

# Set default logging handler to avoid &quot;No handler found&quot; warnings.
import logging
from logging import NullHandler

from . import packages, utils
from .__version__ import (
    __author__,
    __author_email__,
    __build__,
    __cake__,
    __copyright__,
    __description__,
    __license__,
    __title__,
    __url__,
    __version__,
)
from .api import delete, get, head, options, patch, post, put, request
from .exceptions import (
    ConnectionError,
    ConnectTimeout,
    FileModeWarning,
    HTTPError,
    JSONDecodeError,
    ReadTimeout,
    RequestException,
    Timeout,
    TooManyRedirects,
    URLRequired,
)
from .models import PreparedRequest, Request, Response
from .sessions import Session, session
from .status_codes import codes

logging.getLogger(__name__).addHandler(NullHandler())

# FileModeWarnings go off per the default.
warnings.simplefilter(&quot;default&quot;, FileModeWarning, append=True)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/util.py (Line 1:1 - Line 324:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/util.py (Line 1:1 - Line 324:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn695" onclick="toggleCodeBlock('cloneGroup695', 'expandBtn695', 'collapseBtn695')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn695" onclick="toggleCodeBlock('cloneGroup695', 'expandBtn695', 'collapseBtn695')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup695"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.util
    ~~~~~~~~~~~~~

    Utility functions.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;

import re
from io import TextIOWrapper


split_path_re = re.compile(r'[/\\ ]')
doctype_lookup_re = re.compile(r'''
    &lt;!DOCTYPE\s+(
     [a-zA-Z_][a-zA-Z0-9]*
     (?: \s+      # optional in HTML5
     [a-zA-Z_][a-zA-Z0-9]*\s+
     &quot;[^&quot;]*&quot;)?
     )
     [^&gt;]*&gt;
''', re.DOTALL | re.MULTILINE | re.VERBOSE)
tag_re = re.compile(r'&lt;(.+?)(\s.*?)?&gt;.*?&lt;/.+?&gt;',
                    re.IGNORECASE | re.DOTALL | re.MULTILINE)
xml_decl_re = re.compile(r'\s*&lt;\?xml[^&gt;]*\?&gt;', re.I)


class ClassNotFound(ValueError):
    &quot;&quot;&quot;Raised if one of the lookup functions didn't find a matching class.&quot;&quot;&quot;


class OptionError(Exception):
    &quot;&quot;&quot;
    This exception will be raised by all option processing functions if
    the type or value of the argument is not correct.
    &quot;&quot;&quot;

def get_choice_opt(options, optname, allowed, default=None, normcase=False):
    &quot;&quot;&quot;
    If the key `optname` from the dictionary is not in the sequence
    `allowed`, raise an error, otherwise return it.
    &quot;&quot;&quot;
    string = options.get(optname, default)
    if normcase:
        string = string.lower()
    if string not in allowed:
        raise OptionError('Value for option {} must be one of {}'.format(optname, ', '.join(map(str, allowed))))
    return string


def get_bool_opt(options, optname, default=None):
    &quot;&quot;&quot;
    Intuitively, this is `options.get(optname, default)`, but restricted to
    Boolean value. The Booleans can be represented as string, in order to accept
    Boolean value from the command line arguments. If the key `optname` is
    present in the dictionary `options` and is not associated with a Boolean,
    raise an `OptionError`. If it is absent, `default` is returned instead.

    The valid string values for ``True`` are ``1``, ``yes``, ``true`` and
    ``on``, the ones for ``False`` are ``0``, ``no``, ``false`` and ``off``
    (matched case-insensitively).
    &quot;&quot;&quot;
    string = options.get(optname, default)
    if isinstance(string, bool):
        return string
    elif isinstance(string, int):
        return bool(string)
    elif not isinstance(string, str):
        raise OptionError(f'Invalid type {string!r} for option {optname}; use '
                          '1/0, yes/no, true/false, on/off')
    elif string.lower() in ('1', 'yes', 'true', 'on'):
        return True
    elif string.lower() in ('0', 'no', 'false', 'off'):
        return False
    else:
        raise OptionError(f'Invalid value {string!r} for option {optname}; use '
                          '1/0, yes/no, true/false, on/off')


def get_int_opt(options, optname, default=None):
    &quot;&quot;&quot;As :func:`get_bool_opt`, but interpret the value as an integer.&quot;&quot;&quot;
    string = options.get(optname, default)
    try:
        return int(string)
    except TypeError:
        raise OptionError(f'Invalid type {string!r} for option {optname}; you '
                          'must give an integer value')
    except ValueError:
        raise OptionError(f'Invalid value {string!r} for option {optname}; you '
                          'must give an integer value')

def get_list_opt(options, optname, default=None):
    &quot;&quot;&quot;
    If the key `optname` from the dictionary `options` is a string,
    split it at whitespace and return it. If it is already a list
    or a tuple, it is returned as a list.
    &quot;&quot;&quot;
    val = options.get(optname, default)
    if isinstance(val, str):
        return val.split()
    elif isinstance(val, (list, tuple)):
        return list(val)
    else:
        raise OptionError(f'Invalid type {val!r} for option {optname}; you '
                          'must give a list value')


def docstring_headline(obj):
    if not obj.__doc__:
        return ''
    res = []
    for line in obj.__doc__.strip().splitlines():
        if line.strip():
            res.append(&quot; &quot; + line.strip())
        else:
            break
    return ''.join(res).lstrip()


def make_analysator(f):
    &quot;&quot;&quot;Return a static text analyser function that returns float values.&quot;&quot;&quot;
    def text_analyse(text):
        try:
            rv = f(text)
        except Exception:
            return 0.0
        if not rv:
            return 0.0
        try:
            return min(1.0, max(0.0, float(rv)))
        except (ValueError, TypeError):
            return 0.0
    text_analyse.__doc__ = f.__doc__
    return staticmethod(text_analyse)


def shebang_matches(text, regex):
    r&quot;&quot;&quot;Check if the given regular expression matches the last part of the
    shebang if one exists.

        &gt;&gt;&gt; from pygments.util import shebang_matches
        &gt;&gt;&gt; shebang_matches('#!/usr/bin/env python', r'python(2\.\d)?')
        True
        &gt;&gt;&gt; shebang_matches('#!/usr/bin/python2.4', r'python(2\.\d)?')
        True
        &gt;&gt;&gt; shebang_matches('#!/usr/bin/python-ruby', r'python(2\.\d)?')
        False
        &gt;&gt;&gt; shebang_matches('#!/usr/bin/python/ruby', r'python(2\.\d)?')
        False
        &gt;&gt;&gt; shebang_matches('#!/usr/bin/startsomethingwith python',
        ...                 r'python(2\.\d)?')
        True

    It also checks for common windows executable file extensions::

        &gt;&gt;&gt; shebang_matches('#!C:\\Python2.4\\Python.exe', r'python(2\.\d)?')
        True

    Parameters (``'-f'`` or ``'--foo'`` are ignored so ``'perl'`` does
    the same as ``'perl -e'``)

    Note that this method automatically searches the whole string (eg:
    the regular expression is wrapped in ``'^$'``)
    &quot;&quot;&quot;
    index = text.find('\n')
    if index &gt;= 0:
        first_line = text[:index].lower()
    else:
        first_line = text.lower()
    if first_line.startswith('#!'):
        try:
            found = [x for x in split_path_re.split(first_line[2:].strip())
                     if x and not x.startswith('-')][-1]
        except IndexError:
            return False
        regex = re.compile(rf'^{regex}(\.(exe|cmd|bat|bin))?$', re.IGNORECASE)
        if regex.search(found) is not None:
            return True
    return False


def doctype_matches(text, regex):
    &quot;&quot;&quot;Check if the doctype matches a regular expression (if present).

    Note that this method only checks the first part of a DOCTYPE.
    eg: 'html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;'
    &quot;&quot;&quot;
    m = doctype_lookup_re.search(text)
    if m is None:
        return False
    doctype = m.group(1)
    return re.compile(regex, re.I).match(doctype.strip()) is not None


def html_doctype_matches(text):
    &quot;&quot;&quot;Check if the file looks like it has a html doctype.&quot;&quot;&quot;
    return doctype_matches(text, r'html')


_looks_like_xml_cache = {}


def looks_like_xml(text):
    &quot;&quot;&quot;Check if a doctype exists or if we have some tags.&quot;&quot;&quot;
    if xml_decl_re.match(text):
        return True
    key = hash(text)
    try:
        return _looks_like_xml_cache[key]
    except KeyError:
        m = doctype_lookup_re.search(text)
        if m is not None:
            return True
        rv = tag_re.search(text[:1000]) is not None
        _looks_like_xml_cache[key] = rv
        return rv


def surrogatepair(c):
    &quot;&quot;&quot;Given a unicode character code with length greater than 16 bits,
    return the two 16 bit surrogate pair.
    &quot;&quot;&quot;
    # From example D28 of:
    # http://www.unicode.org/book/ch03.pdf
    return (0xd7c0 + (c &gt;&gt; 10), (0xdc00 + (c &amp; 0x3ff)))


def format_lines(var_name, seq, raw=False, indent_level=0):
    &quot;&quot;&quot;Formats a sequence of strings for output.&quot;&quot;&quot;
    lines = []
    base_indent = ' ' * indent_level * 4
    inner_indent = ' ' * (indent_level + 1) * 4
    lines.append(base_indent + var_name + ' = (')
    if raw:
        # These should be preformatted reprs of, say, tuples.
        for i in seq:
            lines.append(inner_indent + i + ',')
    else:
        for i in seq:
            # Force use of single quotes
            r = repr(i + '&quot;')
            lines.append(inner_indent + r[:-2] + r[-1] + ',')
    lines.append(base_indent + ')')
    return '\n'.join(lines)


def duplicates_removed(it, already_seen=()):
    &quot;&quot;&quot;
    Returns a list with duplicates removed from the iterable `it`.

    Order is preserved.
    &quot;&quot;&quot;
    lst = []
    seen = set()
    for i in it:
        if i in seen or i in already_seen:
            continue
        lst.append(i)
        seen.add(i)
    return lst


class Future:
    &quot;&quot;&quot;Generic class to defer some work.

    Handled specially in RegexLexerMeta, to support regex string construction at
    first use.
    &quot;&quot;&quot;
    def get(self):
        raise NotImplementedError


def guess_decode(text):
    &quot;&quot;&quot;Decode *text* with guessed encoding.

    First try UTF-8; this should fail for non-UTF-8 encodings.
    Then try the preferred locale encoding.
    Fall back to latin-1, which always works.
    &quot;&quot;&quot;
    try:
        text = text.decode('utf-8')
        return text, 'utf-8'
    except UnicodeDecodeError:
        try:
            import locale
            prefencoding = locale.getpreferredencoding()
            text = text.decode()
            return text, prefencoding
        except (UnicodeDecodeError, LookupError):
            text = text.decode('latin1')
            return text, 'latin1'


def guess_decode_from_terminal(text, term):
    &quot;&quot;&quot;Decode *text* coming from terminal *term*.

    First try the terminal encoding, if given.
    Then try UTF-8.  Then try the preferred locale encoding.
    Fall back to latin-1, which always works.
    &quot;&quot;&quot;
    if getattr(term, 'encoding', None):
        try:
            text = text.decode(term.encoding)
        except UnicodeDecodeError:
            pass
        else:
            return text, term.encoding
    return guess_decode(text)


def terminal_encoding(term):
    &quot;&quot;&quot;Return our best guess of encoding for the given *term*.&quot;&quot;&quot;
    if getattr(term, 'encoding', None):
        return term.encoding
    import locale
    return locale.getpreferredencoding()


class UnclosingTextIOWrapper(TextIOWrapper):
    # Don't close underlying buffer on destruction.
    def close(self):
        self.flush()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/unistring.py (Line 1:1 - Line 153:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/unistring.py (Line 1:1 - Line 153:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn696" onclick="toggleCodeBlock('cloneGroup696', 'expandBtn696', 'collapseBtn696')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn696" onclick="toggleCodeBlock('cloneGroup696', 'expandBtn696', 'collapseBtn696')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup696"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.unistring
    ~~~~~~~~~~~~~~~~~~

    Strings of all Unicode characters of a certain category.
    Used for matching in Unicode-aware languages. Run to regenerate.

    Inspired by chartypes_create.py from the MoinMoin project.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;

Cc = '\x00-\x1f\x7f-\x9f'

Cf = '\xad\u0600-\u0605\u061c\u06dd\u070f\u08e2\u180e\u200b-\u200f\u202a-\u202e\u2060-\u2064\u2066-\u206f\ufeff\ufff9-\ufffb\U000110bd\U000110cd\U0001bca0-\U0001bca3\U0001d173-\U0001d17a\U000e0001\U000e0020-\U000e007f'

Cn = '\u0378-\u0379\u0380-\u0383\u038b\u038d\u03a2\u0530\u0557-\u0558\u058b-\u058c\u0590\u05c8-\u05cf\u05eb-\u05ee\u05f5-\u05ff\u061d\u070e\u074b-\u074c\u07b2-\u07bf\u07fb-\u07fc\u082e-\u082f\u083f\u085c-\u085d\u085f\u086b-\u089f\u08b5\u08be-\u08d2\u0984\u098d-\u098e\u0991-\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba-\u09bb\u09c5-\u09c6\u09c9-\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4-\u09e5\u09ff-\u0a00\u0a04\u0a0b-\u0a0e\u0a11-\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a-\u0a3b\u0a3d\u0a43-\u0a46\u0a49-\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a77-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba-\u0abb\u0ac6\u0aca\u0ace-\u0acf\u0ad1-\u0adf\u0ae4-\u0ae5\u0af2-\u0af8\u0b00\u0b04\u0b0d-\u0b0e\u0b11-\u0b12\u0b29\u0b31\u0b34\u0b3a-\u0b3b\u0b45-\u0b46\u0b49-\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64-\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce-\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0bff\u0c0d\u0c11\u0c29\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5b-\u0c5f\u0c64-\u0c65\u0c70-\u0c77\u0c8d\u0c91\u0ca9\u0cb4\u0cba-\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4-\u0ce5\u0cf0\u0cf3-\u0cff\u0d04\u0d0d\u0d11\u0d45\u0d49\u0d50-\u0d53\u0d64-\u0d65\u0d80-\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe-\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0de5\u0df0-\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85-\u0e86\u0e89\u0e8b-\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8-\u0ea9\u0eac\u0eba\u0ebe-\u0ebf\u0ec5\u0ec7\u0ece-\u0ecf\u0eda-\u0edb\u0ee0-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6\u10c8-\u10cc\u10ce-\u10cf\u1249\u124e-\u124f\u1257\u1259\u125e-\u125f\u1289\u128e-\u128f\u12b1\u12b6-\u12b7\u12bf\u12c1\u12c6-\u12c7\u12d7\u1311\u1316-\u1317\u135b-\u135c\u137d-\u137f\u139a-\u139f\u13f6-\u13f7\u13fe-\u13ff\u169d-\u169f\u16f9-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de-\u17df\u17ea-\u17ef\u17fa-\u17ff\u180f\u181a-\u181f\u1879-\u187f\u18ab-\u18af\u18f6-\u18ff\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e-\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c-\u1a1d\u1a5f\u1a7d-\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae-\u1aaf\u1abf-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c89-\u1c8f\u1cbb-\u1cbc\u1cc8-\u1ccf\u1cfa-\u1cff\u1dfa\u1f16-\u1f17\u1f1e-\u1f1f\u1f46-\u1f47\u1f4e-\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e-\u1f7f\u1fb5\u1fc5\u1fd4-\u1fd5\u1fdc\u1ff0-\u1ff1\u1ff5\u1fff\u2065\u2072-\u2073\u208f\u209d-\u209f\u20c0-\u20cf\u20f1-\u20ff\u218c-\u218f\u2427-\u243f\u244b-\u245f\u2b74-\u2b75\u2b96-\u2b97\u2bc9\u2bff\u2c2f\u2c5f\u2cf4-\u2cf8\u2d26\u2d28-\u2d2c\u2d2e-\u2d2f\u2d68-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e4f-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u2fff\u3040\u3097-\u3098\u3100-\u3104\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9ff0-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua6f8-\ua6ff\ua7ba-\ua7f6\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c6-\ua8cd\ua8da-\ua8df\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9ff\uaa37-\uaa3f\uaa4e-\uaa4f\uaa5a-\uaa5b\uaac3-\uaada\uaaf7-\uab00\uab07-\uab08\uab0f-\uab10\uab17-\uab1f\uab27\uab2f\uab66-\uab6f\uabee-\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\ud7ff\ufa6e-\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90-\ufd91\ufdc8-\ufdef\ufdfe-\ufdff\ufe1a-\ufe1f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd-\ufefe\uff00\uffbf-\uffc1\uffc8-\uffc9\uffd0-\uffd1\uffd8-\uffd9\uffdd-\uffdf\uffe7\uffef-\ufff8\ufffe-\uffff\U0001000c\U00010027\U0001003b\U0001003e\U0001004e-\U0001004f\U0001005e-\U0001007f\U000100fb-\U000100ff\U00010103-\U00010106\U00010134-\U00010136\U0001018f\U0001019c-\U0001019f\U000101a1-\U000101cf\U000101fe-\U0001027f\U0001029d-\U0001029f\U000102d1-\U000102df\U000102fc-\U000102ff\U00010324-\U0001032c\U0001034b-\U0001034f\U0001037b-\U0001037f\U0001039e\U000103c4-\U000103c7\U000103d6-\U000103ff\U0001049e-\U0001049f\U000104aa-\U000104af\U000104d4-\U000104d7\U000104fc-\U000104ff\U00010528-\U0001052f\U00010564-\U0001056e\U00010570-\U000105ff\U00010737-\U0001073f\U00010756-\U0001075f\U00010768-\U000107ff\U00010806-\U00010807\U00010809\U00010836\U00010839-\U0001083b\U0001083d-\U0001083e\U00010856\U0001089f-\U000108a6\U000108b0-\U000108df\U000108f3\U000108f6-\U000108fa\U0001091c-\U0001091e\U0001093a-\U0001093e\U00010940-\U0001097f\U000109b8-\U000109bb\U000109d0-\U000109d1\U00010a04\U00010a07-\U00010a0b\U00010a14\U00010a18\U00010a36-\U00010a37\U00010a3b-\U00010a3e\U00010a49-\U00010a4f\U00010a59-\U00010a5f\U00010aa0-\U00010abf\U00010ae7-\U00010aea\U00010af7-\U00010aff\U00010b36-\U00010b38\U00010b56-\U00010b57\U00010b73-\U00010b77\U00010b92-\U00010b98\U00010b9d-\U00010ba8\U00010bb0-\U00010bff\U00010c49-\U00010c7f\U00010cb3-\U00010cbf\U00010cf3-\U00010cf9\U00010d28-\U00010d2f\U00010d3a-\U00010e5f\U00010e7f-\U00010eff\U00010f28-\U00010f2f\U00010f5a-\U00010fff\U0001104e-\U00011051\U00011070-\U0001107e\U000110c2-\U000110cc\U000110ce-\U000110cf\U000110e9-\U000110ef\U000110fa-\U000110ff\U00011135\U00011147-\U0001114f\U00011177-\U0001117f\U000111ce-\U000111cf\U000111e0\U000111f5-\U000111ff\U00011212\U0001123f-\U0001127f\U00011287\U00011289\U0001128e\U0001129e\U000112aa-\U000112af\U000112eb-\U000112ef\U000112fa-\U000112ff\U00011304\U0001130d-\U0001130e\U00011311-\U00011312\U00011329\U00011331\U00011334\U0001133a\U00011345-\U00011346\U00011349-\U0001134a\U0001134e-\U0001134f\U00011351-\U00011356\U00011358-\U0001135c\U00011364-\U00011365\U0001136d-\U0001136f\U00011375-\U000113ff\U0001145a\U0001145c\U0001145f-\U0001147f\U000114c8-\U000114cf\U000114da-\U0001157f\U000115b6-\U000115b7\U000115de-\U000115ff\U00011645-\U0001164f\U0001165a-\U0001165f\U0001166d-\U0001167f\U000116b8-\U000116bf\U000116ca-\U000116ff\U0001171b-\U0001171c\U0001172c-\U0001172f\U00011740-\U000117ff\U0001183c-\U0001189f\U000118f3-\U000118fe\U00011900-\U000119ff\U00011a48-\U00011a4f\U00011a84-\U00011a85\U00011aa3-\U00011abf\U00011af9-\U00011bff\U00011c09\U00011c37\U00011c46-\U00011c4f\U00011c6d-\U00011c6f\U00011c90-\U00011c91\U00011ca8\U00011cb7-\U00011cff\U00011d07\U00011d0a\U00011d37-\U00011d39\U00011d3b\U00011d3e\U00011d48-\U00011d4f\U00011d5a-\U00011d5f\U00011d66\U00011d69\U00011d8f\U00011d92\U00011d99-\U00011d9f\U00011daa-\U00011edf\U00011ef9-\U00011fff\U0001239a-\U000123ff\U0001246f\U00012475-\U0001247f\U00012544-\U00012fff\U0001342f-\U000143ff\U00014647-\U000167ff\U00016a39-\U00016a3f\U00016a5f\U00016a6a-\U00016a6d\U00016a70-\U00016acf\U00016aee-\U00016aef\U00016af6-\U00016aff\U00016b46-\U00016b4f\U00016b5a\U00016b62\U00016b78-\U00016b7c\U00016b90-\U00016e3f\U00016e9b-\U00016eff\U00016f45-\U00016f4f\U00016f7f-\U00016f8e\U00016fa0-\U00016fdf\U00016fe2-\U00016fff\U000187f2-\U000187ff\U00018af3-\U0001afff\U0001b11f-\U0001b16f\U0001b2fc-\U0001bbff\U0001bc6b-\U0001bc6f\U0001bc7d-\U0001bc7f\U0001bc89-\U0001bc8f\U0001bc9a-\U0001bc9b\U0001bca4-\U0001cfff\U0001d0f6-\U0001d0ff\U0001d127-\U0001d128\U0001d1e9-\U0001d1ff\U0001d246-\U0001d2df\U0001d2f4-\U0001d2ff\U0001d357-\U0001d35f\U0001d379-\U0001d3ff\U0001d455\U0001d49d\U0001d4a0-\U0001d4a1\U0001d4a3-\U0001d4a4\U0001d4a7-\U0001d4a8\U0001d4ad\U0001d4ba\U0001d4bc\U0001d4c4\U0001d506\U0001d50b-\U0001d50c\U0001d515\U0001d51d\U0001d53a\U0001d53f\U0001d545\U0001d547-\U0001d549\U0001d551\U0001d6a6-\U0001d6a7\U0001d7cc-\U0001d7cd\U0001da8c-\U0001da9a\U0001daa0\U0001dab0-\U0001dfff\U0001e007\U0001e019-\U0001e01a\U0001e022\U0001e025\U0001e02b-\U0001e7ff\U0001e8c5-\U0001e8c6\U0001e8d7-\U0001e8ff\U0001e94b-\U0001e94f\U0001e95a-\U0001e95d\U0001e960-\U0001ec70\U0001ecb5-\U0001edff\U0001ee04\U0001ee20\U0001ee23\U0001ee25-\U0001ee26\U0001ee28\U0001ee33\U0001ee38\U0001ee3a\U0001ee3c-\U0001ee41\U0001ee43-\U0001ee46\U0001ee48\U0001ee4a\U0001ee4c\U0001ee50\U0001ee53\U0001ee55-\U0001ee56\U0001ee58\U0001ee5a\U0001ee5c\U0001ee5e\U0001ee60\U0001ee63\U0001ee65-\U0001ee66\U0001ee6b\U0001ee73\U0001ee78\U0001ee7d\U0001ee7f\U0001ee8a\U0001ee9c-\U0001eea0\U0001eea4\U0001eeaa\U0001eebc-\U0001eeef\U0001eef2-\U0001efff\U0001f02c-\U0001f02f\U0001f094-\U0001f09f\U0001f0af-\U0001f0b0\U0001f0c0\U0001f0d0\U0001f0f6-\U0001f0ff\U0001f10d-\U0001f10f\U0001f16c-\U0001f16f\U0001f1ad-\U0001f1e5\U0001f203-\U0001f20f\U0001f23c-\U0001f23f\U0001f249-\U0001f24f\U0001f252-\U0001f25f\U0001f266-\U0001f2ff\U0001f6d5-\U0001f6df\U0001f6ed-\U0001f6ef\U0001f6fa-\U0001f6ff\U0001f774-\U0001f77f\U0001f7d9-\U0001f7ff\U0001f80c-\U0001f80f\U0001f848-\U0001f84f\U0001f85a-\U0001f85f\U0001f888-\U0001f88f\U0001f8ae-\U0001f8ff\U0001f90c-\U0001f90f\U0001f93f\U0001f971-\U0001f972\U0001f977-\U0001f979\U0001f97b\U0001f9a3-\U0001f9af\U0001f9ba-\U0001f9bf\U0001f9c3-\U0001f9cf\U0001fa00-\U0001fa5f\U0001fa6e-\U0001ffff\U0002a6d7-\U0002a6ff\U0002b735-\U0002b73f\U0002b81e-\U0002b81f\U0002cea2-\U0002ceaf\U0002ebe1-\U0002f7ff\U0002fa1e-\U000e0000\U000e0002-\U000e001f\U000e0080-\U000e00ff\U000e01f0-\U000effff\U000ffffe-\U000fffff\U0010fffe-\U0010ffff'

Co = '\ue000-\uf8ff\U000f0000-\U000ffffd\U00100000-\U0010fffd'

Cs = '\ud800-\udbff\\\udc00\udc01-\udfff'

Ll = 'a-z\xb5\xdf-\xf6\xf8-\xff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0133\u0135\u0137-\u0138\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148-\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e-\u0180\u0183\u0185\u0188\u018c-\u018d\u0192\u0195\u0199-\u019b\u019e\u01a1\u01a3\u01a5\u01a8\u01aa-\u01ab\u01ad\u01b0\u01b4\u01b6\u01b9-\u01ba\u01bd-\u01bf\u01c6\u01c9\u01cc\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc-\u01dd\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef-\u01f0\u01f3\u01f5\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u0221\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233-\u0239\u023c\u023f-\u0240\u0242\u0247\u0249\u024b\u024d\u024f-\u0293\u0295-\u02af\u0371\u0373\u0377\u037b-\u037d\u0390\u03ac-\u03ce\u03d0-\u03d1\u03d5-\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef-\u03f3\u03f5\u03f8\u03fb-\u03fc\u0430-\u045f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce-\u04cf\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0529\u052b\u052d\u052f\u0560-\u0588\u10d0-\u10fa\u10fd-\u10ff\u13f8-\u13fd\u1c80-\u1c88\u1d00-\u1d2b\u1d6b-\u1d77\u1d79-\u1d9a\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95-\u1e9d\u1e9f\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u1f7d\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6-\u1fb7\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fc7\u1fd0-\u1fd3\u1fd6-\u1fd7\u1fe0-\u1fe7\u1ff2-\u1ff4\u1ff6-\u1ff7\u210a\u210e-\u210f\u2113\u212f\u2134\u2139\u213c-\u213d\u2146-\u2149\u214e\u2184\u2c30-\u2c5e\u2c61\u2c65-\u2c66\u2c68\u2c6a\u2c6c\u2c71\u2c73-\u2c74\u2c76-\u2c7b\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3-\u2ce4\u2cec\u2cee\u2cf3\u2d00-\u2d25\u2d27\u2d2d\ua641\ua643\ua645\ua647\ua649\ua64b\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua699\ua69b\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f-\ua731\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua771-\ua778\ua77a\ua77c\ua77f\ua781\ua783\ua785\ua787\ua78c\ua78e\ua791\ua793-\ua795\ua797\ua799\ua79b\ua79d\ua79f\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\ua7af\ua7b5\ua7b7\ua7b9\ua7fa\uab30-\uab5a\uab60-\uab65\uab70-\uabbf\ufb00-\ufb06\ufb13-\ufb17\uff41-\uff5a\U00010428-\U0001044f\U000104d8-\U000104fb\U00010cc0-\U00010cf2\U000118c0-\U000118df\U00016e60-\U00016e7f\U0001d41a-\U0001d433\U0001d44e-\U0001d454\U0001d456-\U0001d467\U0001d482-\U0001d49b\U0001d4b6-\U0001d4b9\U0001d4bb\U0001d4bd-\U0001d4c3\U0001d4c5-\U0001d4cf\U0001d4ea-\U0001d503\U0001d51e-\U0001d537\U0001d552-\U0001d56b\U0001d586-\U0001d59f\U0001d5ba-\U0001d5d3\U0001d5ee-\U0001d607\U0001d622-\U0001d63b\U0001d656-\U0001d66f\U0001d68a-\U0001d6a5\U0001d6c2-\U0001d6da\U0001d6dc-\U0001d6e1\U0001d6fc-\U0001d714\U0001d716-\U0001d71b\U0001d736-\U0001d74e\U0001d750-\U0001d755\U0001d770-\U0001d788\U0001d78a-\U0001d78f\U0001d7aa-\U0001d7c2\U0001d7c4-\U0001d7c9\U0001d7cb\U0001e922-\U0001e943'

Lm = '\u02b0-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0374\u037a\u0559\u0640\u06e5-\u06e6\u07f4-\u07f5\u07fa\u081a\u0824\u0828\u0971\u0e46\u0ec6\u10fc\u17d7\u1843\u1aa7\u1c78-\u1c7d\u1d2c-\u1d6a\u1d78\u1d9b-\u1dbf\u2071\u207f\u2090-\u209c\u2c7c-\u2c7d\u2d6f\u2e2f\u3005\u3031-\u3035\u303b\u309d-\u309e\u30fc-\u30fe\ua015\ua4f8-\ua4fd\ua60c\ua67f\ua69c-\ua69d\ua717-\ua71f\ua770\ua788\ua7f8-\ua7f9\ua9cf\ua9e6\uaa70\uaadd\uaaf3-\uaaf4\uab5c-\uab5f\uff70\uff9e-\uff9f\U00016b40-\U00016b43\U00016f93-\U00016f9f\U00016fe0-\U00016fe1'

Lo = '\xaa\xba\u01bb\u01c0-\u01c3\u0294\u05d0-\u05ea\u05ef-\u05f2\u0620-\u063f\u0641-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u0800-\u0815\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17dc\u1820-\u1842\u1844-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c77\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5-\u1cf6\u2135-\u2138\u2d30-\u2d67\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3006\u303c\u3041-\u3096\u309f\u30a1-\u30fa\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua014\ua016-\ua48c\ua4d0-\ua4f7\ua500-\ua60b\ua610-\ua61f\ua62a-\ua62b\ua66e\ua6a0-\ua6e5\ua78f\ua7f7\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9e0-\ua9e4\ua9e7-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa6f\uaa71-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaae0-\uaaea\uaaf2\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff66-\uff6f\uff71-\uff9d\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\U00010000-\U0001000b\U0001000d-\U00010026\U00010028-\U0001003a\U0001003c-\U0001003d\U0001003f-\U0001004d\U00010050-\U0001005d\U00010080-\U000100fa\U00010280-\U0001029c\U000102a0-\U000102d0\U00010300-\U0001031f\U0001032d-\U00010340\U00010342-\U00010349\U00010350-\U00010375\U00010380-\U0001039d\U000103a0-\U000103c3\U000103c8-\U000103cf\U00010450-\U0001049d\U00010500-\U00010527\U00010530-\U00010563\U00010600-\U00010736\U00010740-\U00010755\U00010760-\U00010767\U00010800-\U00010805\U00010808\U0001080a-\U00010835\U00010837-\U00010838\U0001083c\U0001083f-\U00010855\U00010860-\U00010876\U00010880-\U0001089e\U000108e0-\U000108f2\U000108f4-\U000108f5\U00010900-\U00010915\U00010920-\U00010939\U00010980-\U000109b7\U000109be-\U000109bf\U00010a00\U00010a10-\U00010a13\U00010a15-\U00010a17\U00010a19-\U00010a35\U00010a60-\U00010a7c\U00010a80-\U00010a9c\U00010ac0-\U00010ac7\U00010ac9-\U00010ae4\U00010b00-\U00010b35\U00010b40-\U00010b55\U00010b60-\U00010b72\U00010b80-\U00010b91\U00010c00-\U00010c48\U00010d00-\U00010d23\U00010f00-\U00010f1c\U00010f27\U00010f30-\U00010f45\U00011003-\U00011037\U00011083-\U000110af\U000110d0-\U000110e8\U00011103-\U00011126\U00011144\U00011150-\U00011172\U00011176\U00011183-\U000111b2\U000111c1-\U000111c4\U000111da\U000111dc\U00011200-\U00011211\U00011213-\U0001122b\U00011280-\U00011286\U00011288\U0001128a-\U0001128d\U0001128f-\U0001129d\U0001129f-\U000112a8\U000112b0-\U000112de\U00011305-\U0001130c\U0001130f-\U00011310\U00011313-\U00011328\U0001132a-\U00011330\U00011332-\U00011333\U00011335-\U00011339\U0001133d\U00011350\U0001135d-\U00011361\U00011400-\U00011434\U00011447-\U0001144a\U00011480-\U000114af\U000114c4-\U000114c5\U000114c7\U00011580-\U000115ae\U000115d8-\U000115db\U00011600-\U0001162f\U00011644\U00011680-\U000116aa\U00011700-\U0001171a\U00011800-\U0001182b\U000118ff\U00011a00\U00011a0b-\U00011a32\U00011a3a\U00011a50\U00011a5c-\U00011a83\U00011a86-\U00011a89\U00011a9d\U00011ac0-\U00011af8\U00011c00-\U00011c08\U00011c0a-\U00011c2e\U00011c40\U00011c72-\U00011c8f\U00011d00-\U00011d06\U00011d08-\U00011d09\U00011d0b-\U00011d30\U00011d46\U00011d60-\U00011d65\U00011d67-\U00011d68\U00011d6a-\U00011d89\U00011d98\U00011ee0-\U00011ef2\U00012000-\U00012399\U00012480-\U00012543\U00013000-\U0001342e\U00014400-\U00014646\U00016800-\U00016a38\U00016a40-\U00016a5e\U00016ad0-\U00016aed\U00016b00-\U00016b2f\U00016b63-\U00016b77\U00016b7d-\U00016b8f\U00016f00-\U00016f44\U00016f50\U00017000-\U000187f1\U00018800-\U00018af2\U0001b000-\U0001b11e\U0001b170-\U0001b2fb\U0001bc00-\U0001bc6a\U0001bc70-\U0001bc7c\U0001bc80-\U0001bc88\U0001bc90-\U0001bc99\U0001e800-\U0001e8c4\U0001ee00-\U0001ee03\U0001ee05-\U0001ee1f\U0001ee21-\U0001ee22\U0001ee24\U0001ee27\U0001ee29-\U0001ee32\U0001ee34-\U0001ee37\U0001ee39\U0001ee3b\U0001ee42\U0001ee47\U0001ee49\U0001ee4b\U0001ee4d-\U0001ee4f\U0001ee51-\U0001ee52\U0001ee54\U0001ee57\U0001ee59\U0001ee5b\U0001ee5d\U0001ee5f\U0001ee61-\U0001ee62\U0001ee64\U0001ee67-\U0001ee6a\U0001ee6c-\U0001ee72\U0001ee74-\U0001ee77\U0001ee79-\U0001ee7c\U0001ee7e\U0001ee80-\U0001ee89\U0001ee8b-\U0001ee9b\U0001eea1-\U0001eea3\U0001eea5-\U0001eea9\U0001eeab-\U0001eebb\U00020000-\U0002a6d6\U0002a700-\U0002b734\U0002b740-\U0002b81d\U0002b820-\U0002cea1\U0002ceb0-\U0002ebe0\U0002f800-\U0002fa1d'

Lt = '\u01c5\u01c8\u01cb\u01f2\u1f88-\u1f8f\u1f98-\u1f9f\u1fa8-\u1faf\u1fbc\u1fcc\u1ffc'

Lu = 'A-Z\xc0-\xd6\xd8-\xde\u0100\u0102\u0104\u0106\u0108\u010a\u010c\u010e\u0110\u0112\u0114\u0116\u0118\u011a\u011c\u011e\u0120\u0122\u0124\u0126\u0128\u012a\u012c\u012e\u0130\u0132\u0134\u0136\u0139\u013b\u013d\u013f\u0141\u0143\u0145\u0147\u014a\u014c\u014e\u0150\u0152\u0154\u0156\u0158\u015a\u015c\u015e\u0160\u0162\u0164\u0166\u0168\u016a\u016c\u016e\u0170\u0172\u0174\u0176\u0178-\u0179\u017b\u017d\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018b\u018e-\u0191\u0193-\u0194\u0196-\u0198\u019c-\u019d\u019f-\u01a0\u01a2\u01a4\u01a6-\u01a7\u01a9\u01ac\u01ae-\u01af\u01b1-\u01b3\u01b5\u01b7-\u01b8\u01bc\u01c4\u01c7\u01ca\u01cd\u01cf\u01d1\u01d3\u01d5\u01d7\u01d9\u01db\u01de\u01e0\u01e2\u01e4\u01e6\u01e8\u01ea\u01ec\u01ee\u01f1\u01f4\u01f6-\u01f8\u01fa\u01fc\u01fe\u0200\u0202\u0204\u0206\u0208\u020a\u020c\u020e\u0210\u0212\u0214\u0216\u0218\u021a\u021c\u021e\u0220\u0222\u0224\u0226\u0228\u022a\u022c\u022e\u0230\u0232\u023a-\u023b\u023d-\u023e\u0241\u0243-\u0246\u0248\u024a\u024c\u024e\u0370\u0372\u0376\u037f\u0386\u0388-\u038a\u038c\u038e-\u038f\u0391-\u03a1\u03a3-\u03ab\u03cf\u03d2-\u03d4\u03d8\u03da\u03dc\u03de\u03e0\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03f9-\u03fa\u03fd-\u042f\u0460\u0462\u0464\u0466\u0468\u046a\u046c\u046e\u0470\u0472\u0474\u0476\u0478\u047a\u047c\u047e\u0480\u048a\u048c\u048e\u0490\u0492\u0494\u0496\u0498\u049a\u049c\u049e\u04a0\u04a2\u04a4\u04a6\u04a8\u04aa\u04ac\u04ae\u04b0\u04b2\u04b4\u04b6\u04b8\u04ba\u04bc\u04be\u04c0-\u04c1\u04c3\u04c5\u04c7\u04c9\u04cb\u04cd\u04d0\u04d2\u04d4\u04d6\u04d8\u04da\u04dc\u04de\u04e0\u04e2\u04e4\u04e6\u04e8\u04ea\u04ec\u04ee\u04f0\u04f2\u04f4\u04f6\u04f8\u04fa\u04fc\u04fe\u0500\u0502\u0504\u0506\u0508\u050a\u050c\u050e\u0510\u0512\u0514\u0516\u0518\u051a\u051c\u051e\u0520\u0522\u0524\u0526\u0528\u052a\u052c\u052e\u0531-\u0556\u10a0-\u10c5\u10c7\u10cd\u13a0-\u13f5\u1c90-\u1cba\u1cbd-\u1cbf\u1e00\u1e02\u1e04\u1e06\u1e08\u1e0a\u1e0c\u1e0e\u1e10\u1e12\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1e1e\u1e20\u1e22\u1e24\u1e26\u1e28\u1e2a\u1e2c\u1e2e\u1e30\u1e32\u1e34\u1e36\u1e38\u1e3a\u1e3c\u1e3e\u1e40\u1e42\u1e44\u1e46\u1e48\u1e4a\u1e4c\u1e4e\u1e50\u1e52\u1e54\u1e56\u1e58\u1e5a\u1e5c\u1e5e\u1e60\u1e62\u1e64\u1e66\u1e68\u1e6a\u1e6c\u1e6e\u1e70\u1e72\u1e74\u1e76\u1e78\u1e7a\u1e7c\u1e7e\u1e80\u1e82\u1e84\u1e86\u1e88\u1e8a\u1e8c\u1e8e\u1e90\u1e92\u1e94\u1e9e\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0\u1ef2\u1ef4\u1ef6\u1ef8\u1efa\u1efc\u1efe\u1f08-\u1f0f\u1f18-\u1f1d\u1f28-\u1f2f\u1f38-\u1f3f\u1f48-\u1f4d\u1f59\u1f5b\u1f5d\u1f5f\u1f68-\u1f6f\u1fb8-\u1fbb\u1fc8-\u1fcb\u1fd8-\u1fdb\u1fe8-\u1fec\u1ff8-\u1ffb\u2102\u2107\u210b-\u210d\u2110-\u2112\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u2130-\u2133\u213e-\u213f\u2145\u2183\u2c00-\u2c2e\u2c60\u2c62-\u2c64\u2c67\u2c69\u2c6b\u2c6d-\u2c70\u2c72\u2c75\u2c7e-\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cb2\u2cb4\u2cb6\u2cb8\u2cba\u2cbc\u2cbe\u2cc0\u2cc2\u2cc4\u2cc6\u2cc8\u2cca\u2ccc\u2cce\u2cd0\u2cd2\u2cd4\u2cd6\u2cd8\u2cda\u2cdc\u2cde\u2ce0\u2ce2\u2ceb\u2ced\u2cf2\ua640\ua642\ua644\ua646\ua648\ua64a\ua64c\ua64e\ua650\ua652\ua654\ua656\ua658\ua65a\ua65c\ua65e\ua660\ua662\ua664\ua666\ua668\ua66a\ua66c\ua680\ua682\ua684\ua686\ua688\ua68a\ua68c\ua68e\ua690\ua692\ua694\ua696\ua698\ua69a\ua722\ua724\ua726\ua728\ua72a\ua72c\ua72e\ua732\ua734\ua736\ua738\ua73a\ua73c\ua73e\ua740\ua742\ua744\ua746\ua748\ua74a\ua74c\ua74e\ua750\ua752\ua754\ua756\ua758\ua75a\ua75c\ua75e\ua760\ua762\ua764\ua766\ua768\ua76a\ua76c\ua76e\ua779\ua77b\ua77d-\ua77e\ua780\ua782\ua784\ua786\ua78b\ua78d\ua790\ua792\ua796\ua798\ua79a\ua79c\ua79e\ua7a0\ua7a2\ua7a4\ua7a6\ua7a8\ua7aa-\ua7ae\ua7b0-\ua7b4\ua7b6\ua7b8\uff21-\uff3a\U00010400-\U00010427\U000104b0-\U000104d3\U00010c80-\U00010cb2\U000118a0-\U000118bf\U00016e40-\U00016e5f\U0001d400-\U0001d419\U0001d434-\U0001d44d\U0001d468-\U0001d481\U0001d49c\U0001d49e-\U0001d49f\U0001d4a2\U0001d4a5-\U0001d4a6\U0001d4a9-\U0001d4ac\U0001d4ae-\U0001d4b5\U0001d4d0-\U0001d4e9\U0001d504-\U0001d505\U0001d507-\U0001d50a\U0001d50d-\U0001d514\U0001d516-\U0001d51c\U0001d538-\U0001d539\U0001d53b-\U0001d53e\U0001d540-\U0001d544\U0001d546\U0001d54a-\U0001d550\U0001d56c-\U0001d585\U0001d5a0-\U0001d5b9\U0001d5d4-\U0001d5ed\U0001d608-\U0001d621\U0001d63c-\U0001d655\U0001d670-\U0001d689\U0001d6a8-\U0001d6c0\U0001d6e2-\U0001d6fa\U0001d71c-\U0001d734\U0001d756-\U0001d76e\U0001d790-\U0001d7a8\U0001d7ca\U0001e900-\U0001e921'

Mc = '\u0903\u093b\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0982-\u0983\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09d7\u0a03\u0a3e-\u0a40\u0a83\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0b02-\u0b03\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd7\u0c01-\u0c03\u0c41-\u0c44\u0c82-\u0c83\u0cbe\u0cc0-\u0cc4\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d57\u0d82-\u0d83\u0dcf-\u0dd1\u0dd8-\u0ddf\u0df2-\u0df3\u0f3e-\u0f3f\u0f7f\u102b-\u102c\u1031\u1038\u103b-\u103c\u1056-\u1057\u1062-\u1064\u1067-\u106d\u1083-\u1084\u1087-\u108c\u108f\u109a-\u109c\u17b6\u17be-\u17c5\u17c7-\u17c8\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1a19-\u1a1a\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1b04\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b82\u1ba1\u1ba6-\u1ba7\u1baa\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1c24-\u1c2b\u1c34-\u1c35\u1ce1\u1cf2-\u1cf3\u1cf7\u302e-\u302f\ua823-\ua824\ua827\ua880-\ua881\ua8b4-\ua8c3\ua952-\ua953\ua983\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\uaa2f-\uaa30\uaa33-\uaa34\uaa4d\uaa7b\uaa7d\uaaeb\uaaee-\uaaef\uaaf5\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabec\U00011000\U00011002\U00011082\U000110b0-\U000110b2\U000110b7-\U000110b8\U0001112c\U00011145-\U00011146\U00011182\U000111b3-\U000111b5\U000111bf-\U000111c0\U0001122c-\U0001122e\U00011232-\U00011233\U00011235\U000112e0-\U000112e2\U00011302-\U00011303\U0001133e-\U0001133f\U00011341-\U00011344\U00011347-\U00011348\U0001134b-\U0001134d\U00011357\U00011362-\U00011363\U00011435-\U00011437\U00011440-\U00011441\U00011445\U000114b0-\U000114b2\U000114b9\U000114bb-\U000114be\U000114c1\U000115af-\U000115b1\U000115b8-\U000115bb\U000115be\U00011630-\U00011632\U0001163b-\U0001163c\U0001163e\U000116ac\U000116ae-\U000116af\U000116b6\U00011720-\U00011721\U00011726\U0001182c-\U0001182e\U00011838\U00011a39\U00011a57-\U00011a58\U00011a97\U00011c2f\U00011c3e\U00011ca9\U00011cb1\U00011cb4\U00011d8a-\U00011d8e\U00011d93-\U00011d94\U00011d96\U00011ef5-\U00011ef6\U00016f51-\U00016f7e\U0001d165-\U0001d166\U0001d16d-\U0001d172'

Me = '\u0488-\u0489\u1abe\u20dd-\u20e0\u20e2-\u20e4\ua670-\ua672'

Mn = '\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2-\u09e3\u09fe\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0afa-\u0aff\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62-\u0b63\u0b82\u0bc0\u0bcd\u0c00\u0c04\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc6\u0ccc-\u0ccd\u0ce2-\u0ce3\u0d00-\u0d01\u0d3b-\u0d3c\u0d41-\u0d44\u0d4d\u0d62-\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u1885-\u1886\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099-\u309a\ua66f\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4-\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\U000101fd\U000102e0\U00010376-\U0001037a\U00010a01-\U00010a03\U00010a05-\U00010a06\U00010a0c-\U00010a0f\U00010a38-\U00010a3a\U00010a3f\U00010ae5-\U00010ae6\U00010d24-\U00010d27\U00010f46-\U00010f50\U00011001\U00011038-\U00011046\U0001107f-\U00011081\U000110b3-\U000110b6\U000110b9-\U000110ba\U00011100-\U00011102\U00011127-\U0001112b\U0001112d-\U00011134\U00011173\U00011180-\U00011181\U000111b6-\U000111be\U000111c9-\U000111cc\U0001122f-\U00011231\U00011234\U00011236-\U00011237\U0001123e\U000112df\U000112e3-\U000112ea\U00011300-\U00011301\U0001133b-\U0001133c\U00011340\U00011366-\U0001136c\U00011370-\U00011374\U00011438-\U0001143f\U00011442-\U00011444\U00011446\U0001145e\U000114b3-\U000114b8\U000114ba\U000114bf-\U000114c0\U000114c2-\U000114c3\U000115b2-\U000115b5\U000115bc-\U000115bd\U000115bf-\U000115c0\U000115dc-\U000115dd\U00011633-\U0001163a\U0001163d\U0001163f-\U00011640\U000116ab\U000116ad\U000116b0-\U000116b5\U000116b7\U0001171d-\U0001171f\U00011722-\U00011725\U00011727-\U0001172b\U0001182f-\U00011837\U00011839-\U0001183a\U00011a01-\U00011a0a\U00011a33-\U00011a38\U00011a3b-\U00011a3e\U00011a47\U00011a51-\U00011a56\U00011a59-\U00011a5b\U00011a8a-\U00011a96\U00011a98-\U00011a99\U00011c30-\U00011c36\U00011c38-\U00011c3d\U00011c3f\U00011c92-\U00011ca7\U00011caa-\U00011cb0\U00011cb2-\U00011cb3\U00011cb5-\U00011cb6\U00011d31-\U00011d36\U00011d3a\U00011d3c-\U00011d3d\U00011d3f-\U00011d45\U00011d47\U00011d90-\U00011d91\U00011d95\U00011d97\U00011ef3-\U00011ef4\U00016af0-\U00016af4\U00016b30-\U00016b36\U00016f8f-\U00016f92\U0001bc9d-\U0001bc9e\U0001d167-\U0001d169\U0001d17b-\U0001d182\U0001d185-\U0001d18b\U0001d1aa-\U0001d1ad\U0001d242-\U0001d244\U0001da00-\U0001da36\U0001da3b-\U0001da6c\U0001da75\U0001da84\U0001da9b-\U0001da9f\U0001daa1-\U0001daaf\U0001e000-\U0001e006\U0001e008-\U0001e018\U0001e01b-\U0001e021\U0001e023-\U0001e024\U0001e026-\U0001e02a\U0001e8d0-\U0001e8d6\U0001e944-\U0001e94a\U000e0100-\U000e01ef'

Nd = '0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19\U000104a0-\U000104a9\U00010d30-\U00010d39\U00011066-\U0001106f\U000110f0-\U000110f9\U00011136-\U0001113f\U000111d0-\U000111d9\U000112f0-\U000112f9\U00011450-\U00011459\U000114d0-\U000114d9\U00011650-\U00011659\U000116c0-\U000116c9\U00011730-\U00011739\U000118e0-\U000118e9\U00011c50-\U00011c59\U00011d50-\U00011d59\U00011da0-\U00011da9\U00016a60-\U00016a69\U00016b50-\U00016b59\U0001d7ce-\U0001d7ff\U0001e950-\U0001e959'

Nl = '\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef\U00010140-\U00010174\U00010341\U0001034a\U000103d1-\U000103d5\U00012400-\U0001246e'

No = '\xb2-\xb3\xb9\xbc-\xbe\u09f4-\u09f9\u0b72-\u0b77\u0bf0-\u0bf2\u0c78-\u0c7e\u0d58-\u0d5e\u0d70-\u0d78\u0f2a-\u0f33\u1369-\u137c\u17f0-\u17f9\u19da\u2070\u2074-\u2079\u2080-\u2089\u2150-\u215f\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua830-\ua835\U00010107-\U00010133\U00010175-\U00010178\U0001018a-\U0001018b\U000102e1-\U000102fb\U00010320-\U00010323\U00010858-\U0001085f\U00010879-\U0001087f\U000108a7-\U000108af\U000108fb-\U000108ff\U00010916-\U0001091b\U000109bc-\U000109bd\U000109c0-\U000109cf\U000109d2-\U000109ff\U00010a40-\U00010a48\U00010a7d-\U00010a7e\U00010a9d-\U00010a9f\U00010aeb-\U00010aef\U00010b58-\U00010b5f\U00010b78-\U00010b7f\U00010ba9-\U00010baf\U00010cfa-\U00010cff\U00010e60-\U00010e7e\U00010f1d-\U00010f26\U00010f51-\U00010f54\U00011052-\U00011065\U000111e1-\U000111f4\U0001173a-\U0001173b\U000118ea-\U000118f2\U00011c5a-\U00011c6c\U00016b5b-\U00016b61\U00016e80-\U00016e96\U0001d2e0-\U0001d2f3\U0001d360-\U0001d378\U0001e8c7-\U0001e8cf\U0001ec71-\U0001ecab\U0001ecad-\U0001ecaf\U0001ecb1-\U0001ecb4\U0001f100-\U0001f10c'

Pc = '_\u203f-\u2040\u2054\ufe33-\ufe34\ufe4d-\ufe4f\uff3f'

Pd = '\\-\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u2e3a-\u2e3b\u2e40\u301c\u3030\u30a0\ufe31-\ufe32\ufe58\ufe63\uff0d'

Pe = ')\\]}\u0f3b\u0f3d\u169c\u2046\u207e\u208e\u2309\u230b\u232a\u2769\u276b\u276d\u276f\u2771\u2773\u2775\u27c6\u27e7\u27e9\u27eb\u27ed\u27ef\u2984\u2986\u2988\u298a\u298c\u298e\u2990\u2992\u2994\u2996\u2998\u29d9\u29db\u29fd\u2e23\u2e25\u2e27\u2e29\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e-\u301f\ufd3e\ufe18\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe44\ufe48\ufe5a\ufe5c\ufe5e\uff09\uff3d\uff5d\uff60\uff63'

Pf = '\xbb\u2019\u201d\u203a\u2e03\u2e05\u2e0a\u2e0d\u2e1d\u2e21'

Pi = '\xab\u2018\u201b-\u201c\u201f\u2039\u2e02\u2e04\u2e09\u2e0c\u2e1c\u2e20'

Po = &quot;!-#%-'*,.-/:-;?-@\\\\\xa1\xa7\xb6-\xb7\xbf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3-\u05f4\u0609-\u060a\u060c-\u060d\u061b\u061e-\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964-\u0965\u0970\u09fd\u0a76\u0af0\u0c84\u0df4\u0e4f\u0e5a-\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9-\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d-\u166e\u16eb-\u16ed\u1735-\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944-\u1945\u1a1e-\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u2016-\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe-\u2cff\u2d70\u2e00-\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18-\u2e19\u2e1b\u2e1e-\u2e1f\u2e2a-\u2e2e\u2e30-\u2e39\u2e3c-\u2e3f\u2e41\u2e43-\u2e4e\u3001-\u3003\u303d\u30fb\ua4fe-\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce-\ua8cf\ua8f8-\ua8fa\ua8fc\ua92e-\ua92f\ua95f\ua9c1-\ua9cd\ua9de-\ua9df\uaa5c-\uaa5f\uaade-\uaadf\uaaf0-\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45-\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a-\ufe6b\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e-\uff0f\uff1a-\uff1b\uff1f-\uff20\uff3c\uff61\uff64-\uff65\U00010100-\U00010102\U0001039f\U000103d0\U0001056f\U00010857\U0001091f\U0001093f\U00010a50-\U00010a58\U00010a7f\U00010af0-\U00010af6\U00010b39-\U00010b3f\U00010b99-\U00010b9c\U00010f55-\U00010f59\U00011047-\U0001104d\U000110bb-\U000110bc\U000110be-\U000110c1\U00011140-\U00011143\U00011174-\U00011175\U000111c5-\U000111c8\U000111cd\U000111db\U000111dd-\U000111df\U00011238-\U0001123d\U000112a9\U0001144b-\U0001144f\U0001145b\U0001145d\U000114c6\U000115c1-\U000115d7\U00011641-\U00011643\U00011660-\U0001166c\U0001173c-\U0001173e\U0001183b\U00011a3f-\U00011a46\U00011a9a-\U00011a9c\U00011a9e-\U00011aa2\U00011c41-\U00011c45\U00011c70-\U00011c71\U00011ef7-\U00011ef8\U00012470-\U00012474\U00016a6e-\U00016a6f\U00016af5\U00016b37-\U00016b3b\U00016b44\U00016e97-\U00016e9a\U0001bc9f\U0001da87-\U0001da8b\U0001e95e-\U0001e95f&quot;

Ps = '(\\[{\u0f3a\u0f3c\u169b\u201a\u201e\u2045\u207d\u208d\u2308\u230a\u2329\u2768\u276a\u276c\u276e\u2770\u2772\u2774\u27c5\u27e6\u27e8\u27ea\u27ec\u27ee\u2983\u2985\u2987\u2989\u298b\u298d\u298f\u2991\u2993\u2995\u2997\u29d8\u29da\u29fc\u2e22\u2e24\u2e26\u2e28\u2e42\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d\ufd3f\ufe17\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe47\ufe59\ufe5b\ufe5d\uff08\uff3b\uff5b\uff5f\uff62'

Sc = '$\xa2-\xa5\u058f\u060b\u07fe-\u07ff\u09f2-\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20bf\ua838\ufdfc\ufe69\uff04\uffe0-\uffe1\uffe5-\uffe6\U0001ecb0'

Sk = '\\^`\xa8\xaf\xb4\xb8\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384-\u0385\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd-\u1ffe\u309b-\u309c\ua700-\ua716\ua720-\ua721\ua789-\ua78a\uab5b\ufbb2-\ufbc1\uff3e\uff40\uffe3\U0001f3fb-\U0001f3ff'

Sm = '+&lt;-&gt;|~\xac\xb1\xd7\xf7\u03f6\u0606-\u0608\u2044\u2052\u207a-\u207c\u208a-\u208c\u2118\u2140-\u2144\u214b\u2190-\u2194\u219a-\u219b\u21a0\u21a3\u21a6\u21ae\u21ce-\u21cf\u21d2\u21d4\u21f4-\u22ff\u2320-\u2321\u237c\u239b-\u23b3\u23dc-\u23e1\u25b7\u25c1\u25f8-\u25ff\u266f\u27c0-\u27c4\u27c7-\u27e5\u27f0-\u27ff\u2900-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2aff\u2b30-\u2b44\u2b47-\u2b4c\ufb29\ufe62\ufe64-\ufe66\uff0b\uff1c-\uff1e\uff5c\uff5e\uffe2\uffe9-\uffec\U0001d6c1\U0001d6db\U0001d6fb\U0001d715\U0001d735\U0001d74f\U0001d76f\U0001d789\U0001d7a9\U0001d7c3\U0001eef0-\U0001eef1'

So = '\xa6\xa9\xae\xb0\u0482\u058d-\u058e\u060e-\u060f\u06de\u06e9\u06fd-\u06fe\u07f6\u09fa\u0b70\u0bf3-\u0bf8\u0bfa\u0c7f\u0d4f\u0d79\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd5-\u0fd8\u109e-\u109f\u1390-\u1399\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u2100-\u2101\u2103-\u2106\u2108-\u2109\u2114\u2116-\u2117\u211e-\u2123\u2125\u2127\u2129\u212e\u213a-\u213b\u214a\u214c-\u214d\u214f\u218a-\u218b\u2195-\u2199\u219c-\u219f\u21a1-\u21a2\u21a4-\u21a5\u21a7-\u21ad\u21af-\u21cd\u21d0-\u21d1\u21d3\u21d5-\u21f3\u2300-\u2307\u230c-\u231f\u2322-\u2328\u232b-\u237b\u237d-\u239a\u23b4-\u23db\u23e2-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u25b6\u25b8-\u25c0\u25c2-\u25f7\u2600-\u266e\u2670-\u2767\u2794-\u27bf\u2800-\u28ff\u2b00-\u2b2f\u2b45-\u2b46\u2b4d-\u2b73\u2b76-\u2b95\u2b98-\u2bc8\u2bca-\u2bfe\u2ce5-\u2cea\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012-\u3013\u3020\u3036-\u3037\u303e-\u303f\u3190-\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u32fe\u3300-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua828-\ua82b\ua836-\ua837\ua839\uaa77-\uaa79\ufdfd\uffe4\uffe8\uffed-\uffee\ufffc-\ufffd\U00010137-\U0001013f\U00010179-\U00010189\U0001018c-\U0001018e\U00010190-\U0001019b\U000101a0\U000101d0-\U000101fc\U00010877-\U00010878\U00010ac8\U0001173f\U00016b3c-\U00016b3f\U00016b45\U0001bc9c\U0001d000-\U0001d0f5\U0001d100-\U0001d126\U0001d129-\U0001d164\U0001d16a-\U0001d16c\U0001d183-\U0001d184\U0001d18c-\U0001d1a9\U0001d1ae-\U0001d1e8\U0001d200-\U0001d241\U0001d245\U0001d300-\U0001d356\U0001d800-\U0001d9ff\U0001da37-\U0001da3a\U0001da6d-\U0001da74\U0001da76-\U0001da83\U0001da85-\U0001da86\U0001ecac\U0001f000-\U0001f02b\U0001f030-\U0001f093\U0001f0a0-\U0001f0ae\U0001f0b1-\U0001f0bf\U0001f0c1-\U0001f0cf\U0001f0d1-\U0001f0f5\U0001f110-\U0001f16b\U0001f170-\U0001f1ac\U0001f1e6-\U0001f202\U0001f210-\U0001f23b\U0001f240-\U0001f248\U0001f250-\U0001f251\U0001f260-\U0001f265\U0001f300-\U0001f3fa\U0001f400-\U0001f6d4\U0001f6e0-\U0001f6ec\U0001f6f0-\U0001f6f9\U0001f700-\U0001f773\U0001f780-\U0001f7d8\U0001f800-\U0001f80b\U0001f810-\U0001f847\U0001f850-\U0001f859\U0001f860-\U0001f887\U0001f890-\U0001f8ad\U0001f900-\U0001f90b\U0001f910-\U0001f93e\U0001f940-\U0001f970\U0001f973-\U0001f976\U0001f97a\U0001f97c-\U0001f9a2\U0001f9b0-\U0001f9b9\U0001f9c0-\U0001f9c2\U0001f9d0-\U0001f9ff\U0001fa60-\U0001fa6d'

Zl = '\u2028'

Zp = '\u2029'

Zs = ' \xa0\u1680\u2000-\u200a\u202f\u205f\u3000'

xid_continue = '0-9A-Z_a-z\xaa\xb5\xb7\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037b-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cf9\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufc5d\ufc64-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdf9\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe71\ufe73\ufe77\ufe79\ufe7b\ufe7d\ufe7f-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\U00010000-\U0001000b\U0001000d-\U00010026\U00010028-\U0001003a\U0001003c-\U0001003d\U0001003f-\U0001004d\U00010050-\U0001005d\U00010080-\U000100fa\U00010140-\U00010174\U000101fd\U00010280-\U0001029c\U000102a0-\U000102d0\U000102e0\U00010300-\U0001031f\U0001032d-\U0001034a\U00010350-\U0001037a\U00010380-\U0001039d\U000103a0-\U000103c3\U000103c8-\U000103cf\U000103d1-\U000103d5\U00010400-\U0001049d\U000104a0-\U000104a9\U000104b0-\U000104d3\U000104d8-\U000104fb\U00010500-\U00010527\U00010530-\U00010563\U00010600-\U00010736\U00010740-\U00010755\U00010760-\U00010767\U00010800-\U00010805\U00010808\U0001080a-\U00010835\U00010837-\U00010838\U0001083c\U0001083f-\U00010855\U00010860-\U00010876\U00010880-\U0001089e\U000108e0-\U000108f2\U000108f4-\U000108f5\U00010900-\U00010915\U00010920-\U00010939\U00010980-\U000109b7\U000109be-\U000109bf\U00010a00-\U00010a03\U00010a05-\U00010a06\U00010a0c-\U00010a13\U00010a15-\U00010a17\U00010a19-\U00010a35\U00010a38-\U00010a3a\U00010a3f\U00010a60-\U00010a7c\U00010a80-\U00010a9c\U00010ac0-\U00010ac7\U00010ac9-\U00010ae6\U00010b00-\U00010b35\U00010b40-\U00010b55\U00010b60-\U00010b72\U00010b80-\U00010b91\U00010c00-\U00010c48\U00010c80-\U00010cb2\U00010cc0-\U00010cf2\U00010d00-\U00010d27\U00010d30-\U00010d39\U00010f00-\U00010f1c\U00010f27\U00010f30-\U00010f50\U00011000-\U00011046\U00011066-\U0001106f\U0001107f-\U000110ba\U000110d0-\U000110e8\U000110f0-\U000110f9\U00011100-\U00011134\U00011136-\U0001113f\U00011144-\U00011146\U00011150-\U00011173\U00011176\U00011180-\U000111c4\U000111c9-\U000111cc\U000111d0-\U000111da\U000111dc\U00011200-\U00011211\U00011213-\U00011237\U0001123e\U00011280-\U00011286\U00011288\U0001128a-\U0001128d\U0001128f-\U0001129d\U0001129f-\U000112a8\U000112b0-\U000112ea\U000112f0-\U000112f9\U00011300-\U00011303\U00011305-\U0001130c\U0001130f-\U00011310\U00011313-\U00011328\U0001132a-\U00011330\U00011332-\U00011333\U00011335-\U00011339\U0001133b-\U00011344\U00011347-\U00011348\U0001134b-\U0001134d\U00011350\U00011357\U0001135d-\U00011363\U00011366-\U0001136c\U00011370-\U00011374\U00011400-\U0001144a\U00011450-\U00011459\U0001145e\U00011480-\U000114c5\U000114c7\U000114d0-\U000114d9\U00011580-\U000115b5\U000115b8-\U000115c0\U000115d8-\U000115dd\U00011600-\U00011640\U00011644\U00011650-\U00011659\U00011680-\U000116b7\U000116c0-\U000116c9\U00011700-\U0001171a\U0001171d-\U0001172b\U00011730-\U00011739\U00011800-\U0001183a\U000118a0-\U000118e9\U000118ff\U00011a00-\U00011a3e\U00011a47\U00011a50-\U00011a83\U00011a86-\U00011a99\U00011a9d\U00011ac0-\U00011af8\U00011c00-\U00011c08\U00011c0a-\U00011c36\U00011c38-\U00011c40\U00011c50-\U00011c59\U00011c72-\U00011c8f\U00011c92-\U00011ca7\U00011ca9-\U00011cb6\U00011d00-\U00011d06\U00011d08-\U00011d09\U00011d0b-\U00011d36\U00011d3a\U00011d3c-\U00011d3d\U00011d3f-\U00011d47\U00011d50-\U00011d59\U00011d60-\U00011d65\U00011d67-\U00011d68\U00011d6a-\U00011d8e\U00011d90-\U00011d91\U00011d93-\U00011d98\U00011da0-\U00011da9\U00011ee0-\U00011ef6\U00012000-\U00012399\U00012400-\U0001246e\U00012480-\U00012543\U00013000-\U0001342e\U00014400-\U00014646\U00016800-\U00016a38\U00016a40-\U00016a5e\U00016a60-\U00016a69\U00016ad0-\U00016aed\U00016af0-\U00016af4\U00016b00-\U00016b36\U00016b40-\U00016b43\U00016b50-\U00016b59\U00016b63-\U00016b77\U00016b7d-\U00016b8f\U00016e40-\U00016e7f\U00016f00-\U00016f44\U00016f50-\U00016f7e\U00016f8f-\U00016f9f\U00016fe0-\U00016fe1\U00017000-\U000187f1\U00018800-\U00018af2\U0001b000-\U0001b11e\U0001b170-\U0001b2fb\U0001bc00-\U0001bc6a\U0001bc70-\U0001bc7c\U0001bc80-\U0001bc88\U0001bc90-\U0001bc99\U0001bc9d-\U0001bc9e\U0001d165-\U0001d169\U0001d16d-\U0001d172\U0001d17b-\U0001d182\U0001d185-\U0001d18b\U0001d1aa-\U0001d1ad\U0001d242-\U0001d244\U0001d400-\U0001d454\U0001d456-\U0001d49c\U0001d49e-\U0001d49f\U0001d4a2\U0001d4a5-\U0001d4a6\U0001d4a9-\U0001d4ac\U0001d4ae-\U0001d4b9\U0001d4bb\U0001d4bd-\U0001d4c3\U0001d4c5-\U0001d505\U0001d507-\U0001d50a\U0001d50d-\U0001d514\U0001d516-\U0001d51c\U0001d51e-\U0001d539\U0001d53b-\U0001d53e\U0001d540-\U0001d544\U0001d546\U0001d54a-\U0001d550\U0001d552-\U0001d6a5\U0001d6a8-\U0001d6c0\U0001d6c2-\U0001d6da\U0001d6dc-\U0001d6fa\U0001d6fc-\U0001d714\U0001d716-\U0001d734\U0001d736-\U0001d74e\U0001d750-\U0001d76e\U0001d770-\U0001d788\U0001d78a-\U0001d7a8\U0001d7aa-\U0001d7c2\U0001d7c4-\U0001d7cb\U0001d7ce-\U0001d7ff\U0001da00-\U0001da36\U0001da3b-\U0001da6c\U0001da75\U0001da84\U0001da9b-\U0001da9f\U0001daa1-\U0001daaf\U0001e000-\U0001e006\U0001e008-\U0001e018\U0001e01b-\U0001e021\U0001e023-\U0001e024\U0001e026-\U0001e02a\U0001e800-\U0001e8c4\U0001e8d0-\U0001e8d6\U0001e900-\U0001e94a\U0001e950-\U0001e959\U0001ee00-\U0001ee03\U0001ee05-\U0001ee1f\U0001ee21-\U0001ee22\U0001ee24\U0001ee27\U0001ee29-\U0001ee32\U0001ee34-\U0001ee37\U0001ee39\U0001ee3b\U0001ee42\U0001ee47\U0001ee49\U0001ee4b\U0001ee4d-\U0001ee4f\U0001ee51-\U0001ee52\U0001ee54\U0001ee57\U0001ee59\U0001ee5b\U0001ee5d\U0001ee5f\U0001ee61-\U0001ee62\U0001ee64\U0001ee67-\U0001ee6a\U0001ee6c-\U0001ee72\U0001ee74-\U0001ee77\U0001ee79-\U0001ee7c\U0001ee7e\U0001ee80-\U0001ee89\U0001ee8b-\U0001ee9b\U0001eea1-\U0001eea3\U0001eea5-\U0001eea9\U0001eeab-\U0001eebb\U00020000-\U0002a6d6\U0002a700-\U0002b734\U0002b740-\U0002b81d\U0002b820-\U0002cea1\U0002ceb0-\U0002ebe0\U0002f800-\U0002fa1d\U000e0100-\U000e01ef'

xid_start = 'A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5-\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufc5d\ufc64-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdf9\ufe71\ufe73\ufe77\ufe79\ufe7b\ufe7d\ufe7f-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uff9d\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\U00010000-\U0001000b\U0001000d-\U00010026\U00010028-\U0001003a\U0001003c-\U0001003d\U0001003f-\U0001004d\U00010050-\U0001005d\U00010080-\U000100fa\U00010140-\U00010174\U00010280-\U0001029c\U000102a0-\U000102d0\U00010300-\U0001031f\U0001032d-\U0001034a\U00010350-\U00010375\U00010380-\U0001039d\U000103a0-\U000103c3\U000103c8-\U000103cf\U000103d1-\U000103d5\U00010400-\U0001049d\U000104b0-\U000104d3\U000104d8-\U000104fb\U00010500-\U00010527\U00010530-\U00010563\U00010600-\U00010736\U00010740-\U00010755\U00010760-\U00010767\U00010800-\U00010805\U00010808\U0001080a-\U00010835\U00010837-\U00010838\U0001083c\U0001083f-\U00010855\U00010860-\U00010876\U00010880-\U0001089e\U000108e0-\U000108f2\U000108f4-\U000108f5\U00010900-\U00010915\U00010920-\U00010939\U00010980-\U000109b7\U000109be-\U000109bf\U00010a00\U00010a10-\U00010a13\U00010a15-\U00010a17\U00010a19-\U00010a35\U00010a60-\U00010a7c\U00010a80-\U00010a9c\U00010ac0-\U00010ac7\U00010ac9-\U00010ae4\U00010b00-\U00010b35\U00010b40-\U00010b55\U00010b60-\U00010b72\U00010b80-\U00010b91\U00010c00-\U00010c48\U00010c80-\U00010cb2\U00010cc0-\U00010cf2\U00010d00-\U00010d23\U00010f00-\U00010f1c\U00010f27\U00010f30-\U00010f45\U00011003-\U00011037\U00011083-\U000110af\U000110d0-\U000110e8\U00011103-\U00011126\U00011144\U00011150-\U00011172\U00011176\U00011183-\U000111b2\U000111c1-\U000111c4\U000111da\U000111dc\U00011200-\U00011211\U00011213-\U0001122b\U00011280-\U00011286\U00011288\U0001128a-\U0001128d\U0001128f-\U0001129d\U0001129f-\U000112a8\U000112b0-\U000112de\U00011305-\U0001130c\U0001130f-\U00011310\U00011313-\U00011328\U0001132a-\U00011330\U00011332-\U00011333\U00011335-\U00011339\U0001133d\U00011350\U0001135d-\U00011361\U00011400-\U00011434\U00011447-\U0001144a\U00011480-\U000114af\U000114c4-\U000114c5\U000114c7\U00011580-\U000115ae\U000115d8-\U000115db\U00011600-\U0001162f\U00011644\U00011680-\U000116aa\U00011700-\U0001171a\U00011800-\U0001182b\U000118a0-\U000118df\U000118ff\U00011a00\U00011a0b-\U00011a32\U00011a3a\U00011a50\U00011a5c-\U00011a83\U00011a86-\U00011a89\U00011a9d\U00011ac0-\U00011af8\U00011c00-\U00011c08\U00011c0a-\U00011c2e\U00011c40\U00011c72-\U00011c8f\U00011d00-\U00011d06\U00011d08-\U00011d09\U00011d0b-\U00011d30\U00011d46\U00011d60-\U00011d65\U00011d67-\U00011d68\U00011d6a-\U00011d89\U00011d98\U00011ee0-\U00011ef2\U00012000-\U00012399\U00012400-\U0001246e\U00012480-\U00012543\U00013000-\U0001342e\U00014400-\U00014646\U00016800-\U00016a38\U00016a40-\U00016a5e\U00016ad0-\U00016aed\U00016b00-\U00016b2f\U00016b40-\U00016b43\U00016b63-\U00016b77\U00016b7d-\U00016b8f\U00016e40-\U00016e7f\U00016f00-\U00016f44\U00016f50\U00016f93-\U00016f9f\U00016fe0-\U00016fe1\U00017000-\U000187f1\U00018800-\U00018af2\U0001b000-\U0001b11e\U0001b170-\U0001b2fb\U0001bc00-\U0001bc6a\U0001bc70-\U0001bc7c\U0001bc80-\U0001bc88\U0001bc90-\U0001bc99\U0001d400-\U0001d454\U0001d456-\U0001d49c\U0001d49e-\U0001d49f\U0001d4a2\U0001d4a5-\U0001d4a6\U0001d4a9-\U0001d4ac\U0001d4ae-\U0001d4b9\U0001d4bb\U0001d4bd-\U0001d4c3\U0001d4c5-\U0001d505\U0001d507-\U0001d50a\U0001d50d-\U0001d514\U0001d516-\U0001d51c\U0001d51e-\U0001d539\U0001d53b-\U0001d53e\U0001d540-\U0001d544\U0001d546\U0001d54a-\U0001d550\U0001d552-\U0001d6a5\U0001d6a8-\U0001d6c0\U0001d6c2-\U0001d6da\U0001d6dc-\U0001d6fa\U0001d6fc-\U0001d714\U0001d716-\U0001d734\U0001d736-\U0001d74e\U0001d750-\U0001d76e\U0001d770-\U0001d788\U0001d78a-\U0001d7a8\U0001d7aa-\U0001d7c2\U0001d7c4-\U0001d7cb\U0001e800-\U0001e8c4\U0001e900-\U0001e943\U0001ee00-\U0001ee03\U0001ee05-\U0001ee1f\U0001ee21-\U0001ee22\U0001ee24\U0001ee27\U0001ee29-\U0001ee32\U0001ee34-\U0001ee37\U0001ee39\U0001ee3b\U0001ee42\U0001ee47\U0001ee49\U0001ee4b\U0001ee4d-\U0001ee4f\U0001ee51-\U0001ee52\U0001ee54\U0001ee57\U0001ee59\U0001ee5b\U0001ee5d\U0001ee5f\U0001ee61-\U0001ee62\U0001ee64\U0001ee67-\U0001ee6a\U0001ee6c-\U0001ee72\U0001ee74-\U0001ee77\U0001ee79-\U0001ee7c\U0001ee7e\U0001ee80-\U0001ee89\U0001ee8b-\U0001ee9b\U0001eea1-\U0001eea3\U0001eea5-\U0001eea9\U0001eeab-\U0001eebb\U00020000-\U0002a6d6\U0002a700-\U0002b734\U0002b740-\U0002b81d\U0002b820-\U0002cea1\U0002ceb0-\U0002ebe0\U0002f800-\U0002fa1d'

cats = ['Cc', 'Cf', 'Cn', 'Co', 'Cs', 'Ll', 'Lm', 'Lo', 'Lt', 'Lu', 'Mc', 'Me', 'Mn', 'Nd', 'Nl', 'No', 'Pc', 'Pd', 'Pe', 'Pf', 'Pi', 'Po', 'Ps', 'Sc', 'Sk', 'Sm', 'So', 'Zl', 'Zp', 'Zs']

# Generated from unidata 11.0.0

def combine(*args):
    return ''.join(globals()[cat] for cat in args)


def allexcept(*args):
    newcats = cats[:]
    for arg in args:
        newcats.remove(arg)
    return ''.join(globals()[cat] for cat in newcats)


def _handle_runs(char_list):  # pragma: no cover
    buf = []
    for c in char_list:
        if len(c) == 1:
            if buf and buf[-1][1] == chr(ord(c)-1):
                buf[-1] = (buf[-1][0], c)
            else:
                buf.append((c, c))
        else:
            buf.append((c, c))
    for a, b in buf:
        if a == b:
            yield a
        else:
            yield f'{a}-{b}'


if __name__ == '__main__':  # pragma: no cover
    import unicodedata

    categories = {'xid_start': [], 'xid_continue': []}

    with open(__file__, encoding='utf-8') as fp:
        content = fp.read()

    header = content[:content.find('Cc =')]
    footer = content[content.find(&quot;def combine(&quot;):]

    for code in range(0x110000):
        c = chr(code)
        cat = unicodedata.category(c)
        if ord(c) == 0xdc00:
            # Hack to avoid combining this combining with the preceding high
            # surrogate, 0xdbff, when doing a repr.
            c = '\\' + c
        elif ord(c) in (0x2d, 0x5b, 0x5c, 0x5d, 0x5e):
            # Escape regex metachars.
            c = '\\' + c
        categories.setdefault(cat, []).append(c)
        # XID_START and XID_CONTINUE are special categories used for matching
        # identifiers in Python 3.
        if c.isidentifier():
            categories['xid_start'].append(c)
        if ('a' + c).isidentifier():
            categories['xid_continue'].append(c)

    with open(__file__, 'w', encoding='utf-8') as fp:
        fp.write(header)

        for cat in sorted(categories):
            val = ''.join(_handle_runs(categories[cat]))
            fp.write(f'{cat} = {val!a}\n\n')

        cats = sorted(categories)
        cats.remove('xid_start')
        cats.remove('xid_continue')
        fp.write(f'cats = {cats!r}\n\n')

        fp.write(f'# Generated from unidata {unicodedata.unidata_version}\n\n')

        fp.write(footer)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/token.py (Line 1:1 - Line 214:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/token.py (Line 1:1 - Line 214:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn697" onclick="toggleCodeBlock('cloneGroup697', 'expandBtn697', 'collapseBtn697')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn697" onclick="toggleCodeBlock('cloneGroup697', 'expandBtn697', 'collapseBtn697')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup697"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.token
    ~~~~~~~~~~~~~~

    Basic token types and the standard tokens.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;


class _TokenType(tuple):
    parent = None

    def split(self):
        buf = []
        node = self
        while node is not None:
            buf.append(node)
            node = node.parent
        buf.reverse()
        return buf

    def __init__(self, *args):
        # no need to call super.__init__
        self.subtypes = set()

    def __contains__(self, val):
        return self is val or (
            type(val) is self.__class__ and
            val[:len(self)] == self
        )

    def __getattr__(self, val):
        if not val or not val[0].isupper():
            return tuple.__getattribute__(self, val)
        new = _TokenType(self + (val,))
        setattr(self, val, new)
        self.subtypes.add(new)
        new.parent = self
        return new

    def __repr__(self):
        return 'Token' + (self and '.' or '') + '.'.join(self)

    def __copy__(self):
        # These instances are supposed to be singletons
        return self

    def __deepcopy__(self, memo):
        # These instances are supposed to be singletons
        return self


Token = _TokenType()

# Special token types
Text = Token.Text
Whitespace = Text.Whitespace
Escape = Token.Escape
Error = Token.Error
# Text that doesn't belong to this lexer (e.g. HTML in PHP)
Other = Token.Other

# Common token types for source code
Keyword = Token.Keyword
Name = Token.Name
Literal = Token.Literal
String = Literal.String
Number = Literal.Number
Punctuation = Token.Punctuation
Operator = Token.Operator
Comment = Token.Comment

# Generic types for non-source code
Generic = Token.Generic

# String and some others are not direct children of Token.
# alias them:
Token.Token = Token
Token.String = String
Token.Number = Number


def is_token_subtype(ttype, other):
    &quot;&quot;&quot;
    Return True if ``ttype`` is a subtype of ``other``.

    exists for backwards compatibility. use ``ttype in other`` now.
    &quot;&quot;&quot;
    return ttype in other


def string_to_tokentype(s):
    &quot;&quot;&quot;
    Convert a string into a token type::

        &gt;&gt;&gt; string_to_token('String.Double')
        Token.Literal.String.Double
        &gt;&gt;&gt; string_to_token('Token.Literal.Number')
        Token.Literal.Number
        &gt;&gt;&gt; string_to_token('')
        Token

    Tokens that are already tokens are returned unchanged:

        &gt;&gt;&gt; string_to_token(String)
        Token.Literal.String
    &quot;&quot;&quot;
    if isinstance(s, _TokenType):
        return s
    if not s:
        return Token
    node = Token
    for item in s.split('.'):
        node = getattr(node, item)
    return node


# Map standard token types to short names, used in CSS class naming.
# If you add a new item, please be sure to run this file to perform
# a consistency check for duplicate values.
STANDARD_TYPES = {
    Token:                         '',

    Text:                          '',
    Whitespace:                    'w',
    Escape:                        'esc',
    Error:                         'err',
    Other:                         'x',

    Keyword:                       'k',
    Keyword.Constant:              'kc',
    Keyword.Declaration:           'kd',
    Keyword.Namespace:             'kn',
    Keyword.Pseudo:                'kp',
    Keyword.Reserved:              'kr',
    Keyword.Type:                  'kt',

    Name:                          'n',
    Name.Attribute:                'na',
    Name.Builtin:                  'nb',
    Name.Builtin.Pseudo:           'bp',
    Name.Class:                    'nc',
    Name.Constant:                 'no',
    Name.Decorator:                'nd',
    Name.Entity:                   'ni',
    Name.Exception:                'ne',
    Name.Function:                 'nf',
    Name.Function.Magic:           'fm',
    Name.Property:                 'py',
    Name.Label:                    'nl',
    Name.Namespace:                'nn',
    Name.Other:                    'nx',
    Name.Tag:                      'nt',
    Name.Variable:                 'nv',
    Name.Variable.Class:           'vc',
    Name.Variable.Global:          'vg',
    Name.Variable.Instance:        'vi',
    Name.Variable.Magic:           'vm',

    Literal:                       'l',
    Literal.Date:                  'ld',

    String:                        's',
    String.Affix:                  'sa',
    String.Backtick:               'sb',
    String.Char:                   'sc',
    String.Delimiter:              'dl',
    String.Doc:                    'sd',
    String.Double:                 's2',
    String.Escape:                 'se',
    String.Heredoc:                'sh',
    String.Interpol:               'si',
    String.Other:                  'sx',
    String.Regex:                  'sr',
    String.Single:                 's1',
    String.Symbol:                 'ss',

    Number:                        'm',
    Number.Bin:                    'mb',
    Number.Float:                  'mf',
    Number.Hex:                    'mh',
    Number.Integer:                'mi',
    Number.Integer.Long:           'il',
    Number.Oct:                    'mo',

    Operator:                      'o',
    Operator.Word:                 'ow',

    Punctuation:                   'p',
    Punctuation.Marker:            'pm',

    Comment:                       'c',
    Comment.Hashbang:              'ch',
    Comment.Multiline:             'cm',
    Comment.Preproc:               'cp',
    Comment.PreprocFile:           'cpf',
    Comment.Single:                'c1',
    Comment.Special:               'cs',

    Generic:                       'g',
    Generic.Deleted:               'gd',
    Generic.Emph:                  'ge',
    Generic.Error:                 'gr',
    Generic.Heading:               'gh',
    Generic.Inserted:              'gi',
    Generic.Output:                'go',
    Generic.Prompt:                'gp',
    Generic.Strong:                'gs',
    Generic.Subheading:            'gu',
    Generic.EmphStrong:            'ges',
    Generic.Traceback:             'gt',
}</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/style.py (Line 11:2 - Line 203:6), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/style.py (Line 11:2 - Line 203:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn698" onclick="toggleCodeBlock('cloneGroup698', 'expandBtn698', 'collapseBtn698')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn698" onclick="toggleCodeBlock('cloneGroup698', 'expandBtn698', 'collapseBtn698')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup698"><code class="language-python text-sm text-gray-800">pygments.token import Token, STANDARD_TYPES

# Default mapping of ansixxx to RGB colors.
_ansimap = {
    # dark
    'ansiblack': '000000',
    'ansired': '7f0000',
    'ansigreen': '007f00',
    'ansiyellow': '7f7fe0',
    'ansiblue': '00007f',
    'ansimagenta': '7f007f',
    'ansicyan': '007f7f',
    'ansigray': 'e5e5e5',
    # normal
    'ansibrightblack': '555555',
    'ansibrightred': 'ff0000',
    'ansibrightgreen': '00ff00',
    'ansibrightyellow': 'ffff00',
    'ansibrightblue': '0000ff',
    'ansibrightmagenta': 'ff00ff',
    'ansibrightcyan': '00ffff',
    'ansiwhite': 'ffffff',
}
# mapping of deprecated #ansixxx colors to new color names
_deprecated_ansicolors = {
    # dark
    '#ansiblack': 'ansiblack',
    '#ansidarkred': 'ansired',
    '#ansidarkgreen': 'ansigreen',
    '#ansibrown': 'ansiyellow',
    '#ansidarkblue': 'ansiblue',
    '#ansipurple': 'ansimagenta',
    '#ansiteal': 'ansicyan',
    '#ansilightgray': 'ansigray',
    # normal
    '#ansidarkgray': 'ansibrightblack',
    '#ansired': 'ansibrightred',
    '#ansigreen': 'ansibrightgreen',
    '#ansiyellow': 'ansibrightyellow',
    '#ansiblue': 'ansibrightblue',
    '#ansifuchsia': 'ansibrightmagenta',
    '#ansiturquoise': 'ansibrightcyan',
    '#ansiwhite': 'ansiwhite',
}
ansicolors = set(_ansimap)


class StyleMeta(type):

    def __new__(mcs, name, bases, dct):
        obj = type.__new__(mcs, name, bases, dct)
        for token in STANDARD_TYPES:
            if token not in obj.styles:
                obj.styles[token] = ''

        def colorformat(text):
            if text in ansicolors:
                return text
            if text[0:1] == '#':
                col = text[1:]
                if len(col) == 6:
                    return col
                elif len(col) == 3:
                    return col[0] * 2 + col[1] * 2 + col[2] * 2
            elif text == '':
                return ''
            elif text.startswith('var') or text.startswith('calc'):
                return text
            assert False, f&quot;wrong color format {text!r}&quot;

        _styles = obj._styles = {}

        for ttype in obj.styles:
            for token in ttype.split():
                if token in _styles:
                    continue
                ndef = _styles.get(token.parent, None)
                styledefs = obj.styles.get(token, '').split()
                if not ndef or token is None:
                    ndef = ['', 0, 0, 0, '', '', 0, 0, 0]
                elif 'noinherit' in styledefs and token is not Token:
                    ndef = _styles[Token][:]
                else:
                    ndef = ndef[:]
                _styles[token] = ndef
                for styledef in obj.styles.get(token, '').split():
                    if styledef == 'noinherit':
                        pass
                    elif styledef == 'bold':
                        ndef[1] = 1
                    elif styledef == 'nobold':
                        ndef[1] = 0
                    elif styledef == 'italic':
                        ndef[2] = 1
                    elif styledef == 'noitalic':
                        ndef[2] = 0
                    elif styledef == 'underline':
                        ndef[3] = 1
                    elif styledef == 'nounderline':
                        ndef[3] = 0
                    elif styledef[:3] == 'bg:':
                        ndef[4] = colorformat(styledef[3:])
                    elif styledef[:7] == 'border:':
                        ndef[5] = colorformat(styledef[7:])
                    elif styledef == 'roman':
                        ndef[6] = 1
                    elif styledef == 'sans':
                        ndef[7] = 1
                    elif styledef == 'mono':
                        ndef[8] = 1
                    else:
                        ndef[0] = colorformat(styledef)

        return obj

    def style_for_token(cls, token):
        t = cls._styles[token]
        ansicolor = bgansicolor = None
        color = t[0]
        if color in _deprecated_ansicolors:
            color = _deprecated_ansicolors[color]
        if color in ansicolors:
            ansicolor = color
            color = _ansimap[color]
        bgcolor = t[4]
        if bgcolor in _deprecated_ansicolors:
            bgcolor = _deprecated_ansicolors[bgcolor]
        if bgcolor in ansicolors:
            bgansicolor = bgcolor
            bgcolor = _ansimap[bgcolor]

        return {
            'color':        color or None,
            'bold':         bool(t[1]),
            'italic':       bool(t[2]),
            'underline':    bool(t[3]),
            'bgcolor':      bgcolor or None,
            'border':       t[5] or None,
            'roman':        bool(t[6]) or None,
            'sans':         bool(t[7]) or None,
            'mono':         bool(t[8]) or None,
            'ansicolor':    ansicolor,
            'bgansicolor':  bgansicolor,
        }

    def list_styles(cls):
        return list(cls)

    def styles_token(cls, ttype):
        return ttype in cls._styles

    def __iter__(cls):
        for token in cls._styles:
            yield token, cls.style_for_token(token)

    def __len__(cls):
        return len(cls._styles)


class Style(metaclass=StyleMeta):

    #: overall background color (``None`` means transparent)
    background_color = '#ffffff'

    #: highlight background color
    highlight_color = '#ffffcc'

    #: line number font color
    line_number_color = 'inherit'

    #: line number background color
    line_number_background_color = 'transparent'

    #: special line number font color
    line_number_special_color = '#000000'

    #: special line number background color
    line_number_special_background_color = '#ffffc0'

    #: Style definitions for individual token types.
    styles = {}

    #: user-friendly style name (used when selecting the style, so this
    # should be all-lowercase, no spaces, hyphens)
    name = 'unnamed'

    aliases = []

    # Attribute for lexers defined within Pygments. If set
    # to True, the style is not shown in the style gallery
    # on the website. This is intended for language-specific
    # styles.
    web_style_gallery_exclude = False</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/sphinxext.py (Line 1:1 - Line 95:9), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/sphinxext.py (Line 1:1 - Line 95:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn699" onclick="toggleCodeBlock('cloneGroup699', 'expandBtn699', 'collapseBtn699')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn699" onclick="toggleCodeBlock('cloneGroup699', 'expandBtn699', 'collapseBtn699')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup699"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.sphinxext
    ~~~~~~~~~~~~~~~~~~

    Sphinx extension to generate automatic documentation of lexers,
    formatters and filters.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;

import sys

from docutils import nodes
from docutils.statemachine import ViewList
from docutils.parsers.rst import Directive
from sphinx.util.nodes import nested_parse_with_titles


MODULEDOC = '''
.. module:: %s

%s
%s
'''

LEXERDOC = '''
.. class:: %s

    :Short names: %s
    :Filenames:   %s
    :MIME types:  %s

    %s

    %s

'''

FMTERDOC = '''
.. class:: %s

    :Short names: %s
    :Filenames: %s

    %s

'''

FILTERDOC = '''
.. class:: %s

    :Name: %s

    %s

'''


class PygmentsDoc(Directive):
    &quot;&quot;&quot;
    A directive to collect all lexers/formatters/filters and generate
    autoclass directives for them.
    &quot;&quot;&quot;
    has_content = False
    required_arguments = 1
    optional_arguments = 0
    final_argument_whitespace = False
    option_spec = {}

    def run(self):
        self.filenames = set()
        if self.arguments[0] == 'lexers':
            out = self.document_lexers()
        elif self.arguments[0] == 'formatters':
            out = self.document_formatters()
        elif self.arguments[0] == 'filters':
            out = self.document_filters()
        elif self.arguments[0] == 'lexers_overview':
            out = self.document_lexers_overview()
        else:
            raise Exception('invalid argument for &quot;pygmentsdoc&quot; directive')
        node = nodes.compound()
        vl = ViewList(out.split('\n'), source='')
        nested_parse_with_titles(self.state, vl, node)
        for fn in self.filenames:
            self.state.document.settings.record_dependencies.add(fn)
        return node.children

    def document_lexers_overview(self):
        &quot;&quot;&quot;Generate a tabular overview of all lexers.

        The columns are the lexer name, the extensions handled by this lexer
        (or &quot;None&quot;), the aliases and a link to the lexer class.&quot;&quot;&quot;
        from pygments</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/sphinxext.py (Line 107:2 - Line 151:9), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/sphinxext.py (Line 107:2 - Line 151:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn700" onclick="toggleCodeBlock('cloneGroup700', 'expandBtn700', 'collapseBtn700')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn700" onclick="toggleCodeBlock('cloneGroup700', 'expandBtn700', 'collapseBtn700')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup700"><code class="language-python text-sm text-gray-800">find_lexer_class(data[1])
            extensions = lexer_cls.filenames + lexer_cls.alias_filenames

            table.append({
                'name': format_link(data[1], lexer_cls.url),
                'extensions': ', '.join(extensions).replace('*', '\\*').replace('_', '\\') or 'None',
                'aliases': ', '.join(data[2]),
                'class': f'{data[0]}.{classname}'
            })

        column_names = ['name', 'extensions', 'aliases', 'class']
        column_lengths = [max([len(row[column]) for row in table if row[column]])
                          for column in column_names]

        def write_row(*columns):
            &quot;&quot;&quot;Format a table row&quot;&quot;&quot;
            out = []
            for length, col in zip(column_lengths, columns):
                if col:
                    out.append(col.ljust(length))
                else:
                    out.append(' '*length)

            return ' '.join(out)

        def write_seperator():
            &quot;&quot;&quot;Write a table separator row&quot;&quot;&quot;
            sep = ['='*c for c in column_lengths]
            return write_row(*sep)

        out.append(write_seperator())
        out.append(write_row('Name', 'Extension(s)', 'Short name(s)', 'Lexer class'))
        out.append(write_seperator())
        for row in table:
            out.append(write_row(
                row['name'],
                row['extensions'],
                row['aliases'],
                f':class:`~{row[&quot;class&quot;]}`'))
        out.append(write_seperator())

        return '\n'.join(out)

    def document_lexers(self):
        from pygments</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/sphinxext.py (Line 152:9 - Line 216:9), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/sphinxext.py (Line 152:2 - Line 216:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn701" onclick="toggleCodeBlock('cloneGroup701', 'expandBtn701', 'collapseBtn701')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn701" onclick="toggleCodeBlock('cloneGroup701', 'expandBtn701', 'collapseBtn701')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup701"><code class="language-python text-sm text-gray-800">import pygments
        import inspect
        import pathlib

        out = []
        modules = {}
        moduledocstrings = {}
        for classname, data in sorted(LEXERS.items(), key=lambda x: x[0]):
            module = data[0]
            mod = __import__(module, None, None, [classname])
            self.filenames.add(mod.__file__)
            cls = getattr(mod, classname)
            if not cls.__doc__:
                print(f&quot;Warning: {classname} does not have a docstring.&quot;)
            docstring = cls.__doc__
            if isinstance(docstring, bytes):
                docstring = docstring.decode('utf8')

            example_file = getattr(cls, '_example', None)
            if example_file:
                p = pathlib.Path(inspect.getabsfile(pygments)).parent.parent /\
                    'tests' / 'examplefiles' / example_file
                content = p.read_text(encoding='utf-8')
                if not content:
                    raise Exception(
                        f&quot;Empty example file '{example_file}' for lexer &quot;
                        f&quot;{classname}&quot;)

                if data[2]:
                    lexer_name = data[2][0]
                    docstring += '\n\n    .. admonition:: Example\n'
                    docstring += f'\n      .. code-block:: {lexer_name}\n\n'
                    for line in content.splitlines():
                        docstring += f'          {line}\n'

            if cls.version_added:
                version_line = f'.. versionadded:: {cls.version_added}'
            else:
                version_line = ''

            modules.setdefault(module, []).append((
                classname,
                ', '.join(data[2]) or 'None',
                ', '.join(data[3]).replace('*', '\\*').replace('_', '\\') or 'None',
                ', '.join(data[4]) or 'None',
                docstring,
                version_line))
            if module not in moduledocstrings:
                moddoc = mod.__doc__
                if isinstance(moddoc, bytes):
                    moddoc = moddoc.decode('utf8')
                moduledocstrings[module] = moddoc

        for module, lexers in sorted(modules.items(), key=lambda x: x[0]):
            if moduledocstrings[module] is None:
                raise Exception(f&quot;Missing docstring for {module}&quot;)
            heading = moduledocstrings[module].splitlines()[4].strip().rstrip('.')
            out.append(MODULEDOC % (module, heading, '-'*len(heading)))
            for data in lexers:
                out.append(LEXERDOC % data)

        return ''.join(out)

    def document_formatters(self):
        from pygments</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/sphinxext.py (Line 216:2 - Line 234:9), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/sphinxext.py (Line 216:2 - Line 234:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn702" onclick="toggleCodeBlock('cloneGroup702', 'expandBtn702', 'collapseBtn702')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn702" onclick="toggleCodeBlock('cloneGroup702', 'expandBtn702', 'collapseBtn702')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup702"><code class="language-python text-sm text-gray-800">pygments.formatters import FORMATTERS

        out = []
        for classname, data in sorted(FORMATTERS.items(), key=lambda x: x[0]):
            module = data[0]
            mod = __import__(module, None, None, [classname])
            self.filenames.add(mod.__file__)
            cls = getattr(mod, classname)
            docstring = cls.__doc__
            if isinstance(docstring, bytes):
                docstring = docstring.decode('utf8')
            heading = cls.__name__
            out.append(FMTERDOC % (heading, ', '.join(data[2]) or 'None',
                                   ', '.join(data[3]).replace('*', '\\*') or 'None',
                                   docstring))
        return ''.join(out)

    def document_filters(self):
        from pygments</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/sphinxext.py (Line 234:2 - Line 247:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/sphinxext.py (Line 234:2 - Line 247:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn703" onclick="toggleCodeBlock('cloneGroup703', 'expandBtn703', 'collapseBtn703')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn703" onclick="toggleCodeBlock('cloneGroup703', 'expandBtn703', 'collapseBtn703')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup703"><code class="language-python text-sm text-gray-800">pygments.filters import FILTERS

        out = []
        for name, cls in FILTERS.items():
            self.filenames.add(sys.modules[cls.__module__].__file__)
            docstring = cls.__doc__
            if isinstance(docstring, bytes):
                docstring = docstring.decode('utf8')
            out.append(FILTERDOC % (cls.__name__, name, docstring))
        return ''.join(out)


def setup(app):
    app.add_directive('pygmentsdoc', PygmentsDoc)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/scanner.py (Line 1:1 - Line 104:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/scanner.py (Line 1:1 - Line 104:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn704" onclick="toggleCodeBlock('cloneGroup704', 'expandBtn704', 'collapseBtn704')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn704" onclick="toggleCodeBlock('cloneGroup704', 'expandBtn704', 'collapseBtn704')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup704"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.scanner
    ~~~~~~~~~~~~~~~~

    This library implements a regex based scanner. Some languages
    like Pascal are easy to parse but have some keywords that
    depend on the context. Because of this it's impossible to lex
    that just by using a regular expression lexer like the
    `RegexLexer`.

    Have a look at the `DelphiLexer` to get an idea of how to use
    this scanner.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;
import re


class EndOfText(RuntimeError):
    &quot;&quot;&quot;
    Raise if end of text is reached and the user
    tried to call a match function.
    &quot;&quot;&quot;


class Scanner:
    &quot;&quot;&quot;
    Simple scanner

    All method patterns are regular expression strings (not
    compiled expressions!)
    &quot;&quot;&quot;

    def __init__(self, text, flags=0):
        &quot;&quot;&quot;
        :param text:    The text which should be scanned
        :param flags:   default regular expression flags
        &quot;&quot;&quot;
        self.data = text
        self.data_length = len(text)
        self.start_pos = 0
        self.pos = 0
        self.flags = flags
        self.last = None
        self.match = None
        self._re_cache = {}

    def eos(self):
        &quot;&quot;&quot;`True` if the scanner reached the end of text.&quot;&quot;&quot;
        return self.pos &gt;= self.data_length
    eos = property(eos, eos.__doc__)

    def check(self, pattern):
        &quot;&quot;&quot;
        Apply `pattern` on the current position and return
        the match object. (Doesn't touch pos). Use this for
        lookahead.
        &quot;&quot;&quot;
        if self.eos:
            raise EndOfText()
        if pattern not in self._re_cache:
            self._re_cache[pattern] = re.compile(pattern, self.flags)
        return self._re_cache[pattern].match(self.data, self.pos)

    def test(self, pattern):
        &quot;&quot;&quot;Apply a pattern on the current position and check
        if it patches. Doesn't touch pos.
        &quot;&quot;&quot;
        return self.check(pattern) is not None

    def scan(self, pattern):
        &quot;&quot;&quot;
        Scan the text for the given pattern and update pos/match
        and related fields. The return value is a boolean that
        indicates if the pattern matched. The matched value is
        stored on the instance as ``match``, the last value is
        stored as ``last``. ``start_pos`` is the position of the
        pointer before the pattern was matched, ``pos`` is the
        end position.
        &quot;&quot;&quot;
        if self.eos:
            raise EndOfText()
        if pattern not in self._re_cache:
            self._re_cache[pattern] = re.compile(pattern, self.flags)
        self.last = self.match
        m = self._re_cache[pattern].match(self.data, self.pos)
        if m is None:
            return False
        self.start_pos = m.start()
        self.pos = m.end()
        self.match = m.group()
        return True

    def get_char(self):
        &quot;&quot;&quot;Scan exactly one char.&quot;&quot;&quot;
        self.scan('.')

    def __repr__(self):
        return '&lt;%s %d/%d&gt;' % (
            self.__class__.__name__,
            self.pos,
            self.data_length
        )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/regexopt.py (Line 1:1 - Line 91:7), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/regexopt.py (Line 1:1 - Line 91:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn705" onclick="toggleCodeBlock('cloneGroup705', 'expandBtn705', 'collapseBtn705')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn705" onclick="toggleCodeBlock('cloneGroup705', 'expandBtn705', 'collapseBtn705')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup705"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.regexopt
    ~~~~~~~~~~~~~~~~~

    An algorithm that generates optimized regexes for matching long lists of
    literal strings.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;

import re
from re import escape
from os.path import commonprefix
from itertools import groupby
from operator import itemgetter

CS_ESCAPE = re.compile(r'[\[\^\\\-\]]')
FIRST_ELEMENT = itemgetter(0)


def make_charset(letters):
    return '[' + CS_ESCAPE.sub(lambda m: '\\' + m.group(), ''.join(letters)) + ']'


def regex_opt_inner(strings, open_paren):
    &quot;&quot;&quot;Return a regex that matches any string in the sorted list of strings.&quot;&quot;&quot;
    close_paren = open_paren and ')' or ''
    # print strings, repr(open_paren)
    if not strings:
        # print '-&gt; nothing left'
        return ''
    first = strings[0]
    if len(strings) == 1:
        # print '-&gt; only 1 string'
        return open_paren + escape(first) + close_paren
    if not first:
        # print '-&gt; first string empty'
        return open_paren + regex_opt_inner(strings[1:], '(?:') \
            + '?' + close_paren
    if len(first) == 1:
        # multiple one-char strings? make a charset
        oneletter = []
        rest = []
        for s in strings:
            if len(s) == 1:
                oneletter.append(s)
            else:
                rest.append(s)
        if len(oneletter) &gt; 1:  # do we have more than one oneletter string?
            if rest:
                # print '-&gt; 1-character + rest'
                return open_paren + regex_opt_inner(rest, '') + '|' \
                    + make_charset(oneletter) + close_paren
            # print '-&gt; only 1-character'
            return open_paren + make_charset(oneletter) + close_paren
    prefix = commonprefix(strings)
    if prefix:
        plen = len(prefix)
        # we have a prefix for all strings
        # print '-&gt; prefix:', prefix
        return open_paren + escape(prefix) \
            + regex_opt_inner([s[plen:] for s in strings], '(?:') \
            + close_paren
    # is there a suffix?
    strings_rev = [s[::-1] for s in strings]
    suffix = commonprefix(strings_rev)
    if suffix:
        slen = len(suffix)
        # print '-&gt; suffix:', suffix[::-1]
        return open_paren \
            + regex_opt_inner(sorted(s[:-slen] for s in strings), '(?:') \
            + escape(suffix[::-1]) + close_paren
    # recurse on common 1-string prefixes
    # print '-&gt; last resort'
    return open_paren + \
        '|'.join(regex_opt_inner(list(group[1]), '')
                 for group in groupby(strings, lambda s: s[0] == first[0])) \
        + close_paren


def regex_opt(strings, prefix='', suffix=''):
    &quot;&quot;&quot;Return a compiled regex that matches any string in the given list.

    The strings to match must be literal strings, not regexes.  They will be
    regex-escaped.

    *prefix* and *suffix* are pre- and appended to the final regex.
    &quot;&quot;&quot;
    strings = sorted(strings)
    return prefix + regex_opt_inner(strings, '(') + suffix</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/plugin.py (Line 1:1 - Line 72:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/plugin.py (Line 1:1 - Line 72:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn706" onclick="toggleCodeBlock('cloneGroup706', 'expandBtn706', 'collapseBtn706')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn706" onclick="toggleCodeBlock('cloneGroup706', 'expandBtn706', 'collapseBtn706')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup706"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.plugin
    ~~~~~~~~~~~~~~~

    Pygments plugin interface.

    lexer plugins::

        [pygments.lexers]
        yourlexer = yourmodule:YourLexer

    formatter plugins::

        [pygments.formatters]
        yourformatter = yourformatter:YourFormatter
        /.ext = yourformatter:YourFormatter

    As you can see, you can define extensions for the formatter
    with a leading slash.

    syntax plugins::

        [pygments.styles]
        yourstyle = yourstyle:YourStyle

    filter plugin::

        [pygments.filter]
        yourfilter = yourfilter:YourFilter


    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;
from importlib.metadata import entry_points

LEXER_ENTRY_POINT = 'pygments.lexers'
FORMATTER_ENTRY_POINT = 'pygments.formatters'
STYLE_ENTRY_POINT = 'pygments.styles'
FILTER_ENTRY_POINT = 'pygments.filters'


def iter_entry_points(group_name):
    groups = entry_points()
    if hasattr(groups, 'select'):
        # New interface in Python 3.10 and newer versions of the
        # importlib_metadata backport.
        return groups.select(group=group_name)
    else:
        # Older interface, deprecated in Python 3.10 and recent
        # importlib_metadata, but we need it in Python 3.8 and 3.9.
        return groups.get(group_name, [])


def find_plugin_lexers():
    for entrypoint in iter_entry_points(LEXER_ENTRY_POINT):
        yield entrypoint.load()


def find_plugin_formatters():
    for entrypoint in iter_entry_points(FORMATTER_ENTRY_POINT):
        yield entrypoint.name, entrypoint.load()


def find_plugin_styles():
    for entrypoint in iter_entry_points(STYLE_ENTRY_POINT):
        yield entrypoint.name, entrypoint.load()


def find_plugin_filters():
    for entrypoint in iter_entry_points(FILTER_ENTRY_POINT):
        yield entrypoint.name, entrypoint.load()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/modeline.py (Line 1:1 - Line 43:5), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/modeline.py (Line 1:1 - Line 43:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn707" onclick="toggleCodeBlock('cloneGroup707', 'expandBtn707', 'collapseBtn707')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn707" onclick="toggleCodeBlock('cloneGroup707', 'expandBtn707', 'collapseBtn707')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup707"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.modeline
    ~~~~~~~~~~~~~~~~~

    A simple modeline parser (based on pymodeline).

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;

import re

__all__ = ['get_filetype_from_buffer']


modeline_re = re.compile(r'''
    (?: vi | vim | ex ) (?: [&lt;=&gt;]? \d* )? :
    .* (?: ft | filetype | syn | syntax ) = ( [^:\s]+ )
''', re.VERBOSE)


def get_filetype_from_line(l): # noqa: E741
    m = modeline_re.search(l)
    if m:
        return m.group(1)


def get_filetype_from_buffer(buf, max_lines=5):
    &quot;&quot;&quot;
    Scan the buffer for modelines and return filetype if one is found.
    &quot;&quot;&quot;
    lines = buf.splitlines()
    for line in lines[-1:-max_lines-1:-1]:
        ret = get_filetype_from_line(line)
        if ret:
            return ret
    for i in range(max_lines, -1, -1):
        if i &lt; len(lines):
            ret = get_filetype_from_line(lines[i])
            if ret:
                return ret

    return None</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexer.py (Line 20:2 - Line 214:7), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/lexer.py (Line 20:2 - Line 214:57)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn708" onclick="toggleCodeBlock('cloneGroup708', 'expandBtn708', 'collapseBtn708')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn708" onclick="toggleCodeBlock('cloneGroup708', 'expandBtn708', 'collapseBtn708')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup708"><code class="language-python text-sm text-gray-800">pygments.regexopt import regex_opt

__all__ = ['Lexer', 'RegexLexer', 'ExtendedRegexLexer', 'DelegatingLexer',
           'LexerContext', 'include', 'inherit', 'bygroups', 'using', 'this',
           'default', 'words', 'line_re']

line_re = re.compile('.*?\n')

_encoding_map = [(b'\xef\xbb\xbf', 'utf-8'),
                 (b'\xff\xfe\0\0', 'utf-32'),
                 (b'\0\0\xfe\xff', 'utf-32be'),
                 (b'\xff\xfe', 'utf-16'),
                 (b'\xfe\xff', 'utf-16be')]

_default_analyse = staticmethod(lambda x: 0.0)


class LexerMeta(type):
    &quot;&quot;&quot;
    This metaclass automagically converts ``analyse_text`` methods into
    static methods which always return float values.
    &quot;&quot;&quot;

    def __new__(mcs, name, bases, d):
        if 'analyse_text' in d:
            d['analyse_text'] = make_analysator(d['analyse_text'])
        return type.__new__(mcs, name, bases, d)


class Lexer(metaclass=LexerMeta):
    &quot;&quot;&quot;
    Lexer for a specific language.

    See also :doc:`lexerdevelopment`, a high-level guide to writing
    lexers.

    Lexer classes have attributes used for choosing the most appropriate
    lexer based on various criteria.

    .. autoattribute:: name
       :no-value:
    .. autoattribute:: aliases
       :no-value:
    .. autoattribute:: filenames
       :no-value:
    .. autoattribute:: alias_filenames
    .. autoattribute:: mimetypes
       :no-value:
    .. autoattribute:: priority

    Lexers included in Pygments should have two additional attributes:

    .. autoattribute:: url
       :no-value:
    .. autoattribute:: version_added
       :no-value:

    Lexers included in Pygments may have additional attributes:

    .. autoattribute:: _example
       :no-value:

    You can pass options to the constructor. The basic options recognized
    by all lexers and processed by the base `Lexer` class are:

    ``stripnl``
        Strip leading and trailing newlines from the input (default: True).
    ``stripall``
        Strip all leading and trailing whitespace from the input
        (default: False).
    ``ensurenl``
        Make sure that the input ends with a newline (default: True).  This
        is required for some lexers that consume input linewise.

        .. versionadded:: 1.3

    ``tabsize``
        If given and greater than 0, expand tabs in the input (default: 0).
    ``encoding``
        If given, must be an encoding name. This encoding will be used to
        convert the input string to Unicode, if it is not already a Unicode
        string (default: ``'guess'``, which uses a simple UTF-8 / Locale /
        Latin1 detection.  Can also be ``'chardet'`` to use the chardet
        library, if it is installed.
    ``inencoding``
        Overrides the ``encoding`` if given.
    &quot;&quot;&quot;

    #: Full name of the lexer, in human-readable form
    name = None

    #: A list of short, unique identifiers that can be used to look
    #: up the lexer from a list, e.g., using `get_lexer_by_name()`.
    aliases = []

    #: A list of `fnmatch` patterns that match filenames which contain
    #: content for this lexer. The patterns in this list should be unique among
    #: all lexers.
    filenames = []

    #: A list of `fnmatch` patterns that match filenames which may or may not
    #: contain content for this lexer. This list is used by the
    #: :func:`.guess_lexer_for_filename()` function, to determine which lexers
    #: are then included in guessing the correct one. That means that
    #: e.g. every lexer for HTML and a template language should include
    #: ``\*.html`` in this list.
    alias_filenames = []

    #: A list of MIME types for content that can be lexed with this lexer.
    mimetypes = []

    #: Priority, should multiple lexers match and no content is provided
    priority = 0

    #: URL of the language specification/definition. Used in the Pygments
    #: documentation. Set to an empty string to disable.
    url = None

    #: Version of Pygments in which the lexer was added.
    version_added = None

    #: Example file name. Relative to the ``tests/examplefiles`` directory.
    #: This is used by the documentation generator to show an example.
    _example = None

    def __init__(self, **options):
        &quot;&quot;&quot;
        This constructor takes arbitrary options as keyword arguments.
        Every subclass must first process its own options and then call
        the `Lexer` constructor, since it processes the basic
        options like `stripnl`.

        An example looks like this:

        .. sourcecode:: python

           def __init__(self, **options):
               self.compress = options.get('compress', '')
               Lexer.__init__(self, **options)

        As these options must all be specifiable as strings (due to the
        command line usage), there are various utility functions
        available to help with that, see `Utilities`_.
        &quot;&quot;&quot;
        self.options = options
        self.stripnl = get_bool_opt(options, 'stripnl', True)
        self.stripall = get_bool_opt(options, 'stripall', False)
        self.ensurenl = get_bool_opt(options, 'ensurenl', True)
        self.tabsize = get_int_opt(options, 'tabsize', 0)
        self.encoding = options.get('encoding', 'guess')
        self.encoding = options.get('inencoding') or self.encoding
        self.filters = []
        for filter_ in get_list_opt(options, 'filters', ()):
            self.add_filter(filter_)

    def __repr__(self):
        if self.options:
            return f'&lt;pygments.lexers.{self.__class__.__name__} with {self.options!r}&gt;'
        else:
            return f'&lt;pygments.lexers.{self.__class__.__name__}&gt;'

    def add_filter(self, filter_, **options):
        &quot;&quot;&quot;
        Add a new stream filter to this lexer.
        &quot;&quot;&quot;
        if not isinstance(filter_, Filter):
            filter_ = get_filter_by_name(filter_, **options)
        self.filters.append(filter_)

    def analyse_text(text):
        &quot;&quot;&quot;
        A static method which is called for lexer guessing.

        It should analyse the text and return a float in the range
        from ``0.0`` to ``1.0``.  If it returns ``0.0``, the lexer
        will not be selected as the most probable one, if it returns
        ``1.0``, it will be selected immediately.  This is used by
        `guess_lexer`.

        The `LexerMeta` metaclass automatically wraps this function so
        that it works like a static method (no ``self`` or ``cls``
        parameter) and the return value is automatically converted to
        `float`. If the return value is an object that is boolean `False`
        it's the same as if the return values was ``0.0``.
        &quot;&quot;&quot;

    def _preprocess_lexer_input(self, text):
        &quot;&quot;&quot;Apply preprocessing such as decoding the input, removing BOM and normalizing newlines.&quot;&quot;&quot;

        if not isinstance(text, str):
            if self.encoding == 'guess':
                text, _ = guess_decode(text)
            elif self.encoding == 'chardet':
                try:
                    import</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/lexer.py (Line 215:17 - Line 961:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/lexer.py (Line 217:17 - Line 963:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn709" onclick="toggleCodeBlock('cloneGroup709', 'expandBtn709', 'collapseBtn709')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn709" onclick="toggleCodeBlock('cloneGroup709', 'expandBtn709', 'collapseBtn709')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup709"><code class="language-python text-sm text-gray-800">except ImportError as e:
                    raise ImportError('To enable chardet encoding guessing, '
                                      'please install the chardet library '
                                      'from http://chardet.feedparser.org/') from e
                # check for BOM first
                decoded = None
                for bom, encoding in _encoding_map:
                    if text.startswith(bom):
                        decoded = text[len(bom):].decode(encoding, 'replace')
                        break
                # no BOM found, so use chardet
                if decoded is None:
                    enc = chardet.detect(text[:1024])  # Guess using first 1KB
                    decoded = text.decode(enc.get('encoding') or 'utf-8',
                                          'replace')
                text = decoded
            else:
                text = text.decode(self.encoding)
                if text.startswith('\ufeff'):
                    text = text[len('\ufeff'):]
        else:
            if text.startswith('\ufeff'):
                text = text[len('\ufeff'):]

        # text now *is* a unicode string
        text = text.replace('\r\n', '\n')
        text = text.replace('\r', '\n')
        if self.stripall:
            text = text.strip()
        elif self.stripnl:
            text = text.strip('\n')
        if self.tabsize &gt; 0:
            text = text.expandtabs(self.tabsize)
        if self.ensurenl and not text.endswith('\n'):
            text += '\n'

        return text

    def get_tokens(self, text, unfiltered=False):
        &quot;&quot;&quot;
        This method is the basic interface of a lexer. It is called by
        the `highlight()` function. It must process the text and return an
        iterable of ``(tokentype, value)`` pairs from `text`.

        Normally, you don't need to override this method. The default
        implementation processes the options recognized by all lexers
        (`stripnl`, `stripall` and so on), and then yields all tokens
        from `get_tokens_unprocessed()`, with the ``index`` dropped.

        If `unfiltered` is set to `True`, the filtering mechanism is
        bypassed even if filters are defined.
        &quot;&quot;&quot;
        text = self._preprocess_lexer_input(text)

        def streamer():
            for _, t, v in self.get_tokens_unprocessed(text):
                yield t, v
        stream = streamer()
        if not unfiltered:
            stream = apply_filters(stream, self.filters, self)
        return stream

    def get_tokens_unprocessed(self, text):
        &quot;&quot;&quot;
        This method should process the text and return an iterable of
        ``(index, tokentype, value)`` tuples where ``index`` is the starting
        position of the token within the input text.

        It must be overridden by subclasses. It is recommended to
        implement it as a generator to maximize effectiveness.
        &quot;&quot;&quot;
        raise NotImplementedError


class DelegatingLexer(Lexer):
    &quot;&quot;&quot;
    This lexer takes two lexer as arguments. A root lexer and
    a language lexer. First everything is scanned using the language
    lexer, afterwards all ``Other`` tokens are lexed using the root
    lexer.

    The lexers from the ``template`` lexer package use this base lexer.
    &quot;&quot;&quot;

    def __init__(self, _root_lexer, _language_lexer, _needle=Other, **options):
        self.root_lexer = _root_lexer(**options)
        self.language_lexer = _language_lexer(**options)
        self.needle = _needle
        Lexer.__init__(self, **options)

    def get_tokens_unprocessed(self, text):
        buffered = ''
        insertions = []
        lng_buffer = []
        for i, t, v in self.language_lexer.get_tokens_unprocessed(text):
            if t is self.needle:
                if lng_buffer:
                    insertions.append((len(buffered), lng_buffer))
                    lng_buffer = []
                buffered += v
            else:
                lng_buffer.append((i, t, v))
        if lng_buffer:
            insertions.append((len(buffered), lng_buffer))
        return do_insertions(insertions,
                             self.root_lexer.get_tokens_unprocessed(buffered))


# ------------------------------------------------------------------------------
# RegexLexer and ExtendedRegexLexer
#


class include(str):  # pylint: disable=invalid-name
    &quot;&quot;&quot;
    Indicates that a state should include rules from another state.
    &quot;&quot;&quot;
    pass


class _inherit:
    &quot;&quot;&quot;
    Indicates the a state should inherit from its superclass.
    &quot;&quot;&quot;
    def __repr__(self):
        return 'inherit'

inherit = _inherit()  # pylint: disable=invalid-name


class combined(tuple):  # pylint: disable=invalid-name
    &quot;&quot;&quot;
    Indicates a state combined from multiple states.
    &quot;&quot;&quot;

    def __new__(cls, *args):
        return tuple.__new__(cls, args)

    def __init__(self, *args):
        # tuple.__init__ doesn't do anything
        pass


class _PseudoMatch:
    &quot;&quot;&quot;
    A pseudo match object constructed from a string.
    &quot;&quot;&quot;

    def __init__(self, start, text):
        self._text = text
        self._start = start

    def start(self, arg=None):
        return self._start

    def end(self, arg=None):
        return self._start + len(self._text)

    def group(self, arg=None):
        if arg:
            raise IndexError('No such group')
        return self._text

    def groups(self):
        return (self._text,)

    def groupdict(self):
        return {}


def bygroups(*args):
    &quot;&quot;&quot;
    Callback that yields multiple actions for each group in the match.
    &quot;&quot;&quot;
    def callback(lexer, match, ctx=None):
        for i, action in enumerate(args):
            if action is None:
                continue
            elif type(action) is _TokenType:
                data = match.group(i + 1)
                if data:
                    yield match.start(i + 1), action, data
            else:
                data = match.group(i + 1)
                if data is not None:
                    if ctx:
                        ctx.pos = match.start(i + 1)
                    for item in action(lexer,
                                       _PseudoMatch(match.start(i + 1), data), ctx):
                        if item:
                            yield item
        if ctx:
            ctx.pos = match.end()
    return callback


class _This:
    &quot;&quot;&quot;
    Special singleton used for indicating the caller class.
    Used by ``using``.
    &quot;&quot;&quot;

this = _This()


def using(_other, **kwargs):
    &quot;&quot;&quot;
    Callback that processes the match with a different lexer.

    The keyword arguments are forwarded to the lexer, except `state` which
    is handled separately.

    `state` specifies the state that the new lexer will start in, and can
    be an enumerable such as ('root', 'inline', 'string') or a simple
    string which is assumed to be on top of the root state.

    Note: For that to work, `_other` must not be an `ExtendedRegexLexer`.
    &quot;&quot;&quot;
    gt_kwargs = {}
    if 'state' in kwargs:
        s = kwargs.pop('state')
        if isinstance(s, (list, tuple)):
            gt_kwargs['stack'] = s
        else:
            gt_kwargs['stack'] = ('root', s)

    if _other is this:
        def callback(lexer, match, ctx=None):
            # if keyword arguments are given the callback
            # function has to create a new lexer instance
            if kwargs:
                # XXX: cache that somehow
                kwargs.update(lexer.options)
                lx = lexer.__class__(**kwargs)
            else:
                lx = lexer
            s = match.start()
            for i, t, v in lx.get_tokens_unprocessed(match.group(), **gt_kwargs):
                yield i + s, t, v
            if ctx:
                ctx.pos = match.end()
    else:
        def callback(lexer, match, ctx=None):
            # XXX: cache that somehow
            kwargs.update(lexer.options)
            lx = _other(**kwargs)

            s = match.start()
            for i, t, v in lx.get_tokens_unprocessed(match.group(), **gt_kwargs):
                yield i + s, t, v
            if ctx:
                ctx.pos = match.end()
    return callback


class default:
    &quot;&quot;&quot;
    Indicates a state or state action (e.g. #pop) to apply.
    For example default('#pop') is equivalent to ('', Token, '#pop')
    Note that state tuples may be used as well.

    .. versionadded:: 2.0
    &quot;&quot;&quot;
    def __init__(self, state):
        self.state = state


class words(Future):
    &quot;&quot;&quot;
    Indicates a list of literal words that is transformed into an optimized
    regex that matches any of the words.

    .. versionadded:: 2.0
    &quot;&quot;&quot;
    def __init__(self, words, prefix='', suffix=''):
        self.words = words
        self.prefix = prefix
        self.suffix = suffix

    def get(self):
        return regex_opt(self.words, prefix=self.prefix, suffix=self.suffix)


class RegexLexerMeta(LexerMeta):
    &quot;&quot;&quot;
    Metaclass for RegexLexer, creates the self._tokens attribute from
    self.tokens on the first instantiation.
    &quot;&quot;&quot;

    def _process_regex(cls, regex, rflags, state):
        &quot;&quot;&quot;Preprocess the regular expression component of a token definition.&quot;&quot;&quot;
        if isinstance(regex, Future):
            regex = regex.get()
        return re.compile(regex, rflags).match

    def _process_token(cls, token):
        &quot;&quot;&quot;Preprocess the token component of a token definition.&quot;&quot;&quot;
        assert type(token) is _TokenType or callable(token), \
            f'token type must be simple type or callable, not {token!r}'
        return token

    def _process_new_state(cls, new_state, unprocessed, processed):
        &quot;&quot;&quot;Preprocess the state transition action of a token definition.&quot;&quot;&quot;
        if isinstance(new_state, str):
            # an existing state
            if new_state == '#pop':
                return -1
            elif new_state in unprocessed:
                return (new_state,)
            elif new_state == '#push':
                return new_state
            elif new_state[:5] == '#pop:':
                return -int(new_state[5:])
            else:
                assert False, f'unknown new state {new_state!r}'
        elif isinstance(new_state, combined):
            # combine a new state from existing ones
            tmp_state = '_tmp_%d' % cls._tmpname
            cls._tmpname += 1
            itokens = []
            for istate in new_state:
                assert istate != new_state, f'circular state ref {istate!r}'
                itokens.extend(cls._process_state(unprocessed,
                                                  processed, istate))
            processed[tmp_state] = itokens
            return (tmp_state,)
        elif isinstance(new_state, tuple):
            # push more than one state
            for istate in new_state:
                assert (istate in unprocessed or
                        istate in ('#pop', '#push')), \
                    'unknown new state ' + istate
            return new_state
        else:
            assert False, f'unknown new state def {new_state!r}'

    def _process_state(cls, unprocessed, processed, state):
        &quot;&quot;&quot;Preprocess a single state definition.&quot;&quot;&quot;
        assert isinstance(state, str), f&quot;wrong state name {state!r}&quot;
        assert state[0] != '#', f&quot;invalid state name {state!r}&quot;
        if state in processed:
            return processed[state]
        tokens = processed[state] = []
        rflags = cls.flags
        for tdef in unprocessed[state]:
            if isinstance(tdef, include):
                # it's a state reference
                assert tdef != state, f&quot;circular state reference {state!r}&quot;
                tokens.extend(cls._process_state(unprocessed, processed,
                                                 str(tdef)))
                continue
            if isinstance(tdef, _inherit):
                # should be processed already, but may not in the case of:
                # 1. the state has no counterpart in any parent
                # 2. the state includes more than one 'inherit'
                continue
            if isinstance(tdef, default):
                new_state = cls._process_new_state(tdef.state, unprocessed, processed)
                tokens.append((re.compile('').match, None, new_state))
                continue

            assert type(tdef) is tuple, f&quot;wrong rule def {tdef!r}&quot;

            try:
                rex = cls._process_regex(tdef[0], rflags, state)
            except Exception as err:
                raise ValueError(f&quot;uncompilable regex {tdef[0]!r} in state {state!r} of {cls!r}: {err}&quot;) from err

            token = cls._process_token(tdef[1])

            if len(tdef) == 2:
                new_state = None
            else:
                new_state = cls._process_new_state(tdef[2],
                                                   unprocessed, processed)

            tokens.append((rex, token, new_state))
        return tokens

    def process_tokendef(cls, name, tokendefs=None):
        &quot;&quot;&quot;Preprocess a dictionary of token definitions.&quot;&quot;&quot;
        processed = cls._all_tokens[name] = {}
        tokendefs = tokendefs or cls.tokens[name]
        for state in list(tokendefs):
            cls._process_state(tokendefs, processed, state)
        return processed

    def get_tokendefs(cls):
        &quot;&quot;&quot;
        Merge tokens from superclasses in MRO order, returning a single tokendef
        dictionary.

        Any state that is not defined by a subclass will be inherited
        automatically.  States that *are* defined by subclasses will, by
        default, override that state in the superclass.  If a subclass wishes to
        inherit definitions from a superclass, it can use the special value
        &quot;inherit&quot;, which will cause the superclass' state definition to be
        included at that point in the state.
        &quot;&quot;&quot;
        tokens = {}
        inheritable = {}
        for c in cls.__mro__:
            toks = c.__dict__.get('tokens', {})

            for state, items in toks.items():
                curitems = tokens.get(state)
                if curitems is None:
                    # N.b. because this is assigned by reference, sufficiently
                    # deep hierarchies are processed incrementally (e.g. for
                    # A(B), B(C), C(RegexLexer), B will be premodified so X(B)
                    # will not see any inherits in B).
                    tokens[state] = items
                    try:
                        inherit_ndx = items.index(inherit)
                    except ValueError:
                        continue
                    inheritable[state] = inherit_ndx
                    continue

                inherit_ndx = inheritable.pop(state, None)
                if inherit_ndx is None:
                    continue

                # Replace the &quot;inherit&quot; value with the items
                curitems[inherit_ndx:inherit_ndx+1] = items
                try:
                    # N.b. this is the index in items (that is, the superclass
                    # copy), so offset required when storing below.
                    new_inh_ndx = items.index(inherit)
                except ValueError:
                    pass
                else:
                    inheritable[state] = inherit_ndx + new_inh_ndx

        return tokens

    def __call__(cls, *args, **kwds):
        &quot;&quot;&quot;Instantiate cls after preprocessing its token definitions.&quot;&quot;&quot;
        if '_tokens' not in cls.__dict__:
            cls._all_tokens = {}
            cls._tmpname = 0
            if hasattr(cls, 'token_variants') and cls.token_variants:
                # don't process yet
                pass
            else:
                cls._tokens = cls.process_tokendef('', cls.get_tokendefs())

        return type.__call__(cls, *args, **kwds)


class RegexLexer(Lexer, metaclass=RegexLexerMeta):
    &quot;&quot;&quot;
    Base for simple stateful regular expression-based lexers.
    Simplifies the lexing process so that you need only
    provide a list of states and regular expressions.
    &quot;&quot;&quot;

    #: Flags for compiling the regular expressions.
    #: Defaults to MULTILINE.
    flags = re.MULTILINE

    #: At all time there is a stack of states. Initially, the stack contains
    #: a single state 'root'. The top of the stack is called &quot;the current state&quot;.
    #:
    #: Dict of ``{'state': [(regex, tokentype, new_state), ...], ...}``
    #:
    #: ``new_state`` can be omitted to signify no state transition.
    #: If ``new_state`` is a string, it is pushed on the stack. This ensure
    #: the new current state is ``new_state``.
    #: If ``new_state`` is a tuple of strings, all of those strings are pushed
    #: on the stack and the current state will be the last element of the list.
    #: ``new_state`` can also be ``combined('state1', 'state2', ...)``
    #: to signify a new, anonymous state combined from the rules of two
    #: or more existing ones.
    #: Furthermore, it can be '#pop' to signify going back one step in
    #: the state stack, or '#push' to push the current state on the stack
    #: again. Note that if you push while in a combined state, the combined
    #: state itself is pushed, and not only the state in which the rule is
    #: defined.
    #:
    #: The tuple can also be replaced with ``include('state')``, in which
    #: case the rules from the state named by the string are included in the
    #: current one.
    tokens = {}

    def get_tokens_unprocessed(self, text, stack=('root',)):
        &quot;&quot;&quot;
        Split ``text`` into (tokentype, text) pairs.

        ``stack`` is the initial stack (default: ``['root']``)
        &quot;&quot;&quot;
        pos = 0
        tokendefs = self._tokens
        statestack = list(stack)
        statetokens = tokendefs[statestack[-1]]
        while 1:
            for rexmatch, action, new_state in statetokens:
                m = rexmatch(text, pos)
                if m:
                    if action is not None:
                        if type(action) is _TokenType:
                            yield pos, action, m.group()
                        else:
                            yield from action(self, m)
                    pos = m.end()
                    if new_state is not None:
                        # state transition
                        if isinstance(new_state, tuple):
                            for state in new_state:
                                if state == '#pop':
                                    if len(statestack) &gt; 1:
                                        statestack.pop()
                                elif state == '#push':
                                    statestack.append(statestack[-1])
                                else:
                                    statestack.append(state)
                        elif isinstance(new_state, int):
                            # pop, but keep at least one state on the stack
                            # (random code leading to unexpected pops should
                            # not allow exceptions)
                            if abs(new_state) &gt;= len(statestack):
                                del statestack[1:]
                            else:
                                del statestack[new_state:]
                        elif new_state == '#push':
                            statestack.append(statestack[-1])
                        else:
                            assert False, f&quot;wrong state def: {new_state!r}&quot;
                        statetokens = tokendefs[statestack[-1]]
                    break
            else:
                # We are here only if all state tokens have been considered
                # and there was not a match on any of them.
                try:
                    if text[pos] == '\n':
                        # at EOL, reset state to &quot;root&quot;
                        statestack = ['root']
                        statetokens = tokendefs['root']
                        yield pos, Whitespace, '\n'
                        pos += 1
                        continue
                    yield pos, Error, text[pos]
                    pos += 1
                except IndexError:
                    break


class LexerContext:
    &quot;&quot;&quot;
    A helper object that holds lexer position data.
    &quot;&quot;&quot;

    def __init__(self, text, pos, stack=None, end=None):
        self.text = text
        self.pos = pos
        self.end = end or len(text)  # end=0 not supported ;-)
        self.stack = stack or ['root']

    def __repr__(self):
        return f'LexerContext({self.text!r}, {self.pos!r}, {self.stack!r})'


class ExtendedRegexLexer(RegexLexer):
    &quot;&quot;&quot;
    A RegexLexer that uses a context object to store its state.
    &quot;&quot;&quot;

    def get_tokens_unprocessed(self, text=None, context=None):
        &quot;&quot;&quot;
        Split ``text`` into (tokentype, text) pairs.
        If ``context`` is given, use this lexer context instead.
        &quot;&quot;&quot;
        tokendefs = self._tokens
        if not context:
            ctx = LexerContext(text, 0)
            statetokens = tokendefs['root']
        else:
            ctx = context
            statetokens = tokendefs[ctx.stack[-1]]
            text = ctx.text
        while 1:
            for rexmatch, action, new_state in statetokens:
                m = rexmatch(text, ctx.pos, ctx.end)
                if m:
                    if action is not None:
                        if type(action) is _TokenType:
                            yield ctx.pos, action, m.group()
                            ctx.pos = m.end()
                        else:
                            yield from action(self, m, ctx)
                            if not new_state:
                                # altered the state stack?
                                statetokens = tokendefs[ctx.stack[-1]]
                    # CAUTION: callback must set ctx.pos!
                    if new_state is not None:
                        # state transition
                        if isinstance(new_state, tuple):
                            for state in new_state:
                                if state == '#pop':
                                    if len(ctx.stack) &gt; 1:
                                        ctx.stack.pop()
                                elif state == '#push':
                                    ctx.stack.append(ctx.stack[-1])
                                else:
                                    ctx.stack.append(state)
                        elif isinstance(new_state, int):
                            # see RegexLexer for why this check is made
                            if abs(new_state) &gt;= len(ctx.stack):
                                del ctx.stack[1:]
                            else:
                                del ctx.stack[new_state:]
                        elif new_state == '#push':
                            ctx.stack.append(ctx.stack[-1])
                        else:
                            assert False, f&quot;wrong state def: {new_state!r}&quot;
                        statetokens = tokendefs[ctx.stack[-1]]
                    break
            else:
                try:
                    if ctx.pos &gt;= ctx.end:
                        break
                    if text[ctx.pos] == '\n':
                        # at EOL, reset state to &quot;root&quot;
                        ctx.stack = ['root']
                        statetokens = tokendefs['root']
                        yield ctx.pos, Text, '\n'
                        ctx.pos += 1
                        continue
                    yield ctx.pos, Error, text[ctx.pos]
                    ctx.pos += 1
                except IndexError:
                    break


def do_insertions(insertions, tokens):
    &quot;&quot;&quot;
    Helper for lexers which must combine the results of several
    sublexers.

    ``insertions`` is a list of ``(index, itokens)`` pairs.
    Each ``itokens`` iterable should be inserted at position
    ``index`` into the token stream given by the ``tokens``
    argument.

    The result is a combined token stream.

    TODO: clean up the code here.
    &quot;&quot;&quot;
    insertions = iter(insertions)
    try:
        index, itokens = next(insertions)
    except StopIteration:
        # no insertions
        yield from tokens
        return

    realpos = None
    insleft = True

    # iterate over the token stream where we want to insert
    # the tokens from the insertion list.
    for i, t, v in tokens:
        # first iteration. store the position of first item
        if realpos is None:
            realpos = i
        oldi = 0
        while insleft and i + len(v) &gt;= index:
            tmpval = v[oldi:index - i]
            if tmpval:
                yield realpos, t, tmpval
                realpos += len(tmpval)
            for it_index, it_token, it_value in itokens:
                yield realpos, it_token, it_value
                realpos += len(it_value)
            oldi = index - i
            try:
                index, itokens = next(insertions)
            except StopIteration:
                insleft = False
                break  # not strictly necessary
        if oldi &lt; len(v):
            yield realpos, t, v[oldi:]
            realpos += len(v) - oldi

    # leftover tokens
    while insleft:
        # no normal tokens, set realpos to zero
        realpos = realpos or 0
        for p, t, v in itokens:
            yield realpos, t, v
            realpos += len(v)
        try:
            index, itokens = next(insertions)
        except StopIteration:
            insleft = False
            break  # not strictly necessary


class ProfilingRegexLexerMeta(RegexLexerMeta):
    &quot;&quot;&quot;Metaclass for ProfilingRegexLexer, collects regex timing info.&quot;&quot;&quot;

    def _process_regex(cls, regex, rflags, state):
        if isinstance(regex, words):
            rex = regex_opt(regex.words, prefix=regex.prefix,
                            suffix=regex.suffix)
        else:
            rex = regex
        compiled = re.compile(rex, rflags)

        def match_func(text, pos, endpos=sys.maxsize):
            info = cls._prof_data[-1].setdefault((state, rex), [0, 0.0])
            t0 = time.time()
            res = compiled.match(text, pos, endpos)
            t1 = time.time()
            info[0] += 1
            info[1] += t1 - t0
            return res
        return match_func


class ProfilingRegexLexer(RegexLexer, metaclass=ProfilingRegexLexerMeta):
    &quot;&quot;&quot;Drop-in replacement for RegexLexer that does profiling of its regexes.&quot;&quot;&quot;

    _prof_data = []
    _prof_sort_index = 4  # defaults to time per call

    def get_tokens_unprocessed(self, text, stack=('root',)):
        # this needs to be a stack, since using(this) will produce nested calls
        self.__class__._prof_data.append({})
        yield from RegexLexer.get_tokens_unprocessed(self, text, stack)
        rawdata = self.__class__._prof_data.pop()
        data = sorted(((s, repr(r).strip('u\'').replace('\\\\', '\\')[:65],
                        n, 1000 * t, 1000 * t / n)
                       for ((s, r), (n, t)) in rawdata.items()),
                      key=lambda x: x[self._prof_sort_index],
                      reverse=True)
        sum_total = sum(x[3] for x in data)

        print()
        print('Profiling result for %s lexing %d chars in %.3f ms' %
              (self.__class__.__name__, len(text), sum_total))
        print('=' * 110)
        print('%-20s %-64s ncalls  tottime  percall' % ('state', 'regex'))
        print('-' * 110)
        for d in data:
            print('%-20s %-65s %5d %8.4f %8.4f' % d)
        print('=' * 110)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/formatter.py (Line 14:2 - Line 129:4), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/formatter.py (Line 14:2 - Line 129:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn710" onclick="toggleCodeBlock('cloneGroup710', 'expandBtn710', 'collapseBtn710')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn710" onclick="toggleCodeBlock('cloneGroup710', 'expandBtn710', 'collapseBtn710')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup710"><code class="language-python text-sm text-gray-800">pygments.styles import get_style_by_name

__all__ = ['Formatter']


def _lookup_style(style):
    if isinstance(style, str):
        return get_style_by_name(style)
    return style


class Formatter:
    &quot;&quot;&quot;
    Converts a token stream to text.

    Formatters should have attributes to help selecting them. These
    are similar to the corresponding :class:`~pygments.lexer.Lexer`
    attributes.

    .. autoattribute:: name
       :no-value:

    .. autoattribute:: aliases
       :no-value:

    .. autoattribute:: filenames
       :no-value:

    You can pass options as keyword arguments to the constructor.
    All formatters accept these basic options:

    ``style``
        The style to use, can be a string or a Style subclass
        (default: &quot;default&quot;). Not used by e.g. the
        TerminalFormatter.
    ``full``
        Tells the formatter to output a &quot;full&quot; document, i.e.
        a complete self-contained document. This doesn't have
        any effect for some formatters (default: false).
    ``title``
        If ``full`` is true, the title that should be used to
        caption the document (default: '').
    ``encoding``
        If given, must be an encoding name. This will be used to
        convert the Unicode token strings to byte strings in the
        output. If it is &quot;&quot; or None, Unicode strings will be written
        to the output file, which most file-like objects do not
        support (default: None).
    ``outencoding``
        Overrides ``encoding`` if given.

    &quot;&quot;&quot;

    #: Full name for the formatter, in human-readable form.
    name = None

    #: A list of short, unique identifiers that can be used to lookup
    #: the formatter from a list, e.g. using :func:`.get_formatter_by_name()`.
    aliases = []

    #: A list of fnmatch patterns that match filenames for which this
    #: formatter can produce output. The patterns in this list should be unique
    #: among all formatters.
    filenames = []

    #: If True, this formatter outputs Unicode strings when no encoding
    #: option is given.
    unicodeoutput = True

    def __init__(self, **options):
        &quot;&quot;&quot;
        As with lexers, this constructor takes arbitrary optional arguments,
        and if you override it, you should first process your own options, then
        call the base class implementation.
        &quot;&quot;&quot;
        self.style = _lookup_style(options.get('style', 'default'))
        self.full = get_bool_opt(options, 'full', False)
        self.title = options.get('title', '')
        self.encoding = options.get('encoding', None) or None
        if self.encoding in ('guess', 'chardet'):
            # can happen for e.g. pygmentize -O encoding=guess
            self.encoding = 'utf-8'
        self.encoding = options.get('outencoding') or self.encoding
        self.options = options

    def get_style_defs(self, arg=''):
        &quot;&quot;&quot;
        This method must return statements or declarations suitable to define
        the current style for subsequent highlighted text (e.g. CSS classes
        in the `HTMLFormatter`).

        The optional argument `arg` can be used to modify the generation and
        is formatter dependent (it is standardized because it can be given on
        the command line).

        This method is called by the ``-S`` :doc:`command-line option &lt;cmdline&gt;`,
        the `arg` is then given by the ``-a`` option.
        &quot;&quot;&quot;
        return ''

    def format(self, tokensource, outfile):
        &quot;&quot;&quot;
        This method must format the tokens from the `tokensource` iterable and
        write the formatted version to the file object `outfile`.

        Formatter options can control how exactly the tokens are converted.
        &quot;&quot;&quot;
        if self.encoding:
            # wrap the outfile in a StreamWriter
            outfile = codecs.lookup(self.encoding)[3](outfile)
        return self.format_unencoded(tokensource, outfile)

    # Allow writing Formatter[str] or Formatter[bytes]. That's equivalent to
    # Formatter. This helps when using third-party type stubs from typeshed.
    def __class_getitem__(cls, name):
        return cls</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/filter.py (Line 1:1 - Line 70:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/filter.py (Line 1:1 - Line 70:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn711" onclick="toggleCodeBlock('cloneGroup711', 'expandBtn711', 'collapseBtn711')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn711" onclick="toggleCodeBlock('cloneGroup711', 'expandBtn711', 'collapseBtn711')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup711"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.filter
    ~~~~~~~~~~~~~~~

    Module that implements the default filter.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;


def apply_filters(stream, filters, lexer=None):
    &quot;&quot;&quot;
    Use this method to apply an iterable of filters to
    a stream. If lexer is given it's forwarded to the
    filter, otherwise the filter receives `None`.
    &quot;&quot;&quot;
    def _apply(filter_, stream):
        yield from filter_.filter(lexer, stream)
    for filter_ in filters:
        stream = _apply(filter_, stream)
    return stream


def simplefilter(f):
    &quot;&quot;&quot;
    Decorator that converts a function into a filter::

        @simplefilter
        def lowercase(self, lexer, stream, options):
            for ttype, value in stream:
                yield ttype, value.lower()
    &quot;&quot;&quot;
    return type(f.__name__, (FunctionFilter,), {
        '__module__': getattr(f, '__module__'),
        '__doc__': f.__doc__,
        'function': f,
    })


class Filter:
    &quot;&quot;&quot;
    Default filter. Subclass this class or use the `simplefilter`
    decorator to create own filters.
    &quot;&quot;&quot;

    def __init__(self, **options):
        self.options = options

    def filter(self, lexer, stream):
        raise NotImplementedError()


class FunctionFilter(Filter):
    &quot;&quot;&quot;
    Abstract class used by `simplefilter` to create simple
    function filters on the fly. The `simplefilter` decorator
    automatically creates subclasses of this class for
    functions passed to it.
    &quot;&quot;&quot;
    function = None

    def __init__(self, **options):
        if not hasattr(self, 'function'):
            raise TypeError(f'{self.__class__.__name__!r} used without bound function')
        Filter.__init__(self, **options)

    def filter(self, lexer, stream):
        # pylint: disable=not-callable
        yield from self.function(lexer, stream, self.options)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/console.py (Line 1:1 - Line 70:2), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/console.py (Line 1:1 - Line 70:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn712" onclick="toggleCodeBlock('cloneGroup712', 'expandBtn712', 'collapseBtn712')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn712" onclick="toggleCodeBlock('cloneGroup712', 'expandBtn712', 'collapseBtn712')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup712"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
    pygments.console
    ~~~~~~~~~~~~~~~~

    Format colored console output.

    :copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
&quot;&quot;&quot;

esc = &quot;\x1b[&quot;

codes = {}
codes[&quot;&quot;] = &quot;&quot;
codes[&quot;reset&quot;] = esc + &quot;39;49;00m&quot;

codes[&quot;bold&quot;] = esc + &quot;01m&quot;
codes[&quot;faint&quot;] = esc + &quot;02m&quot;
codes[&quot;standout&quot;] = esc + &quot;03m&quot;
codes[&quot;underline&quot;] = esc + &quot;04m&quot;
codes[&quot;blink&quot;] = esc + &quot;05m&quot;
codes[&quot;overline&quot;] = esc + &quot;06m&quot;

dark_colors = [&quot;black&quot;, &quot;red&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;blue&quot;,
               &quot;magenta&quot;, &quot;cyan&quot;, &quot;gray&quot;]
light_colors = [&quot;brightblack&quot;, &quot;brightred&quot;, &quot;brightgreen&quot;, &quot;brightyellow&quot;, &quot;brightblue&quot;,
                &quot;brightmagenta&quot;, &quot;brightcyan&quot;, &quot;white&quot;]

x = 30
for dark, light in zip(dark_colors, light_colors):
    codes[dark] = esc + &quot;%im&quot; % x
    codes[light] = esc + &quot;%im&quot; % (60 + x)
    x += 1

del dark, light, x

codes[&quot;white&quot;] = codes[&quot;bold&quot;]


def reset_color():
    return codes[&quot;reset&quot;]


def colorize(color_key, text):
    return codes[color_key] + text + codes[&quot;reset&quot;]


def ansiformat(attr, text):
    &quot;&quot;&quot;
    Format ``text`` with a color and/or some attributes::

        color       normal color
        *color*     bold color
        _color_     underlined color
        +color+     blinking color
    &quot;&quot;&quot;
    result = []
    if attr[:1] == attr[-1:] == '+':
        result.append(codes['blink'])
        attr = attr[1:-1]
    if attr[:1] == attr[-1:] == '*':
        result.append(codes['bold'])
        attr = attr[1:-1]
    if attr[:1] == attr[-1:] == '_':
        result.append(codes['underline'])
        attr = attr[1:-1]
    result.append(codes[attr])
    result.append(text)
    result.append(codes['reset'])
    return ''.join(result)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pygments/__init__.py (Line 45:2 - Line 70:9), .venv/lib/python3.14/site-packages/pip/_vendor/pygments/__init__.py (Line 45:2 - Line 70:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn713" onclick="toggleCodeBlock('cloneGroup713', 'expandBtn713', 'collapseBtn713')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn713" onclick="toggleCodeBlock('cloneGroup713', 'expandBtn713', 'collapseBtn713')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup713"><code class="language-python text-sm text-gray-800">pygments.lexer import RegexLexer
        if isinstance(lexer, type) and issubclass(lexer, RegexLexer):
            raise TypeError('lex() argument must be a lexer instance, '
                            'not a class')
        raise


def format(tokens, formatter, outfile=None):  # pylint: disable=redefined-builtin
    &quot;&quot;&quot;
    Format ``tokens`` (an iterable of tokens) with the formatter ``formatter``
    (a `Formatter` instance).

    If ``outfile`` is given and a valid file object (an object with a
    ``write`` method), the result will be written to it, otherwise it
    is returned as a string.
    &quot;&quot;&quot;
    try:
        if not outfile:
            realoutfile = getattr(formatter, 'encoding', None) and BytesIO() or StringIO()
            formatter.format(tokens, realoutfile)
            return realoutfile.getvalue()
        else:
            formatter.format(tokens, outfile)
    except TypeError:
        # Heuristic to catch a common mistake.
        from pygments</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/type_adapter.py (Line 504:4 - Line 532:12), .venv/lib/python3.14/site-packages/pydantic/type_adapter.py (Line 454:10 - Line 485:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn714" onclick="toggleCodeBlock('cloneGroup714', 'expandBtn714', 'collapseBtn714')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn714" onclick="toggleCodeBlock('cloneGroup714', 'expandBtn714', 'collapseBtn714')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup714"><code class="language-python text-sm text-gray-800">,
        /,
        *,
        strict: bool | None = None,
        extra: ExtraValues | None = None,
        context: Any | None = None,
        experimental_allow_partial: bool | Literal['off', 'on', 'trailing-strings'] = False,
        by_alias: bool | None = None,
        by_name: bool | None = None,
    ) -&gt; T:
        &quot;&quot;&quot;Validate object contains string data against the model.

        Args:
            obj: The object contains string data to validate.
            strict: Whether to strictly check types.
            extra: Whether to ignore, allow, or forbid extra data during model validation.
                See the [`extra` configuration value][pydantic.ConfigDict.extra] for details.
            context: Additional context to use during validation.
            experimental_allow_partial: **Experimental** whether to enable
                [partial validation](../concepts/experimental.md#partial-validation), e.g. to process streams.
                * False / 'off': Default behavior, no partial validation.
                * True / 'on': Enable partial validation.
                * 'trailing-strings': Enable partial validation and allow trailing strings in the input.
            by_alias: Whether to use the field's alias when validating against the provided input data.
            by_name: Whether to use the field's name when validating against the provided input data.

        Returns:
            The validated object.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/type_adapter.py (Line 628:6 - Line 641:6), .venv/lib/python3.14/site-packages/pydantic/type_adapter.py (Line 566:9 - Line 579:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn715" onclick="toggleCodeBlock('cloneGroup715', 'expandBtn715', 'collapseBtn715')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn715" onclick="toggleCodeBlock('cloneGroup715', 'expandBtn715', 'collapseBtn715')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup715"><code class="language-python text-sm text-gray-800">,
        include: IncEx | None = None,
        exclude: IncEx | None = None,
        by_alias: bool | None = None,
        exclude_unset: bool = False,
        exclude_defaults: bool = False,
        exclude_none: bool = False,
        exclude_computed_fields: bool = False,
        round_trip: bool = False,
        warnings: bool | Literal['none', 'warn', 'error'] = True,
        fallback: Callable[[Any], Any] | None = None,
        serialize_as_any: bool = False,
        context: Any | None = None,
    ) -&gt; bytes</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/functional_validators.py (Line 298:5 - Line 308:7), .venv/lib/python3.14/site-packages/pydantic/functional_validators.py (Line 125:5 - Line 135:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn716" onclick="toggleCodeBlock('cloneGroup716', 'expandBtn716', 'collapseBtn716')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn716" onclick="toggleCodeBlock('cloneGroup716', 'expandBtn716', 'collapseBtn716')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup716"><code class="language-python text-sm text-gray-800">json_schema_input_type: Any = PydanticUndefined

    def __get_pydantic_core_schema__(self, source_type: Any, handler: GetCoreSchemaHandler) -&gt; core_schema.CoreSchema:
        schema = handler(source_type)
        input_schema = (
            None
            if self.json_schema_input_type is PydanticUndefined
            else handler.generate_schema(self.json_schema_input_type)
        )

        info_arg = _inspect_validator(self.func, mode='wrap'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/functional_serializers.py (Line 166:9 - Line 182:36), .venv/lib/python3.14/site-packages/pydantic/functional_serializers.py (Line 63:9 - Line 79:37)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn717" onclick="toggleCodeBlock('cloneGroup717', 'expandBtn717', 'collapseBtn717')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn717" onclick="toggleCodeBlock('cloneGroup717', 'expandBtn717', 'collapseBtn717')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup717"><code class="language-python text-sm text-gray-800">schema = handler(source_type)
        if self.return_type is not PydanticUndefined:
            return_type = self.return_type
        else:
            try:
                # Do not pass in globals as the function could be defined in a different module.
                # Instead, let `get_callable_return_type` infer the globals to use, but still pass
                # in locals that may contain a parent/rebuild namespace:
                return_type = _decorators.get_callable_return_type(
                    self.func,
                    localns=handler._get_types_namespace().locals,
                )
            except NameError as e:
                raise PydanticUndefinedAnnotation.from_name_error(e) from e

        return_schema = None if return_type is PydanticUndefined else handler.generate_schema(return_type)
        schema['serialization'] = core_schema.wrap_serializer_function_ser_schema</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/dataclasses.py (Line 70:9 - Line 79:2), .venv/lib/python3.14/site-packages/pydantic/dataclasses.py (Line 52:9 - Line 61:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn718" onclick="toggleCodeBlock('cloneGroup718', 'expandBtn718', 'collapseBtn718')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn718" onclick="toggleCodeBlock('cloneGroup718', 'expandBtn718', 'collapseBtn718')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup718"><code class="language-python text-sm text-gray-800">*,
        init: Literal[False] = False,
        repr: bool = True,
        eq: bool = True,
        order: bool = False,
        unsafe_hash: bool = False,
        frozen: bool | None = None,
        config: ConfigDict | type[object] | None = None,
        validate_on_init: bool | None = None,
    )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/dataclasses.py (Line 78:5 - Line 95:5), .venv/lib/python3.14/site-packages/pydantic/dataclasses.py (Line 44:2 - Line 79:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn719" onclick="toggleCodeBlock('cloneGroup719', 'expandBtn719', 'collapseBtn719')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn719" onclick="toggleCodeBlock('cloneGroup719', 'expandBtn719', 'collapseBtn719')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup719"><code class="language-python text-sm text-gray-800">,
    ) -&gt; Callable[[type[_T]], type[PydanticDataclass]]:  # type: ignore
        ...

    @dataclass_transform(field_specifiers=(dataclasses.field, Field, PrivateAttr))
    @overload
    def dataclass(
        _cls: type[_T],  # type: ignore
        *,
        init: Literal[False] = False,
        repr: bool = True,
        eq: bool = True,
        order: bool = False,
        unsafe_hash: bool = False,
        frozen: bool | None = None,
        config: ConfigDict | type[object] | None = None,
        validate_on_init: bool | None = None,
    ) -&gt; type</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/dataclasses.py (Line 101:5 - Line 110:6), .venv/lib/python3.14/site-packages/pydantic/dataclasses.py (Line 52:9 - Line 61:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn720" onclick="toggleCodeBlock('cloneGroup720', 'expandBtn720', 'collapseBtn720')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn720" onclick="toggleCodeBlock('cloneGroup720', 'expandBtn720', 'collapseBtn720')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup720"><code class="language-python text-sm text-gray-800">*,
    init: Literal[False] = False,
    repr: bool = True,
    eq: bool = True,
    order: bool = False,
    unsafe_hash: bool = False,
    frozen: bool | None = None,
    config: ConfigDict | type[object] | None = None,
    validate_on_init: bool | None = None,
    kw_only: bool = False</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 127:6 - Line 146:12), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 94:6 - Line 109:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn721" onclick="toggleCodeBlock('cloneGroup721', 'expandBtn721', 'collapseBtn721')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn721" onclick="toggleCodeBlock('cloneGroup721', 'expandBtn721', 'collapseBtn721')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup721"><code class="language-python text-sm text-gray-800">[int, int, int], self.as_rgb_tuple())
            try:
                return COLORS_BY_VALUE[rgb]
            except KeyError as e:
                if fallback:
                    return self.as_hex()
                else:
                    raise ValueError('no named color found, use fallback=True, as_hex() or as_rgb()') from e
        else:
            return self.as_hex()

    def as_hex(self) -&gt; str:
        &quot;&quot;&quot;Returns the hexadecimal representation of the color.

        Hex string representing the color can be 3, 4, 6, or 8 characters depending on whether the string
        a &quot;short&quot; representation of the color is possible and whether there's an alpha channel.

        Returns:
            The hexadecimal representation of the color.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 147:9 - Line 157:77), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 110:9 - Line 122:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn722" onclick="toggleCodeBlock('cloneGroup722', 'expandBtn722', 'collapseBtn722')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn722" onclick="toggleCodeBlock('cloneGroup722', 'expandBtn722', 'collapseBtn722')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup722"><code class="language-python text-sm text-gray-800">values = [float_to_255(c) for c in self._rgba[:3]]
        if self._rgba.alpha is not None:
            values.append(float_to_255(self._rgba.alpha))

        as_hex = ''.join(f'{v:02x}' for v in values)
        if all(c in repeat_colors for c in values):
            as_hex = ''.join(as_hex[c] for c in range(0, len(as_hex), 2))
        return '#' + as_hex

    def as_rgb(self) -&gt; str:
        &quot;&quot;&quot;Color as an `rgb(&lt;r&gt;, &lt;g&gt;, &lt;b&gt;)` or `rgba(&lt;r&gt;, &lt;g&gt;, &lt;b&gt;, &lt;a&gt;)` string.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 180:9 - Line 193:76), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 141:9 - Line 156:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn723" onclick="toggleCodeBlock('cloneGroup723', 'expandBtn723', 'collapseBtn723')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn723" onclick="toggleCodeBlock('cloneGroup723', 'expandBtn723', 'collapseBtn723')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup723"><code class="language-python text-sm text-gray-800">r, g, b = (float_to_255(c) for c in self._rgba[:3])
        if alpha is None:
            if self._rgba.alpha is None:
                return r, g, b
            else:
                return r, g, b, self._alpha_float()
        elif alpha:
            return r, g, b, self._alpha_float()
        else:
            # alpha is False
            return r, g, b

    def as_hsl(self) -&gt; str:
        &quot;&quot;&quot;Color as an `hsl(&lt;h&gt;, &lt;s&gt;, &lt;l&gt;)` or `hsl(&lt;h&gt;, &lt;s&gt;, &lt;l&gt;, &lt;a&gt;)` string.&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 194:9 - Line 217:12), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 157:9 - Line 175:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn724" onclick="toggleCodeBlock('cloneGroup724', 'expandBtn724', 'collapseBtn724')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn724" onclick="toggleCodeBlock('cloneGroup724', 'expandBtn724', 'collapseBtn724')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup724"><code class="language-python text-sm text-gray-800">if self._rgba.alpha is None:
            h, s, li = self.as_hsl_tuple(alpha=False)  # type: ignore
            return f'hsl({h * 360:0.0f}, {s:0.0%}, {li:0.0%})'
        else:
            h, s, li, a = self.as_hsl_tuple(alpha=True)  # type: ignore
            return f'hsl({h * 360:0.0f}, {s:0.0%}, {li:0.0%}, {round(a, 2)})'

    def as_hsl_tuple(self, *, alpha: Optional[bool] = None) -&gt; HslColorTuple:
        &quot;&quot;&quot;Returns the color as an HSL or HSLA tuple.

        Args:
            alpha: Whether to include the alpha channel.

                - `None` (default): Include the alpha channel only if it's set (e.g. not `None`).
                - `True`: Always include alpha.
                - `False`: Always omit alpha.

        Returns:
            The color as a tuple of hue, saturation, lightness, and alpha (if included).
                All elements are in the range 0 to 1.

        Note:
            This is HSL as used in HTML and most other places, not HLS as used in Python's `colorsys`.
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 219:9 - Line 234:29), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 177:9 - Line 192:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn725" onclick="toggleCodeBlock('cloneGroup725', 'expandBtn725', 'collapseBtn725')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn725" onclick="toggleCodeBlock('cloneGroup725', 'expandBtn725', 'collapseBtn725')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup725"><code class="language-python text-sm text-gray-800">if alpha is None:
            if self._rgba.alpha is None:
                return h, s, l
            else:
                return h, s, l, self._alpha_float()
        if alpha:
            return h, s, l, self._alpha_float()
        else:
            # alpha is False
            return h, s, l

    def _alpha_float(self) -&gt; float:
        return 1 if self._rgba.alpha is None else self._rgba.alpha

    @classmethod
    def __get_pydantic_core_schema__</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 270:5 - Line 277:20), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 212:5 - Line 219:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn726" onclick="toggleCodeBlock('cloneGroup726', 'expandBtn726', 'collapseBtn726')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn726" onclick="toggleCodeBlock('cloneGroup726', 'expandBtn726', 'collapseBtn726')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup726"><code class="language-python text-sm text-gray-800">if len(value) == 3:
        r, g, b = (parse_color_value(v) for v in value)
        return RGBA(r, g, b, None)
    elif len(value) == 4:
        r, g, b = (parse_color_value(v) for v in value[:3])
        return RGBA(r, g, b, parse_float_alpha(value[3]))
    else:
        raise PydanticCustomError</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 300:5 - Line 328:3), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 231:5 - Line 260:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn727" onclick="toggleCodeBlock('cloneGroup727', 'expandBtn727', 'collapseBtn727')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn727" onclick="toggleCodeBlock('cloneGroup727', 'expandBtn727', 'collapseBtn727')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup727"><code class="language-python text-sm text-gray-800">value_lower = value.lower()
    try:
        r, g, b = COLORS_BY_NAME[value_lower]
    except KeyError:
        pass
    else:
        return ints_to_rgba(r, g, b, None)

    m = re.fullmatch(r_hex_short, value_lower)
    if m:
        *rgb, a = m.groups()
        r, g, b = (int(v * 2, 16) for v in rgb)
        if a:
            alpha: Optional[float] = int(a * 2, 16) / 255
        else:
            alpha = None
        return ints_to_rgba(r, g, b, alpha)

    m = re.fullmatch(r_hex_long, value_lower)
    if m:
        *rgb, a = m.groups()
        r, g, b = (int(v, 16) for v in rgb)
        if a:
            alpha = int(a, 16) / 255
        else:
            alpha = None
        return ints_to_rgba(r, g, b, alpha)

    m = re.fullmatch(r_rgb, value_lower) or</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 424:5 - Line 436:18), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 325:5 - Line 337:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn728" onclick="toggleCodeBlock('cloneGroup728', 'expandBtn728', 'collapseBtn728')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn728" onclick="toggleCodeBlock('cloneGroup728', 'expandBtn728', 'collapseBtn728')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup728"><code class="language-python text-sm text-gray-800">s_value, l_value = parse_color_value(sat, 100), parse_color_value(light, 100)

    h_value = float(h)
    if h_units in {None, 'deg'}:
        h_value = h_value % 360 / 360
    elif h_units == 'rad':
        h_value = h_value % rads / rads
    else:
        # turns
        h_value = h_value % 1

    r, g, b = hls_to_rgb(h_value, l_value, s_value)
    return RGBA(r, g, b, parse_float_alpha</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pydantic/color.py (Line 451:5 - Line 604:2), .venv/lib/python3.14/site-packages/pydantic/v1/color.py (Line 341:5 - Line 494:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn729" onclick="toggleCodeBlock('cloneGroup729', 'expandBtn729', 'collapseBtn729')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn729" onclick="toggleCodeBlock('cloneGroup729', 'expandBtn729', 'collapseBtn729')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup729"><code class="language-python text-sm text-gray-800">return int(round(c * 255))


COLORS_BY_NAME = {
    'aliceblue': (240, 248, 255),
    'antiquewhite': (250, 235, 215),
    'aqua': (0, 255, 255),
    'aquamarine': (127, 255, 212),
    'azure': (240, 255, 255),
    'beige': (245, 245, 220),
    'bisque': (255, 228, 196),
    'black': (0, 0, 0),
    'blanchedalmond': (255, 235, 205),
    'blue': (0, 0, 255),
    'blueviolet': (138, 43, 226),
    'brown': (165, 42, 42),
    'burlywood': (222, 184, 135),
    'cadetblue': (95, 158, 160),
    'chartreuse': (127, 255, 0),
    'chocolate': (210, 105, 30),
    'coral': (255, 127, 80),
    'cornflowerblue': (100, 149, 237),
    'cornsilk': (255, 248, 220),
    'crimson': (220, 20, 60),
    'cyan': (0, 255, 255),
    'darkblue': (0, 0, 139),
    'darkcyan': (0, 139, 139),
    'darkgoldenrod': (184, 134, 11),
    'darkgray': (169, 169, 169),
    'darkgreen': (0, 100, 0),
    'darkgrey': (169, 169, 169),
    'darkkhaki': (189, 183, 107),
    'darkmagenta': (139, 0, 139),
    'darkolivegreen': (85, 107, 47),
    'darkorange': (255, 140, 0),
    'darkorchid': (153, 50, 204),
    'darkred': (139, 0, 0),
    'darksalmon': (233, 150, 122),
    'darkseagreen': (143, 188, 143),
    'darkslateblue': (72, 61, 139),
    'darkslategray': (47, 79, 79),
    'darkslategrey': (47, 79, 79),
    'darkturquoise': (0, 206, 209),
    'darkviolet': (148, 0, 211),
    'deeppink': (255, 20, 147),
    'deepskyblue': (0, 191, 255),
    'dimgray': (105, 105, 105),
    'dimgrey': (105, 105, 105),
    'dodgerblue': (30, 144, 255),
    'firebrick': (178, 34, 34),
    'floralwhite': (255, 250, 240),
    'forestgreen': (34, 139, 34),
    'fuchsia': (255, 0, 255),
    'gainsboro': (220, 220, 220),
    'ghostwhite': (248, 248, 255),
    'gold': (255, 215, 0),
    'goldenrod': (218, 165, 32),
    'gray': (128, 128, 128),
    'green': (0, 128, 0),
    'greenyellow': (173, 255, 47),
    'grey': (128, 128, 128),
    'honeydew': (240, 255, 240),
    'hotpink': (255, 105, 180),
    'indianred': (205, 92, 92),
    'indigo': (75, 0, 130),
    'ivory': (255, 255, 240),
    'khaki': (240, 230, 140),
    'lavender': (230, 230, 250),
    'lavenderblush': (255, 240, 245),
    'lawngreen': (124, 252, 0),
    'lemonchiffon': (255, 250, 205),
    'lightblue': (173, 216, 230),
    'lightcoral': (240, 128, 128),
    'lightcyan': (224, 255, 255),
    'lightgoldenrodyellow': (250, 250, 210),
    'lightgray': (211, 211, 211),
    'lightgreen': (144, 238, 144),
    'lightgrey': (211, 211, 211),
    'lightpink': (255, 182, 193),
    'lightsalmon': (255, 160, 122),
    'lightseagreen': (32, 178, 170),
    'lightskyblue': (135, 206, 250),
    'lightslategray': (119, 136, 153),
    'lightslategrey': (119, 136, 153),
    'lightsteelblue': (176, 196, 222),
    'lightyellow': (255, 255, 224),
    'lime': (0, 255, 0),
    'limegreen': (50, 205, 50),
    'linen': (250, 240, 230),
    'magenta': (255, 0, 255),
    'maroon': (128, 0, 0),
    'mediumaquamarine': (102, 205, 170),
    'mediumblue': (0, 0, 205),
    'mediumorchid': (186, 85, 211),
    'mediumpurple': (147, 112, 219),
    'mediumseagreen': (60, 179, 113),
    'mediumslateblue': (123, 104, 238),
    'mediumspringgreen': (0, 250, 154),
    'mediumturquoise': (72, 209, 204),
    'mediumvioletred': (199, 21, 133),
    'midnightblue': (25, 25, 112),
    'mintcream': (245, 255, 250),
    'mistyrose': (255, 228, 225),
    'moccasin': (255, 228, 181),
    'navajowhite': (255, 222, 173),
    'navy': (0, 0, 128),
    'oldlace': (253, 245, 230),
    'olive': (128, 128, 0),
    'olivedrab': (107, 142, 35),
    'orange': (255, 165, 0),
    'orangered': (255, 69, 0),
    'orchid': (218, 112, 214),
    'palegoldenrod': (238, 232, 170),
    'palegreen': (152, 251, 152),
    'paleturquoise': (175, 238, 238),
    'palevioletred': (219, 112, 147),
    'papayawhip': (255, 239, 213),
    'peachpuff': (255, 218, 185),
    'peru': (205, 133, 63),
    'pink': (255, 192, 203),
    'plum': (221, 160, 221),
    'powderblue': (176, 224, 230),
    'purple': (128, 0, 128),
    'red': (255, 0, 0),
    'rosybrown': (188, 143, 143),
    'royalblue': (65, 105, 225),
    'saddlebrown': (139, 69, 19),
    'salmon': (250, 128, 114),
    'sandybrown': (244, 164, 96),
    'seagreen': (46, 139, 87),
    'seashell': (255, 245, 238),
    'sienna': (160, 82, 45),
    'silver': (192, 192, 192),
    'skyblue': (135, 206, 235),
    'slateblue': (106, 90, 205),
    'slategray': (112, 128, 144),
    'slategrey': (112, 128, 144),
    'snow': (255, 250, 250),
    'springgreen': (0, 255, 127),
    'steelblue': (70, 130, 180),
    'tan': (210, 180, 140),
    'teal': (0, 128, 128),
    'thistle': (216, 191, 216),
    'tomato': (255, 99, 71),
    'turquoise': (64, 224, 208),
    'violet': (238, 130, 238),
    'wheat': (245, 222, 179),
    'white': (255, 255, 255),
    'whitesmoke': (245, 245, 245),
    'yellow': (255, 255, 0),
    'yellowgreen': (154, 205, 50),
}

COLORS_BY_VALUE = {v: k for k, v in COLORS_BY_NAME.items()}</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/pluggy/_version.py (Line 1:1 - Line 20:8), .venv/lib/python3.14/site-packages/urllib3/_version.py (Line 1:1 - Line 20:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn730" onclick="toggleCodeBlock('cloneGroup730', 'expandBtn730', 'collapseBtn730')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn730" onclick="toggleCodeBlock('cloneGroup730', 'expandBtn730', 'collapseBtn730')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup730"><code class="language-python text-sm text-gray-800"># file generated by setuptools-scm
# don't change, don't track in version control

__all__ = [&quot;__version__&quot;, &quot;__version_tuple__&quot;, &quot;version&quot;, &quot;version_tuple&quot;]

TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple
    from typing import Union

    VERSION_TUPLE = Tuple[Union[int, str], ...]
else:
    VERSION_TUPLE = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE

__version__ = version = '1.6.0'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/windows.py (Line 1:1 - Line 272:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/windows.py (Line 1:1 - Line 272:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn731" onclick="toggleCodeBlock('cloneGroup731', 'expandBtn731', 'collapseBtn731')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn731" onclick="toggleCodeBlock('cloneGroup731', 'expandBtn731', 'collapseBtn731')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup731"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;Windows.&quot;&quot;&quot;

from __future__ import annotations

import os
import sys
from functools import lru_cache
from typing import TYPE_CHECKING

from .api import PlatformDirsABC

if TYPE_CHECKING:
    from collections.abc import Callable


class Windows(PlatformDirsABC):
    &quot;&quot;&quot;
    `MSDN on where to store app data files &lt;https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid&gt;`_.

    Makes use of the `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`, `appauthor
    &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`, `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`, `roaming
    &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`, `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`, `ensure_exists
    &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.

    &quot;&quot;&quot;

    @property
    def user_data_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: data directory tied to the user, e.g.
         ``%USERPROFILE%\\AppData\\Local\\$appauthor\\$appname`` (not roaming) or
         ``%USERPROFILE%\\AppData\\Roaming\\$appauthor\\$appname`` (roaming)
        &quot;&quot;&quot;
        const = &quot;CSIDL_APPDATA&quot; if self.roaming else &quot;CSIDL_LOCAL_APPDATA&quot;
        path = os.path.normpath(get_win_folder(const))
        return self._append_parts(path)

    def _append_parts(self, path: str, *, opinion_value: str | None = None) -&gt; str:
        params = []
        if self.appname:
            if self.appauthor is not False:
                author = self.appauthor or self.appname
                params.append(author)
            params.append(self.appname)
            if opinion_value is not None and self.opinion:
                params.append(opinion_value)
            if self.version:
                params.append(self.version)
        path = os.path.join(path, *params)  # noqa: PTH118
        self._optionally_create_directory(path)
        return path

    @property
    def site_data_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: data directory shared by users, e.g. ``C:\\ProgramData\\$appauthor\\$appname``&quot;&quot;&quot;
        path = os.path.normpath(get_win_folder(&quot;CSIDL_COMMON_APPDATA&quot;))
        return self._append_parts(path)

    @property
    def user_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory tied to the user, same as `user_data_dir`&quot;&quot;&quot;
        return self.user_data_dir

    @property
    def site_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory shared by the users, same as `site_data_dir`&quot;&quot;&quot;
        return self.site_data_dir

    @property
    def user_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: cache directory tied to the user (if opinionated with ``Cache`` folder within ``$appname``) e.g.
         ``%USERPROFILE%\\AppData\\Local\\$appauthor\\$appname\\Cache\\$version``
        &quot;&quot;&quot;
        path = os.path.normpath(get_win_folder(&quot;CSIDL_LOCAL_APPDATA&quot;))
        return self._append_parts(path, opinion_value=&quot;Cache&quot;)

    @property
    def site_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory shared by users, e.g. ``C:\\ProgramData\\$appauthor\\$appname\\Cache\\$version``&quot;&quot;&quot;
        path = os.path.normpath(get_win_folder(&quot;CSIDL_COMMON_APPDATA&quot;))
        return self._append_parts(path, opinion_value=&quot;Cache&quot;)

    @property
    def user_state_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: state directory tied to the user, same as `user_data_dir`&quot;&quot;&quot;
        return self.user_data_dir

    @property
    def user_log_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: log directory tied to the user, same as `user_data_dir` if not opinionated else ``Logs`` in it&quot;&quot;&quot;
        path = self.user_data_dir
        if self.opinion:
            path = os.path.join(path, &quot;Logs&quot;)  # noqa: PTH118
            self._optionally_create_directory(path)
        return path

    @property
    def user_documents_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: documents directory tied to the user e.g. ``%USERPROFILE%\\Documents``&quot;&quot;&quot;
        return os.path.normpath(get_win_folder(&quot;CSIDL_PERSONAL&quot;))

    @property
    def user_downloads_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: downloads directory tied to the user e.g. ``%USERPROFILE%\\Downloads``&quot;&quot;&quot;
        return os.path.normpath(get_win_folder(&quot;CSIDL_DOWNLOADS&quot;))

    @property
    def user_pictures_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: pictures directory tied to the user e.g. ``%USERPROFILE%\\Pictures``&quot;&quot;&quot;
        return os.path.normpath(get_win_folder(&quot;CSIDL_MYPICTURES&quot;))

    @property
    def user_videos_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: videos directory tied to the user e.g. ``%USERPROFILE%\\Videos``&quot;&quot;&quot;
        return os.path.normpath(get_win_folder(&quot;CSIDL_MYVIDEO&quot;))

    @property
    def user_music_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: music directory tied to the user e.g. ``%USERPROFILE%\\Music``&quot;&quot;&quot;
        return os.path.normpath(get_win_folder(&quot;CSIDL_MYMUSIC&quot;))

    @property
    def user_desktop_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: desktop directory tied to the user, e.g. ``%USERPROFILE%\\Desktop``&quot;&quot;&quot;
        return os.path.normpath(get_win_folder(&quot;CSIDL_DESKTOPDIRECTORY&quot;))

    @property
    def user_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: runtime directory tied to the user, e.g.
         ``%USERPROFILE%\\AppData\\Local\\Temp\\$appauthor\\$appname``
        &quot;&quot;&quot;
        path = os.path.normpath(os.path.join(get_win_folder(&quot;CSIDL_LOCAL_APPDATA&quot;), &quot;Temp&quot;))  # noqa: PTH118
        return self._append_parts(path)

    @property
    def site_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: runtime directory shared by users, same as `user_runtime_dir`&quot;&quot;&quot;
        return self.user_runtime_dir


def get_win_folder_from_env_vars(csidl_name: str) -&gt; str:
    &quot;&quot;&quot;Get folder from environment variables.&quot;&quot;&quot;
    result = get_win_folder_if_csidl_name_not_env_var(csidl_name)
    if result is not None:
        return result

    env_var_name = {
        &quot;CSIDL_APPDATA&quot;: &quot;APPDATA&quot;,
        &quot;CSIDL_COMMON_APPDATA&quot;: &quot;ALLUSERSPROFILE&quot;,
        &quot;CSIDL_LOCAL_APPDATA&quot;: &quot;LOCALAPPDATA&quot;,
    }.get(csidl_name)
    if env_var_name is None:
        msg = f&quot;Unknown CSIDL name: {csidl_name}&quot;
        raise ValueError(msg)
    result = os.environ.get(env_var_name)
    if result is None:
        msg = f&quot;Unset environment variable: {env_var_name}&quot;
        raise ValueError(msg)
    return result


def get_win_folder_if_csidl_name_not_env_var(csidl_name: str) -&gt; str | None:
    &quot;&quot;&quot;Get a folder for a CSIDL name that does not exist as an environment variable.&quot;&quot;&quot;
    if csidl_name == &quot;CSIDL_PERSONAL&quot;:
        return os.path.join(os.path.normpath(os.environ[&quot;USERPROFILE&quot;]), &quot;Documents&quot;)  # noqa: PTH118

    if csidl_name == &quot;CSIDL_DOWNLOADS&quot;:
        return os.path.join(os.path.normpath(os.environ[&quot;USERPROFILE&quot;]), &quot;Downloads&quot;)  # noqa: PTH118

    if csidl_name == &quot;CSIDL_MYPICTURES&quot;:
        return os.path.join(os.path.normpath(os.environ[&quot;USERPROFILE&quot;]), &quot;Pictures&quot;)  # noqa: PTH118

    if csidl_name == &quot;CSIDL_MYVIDEO&quot;:
        return os.path.join(os.path.normpath(os.environ[&quot;USERPROFILE&quot;]), &quot;Videos&quot;)  # noqa: PTH118

    if csidl_name == &quot;CSIDL_MYMUSIC&quot;:
        return os.path.join(os.path.normpath(os.environ[&quot;USERPROFILE&quot;]), &quot;Music&quot;)  # noqa: PTH118
    return None


def get_win_folder_from_registry(csidl_name: str) -&gt; str:
    &quot;&quot;&quot;
    Get folder from the registry.

    This is a fallback technique at best. I'm not sure if using the registry for these guarantees us the correct answer
    for all CSIDL_* names.

    &quot;&quot;&quot;
    shell_folder_name = {
        &quot;CSIDL_APPDATA&quot;: &quot;AppData&quot;,
        &quot;CSIDL_COMMON_APPDATA&quot;: &quot;Common AppData&quot;,
        &quot;CSIDL_LOCAL_APPDATA&quot;: &quot;Local AppData&quot;,
        &quot;CSIDL_PERSONAL&quot;: &quot;Personal&quot;,
        &quot;CSIDL_DOWNLOADS&quot;: &quot;{374DE290-123F-4565-9164-39C4925E467B}&quot;,
        &quot;CSIDL_MYPICTURES&quot;: &quot;My Pictures&quot;,
        &quot;CSIDL_MYVIDEO&quot;: &quot;My Video&quot;,
        &quot;CSIDL_MYMUSIC&quot;: &quot;My Music&quot;,
    }.get(csidl_name)
    if shell_folder_name is None:
        msg = f&quot;Unknown CSIDL name: {csidl_name}&quot;
        raise ValueError(msg)
    if sys.platform != &quot;win32&quot;:  # only needed for mypy type checker to know that this code runs only on Windows
        raise NotImplementedError
    import winreg  # noqa: PLC0415

    key = winreg.OpenKey(winreg.HKEY_CURRENT_USER, r&quot;Software\Microsoft\Windows\CurrentVersion\Explorer\Shell Folders&quot;)
    directory, _ = winreg.QueryValueEx(key, shell_folder_name)
    return str(directory)


def get_win_folder_via_ctypes(csidl_name: str) -&gt; str:
    &quot;&quot;&quot;Get folder with ctypes.&quot;&quot;&quot;
    # There is no 'CSIDL_DOWNLOADS'.
    # Use 'CSIDL_PROFILE' (40) and append the default folder 'Downloads' instead.
    # https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid

    import ctypes  # noqa: PLC0415

    csidl_const = {
        &quot;CSIDL_APPDATA&quot;: 26,
        &quot;CSIDL_COMMON_APPDATA&quot;: 35,
        &quot;CSIDL_LOCAL_APPDATA&quot;: 28,
        &quot;CSIDL_PERSONAL&quot;: 5,
        &quot;CSIDL_MYPICTURES&quot;: 39,
        &quot;CSIDL_MYVIDEO&quot;: 14,
        &quot;CSIDL_MYMUSIC&quot;: 13,
        &quot;CSIDL_DOWNLOADS&quot;: 40,
        &quot;CSIDL_DESKTOPDIRECTORY&quot;: 16,
    }.get(csidl_name)
    if csidl_const is None:
        msg = f&quot;Unknown CSIDL name: {csidl_name}&quot;
        raise ValueError(msg)

    buf = ctypes.create_unicode_buffer(1024)
    windll = getattr(ctypes, &quot;windll&quot;)  # noqa: B009 # using getattr to avoid false positive with mypy type checker
    windll.shell32.SHGetFolderPathW(None, csidl_const, None, 0, buf)

    # Downgrade to short path name if it has high-bit chars.
    if any(ord(c) &gt; 255 for c in buf):  # noqa: PLR2004
        buf2 = ctypes.create_unicode_buffer(1024)
        if windll.kernel32.GetShortPathNameW(buf.value, buf2, 1024):
            buf = buf2

    if csidl_name == &quot;CSIDL_DOWNLOADS&quot;:
        return os.path.join(buf.value, &quot;Downloads&quot;)  # noqa: PTH118

    return buf.value


def _pick_get_win_folder() -&gt; Callable[[str], str]:
    try:
        import ctypes  # noqa: PLC0415
    except ImportError:
        pass
    else:
        if hasattr(ctypes, &quot;windll&quot;):
            return get_win_folder_via_ctypes
    try:
        import winreg  # noqa: PLC0415, F401
    except ImportError:
        return get_win_folder_from_env_vars
    else:
        return get_win_folder_from_registry


get_win_folder = lru_cache(maxsize=None)(_pick_get_win_folder())

__all__ = [
    &quot;Windows&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/version.py (Line 1:1 - Line 34:5), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/version.py (Line 1:1 - Line 34:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn732" onclick="toggleCodeBlock('cloneGroup732', 'expandBtn732', 'collapseBtn732')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn732" onclick="toggleCodeBlock('cloneGroup732', 'expandBtn732', 'collapseBtn732')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup732"><code class="language-python text-sm text-gray-800"># file generated by setuptools-scm
# don't change, don't track in version control

__all__ = [
    &quot;__version__&quot;,
    &quot;__version_tuple__&quot;,
    &quot;version&quot;,
    &quot;version_tuple&quot;,
    &quot;__commit_id__&quot;,
    &quot;commit_id&quot;,
]

TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple
    from typing import Union

    VERSION_TUPLE = Tuple[Union[int, str], ...]
    COMMIT_ID = Union[str, None]
else:
    VERSION_TUPLE = object
    COMMIT_ID = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE
commit_id: COMMIT_ID
__commit_id__: COMMIT_ID

__version__ = version = '4.5.0'
__version_tuple__ = version_tuple = (4, 5, 0)

__commit_id__ = commit_id = None</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/unix.py (Line 1:1 - Line 272:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/unix.py (Line 1:1 - Line 272:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn733" onclick="toggleCodeBlock('cloneGroup733', 'expandBtn733', 'collapseBtn733')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn733" onclick="toggleCodeBlock('cloneGroup733', 'expandBtn733', 'collapseBtn733')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup733"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;Unix.&quot;&quot;&quot;

from __future__ import annotations

import os
import sys
from configparser import ConfigParser
from pathlib import Path
from typing import TYPE_CHECKING, NoReturn

from .api import PlatformDirsABC

if TYPE_CHECKING:
    from collections.abc import Iterator

if sys.platform == &quot;win32&quot;:

    def getuid() -&gt; NoReturn:
        msg = &quot;should only be used on Unix&quot;
        raise RuntimeError(msg)

else:
    from os import getuid


class Unix(PlatformDirsABC):  # noqa: PLR0904
    &quot;&quot;&quot;
    On Unix/Linux, we follow the `XDG Basedir Spec &lt;https://specifications.freedesktop.org/basedir-spec/basedir-spec-
    latest.html&gt;`_.

    The spec allows overriding directories with environment variables. The examples shown are the default values,
    alongside the name of the environment variable that overrides them. Makes use of the `appname
    &lt;platformdirs.api.PlatformDirsABC.appname&gt;`, `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`, `multipath
    &lt;platformdirs.api.PlatformDirsABC.multipath&gt;`, `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`, `ensure_exists
    &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.

    &quot;&quot;&quot;

    @property
    def user_data_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: data directory tied to the user, e.g. ``~/.local/share/$appname/$version`` or
         ``$XDG_DATA_HOME/$appname/$version``
        &quot;&quot;&quot;
        path = os.environ.get(&quot;XDG_DATA_HOME&quot;, &quot;&quot;)
        if not path.strip():
            path = os.path.expanduser(&quot;~/.local/share&quot;)  # noqa: PTH111
        return self._append_app_name_and_version(path)

    @property
    def _site_data_dirs(self) -&gt; list[str]:
        path = os.environ.get(&quot;XDG_DATA_DIRS&quot;, &quot;&quot;)
        if not path.strip():
            path = f&quot;/usr/local/share{os.pathsep}/usr/share&quot;
        return [self._append_app_name_and_version(p) for p in path.split(os.pathsep)]

    @property
    def site_data_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: data directories shared by users (if `multipath &lt;platformdirs.api.PlatformDirsABC.multipath&gt;` is
         enabled and ``XDG_DATA_DIRS`` is set and a multi path the response is also a multi path separated by the
         OS path separator), e.g. ``/usr/local/share/$appname/$version`` or ``/usr/share/$appname/$version``
        &quot;&quot;&quot;
        # XDG default for $XDG_DATA_DIRS; only first, if multipath is False
        dirs = self._site_data_dirs
        if not self.multipath:
            return dirs[0]
        return os.pathsep.join(dirs)

    @property
    def user_config_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: config directory tied to the user, e.g. ``~/.config/$appname/$version`` or
         ``$XDG_CONFIG_HOME/$appname/$version``
        &quot;&quot;&quot;
        path = os.environ.get(&quot;XDG_CONFIG_HOME&quot;, &quot;&quot;)
        if not path.strip():
            path = os.path.expanduser(&quot;~/.config&quot;)  # noqa: PTH111
        return self._append_app_name_and_version(path)

    @property
    def _site_config_dirs(self) -&gt; list[str]:
        path = os.environ.get(&quot;XDG_CONFIG_DIRS&quot;, &quot;&quot;)
        if not path.strip():
            path = &quot;/etc/xdg&quot;
        return [self._append_app_name_and_version(p) for p in path.split(os.pathsep)]

    @property
    def site_config_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: config directories shared by users (if `multipath &lt;platformdirs.api.PlatformDirsABC.multipath&gt;`
         is enabled and ``XDG_CONFIG_DIRS`` is set and a multi path the response is also a multi path separated by
         the OS path separator), e.g. ``/etc/xdg/$appname/$version``
        &quot;&quot;&quot;
        # XDG default for $XDG_CONFIG_DIRS only first, if multipath is False
        dirs = self._site_config_dirs
        if not self.multipath:
            return dirs[0]
        return os.pathsep.join(dirs)

    @property
    def user_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: cache directory tied to the user, e.g. ``~/.cache/$appname/$version`` or
         ``~/$XDG_CACHE_HOME/$appname/$version``
        &quot;&quot;&quot;
        path = os.environ.get(&quot;XDG_CACHE_HOME&quot;, &quot;&quot;)
        if not path.strip():
            path = os.path.expanduser(&quot;~/.cache&quot;)  # noqa: PTH111
        return self._append_app_name_and_version(path)

    @property
    def site_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory shared by users, e.g. ``/var/cache/$appname/$version``&quot;&quot;&quot;
        return self._append_app_name_and_version(&quot;/var/cache&quot;)

    @property
    def user_state_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: state directory tied to the user, e.g. ``~/.local/state/$appname/$version`` or
         ``$XDG_STATE_HOME/$appname/$version``
        &quot;&quot;&quot;
        path = os.environ.get(&quot;XDG_STATE_HOME&quot;, &quot;&quot;)
        if not path.strip():
            path = os.path.expanduser(&quot;~/.local/state&quot;)  # noqa: PTH111
        return self._append_app_name_and_version(path)

    @property
    def user_log_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: log directory tied to the user, same as `user_state_dir` if not opinionated else ``log`` in it&quot;&quot;&quot;
        path = self.user_state_dir
        if self.opinion:
            path = os.path.join(path, &quot;log&quot;)  # noqa: PTH118
            self._optionally_create_directory(path)
        return path

    @property
    def user_documents_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: documents directory tied to the user, e.g. ``~/Documents``&quot;&quot;&quot;
        return _get_user_media_dir(&quot;XDG_DOCUMENTS_DIR&quot;, &quot;~/Documents&quot;)

    @property
    def user_downloads_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: downloads directory tied to the user, e.g. ``~/Downloads``&quot;&quot;&quot;
        return _get_user_media_dir(&quot;XDG_DOWNLOAD_DIR&quot;, &quot;~/Downloads&quot;)

    @property
    def user_pictures_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: pictures directory tied to the user, e.g. ``~/Pictures``&quot;&quot;&quot;
        return _get_user_media_dir(&quot;XDG_PICTURES_DIR&quot;, &quot;~/Pictures&quot;)

    @property
    def user_videos_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: videos directory tied to the user, e.g. ``~/Videos``&quot;&quot;&quot;
        return _get_user_media_dir(&quot;XDG_VIDEOS_DIR&quot;, &quot;~/Videos&quot;)

    @property
    def user_music_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: music directory tied to the user, e.g. ``~/Music``&quot;&quot;&quot;
        return _get_user_media_dir(&quot;XDG_MUSIC_DIR&quot;, &quot;~/Music&quot;)

    @property
    def user_desktop_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: desktop directory tied to the user, e.g. ``~/Desktop``&quot;&quot;&quot;
        return _get_user_media_dir(&quot;XDG_DESKTOP_DIR&quot;, &quot;~/Desktop&quot;)

    @property
    def user_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: runtime directory tied to the user, e.g. ``/run/user/$(id -u)/$appname/$version`` or
         ``$XDG_RUNTIME_DIR/$appname/$version``.

         For FreeBSD/OpenBSD/NetBSD, it would return ``/var/run/user/$(id -u)/$appname/$version`` if
         exists, otherwise ``/tmp/runtime-$(id -u)/$appname/$version``, if``$XDG_RUNTIME_DIR``
         is not set.
        &quot;&quot;&quot;
        path = os.environ.get(&quot;XDG_RUNTIME_DIR&quot;, &quot;&quot;)
        if not path.strip():
            if sys.platform.startswith((&quot;freebsd&quot;, &quot;openbsd&quot;, &quot;netbsd&quot;)):
                path = f&quot;/var/run/user/{getuid()}&quot;
                if not Path(path).exists():
                    path = f&quot;/tmp/runtime-{getuid()}&quot;  # noqa: S108
            else:
                path = f&quot;/run/user/{getuid()}&quot;
        return self._append_app_name_and_version(path)

    @property
    def site_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: runtime directory shared by users, e.g. ``/run/$appname/$version`` or \
        ``$XDG_RUNTIME_DIR/$appname/$version``.

        Note that this behaves almost exactly like `user_runtime_dir` if ``$XDG_RUNTIME_DIR`` is set, but will
        fall back to paths associated to the root user instead of a regular logged-in user if it's not set.

        If you wish to ensure that a logged-in root user path is returned e.g. ``/run/user/0``, use `user_runtime_dir`
        instead.

        For FreeBSD/OpenBSD/NetBSD, it would return ``/var/run/$appname/$version`` if ``$XDG_RUNTIME_DIR`` is not set.
        &quot;&quot;&quot;
        path = os.environ.get(&quot;XDG_RUNTIME_DIR&quot;, &quot;&quot;)
        if not path.strip():
            if sys.platform.startswith((&quot;freebsd&quot;, &quot;openbsd&quot;, &quot;netbsd&quot;)):
                path = &quot;/var/run&quot;
            else:
                path = &quot;/run&quot;
        return self._append_app_name_and_version(path)

    @property
    def site_data_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: data path shared by users. Only return the first item, even if ``multipath`` is set to ``True``&quot;&quot;&quot;
        return self._first_item_as_path_if_multipath(self.site_data_dir)

    @property
    def site_config_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: config path shared by the users, returns the first item, even if ``multipath`` is set to ``True``&quot;&quot;&quot;
        return self._first_item_as_path_if_multipath(self.site_config_dir)

    @property
    def site_cache_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: cache path shared by users. Only return the first item, even if ``multipath`` is set to ``True``&quot;&quot;&quot;
        return self._first_item_as_path_if_multipath(self.site_cache_dir)

    def iter_config_dirs(self) -&gt; Iterator[str]:
        &quot;&quot;&quot;:yield: all user and site configuration directories.&quot;&quot;&quot;
        yield self.user_config_dir
        yield from self._site_config_dirs

    def iter_data_dirs(self) -&gt; Iterator[str]:
        &quot;&quot;&quot;:yield: all user and site data directories.&quot;&quot;&quot;
        yield self.user_data_dir
        yield from self._site_data_dirs


def _get_user_media_dir(env_var: str, fallback_tilde_path: str) -&gt; str:
    media_dir = _get_user_dirs_folder(env_var)
    if media_dir is None:
        media_dir = os.environ.get(env_var, &quot;&quot;).strip()
        if not media_dir:
            media_dir = os.path.expanduser(fallback_tilde_path)  # noqa: PTH111

    return media_dir


def _get_user_dirs_folder(key: str) -&gt; str | None:
    &quot;&quot;&quot;
    Return directory from user-dirs.dirs config file.

    See https://freedesktop.org/wiki/Software/xdg-user-dirs/.

    &quot;&quot;&quot;
    user_dirs_config_path = Path(Unix().user_config_dir) / &quot;user-dirs.dirs&quot;
    if user_dirs_config_path.exists():
        parser = ConfigParser()

        with user_dirs_config_path.open() as stream:
            # Add fake section header, so ConfigParser doesn't complain
            parser.read_string(f&quot;[top]\n{stream.read()}&quot;)

        if key not in parser[&quot;top&quot;]:
            return None

        path = parser[&quot;top&quot;][key].strip('&quot;')
        # Handle relative home paths
        return path.replace(&quot;$HOME&quot;, os.path.expanduser(&quot;~&quot;))  # noqa: PTH111

    return None


__all__ = [
    &quot;Unix&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/macos.py (Line 1:1 - Line 146:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/macos.py (Line 1:1 - Line 146:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn734" onclick="toggleCodeBlock('cloneGroup734', 'expandBtn734', 'collapseBtn734')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn734" onclick="toggleCodeBlock('cloneGroup734', 'expandBtn734', 'collapseBtn734')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup734"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;macOS.&quot;&quot;&quot;

from __future__ import annotations

import os.path
import sys
from typing import TYPE_CHECKING

from .api import PlatformDirsABC

if TYPE_CHECKING:
    from pathlib import Path


class MacOS(PlatformDirsABC):
    &quot;&quot;&quot;
    Platform directories for the macOS operating system.

    Follows the guidance from
    `Apple documentation &lt;https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/MacOSXDirectories/MacOSXDirectories.html&gt;`_.
    Makes use of the `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`,
    `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`,
    `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.

    &quot;&quot;&quot;

    @property
    def user_data_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: data directory tied to the user, e.g. ``~/Library/Application Support/$appname/$version``&quot;&quot;&quot;
        return self._append_app_name_and_version(os.path.expanduser(&quot;~/Library/Application Support&quot;))  # noqa: PTH111

    @property
    def site_data_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: data directory shared by users, e.g. ``/Library/Application Support/$appname/$version``.
          If we're using a Python binary managed by `Homebrew &lt;https://brew.sh&gt;`_, the directory
          will be under the Homebrew prefix, e.g. ``$homebrew_prefix/share/$appname/$version``.
          If `multipath &lt;platformdirs.api.PlatformDirsABC.multipath&gt;` is enabled, and we're in Homebrew,
          the response is a multi-path string separated by &quot;:&quot;, e.g.
          ``$homebrew_prefix/share/$appname/$version:/Library/Application Support/$appname/$version``
        &quot;&quot;&quot;
        is_homebrew = &quot;/opt/python&quot; in sys.prefix
        homebrew_prefix = sys.prefix.split(&quot;/opt/python&quot;)[0] if is_homebrew else &quot;&quot;
        path_list = [self._append_app_name_and_version(f&quot;{homebrew_prefix}/share&quot;)] if is_homebrew else []
        path_list.append(self._append_app_name_and_version(&quot;/Library/Application Support&quot;))
        if self.multipath:
            return os.pathsep.join(path_list)
        return path_list[0]

    @property
    def site_data_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: data path shared by users. Only return the first item, even if ``multipath`` is set to ``True``&quot;&quot;&quot;
        return self._first_item_as_path_if_multipath(self.site_data_dir)

    @property
    def user_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory tied to the user, same as `user_data_dir`&quot;&quot;&quot;
        return self.user_data_dir

    @property
    def site_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory shared by the users, same as `site_data_dir`&quot;&quot;&quot;
        return self.site_data_dir

    @property
    def user_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory tied to the user, e.g. ``~/Library/Caches/$appname/$version``&quot;&quot;&quot;
        return self._append_app_name_and_version(os.path.expanduser(&quot;~/Library/Caches&quot;))  # noqa: PTH111

    @property
    def site_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: cache directory shared by users, e.g. ``/Library/Caches/$appname/$version``.
          If we're using a Python binary managed by `Homebrew &lt;https://brew.sh&gt;`_, the directory
          will be under the Homebrew prefix, e.g. ``$homebrew_prefix/var/cache/$appname/$version``.
          If `multipath &lt;platformdirs.api.PlatformDirsABC.multipath&gt;` is enabled, and we're in Homebrew,
          the response is a multi-path string separated by &quot;:&quot;, e.g.
          ``$homebrew_prefix/var/cache/$appname/$version:/Library/Caches/$appname/$version``
        &quot;&quot;&quot;
        is_homebrew = &quot;/opt/python&quot; in sys.prefix
        homebrew_prefix = sys.prefix.split(&quot;/opt/python&quot;)[0] if is_homebrew else &quot;&quot;
        path_list = [self._append_app_name_and_version(f&quot;{homebrew_prefix}/var/cache&quot;)] if is_homebrew else []
        path_list.append(self._append_app_name_and_version(&quot;/Library/Caches&quot;))
        if self.multipath:
            return os.pathsep.join(path_list)
        return path_list[0]

    @property
    def site_cache_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: cache path shared by users. Only return the first item, even if ``multipath`` is set to ``True``&quot;&quot;&quot;
        return self._first_item_as_path_if_multipath(self.site_cache_dir)

    @property
    def user_state_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: state directory tied to the user, same as `user_data_dir`&quot;&quot;&quot;
        return self.user_data_dir

    @property
    def user_log_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: log directory tied to the user, e.g. ``~/Library/Logs/$appname/$version``&quot;&quot;&quot;
        return self._append_app_name_and_version(os.path.expanduser(&quot;~/Library/Logs&quot;))  # noqa: PTH111

    @property
    def user_documents_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: documents directory tied to the user, e.g. ``~/Documents``&quot;&quot;&quot;
        return os.path.expanduser(&quot;~/Documents&quot;)  # noqa: PTH111

    @property
    def user_downloads_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: downloads directory tied to the user, e.g. ``~/Downloads``&quot;&quot;&quot;
        return os.path.expanduser(&quot;~/Downloads&quot;)  # noqa: PTH111

    @property
    def user_pictures_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: pictures directory tied to the user, e.g. ``~/Pictures``&quot;&quot;&quot;
        return os.path.expanduser(&quot;~/Pictures&quot;)  # noqa: PTH111

    @property
    def user_videos_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: videos directory tied to the user, e.g. ``~/Movies``&quot;&quot;&quot;
        return os.path.expanduser(&quot;~/Movies&quot;)  # noqa: PTH111

    @property
    def user_music_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: music directory tied to the user, e.g. ``~/Music``&quot;&quot;&quot;
        return os.path.expanduser(&quot;~/Music&quot;)  # noqa: PTH111

    @property
    def user_desktop_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: desktop directory tied to the user, e.g. ``~/Desktop``&quot;&quot;&quot;
        return os.path.expanduser(&quot;~/Desktop&quot;)  # noqa: PTH111

    @property
    def user_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: runtime directory tied to the user, e.g. ``~/Library/Caches/TemporaryItems/$appname/$version``&quot;&quot;&quot;
        return self._append_app_name_and_version(os.path.expanduser(&quot;~/Library/Caches/TemporaryItems&quot;))  # noqa: PTH111

    @property
    def site_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: runtime directory shared by users, same as `user_runtime_dir`&quot;&quot;&quot;
        return self.user_runtime_dir


__all__ = [
    &quot;MacOS&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/api.py (Line 1:1 - Line 299:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/api.py (Line 1:1 - Line 299:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn735" onclick="toggleCodeBlock('cloneGroup735', 'expandBtn735', 'collapseBtn735')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn735" onclick="toggleCodeBlock('cloneGroup735', 'expandBtn735', 'collapseBtn735')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup735"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;Base API.&quot;&quot;&quot;

from __future__ import annotations

import os
from abc import ABC, abstractmethod
from pathlib import Path
from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from collections.abc import Iterator
    from typing import Literal


class PlatformDirsABC(ABC):  # noqa: PLR0904
    &quot;&quot;&quot;Abstract base class for platform directories.&quot;&quot;&quot;

    def __init__(  # noqa: PLR0913, PLR0917
        self,
        appname: str | None = None,
        appauthor: str | Literal[False] | None = None,
        version: str | None = None,
        roaming: bool = False,  # noqa: FBT001, FBT002
        multipath: bool = False,  # noqa: FBT001, FBT002
        opinion: bool = True,  # noqa: FBT001, FBT002
        ensure_exists: bool = False,  # noqa: FBT001, FBT002
    ) -&gt; None:
        &quot;&quot;&quot;
        Create a new platform directory.

        :param appname: See `appname`.
        :param appauthor: See `appauthor`.
        :param version: See `version`.
        :param roaming: See `roaming`.
        :param multipath: See `multipath`.
        :param opinion: See `opinion`.
        :param ensure_exists: See `ensure_exists`.

        &quot;&quot;&quot;
        self.appname = appname  #: The name of application.
        self.appauthor = appauthor
        &quot;&quot;&quot;
        The name of the app author or distributing body for this application.

        Typically, it is the owning company name. Defaults to `appname`. You may pass ``False`` to disable it.

        &quot;&quot;&quot;
        self.version = version
        &quot;&quot;&quot;
        An optional version path element to append to the path.

        You might want to use this if you want multiple versions of your app to be able to run independently. If used,
        this would typically be ``&lt;major&gt;.&lt;minor&gt;``.

        &quot;&quot;&quot;
        self.roaming = roaming
        &quot;&quot;&quot;
        Whether to use the roaming appdata directory on Windows.

        That means that for users on a Windows network setup for roaming profiles, this user data will be synced on
        login (see
        `here &lt;https://technet.microsoft.com/en-us/library/cc766489(WS.10).aspx&gt;`_).

        &quot;&quot;&quot;
        self.multipath = multipath
        &quot;&quot;&quot;
        An optional parameter which indicates that the entire list of data dirs should be returned.

        By default, the first item would only be returned.

        &quot;&quot;&quot;
        self.opinion = opinion  #: A flag to indicating to use opinionated values.
        self.ensure_exists = ensure_exists
        &quot;&quot;&quot;
        Optionally create the directory (and any missing parents) upon access if it does not exist.

        By default, no directories are created.

        &quot;&quot;&quot;

    def _append_app_name_and_version(self, *base: str) -&gt; str:
        params = list(base[1:])
        if self.appname:
            params.append(self.appname)
            if self.version:
                params.append(self.version)
        path = os.path.join(base[0], *params)  # noqa: PTH118
        self._optionally_create_directory(path)
        return path

    def _optionally_create_directory(self, path: str) -&gt; None:
        if self.ensure_exists:
            Path(path).mkdir(parents=True, exist_ok=True)

    def _first_item_as_path_if_multipath(self, directory: str) -&gt; Path:
        if self.multipath:
            # If multipath is True, the first path is returned.
            directory = directory.partition(os.pathsep)[0]
        return Path(directory)

    @property
    @abstractmethod
    def user_data_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: data directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def site_data_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: data directory shared by users&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def site_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory shared by the users&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def site_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory shared by users&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_state_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: state directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_log_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: log directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_documents_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: documents directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_downloads_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: downloads directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_pictures_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: pictures directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_videos_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: videos directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_music_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: music directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_desktop_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: desktop directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def user_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: runtime directory tied to the user&quot;&quot;&quot;

    @property
    @abstractmethod
    def site_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: runtime directory shared by users&quot;&quot;&quot;

    @property
    def user_data_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: data path tied to the user&quot;&quot;&quot;
        return Path(self.user_data_dir)

    @property
    def site_data_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: data path shared by users&quot;&quot;&quot;
        return Path(self.site_data_dir)

    @property
    def user_config_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: config path tied to the user&quot;&quot;&quot;
        return Path(self.user_config_dir)

    @property
    def site_config_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: config path shared by the users&quot;&quot;&quot;
        return Path(self.site_config_dir)

    @property
    def user_cache_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: cache path tied to the user&quot;&quot;&quot;
        return Path(self.user_cache_dir)

    @property
    def site_cache_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: cache path shared by users&quot;&quot;&quot;
        return Path(self.site_cache_dir)

    @property
    def user_state_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: state path tied to the user&quot;&quot;&quot;
        return Path(self.user_state_dir)

    @property
    def user_log_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: log path tied to the user&quot;&quot;&quot;
        return Path(self.user_log_dir)

    @property
    def user_documents_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: documents a path tied to the user&quot;&quot;&quot;
        return Path(self.user_documents_dir)

    @property
    def user_downloads_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: downloads path tied to the user&quot;&quot;&quot;
        return Path(self.user_downloads_dir)

    @property
    def user_pictures_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: pictures path tied to the user&quot;&quot;&quot;
        return Path(self.user_pictures_dir)

    @property
    def user_videos_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: videos path tied to the user&quot;&quot;&quot;
        return Path(self.user_videos_dir)

    @property
    def user_music_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: music path tied to the user&quot;&quot;&quot;
        return Path(self.user_music_dir)

    @property
    def user_desktop_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: desktop path tied to the user&quot;&quot;&quot;
        return Path(self.user_desktop_dir)

    @property
    def user_runtime_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: runtime path tied to the user&quot;&quot;&quot;
        return Path(self.user_runtime_dir)

    @property
    def site_runtime_path(self) -&gt; Path:
        &quot;&quot;&quot;:return: runtime path shared by users&quot;&quot;&quot;
        return Path(self.site_runtime_dir)

    def iter_config_dirs(self) -&gt; Iterator[str]:
        &quot;&quot;&quot;:yield: all user and site configuration directories.&quot;&quot;&quot;
        yield self.user_config_dir
        yield self.site_config_dir

    def iter_data_dirs(self) -&gt; Iterator[str]:
        &quot;&quot;&quot;:yield: all user and site data directories.&quot;&quot;&quot;
        yield self.user_data_dir
        yield self.site_data_dir

    def iter_cache_dirs(self) -&gt; Iterator[str]:
        &quot;&quot;&quot;:yield: all user and site cache directories.&quot;&quot;&quot;
        yield self.user_cache_dir
        yield self.site_cache_dir

    def iter_runtime_dirs(self) -&gt; Iterator[str]:
        &quot;&quot;&quot;:yield: all user and site runtime directories.&quot;&quot;&quot;
        yield self.user_runtime_dir
        yield self.site_runtime_dir

    def iter_config_paths(self) -&gt; Iterator[Path]:
        &quot;&quot;&quot;:yield: all user and site configuration paths.&quot;&quot;&quot;
        for path in self.iter_config_dirs():
            yield Path(path)

    def iter_data_paths(self) -&gt; Iterator[Path]:
        &quot;&quot;&quot;:yield: all user and site data paths.&quot;&quot;&quot;
        for path in self.iter_data_dirs():
            yield Path(path)

    def iter_cache_paths(self) -&gt; Iterator[Path]:
        &quot;&quot;&quot;:yield: all user and site cache paths.&quot;&quot;&quot;
        for path in self.iter_cache_dirs():
            yield Path(path)

    def iter_runtime_paths(self) -&gt; Iterator[Path]:
        &quot;&quot;&quot;:yield: all user and site runtime paths.&quot;&quot;&quot;
        for path in self.iter_runtime_dirs():
            yield Path(path)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/android.py (Line 1:1 - Line 249:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/android.py (Line 1:1 - Line 249:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn736" onclick="toggleCodeBlock('cloneGroup736', 'expandBtn736', 'collapseBtn736')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn736" onclick="toggleCodeBlock('cloneGroup736', 'expandBtn736', 'collapseBtn736')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup736"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;Android.&quot;&quot;&quot;

from __future__ import annotations

import os
import re
import sys
from functools import lru_cache
from typing import TYPE_CHECKING, cast

from .api import PlatformDirsABC


class Android(PlatformDirsABC):
    &quot;&quot;&quot;
    Follows the guidance `from here &lt;https://android.stackexchange.com/a/216132&gt;`_.

    Makes use of the `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`, `version
    &lt;platformdirs.api.PlatformDirsABC.version&gt;`, `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.

    &quot;&quot;&quot;

    @property
    def user_data_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: data directory tied to the user, e.g. ``/data/user/&lt;userid&gt;/&lt;packagename&gt;/files/&lt;AppName&gt;``&quot;&quot;&quot;
        return self._append_app_name_and_version(cast(&quot;str&quot;, _android_folder()), &quot;files&quot;)

    @property
    def site_data_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: data directory shared by users, same as `user_data_dir`&quot;&quot;&quot;
        return self.user_data_dir

    @property
    def user_config_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: config directory tied to the user, e.g. \
        ``/data/user/&lt;userid&gt;/&lt;packagename&gt;/shared_prefs/&lt;AppName&gt;``
        &quot;&quot;&quot;
        return self._append_app_name_and_version(cast(&quot;str&quot;, _android_folder()), &quot;shared_prefs&quot;)

    @property
    def site_config_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: config directory shared by the users, same as `user_config_dir`&quot;&quot;&quot;
        return self.user_config_dir

    @property
    def user_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory tied to the user, e.g.,``/data/user/&lt;userid&gt;/&lt;packagename&gt;/cache/&lt;AppName&gt;``&quot;&quot;&quot;
        return self._append_app_name_and_version(cast(&quot;str&quot;, _android_folder()), &quot;cache&quot;)

    @property
    def site_cache_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: cache directory shared by users, same as `user_cache_dir`&quot;&quot;&quot;
        return self.user_cache_dir

    @property
    def user_state_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: state directory tied to the user, same as `user_data_dir`&quot;&quot;&quot;
        return self.user_data_dir

    @property
    def user_log_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: log directory tied to the user, same as `user_cache_dir` if not opinionated else ``log`` in it,
          e.g. ``/data/user/&lt;userid&gt;/&lt;packagename&gt;/cache/&lt;AppName&gt;/log``
        &quot;&quot;&quot;
        path = self.user_cache_dir
        if self.opinion:
            path = os.path.join(path, &quot;log&quot;)  # noqa: PTH118
        return path

    @property
    def user_documents_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: documents directory tied to the user e.g. ``/storage/emulated/0/Documents``&quot;&quot;&quot;
        return _android_documents_folder()

    @property
    def user_downloads_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: downloads directory tied to the user e.g. ``/storage/emulated/0/Downloads``&quot;&quot;&quot;
        return _android_downloads_folder()

    @property
    def user_pictures_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: pictures directory tied to the user e.g. ``/storage/emulated/0/Pictures``&quot;&quot;&quot;
        return _android_pictures_folder()

    @property
    def user_videos_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: videos directory tied to the user e.g. ``/storage/emulated/0/DCIM/Camera``&quot;&quot;&quot;
        return _android_videos_folder()

    @property
    def user_music_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: music directory tied to the user e.g. ``/storage/emulated/0/Music``&quot;&quot;&quot;
        return _android_music_folder()

    @property
    def user_desktop_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: desktop directory tied to the user e.g. ``/storage/emulated/0/Desktop``&quot;&quot;&quot;
        return &quot;/storage/emulated/0/Desktop&quot;

    @property
    def user_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;
        :return: runtime directory tied to the user, same as `user_cache_dir` if not opinionated else ``tmp`` in it,
          e.g. ``/data/user/&lt;userid&gt;/&lt;packagename&gt;/cache/&lt;AppName&gt;/tmp``
        &quot;&quot;&quot;
        path = self.user_cache_dir
        if self.opinion:
            path = os.path.join(path, &quot;tmp&quot;)  # noqa: PTH118
        return path

    @property
    def site_runtime_dir(self) -&gt; str:
        &quot;&quot;&quot;:return: runtime directory shared by users, same as `user_runtime_dir`&quot;&quot;&quot;
        return self.user_runtime_dir


@lru_cache(maxsize=1)
def _android_folder() -&gt; str | None:  # noqa: C901
    &quot;&quot;&quot;:return: base folder for the Android OS or None if it cannot be found&quot;&quot;&quot;
    result: str | None = None
    # type checker isn't happy with our &quot;import android&quot;, just don't do this when type checking see
    # https://stackoverflow.com/a/61394121
    if not TYPE_CHECKING:
        try:
            # First try to get a path to android app using python4android (if available)...
            from android import mActivity  # noqa: PLC0415

            context = cast(&quot;android.content.Context&quot;, mActivity.getApplicationContext())  # noqa: F821
            result = context.getFilesDir().getParentFile().getAbsolutePath()
        except Exception:  # noqa: BLE001
            result = None
    if result is None:
        try:
            # ...and fall back to using plain pyjnius, if python4android isn't available or doesn't deliver any useful
            # result...
            from jnius import autoclass  # noqa: PLC0415

            context = autoclass(&quot;android.content.Context&quot;)
            result = context.getFilesDir().getParentFile().getAbsolutePath()
        except Exception:  # noqa: BLE001
            result = None
    if result is None:
        # and if that fails, too, find an android folder looking at path on the sys.path
        # warning: only works for apps installed under /data, not adopted storage etc.
        pattern = re.compile(r&quot;/data/(data|user/\d+)/(.+)/files&quot;)
        for path in sys.path:
            if pattern.match(path):
                result = path.split(&quot;/files&quot;)[0]
                break
        else:
            result = None
    if result is None:
        # one last try: find an android folder looking at path on the sys.path taking adopted storage paths into
        # account
        pattern = re.compile(r&quot;/mnt/expand/[a-fA-F0-9-]{36}/(data|user/\d+)/(.+)/files&quot;)
        for path in sys.path:
            if pattern.match(path):
                result = path.split(&quot;/files&quot;)[0]
                break
        else:
            result = None
    return result


@lru_cache(maxsize=1)
def _android_documents_folder() -&gt; str:
    &quot;&quot;&quot;:return: documents folder for the Android OS&quot;&quot;&quot;
    # Get directories with pyjnius
    try:
        from jnius import autoclass  # noqa: PLC0415

        context = autoclass(&quot;android.content.Context&quot;)
        environment = autoclass(&quot;android.os.Environment&quot;)
        documents_dir: str = context.getExternalFilesDir(environment.DIRECTORY_DOCUMENTS).getAbsolutePath()
    except Exception:  # noqa: BLE001
        documents_dir = &quot;/storage/emulated/0/Documents&quot;

    return documents_dir


@lru_cache(maxsize=1)
def _android_downloads_folder() -&gt; str:
    &quot;&quot;&quot;:return: downloads folder for the Android OS&quot;&quot;&quot;
    # Get directories with pyjnius
    try:
        from jnius import autoclass  # noqa: PLC0415

        context = autoclass(&quot;android.content.Context&quot;)
        environment = autoclass(&quot;android.os.Environment&quot;)
        downloads_dir: str = context.getExternalFilesDir(environment.DIRECTORY_DOWNLOADS).getAbsolutePath()
    except Exception:  # noqa: BLE001
        downloads_dir = &quot;/storage/emulated/0/Downloads&quot;

    return downloads_dir


@lru_cache(maxsize=1)
def _android_pictures_folder() -&gt; str:
    &quot;&quot;&quot;:return: pictures folder for the Android OS&quot;&quot;&quot;
    # Get directories with pyjnius
    try:
        from jnius import autoclass  # noqa: PLC0415

        context = autoclass(&quot;android.content.Context&quot;)
        environment = autoclass(&quot;android.os.Environment&quot;)
        pictures_dir: str = context.getExternalFilesDir(environment.DIRECTORY_PICTURES).getAbsolutePath()
    except Exception:  # noqa: BLE001
        pictures_dir = &quot;/storage/emulated/0/Pictures&quot;

    return pictures_dir


@lru_cache(maxsize=1)
def _android_videos_folder() -&gt; str:
    &quot;&quot;&quot;:return: videos folder for the Android OS&quot;&quot;&quot;
    # Get directories with pyjnius
    try:
        from jnius import autoclass  # noqa: PLC0415

        context = autoclass(&quot;android.content.Context&quot;)
        environment = autoclass(&quot;android.os.Environment&quot;)
        videos_dir: str = context.getExternalFilesDir(environment.DIRECTORY_DCIM).getAbsolutePath()
    except Exception:  # noqa: BLE001
        videos_dir = &quot;/storage/emulated/0/DCIM/Camera&quot;

    return videos_dir


@lru_cache(maxsize=1)
def _android_music_folder() -&gt; str:
    &quot;&quot;&quot;:return: music folder for the Android OS&quot;&quot;&quot;
    # Get directories with pyjnius
    try:
        from jnius import autoclass  # noqa: PLC0415

        context = autoclass(&quot;android.content.Context&quot;)
        environment = autoclass(&quot;android.os.Environment&quot;)
        music_dir: str = context.getExternalFilesDir(environment.DIRECTORY_MUSIC).getAbsolutePath()
    except Exception:  # noqa: BLE001
        music_dir = &quot;/storage/emulated/0/Music&quot;

    return music_dir


__all__ = [
    &quot;Android&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/__main__.py (Line 5:2 - Line 55:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/__main__.py (Line 5:2 - Line 55:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn737" onclick="toggleCodeBlock('cloneGroup737', 'expandBtn737', 'collapseBtn737')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn737" onclick="toggleCodeBlock('cloneGroup737', 'expandBtn737', 'collapseBtn737')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup737"><code class="language-python text-sm text-gray-800">platformdirs import PlatformDirs, __version__

PROPS = (
    &quot;user_data_dir&quot;,
    &quot;user_config_dir&quot;,
    &quot;user_cache_dir&quot;,
    &quot;user_state_dir&quot;,
    &quot;user_log_dir&quot;,
    &quot;user_documents_dir&quot;,
    &quot;user_downloads_dir&quot;,
    &quot;user_pictures_dir&quot;,
    &quot;user_videos_dir&quot;,
    &quot;user_music_dir&quot;,
    &quot;user_runtime_dir&quot;,
    &quot;site_data_dir&quot;,
    &quot;site_config_dir&quot;,
    &quot;site_cache_dir&quot;,
    &quot;site_runtime_dir&quot;,
)


def main() -&gt; None:
    &quot;&quot;&quot;Run the main entry point.&quot;&quot;&quot;
    app_name = &quot;MyApp&quot;
    app_author = &quot;MyCompany&quot;

    print(f&quot;-- platformdirs {__version__} --&quot;)  # noqa: T201

    print(&quot;-- app dirs (with optional 'version')&quot;)  # noqa: T201
    dirs = PlatformDirs(app_name, app_author, version=&quot;1.0&quot;)
    for prop in PROPS:
        print(f&quot;{prop}: {getattr(dirs, prop)}&quot;)  # noqa: T201

    print(&quot;\n-- app dirs (without optional 'version')&quot;)  # noqa: T201
    dirs = PlatformDirs(app_name, app_author)
    for prop in PROPS:
        print(f&quot;{prop}: {getattr(dirs, prop)}&quot;)  # noqa: T201

    print(&quot;\n-- app dirs (without optional 'appauthor')&quot;)  # noqa: T201
    dirs = PlatformDirs(app_name)
    for prop in PROPS:
        print(f&quot;{prop}: {getattr(dirs, prop)}&quot;)  # noqa: T201

    print(&quot;\n-- app dirs (with disabled 'appauthor')&quot;)  # noqa: T201
    dirs = PlatformDirs(app_name, appauthor=False)
    for prop in PROPS:
        print(f&quot;{prop}: {getattr(dirs, prop)}&quot;)  # noqa: T201


if __name__ == &quot;__main__&quot;:
    main()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/platformdirs/__init__.py (Line 38:2 - Line 631:2), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/__init__.py (Line 38:2 - Line 631:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn738" onclick="toggleCodeBlock('cloneGroup738', 'expandBtn738', 'collapseBtn738')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn738" onclick="toggleCodeBlock('cloneGroup738', 'expandBtn738', 'collapseBtn738')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup738"><code class="language-python text-sm text-gray-800">platformdirs.android import Android  # noqa: PLC0415

            return Android  # return to avoid redefinition of a result

    return _Result


if TYPE_CHECKING:
    # Work around mypy issue: https://github.com/python/mypy/issues/10962
    PlatformDirs = _Result
else:
    PlatformDirs = _set_platform_dir_class()  #: Currently active platform
AppDirs = PlatformDirs  #: Backwards compatibility with appdirs


def user_data_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    roaming: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param roaming: See `roaming &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: data directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        roaming=roaming,
        ensure_exists=ensure_exists,
    ).user_data_dir


def site_data_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    multipath: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param multipath: See `roaming &lt;platformdirs.api.PlatformDirsABC.multipath&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: data directory shared by users
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        multipath=multipath,
        ensure_exists=ensure_exists,
    ).site_data_dir


def user_config_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    roaming: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param roaming: See `roaming &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: config directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        roaming=roaming,
        ensure_exists=ensure_exists,
    ).user_config_dir


def site_config_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    multipath: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param multipath: See `roaming &lt;platformdirs.api.PlatformDirsABC.multipath&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: config directory shared by the users
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        multipath=multipath,
        ensure_exists=ensure_exists,
    ).site_config_dir


def user_cache_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `roaming &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: cache directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).user_cache_dir


def site_cache_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: cache directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).site_cache_dir


def user_state_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    roaming: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param roaming: See `roaming &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: state directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        roaming=roaming,
        ensure_exists=ensure_exists,
    ).user_state_dir


def user_log_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `roaming &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: log directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).user_log_dir


def user_documents_dir() -&gt; str:
    &quot;&quot;&quot;:returns: documents directory tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_documents_dir


def user_downloads_dir() -&gt; str:
    &quot;&quot;&quot;:returns: downloads directory tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_downloads_dir


def user_pictures_dir() -&gt; str:
    &quot;&quot;&quot;:returns: pictures directory tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_pictures_dir


def user_videos_dir() -&gt; str:
    &quot;&quot;&quot;:returns: videos directory tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_videos_dir


def user_music_dir() -&gt; str:
    &quot;&quot;&quot;:returns: music directory tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_music_dir


def user_desktop_dir() -&gt; str:
    &quot;&quot;&quot;:returns: desktop directory tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_desktop_dir


def user_runtime_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: runtime directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).user_runtime_dir


def site_runtime_dir(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; str:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: runtime directory shared by users
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).site_runtime_dir


def user_data_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    roaming: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param roaming: See `roaming &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: data path tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        roaming=roaming,
        ensure_exists=ensure_exists,
    ).user_data_path


def site_data_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    multipath: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param multipath: See `multipath &lt;platformdirs.api.PlatformDirsABC.multipath&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: data path shared by users
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        multipath=multipath,
        ensure_exists=ensure_exists,
    ).site_data_path


def user_config_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    roaming: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param roaming: See `roaming &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: config path tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        roaming=roaming,
        ensure_exists=ensure_exists,
    ).user_config_path


def site_config_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    multipath: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param multipath: See `roaming &lt;platformdirs.api.PlatformDirsABC.multipath&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: config path shared by the users
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        multipath=multipath,
        ensure_exists=ensure_exists,
    ).site_config_path


def site_cache_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: cache directory tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).site_cache_path


def user_cache_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `roaming &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: cache path tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).user_cache_path


def user_state_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    roaming: bool = False,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param roaming: See `roaming &lt;platformdirs.api.PlatformDirsABC.roaming&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: state path tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        roaming=roaming,
        ensure_exists=ensure_exists,
    ).user_state_path


def user_log_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `roaming &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: log path tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).user_log_path


def user_documents_path() -&gt; Path:
    &quot;&quot;&quot;:returns: documents a path tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_documents_path


def user_downloads_path() -&gt; Path:
    &quot;&quot;&quot;:returns: downloads path tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_downloads_path


def user_pictures_path() -&gt; Path:
    &quot;&quot;&quot;:returns: pictures path tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_pictures_path


def user_videos_path() -&gt; Path:
    &quot;&quot;&quot;:returns: videos path tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_videos_path


def user_music_path() -&gt; Path:
    &quot;&quot;&quot;:returns: music path tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_music_path


def user_desktop_path() -&gt; Path:
    &quot;&quot;&quot;:returns: desktop path tied to the user&quot;&quot;&quot;
    return PlatformDirs().user_desktop_path


def user_runtime_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: runtime path tied to the user
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).user_runtime_path


def site_runtime_path(
    appname: str | None = None,
    appauthor: str | Literal[False] | None = None,
    version: str | None = None,
    opinion: bool = True,  # noqa: FBT001, FBT002
    ensure_exists: bool = False,  # noqa: FBT001, FBT002
) -&gt; Path:
    &quot;&quot;&quot;
    :param appname: See `appname &lt;platformdirs.api.PlatformDirsABC.appname&gt;`.
    :param appauthor: See `appauthor &lt;platformdirs.api.PlatformDirsABC.appauthor&gt;`.
    :param version: See `version &lt;platformdirs.api.PlatformDirsABC.version&gt;`.
    :param opinion: See `opinion &lt;platformdirs.api.PlatformDirsABC.opinion&gt;`.
    :param ensure_exists: See `ensure_exists &lt;platformdirs.api.PlatformDirsABC.ensure_exists&gt;`.
    :returns: runtime path shared by users
    &quot;&quot;&quot;
    return PlatformDirs(
        appname=appname,
        appauthor=appauthor,
        version=version,
        opinion=opinion,
        ensure_exists=ensure_exists,
    ).site_runtime_path


__all__ = [
    &quot;AppDirs&quot;,
    &quot;PlatformDirs&quot;,
    &quot;PlatformDirsABC&quot;,
    &quot;__version__&quot;,
    &quot;__version_info__&quot;,
    &quot;site_cache_dir&quot;,
    &quot;site_cache_path&quot;,
    &quot;site_config_dir&quot;,
    &quot;site_config_path&quot;,
    &quot;site_data_dir&quot;,
    &quot;site_data_path&quot;,
    &quot;site_runtime_dir&quot;,
    &quot;site_runtime_path&quot;,
    &quot;user_cache_dir&quot;,
    &quot;user_cache_path&quot;,
    &quot;user_config_dir&quot;,
    &quot;user_config_path&quot;,
    &quot;user_data_dir&quot;,
    &quot;user_data_path&quot;,
    &quot;user_desktop_dir&quot;,
    &quot;user_desktop_path&quot;,
    &quot;user_documents_dir&quot;,
    &quot;user_documents_path&quot;,
    &quot;user_downloads_dir&quot;,
    &quot;user_downloads_path&quot;,
    &quot;user_log_dir&quot;,
    &quot;user_log_path&quot;,
    &quot;user_music_dir&quot;,
    &quot;user_music_path&quot;,
    &quot;user_pictures_dir&quot;,
    &quot;user_pictures_path&quot;,
    &quot;user_runtime_dir&quot;,
    &quot;user_runtime_path&quot;,
    &quot;user_state_dir&quot;,
    &quot;user_state_path&quot;,
    &quot;user_videos_dir&quot;,
    &quot;user_videos_path&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/version.py (Line 10:1 - Line 582:7), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/version.py (Line 10:1 - Line 582:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn739" onclick="toggleCodeBlock('cloneGroup739', 'expandBtn739', 'collapseBtn739')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn739" onclick="toggleCodeBlock('cloneGroup739', 'expandBtn739', 'collapseBtn739')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup739"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import itertools
import re
from typing import Any, Callable, NamedTuple, SupportsInt, Tuple, Union

from ._structures import Infinity, InfinityType, NegativeInfinity, NegativeInfinityType

__all__ = [&quot;VERSION_PATTERN&quot;, &quot;InvalidVersion&quot;, &quot;Version&quot;, &quot;parse&quot;]

LocalType = Tuple[Union[int, str], ...]

CmpPrePostDevType = Union[InfinityType, NegativeInfinityType, Tuple[str, int]]
CmpLocalType = Union[
    NegativeInfinityType,
    Tuple[Union[Tuple[int, str], Tuple[NegativeInfinityType, Union[int, str]]], ...],
]
CmpKey = Tuple[
    int,
    Tuple[int, ...],
    CmpPrePostDevType,
    CmpPrePostDevType,
    CmpPrePostDevType,
    CmpLocalType,
]
VersionComparisonMethod = Callable[[CmpKey, CmpKey], bool]


class _Version(NamedTuple):
    epoch: int
    release: tuple[int, ...]
    dev: tuple[str, int] | None
    pre: tuple[str, int] | None
    post: tuple[str, int] | None
    local: LocalType | None


def parse(version: str) -&gt; Version:
    &quot;&quot;&quot;Parse the given version string.

    &gt;&gt;&gt; parse('1.0.dev1')
    &lt;Version('1.0.dev1')&gt;

    :param version: The version string to parse.
    :raises InvalidVersion: When the version string is not a valid version.
    &quot;&quot;&quot;
    return Version(version)


class InvalidVersion(ValueError):
    &quot;&quot;&quot;Raised when a version string is not a valid version.

    &gt;&gt;&gt; Version(&quot;invalid&quot;)
    Traceback (most recent call last):
        ...
    packaging.version.InvalidVersion: Invalid version: 'invalid'
    &quot;&quot;&quot;


class _BaseVersion:
    _key: tuple[Any, ...]

    def __hash__(self) -&gt; int:
        return hash(self._key)

    # Please keep the duplicated `isinstance` check
    # in the six comparisons hereunder
    # unless you find a way to avoid adding overhead function calls.
    def __lt__(self, other: _BaseVersion) -&gt; bool:
        if not isinstance(other, _BaseVersion):
            return NotImplemented

        return self._key &lt; other._key

    def __le__(self, other: _BaseVersion) -&gt; bool:
        if not isinstance(other, _BaseVersion):
            return NotImplemented

        return self._key &lt;= other._key

    def __eq__(self, other: object) -&gt; bool:
        if not isinstance(other, _BaseVersion):
            return NotImplemented

        return self._key == other._key

    def __ge__(self, other: _BaseVersion) -&gt; bool:
        if not isinstance(other, _BaseVersion):
            return NotImplemented

        return self._key &gt;= other._key

    def __gt__(self, other: _BaseVersion) -&gt; bool:
        if not isinstance(other, _BaseVersion):
            return NotImplemented

        return self._key &gt; other._key

    def __ne__(self, other: object) -&gt; bool:
        if not isinstance(other, _BaseVersion):
            return NotImplemented

        return self._key != other._key


# Deliberately not anchored to the start and end of the string, to make it
# easier for 3rd party code to reuse
_VERSION_PATTERN = r&quot;&quot;&quot;
    v?
    (?:
        (?:(?P&lt;epoch&gt;[0-9]+)!)?                           # epoch
        (?P&lt;release&gt;[0-9]+(?:\.[0-9]+)*)                  # release segment
        (?P&lt;pre&gt;                                          # pre-release
            [-_\.]?
            (?P&lt;pre_l&gt;alpha|a|beta|b|preview|pre|c|rc)
            [-_\.]?
            (?P&lt;pre_n&gt;[0-9]+)?
        )?
        (?P&lt;post&gt;                                         # post release
            (?:-(?P&lt;post_n1&gt;[0-9]+))
            |
            (?:
                [-_\.]?
                (?P&lt;post_l&gt;post|rev|r)
                [-_\.]?
                (?P&lt;post_n2&gt;[0-9]+)?
            )
        )?
        (?P&lt;dev&gt;                                          # dev release
            [-_\.]?
            (?P&lt;dev_l&gt;dev)
            [-_\.]?
            (?P&lt;dev_n&gt;[0-9]+)?
        )?
    )
    (?:\+(?P&lt;local&gt;[a-z0-9]+(?:[-_\.][a-z0-9]+)*))?       # local version
&quot;&quot;&quot;

VERSION_PATTERN = _VERSION_PATTERN
&quot;&quot;&quot;
A string containing the regular expression used to match a valid version.

The pattern is not anchored at either end, and is intended for embedding in larger
expressions (for example, matching a version number as part of a file name). The
regular expression should be compiled with the ``re.VERBOSE`` and ``re.IGNORECASE``
flags set.

:meta hide-value:
&quot;&quot;&quot;


class Version(_BaseVersion):
    &quot;&quot;&quot;This class abstracts handling of a project's versions.

    A :class:`Version` instance is comparison aware and can be compared and
    sorted using the standard Python interfaces.

    &gt;&gt;&gt; v1 = Version(&quot;1.0a5&quot;)
    &gt;&gt;&gt; v2 = Version(&quot;1.0&quot;)
    &gt;&gt;&gt; v1
    &lt;Version('1.0a5')&gt;
    &gt;&gt;&gt; v2
    &lt;Version('1.0')&gt;
    &gt;&gt;&gt; v1 &lt; v2
    True
    &gt;&gt;&gt; v1 == v2
    False
    &gt;&gt;&gt; v1 &gt; v2
    False
    &gt;&gt;&gt; v1 &gt;= v2
    False
    &gt;&gt;&gt; v1 &lt;= v2
    True
    &quot;&quot;&quot;

    _regex = re.compile(r&quot;^\s*&quot; + VERSION_PATTERN + r&quot;\s*$&quot;, re.VERBOSE | re.IGNORECASE)
    _key: CmpKey

    def __init__(self, version: str) -&gt; None:
        &quot;&quot;&quot;Initialize a Version object.

        :param version:
            The string representation of a version which will be parsed and normalized
            before use.
        :raises InvalidVersion:
            If the ``version`` does not conform to PEP 440 in any way then this
            exception will be raised.
        &quot;&quot;&quot;

        # Validate the version and parse it into pieces
        match = self._regex.search(version)
        if not match:
            raise InvalidVersion(f&quot;Invalid version: {version!r}&quot;)

        # Store the parsed out pieces of the version
        self._version = _Version(
            epoch=int(match.group(&quot;epoch&quot;)) if match.group(&quot;epoch&quot;) else 0,
            release=tuple(int(i) for i in match.group(&quot;release&quot;).split(&quot;.&quot;)),
            pre=_parse_letter_version(match.group(&quot;pre_l&quot;), match.group(&quot;pre_n&quot;)),
            post=_parse_letter_version(
                match.group(&quot;post_l&quot;), match.group(&quot;post_n1&quot;) or match.group(&quot;post_n2&quot;)
            ),
            dev=_parse_letter_version(match.group(&quot;dev_l&quot;), match.group(&quot;dev_n&quot;)),
            local=_parse_local_version(match.group(&quot;local&quot;)),
        )

        # Generate a key which will be used for sorting
        self._key = _cmpkey(
            self._version.epoch,
            self._version.release,
            self._version.pre,
            self._version.post,
            self._version.dev,
            self._version.local,
        )

    def __repr__(self) -&gt; str:
        &quot;&quot;&quot;A representation of the Version that shows all internal state.

        &gt;&gt;&gt; Version('1.0.0')
        &lt;Version('1.0.0')&gt;
        &quot;&quot;&quot;
        return f&quot;&lt;Version('{self}')&gt;&quot;

    def __str__(self) -&gt; str:
        &quot;&quot;&quot;A string representation of the version that can be round-tripped.

        &gt;&gt;&gt; str(Version(&quot;1.0a5&quot;))
        '1.0a5'
        &quot;&quot;&quot;
        parts = []

        # Epoch
        if self.epoch != 0:
            parts.append(f&quot;{self.epoch}!&quot;)

        # Release segment
        parts.append(&quot;.&quot;.join(str(x) for x in self.release))

        # Pre-release
        if self.pre is not None:
            parts.append(&quot;&quot;.join(str(x) for x in self.pre))

        # Post-release
        if self.post is not None:
            parts.append(f&quot;.post{self.post}&quot;)

        # Development release
        if self.dev is not None:
            parts.append(f&quot;.dev{self.dev}&quot;)

        # Local version segment
        if self.local is not None:
            parts.append(f&quot;+{self.local}&quot;)

        return &quot;&quot;.join(parts)

    @property
    def epoch(self) -&gt; int:
        &quot;&quot;&quot;The epoch of the version.

        &gt;&gt;&gt; Version(&quot;2.0.0&quot;).epoch
        0
        &gt;&gt;&gt; Version(&quot;1!2.0.0&quot;).epoch
        1
        &quot;&quot;&quot;
        return self._version.epoch

    @property
    def release(self) -&gt; tuple[int, ...]:
        &quot;&quot;&quot;The components of the &quot;release&quot; segment of the version.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).release
        (1, 2, 3)
        &gt;&gt;&gt; Version(&quot;2.0.0&quot;).release
        (2, 0, 0)
        &gt;&gt;&gt; Version(&quot;1!2.0.0.post0&quot;).release
        (2, 0, 0)

        Includes trailing zeroes but not the epoch or any pre-release / development /
        post-release suffixes.
        &quot;&quot;&quot;
        return self._version.release

    @property
    def pre(self) -&gt; tuple[str, int] | None:
        &quot;&quot;&quot;The pre-release segment of the version.

        &gt;&gt;&gt; print(Version(&quot;1.2.3&quot;).pre)
        None
        &gt;&gt;&gt; Version(&quot;1.2.3a1&quot;).pre
        ('a', 1)
        &gt;&gt;&gt; Version(&quot;1.2.3b1&quot;).pre
        ('b', 1)
        &gt;&gt;&gt; Version(&quot;1.2.3rc1&quot;).pre
        ('rc', 1)
        &quot;&quot;&quot;
        return self._version.pre

    @property
    def post(self) -&gt; int | None:
        &quot;&quot;&quot;The post-release number of the version.

        &gt;&gt;&gt; print(Version(&quot;1.2.3&quot;).post)
        None
        &gt;&gt;&gt; Version(&quot;1.2.3.post1&quot;).post
        1
        &quot;&quot;&quot;
        return self._version.post[1] if self._version.post else None

    @property
    def dev(self) -&gt; int | None:
        &quot;&quot;&quot;The development number of the version.

        &gt;&gt;&gt; print(Version(&quot;1.2.3&quot;).dev)
        None
        &gt;&gt;&gt; Version(&quot;1.2.3.dev1&quot;).dev
        1
        &quot;&quot;&quot;
        return self._version.dev[1] if self._version.dev else None

    @property
    def local(self) -&gt; str | None:
        &quot;&quot;&quot;The local version segment of the version.

        &gt;&gt;&gt; print(Version(&quot;1.2.3&quot;).local)
        None
        &gt;&gt;&gt; Version(&quot;1.2.3+abc&quot;).local
        'abc'
        &quot;&quot;&quot;
        if self._version.local:
            return &quot;.&quot;.join(str(x) for x in self._version.local)
        else:
            return None

    @property
    def public(self) -&gt; str:
        &quot;&quot;&quot;The public portion of the version.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).public
        '1.2.3'
        &gt;&gt;&gt; Version(&quot;1.2.3+abc&quot;).public
        '1.2.3'
        &gt;&gt;&gt; Version(&quot;1!1.2.3dev1+abc&quot;).public
        '1!1.2.3.dev1'
        &quot;&quot;&quot;
        return str(self).split(&quot;+&quot;, 1)[0]

    @property
    def base_version(self) -&gt; str:
        &quot;&quot;&quot;The &quot;base version&quot; of the version.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).base_version
        '1.2.3'
        &gt;&gt;&gt; Version(&quot;1.2.3+abc&quot;).base_version
        '1.2.3'
        &gt;&gt;&gt; Version(&quot;1!1.2.3dev1+abc&quot;).base_version
        '1!1.2.3'

        The &quot;base version&quot; is the public version of the project without any pre or post
        release markers.
        &quot;&quot;&quot;
        parts = []

        # Epoch
        if self.epoch != 0:
            parts.append(f&quot;{self.epoch}!&quot;)

        # Release segment
        parts.append(&quot;.&quot;.join(str(x) for x in self.release))

        return &quot;&quot;.join(parts)

    @property
    def is_prerelease(self) -&gt; bool:
        &quot;&quot;&quot;Whether this version is a pre-release.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).is_prerelease
        False
        &gt;&gt;&gt; Version(&quot;1.2.3a1&quot;).is_prerelease
        True
        &gt;&gt;&gt; Version(&quot;1.2.3b1&quot;).is_prerelease
        True
        &gt;&gt;&gt; Version(&quot;1.2.3rc1&quot;).is_prerelease
        True
        &gt;&gt;&gt; Version(&quot;1.2.3dev1&quot;).is_prerelease
        True
        &quot;&quot;&quot;
        return self.dev is not None or self.pre is not None

    @property
    def is_postrelease(self) -&gt; bool:
        &quot;&quot;&quot;Whether this version is a post-release.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).is_postrelease
        False
        &gt;&gt;&gt; Version(&quot;1.2.3.post1&quot;).is_postrelease
        True
        &quot;&quot;&quot;
        return self.post is not None

    @property
    def is_devrelease(self) -&gt; bool:
        &quot;&quot;&quot;Whether this version is a development release.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).is_devrelease
        False
        &gt;&gt;&gt; Version(&quot;1.2.3.dev1&quot;).is_devrelease
        True
        &quot;&quot;&quot;
        return self.dev is not None

    @property
    def major(self) -&gt; int:
        &quot;&quot;&quot;The first item of :attr:`release` or ``0`` if unavailable.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).major
        1
        &quot;&quot;&quot;
        return self.release[0] if len(self.release) &gt;= 1 else 0

    @property
    def minor(self) -&gt; int:
        &quot;&quot;&quot;The second item of :attr:`release` or ``0`` if unavailable.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).minor
        2
        &gt;&gt;&gt; Version(&quot;1&quot;).minor
        0
        &quot;&quot;&quot;
        return self.release[1] if len(self.release) &gt;= 2 else 0

    @property
    def micro(self) -&gt; int:
        &quot;&quot;&quot;The third item of :attr:`release` or ``0`` if unavailable.

        &gt;&gt;&gt; Version(&quot;1.2.3&quot;).micro
        3
        &gt;&gt;&gt; Version(&quot;1&quot;).micro
        0
        &quot;&quot;&quot;
        return self.release[2] if len(self.release) &gt;= 3 else 0


class _TrimmedRelease(Version):
    @property
    def release(self) -&gt; tuple[int, ...]:
        &quot;&quot;&quot;
        Release segment without any trailing zeros.

        &gt;&gt;&gt; _TrimmedRelease('1.0.0').release
        (1,)
        &gt;&gt;&gt; _TrimmedRelease('0.0').release
        (0,)
        &quot;&quot;&quot;
        rel = super().release
        nonzeros = (index for index, val in enumerate(rel) if val)
        last_nonzero = max(nonzeros, default=0)
        return rel[: last_nonzero + 1]


def _parse_letter_version(
    letter: str | None, number: str | bytes | SupportsInt | None
) -&gt; tuple[str, int] | None:
    if letter:
        # We consider there to be an implicit 0 in a pre-release if there is
        # not a numeral associated with it.
        if number is None:
            number = 0

        # We normalize any letters to their lower case form
        letter = letter.lower()

        # We consider some words to be alternate spellings of other words and
        # in those cases we want to normalize the spellings to our preferred
        # spelling.
        if letter == &quot;alpha&quot;:
            letter = &quot;a&quot;
        elif letter == &quot;beta&quot;:
            letter = &quot;b&quot;
        elif letter in [&quot;c&quot;, &quot;pre&quot;, &quot;preview&quot;]:
            letter = &quot;rc&quot;
        elif letter in [&quot;rev&quot;, &quot;r&quot;]:
            letter = &quot;post&quot;

        return letter, int(number)

    assert not letter
    if number:
        # We assume if we are given a number, but we are not given a letter
        # then this is using the implicit post release syntax (e.g. 1.0-1)
        letter = &quot;post&quot;

        return letter, int(number)

    return None


_local_version_separators = re.compile(r&quot;[\._-]&quot;)


def _parse_local_version(local: str | None) -&gt; LocalType | None:
    &quot;&quot;&quot;
    Takes a string like abc.1.twelve and turns it into (&quot;abc&quot;, 1, &quot;twelve&quot;).
    &quot;&quot;&quot;
    if local is not None:
        return tuple(
            part.lower() if not part.isdigit() else int(part)
            for part in _local_version_separators.split(local)
        )
    return None


def _cmpkey(
    epoch: int,
    release: tuple[int, ...],
    pre: tuple[str, int] | None,
    post: tuple[str, int] | None,
    dev: tuple[str, int] | None,
    local: LocalType | None,
) -&gt; CmpKey:
    # When we compare a release version, we want to compare it with all of the
    # trailing zeros removed. So we'll use a reverse the list, drop all the now
    # leading zeros until we come to something non zero, then take the rest
    # re-reverse it back into the correct order and make it a tuple and use
    # that for our sorting key.
    _release = tuple(
        reversed(list(itertools.dropwhile(lambda x: x == 0, reversed(release))))
    )

    # We need to &quot;trick&quot; the sorting algorithm to put 1.0.dev0 before 1.0a0.
    # We'll do this by abusing the pre segment, but we _only_ want to do this
    # if there is not a pre or a post segment. If we have one of those then
    # the normal sorting rules will handle this case correctly.
    if pre is None and post is None and dev is not None:
        _pre: CmpPrePostDevType = NegativeInfinity
    # Versions without a pre-release (except as noted above) should sort after
    # those with one.
    elif pre is None:
        _pre = Infinity
    else:
        _pre = pre

    # Versions without a post segment should sort before those with one.
    if post is None:
        _post: CmpPrePostDevType = NegativeInfinity

    else:
        _post = post

    # Versions without a development segment should sort after those with one.
    if dev is None:
        _dev: CmpPrePostDevType = Infinity

    else:
        _dev = dev

    if local is None:
        # Versions without a local segment should sort before those with one.
        _local: CmpLocalType = NegativeInfinity
    else:
        # Versions with a local segment need that segment parsed to implement
        # the sorting rules in PEP440.
        # - Alpha numeric segments sort before numeric segments
        # - Alpha numeric segments sort lexicographically
        # - Numeric segments sort numerically
        # - Shorter versions sort before longer versions when the prefixes
        #   match exactly
        _local = tuple(
            (i, &quot;&quot;) if isinstance(i, int) else (NegativeInfinity, i) for i in local
        )

    return epoch, _release, _pre, _post, _dev, _local</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/utils.py (Line 1:1 - Line 163:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/utils.py (Line 1:1 - Line 163:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn740" onclick="toggleCodeBlock('cloneGroup740', 'expandBtn740', 'collapseBtn740')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn740" onclick="toggleCodeBlock('cloneGroup740', 'expandBtn740', 'collapseBtn740')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup740"><code class="language-python text-sm text-gray-800"># This file is dual licensed under the terms of the Apache License, Version
# 2.0, and the BSD License. See the LICENSE file in the root of this repository
# for complete details.

from __future__ import annotations

import functools
import re
from typing import NewType, Tuple, Union, cast

from .tags import Tag, parse_tag
from .version import InvalidVersion, Version, _TrimmedRelease

BuildTag = Union[Tuple[()], Tuple[int, str]]
NormalizedName = NewType(&quot;NormalizedName&quot;, str)


class InvalidName(ValueError):
    &quot;&quot;&quot;
    An invalid distribution name; users should refer to the packaging user guide.
    &quot;&quot;&quot;


class InvalidWheelFilename(ValueError):
    &quot;&quot;&quot;
    An invalid wheel filename was found, users should refer to PEP 427.
    &quot;&quot;&quot;


class InvalidSdistFilename(ValueError):
    &quot;&quot;&quot;
    An invalid sdist filename was found, users should refer to the packaging user guide.
    &quot;&quot;&quot;


# Core metadata spec for `Name`
_validate_regex = re.compile(
    r&quot;^([A-Z0-9]|[A-Z0-9][A-Z0-9._-]*[A-Z0-9])$&quot;, re.IGNORECASE
)
_canonicalize_regex = re.compile(r&quot;[-_.]+&quot;)
_normalized_regex = re.compile(r&quot;^([a-z0-9]|[a-z0-9]([a-z0-9-](?!--))*[a-z0-9])$&quot;)
# PEP 427: The build number must start with a digit.
_build_tag_regex = re.compile(r&quot;(\d+)(.*)&quot;)


def canonicalize_name(name: str, *, validate: bool = False) -&gt; NormalizedName:
    if validate and not _validate_regex.match(name):
        raise InvalidName(f&quot;name is invalid: {name!r}&quot;)
    # This is taken from PEP 503.
    value = _canonicalize_regex.sub(&quot;-&quot;, name).lower()
    return cast(NormalizedName, value)


def is_normalized_name(name: str) -&gt; bool:
    return _normalized_regex.match(name) is not None


@functools.singledispatch
def canonicalize_version(
    version: Version | str, *, strip_trailing_zero: bool = True
) -&gt; str:
    &quot;&quot;&quot;
    Return a canonical form of a version as a string.

    &gt;&gt;&gt; canonicalize_version('1.0.1')
    '1.0.1'

    Per PEP 625, versions may have multiple canonical forms, differing
    only by trailing zeros.

    &gt;&gt;&gt; canonicalize_version('1.0.0')
    '1'
    &gt;&gt;&gt; canonicalize_version('1.0.0', strip_trailing_zero=False)
    '1.0.0'

    Invalid versions are returned unaltered.

    &gt;&gt;&gt; canonicalize_version('foo bar baz')
    'foo bar baz'
    &quot;&quot;&quot;
    return str(_TrimmedRelease(str(version)) if strip_trailing_zero else version)


@canonicalize_version.register
def _(version: str, *, strip_trailing_zero: bool = True) -&gt; str:
    try:
        parsed = Version(version)
    except InvalidVersion:
        # Legacy versions cannot be normalized
        return version
    return canonicalize_version(parsed, strip_trailing_zero=strip_trailing_zero)


def parse_wheel_filename(
    filename: str,
) -&gt; tuple[NormalizedName, Version, BuildTag, frozenset[Tag]]:
    if not filename.endswith(&quot;.whl&quot;):
        raise InvalidWheelFilename(
            f&quot;Invalid wheel filename (extension must be '.whl'): {filename!r}&quot;
        )

    filename = filename[:-4]
    dashes = filename.count(&quot;-&quot;)
    if dashes not in (4, 5):
        raise InvalidWheelFilename(
            f&quot;Invalid wheel filename (wrong number of parts): {filename!r}&quot;
        )

    parts = filename.split(&quot;-&quot;, dashes - 2)
    name_part = parts[0]
    # See PEP 427 for the rules on escaping the project name.
    if &quot;__&quot; in name_part or re.match(r&quot;^[\w\d._]*$&quot;, name_part, re.UNICODE) is None:
        raise InvalidWheelFilename(f&quot;Invalid project name: {filename!r}&quot;)
    name = canonicalize_name(name_part)

    try:
        version = Version(parts[1])
    except InvalidVersion as e:
        raise InvalidWheelFilename(
            f&quot;Invalid wheel filename (invalid version): {filename!r}&quot;
        ) from e

    if dashes == 5:
        build_part = parts[2]
        build_match = _build_tag_regex.match(build_part)
        if build_match is None:
            raise InvalidWheelFilename(
                f&quot;Invalid build number: {build_part} in {filename!r}&quot;
            )
        build = cast(BuildTag, (int(build_match.group(1)), build_match.group(2)))
    else:
        build = ()
    tags = parse_tag(parts[-1])
    return (name, version, build, tags)


def parse_sdist_filename(filename: str) -&gt; tuple[NormalizedName, Version]:
    if filename.endswith(&quot;.tar.gz&quot;):
        file_stem = filename[: -len(&quot;.tar.gz&quot;)]
    elif filename.endswith(&quot;.zip&quot;):
        file_stem = filename[: -len(&quot;.zip&quot;)]
    else:
        raise InvalidSdistFilename(
            f&quot;Invalid sdist filename (extension must be '.tar.gz' or '.zip'):&quot;
            f&quot; {filename!r}&quot;
        )

    # We are requiring a PEP 440 version, which cannot contain dashes,
    # so we split on the last dash.
    name_part, sep, version_part = file_stem.rpartition(&quot;-&quot;)
    if not sep:
        raise InvalidSdistFilename(f&quot;Invalid sdist filename: {filename!r}&quot;)

    name = canonicalize_name(name_part)

    try:
        version = Version(version_part)
    except InvalidVersion as e:
        raise InvalidSdistFilename(
            f&quot;Invalid sdist filename (invalid version): {filename!r}&quot;
        ) from e

    return (name, version)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/tags.py (Line 1:1 - Line 656:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/tags.py (Line 1:1 - Line 656:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn741" onclick="toggleCodeBlock('cloneGroup741', 'expandBtn741', 'collapseBtn741')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn741" onclick="toggleCodeBlock('cloneGroup741', 'expandBtn741', 'collapseBtn741')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup741"><code class="language-python text-sm text-gray-800"># This file is dual licensed under the terms of the Apache License, Version
# 2.0, and the BSD License. See the LICENSE file in the root of this repository
# for complete details.

from __future__ import annotations

import logging
import platform
import re
import struct
import subprocess
import sys
import sysconfig
from importlib.machinery import EXTENSION_SUFFIXES
from typing import (
    Iterable,
    Iterator,
    Sequence,
    Tuple,
    cast,
)

from . import _manylinux, _musllinux

logger = logging.getLogger(__name__)

PythonVersion = Sequence[int]
AppleVersion = Tuple[int, int]

INTERPRETER_SHORT_NAMES: dict[str, str] = {
    &quot;python&quot;: &quot;py&quot;,  # Generic.
    &quot;cpython&quot;: &quot;cp&quot;,
    &quot;pypy&quot;: &quot;pp&quot;,
    &quot;ironpython&quot;: &quot;ip&quot;,
    &quot;jython&quot;: &quot;jy&quot;,
}


_32_BIT_INTERPRETER = struct.calcsize(&quot;P&quot;) == 4


class Tag:
    &quot;&quot;&quot;
    A representation of the tag triple for a wheel.

    Instances are considered immutable and thus are hashable. Equality checking
    is also supported.
    &quot;&quot;&quot;

    __slots__ = [&quot;_abi&quot;, &quot;_hash&quot;, &quot;_interpreter&quot;, &quot;_platform&quot;]

    def __init__(self, interpreter: str, abi: str, platform: str) -&gt; None:
        self._interpreter = interpreter.lower()
        self._abi = abi.lower()
        self._platform = platform.lower()
        # The __hash__ of every single element in a Set[Tag] will be evaluated each time
        # that a set calls its `.disjoint()` method, which may be called hundreds of
        # times when scanning a page of links for packages with tags matching that
        # Set[Tag]. Pre-computing the value here produces significant speedups for
        # downstream consumers.
        self._hash = hash((self._interpreter, self._abi, self._platform))

    @property
    def interpreter(self) -&gt; str:
        return self._interpreter

    @property
    def abi(self) -&gt; str:
        return self._abi

    @property
    def platform(self) -&gt; str:
        return self._platform

    def __eq__(self, other: object) -&gt; bool:
        if not isinstance(other, Tag):
            return NotImplemented

        return (
            (self._hash == other._hash)  # Short-circuit ASAP for perf reasons.
            and (self._platform == other._platform)
            and (self._abi == other._abi)
            and (self._interpreter == other._interpreter)
        )

    def __hash__(self) -&gt; int:
        return self._hash

    def __str__(self) -&gt; str:
        return f&quot;{self._interpreter}-{self._abi}-{self._platform}&quot;

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self} @ {id(self)}&gt;&quot;


def parse_tag(tag: str) -&gt; frozenset[Tag]:
    &quot;&quot;&quot;
    Parses the provided tag (e.g. `py3-none-any`) into a frozenset of Tag instances.

    Returning a set is required due to the possibility that the tag is a
    compressed tag set.
    &quot;&quot;&quot;
    tags = set()
    interpreters, abis, platforms = tag.split(&quot;-&quot;)
    for interpreter in interpreters.split(&quot;.&quot;):
        for abi in abis.split(&quot;.&quot;):
            for platform_ in platforms.split(&quot;.&quot;):
                tags.add(Tag(interpreter, abi, platform_))
    return frozenset(tags)


def _get_config_var(name: str, warn: bool = False) -&gt; int | str | None:
    value: int | str | None = sysconfig.get_config_var(name)
    if value is None and warn:
        logger.debug(
            &quot;Config variable '%s' is unset, Python ABI tag may be incorrect&quot;, name
        )
    return value


def _normalize_string(string: str) -&gt; str:
    return string.replace(&quot;.&quot;, &quot;_&quot;).replace(&quot;-&quot;, &quot;_&quot;).replace(&quot; &quot;, &quot;_&quot;)


def _is_threaded_cpython(abis: list[str]) -&gt; bool:
    &quot;&quot;&quot;
    Determine if the ABI corresponds to a threaded (`--disable-gil`) build.

    The threaded builds are indicated by a &quot;t&quot; in the abiflags.
    &quot;&quot;&quot;
    if len(abis) == 0:
        return False
    # expect e.g., cp313
    m = re.match(r&quot;cp\d+(.*)&quot;, abis[0])
    if not m:
        return False
    abiflags = m.group(1)
    return &quot;t&quot; in abiflags


def _abi3_applies(python_version: PythonVersion, threading: bool) -&gt; bool:
    &quot;&quot;&quot;
    Determine if the Python version supports abi3.

    PEP 384 was first implemented in Python 3.2. The threaded (`--disable-gil`)
    builds do not support abi3.
    &quot;&quot;&quot;
    return len(python_version) &gt; 1 and tuple(python_version) &gt;= (3, 2) and not threading


def _cpython_abis(py_version: PythonVersion, warn: bool = False) -&gt; list[str]:
    py_version = tuple(py_version)  # To allow for version comparison.
    abis = []
    version = _version_nodot(py_version[:2])
    threading = debug = pymalloc = ucs4 = &quot;&quot;
    with_debug = _get_config_var(&quot;Py_DEBUG&quot;, warn)
    has_refcount = hasattr(sys, &quot;gettotalrefcount&quot;)
    # Windows doesn't set Py_DEBUG, so checking for support of debug-compiled
    # extension modules is the best option.
    # https://github.com/pypa/pip/issues/3383#issuecomment-173267692
    has_ext = &quot;_d.pyd&quot; in EXTENSION_SUFFIXES
    if with_debug or (with_debug is None and (has_refcount or has_ext)):
        debug = &quot;d&quot;
    if py_version &gt;= (3, 13) and _get_config_var(&quot;Py_GIL_DISABLED&quot;, warn):
        threading = &quot;t&quot;
    if py_version &lt; (3, 8):
        with_pymalloc = _get_config_var(&quot;WITH_PYMALLOC&quot;, warn)
        if with_pymalloc or with_pymalloc is None:
            pymalloc = &quot;m&quot;
        if py_version &lt; (3, 3):
            unicode_size = _get_config_var(&quot;Py_UNICODE_SIZE&quot;, warn)
            if unicode_size == 4 or (
                unicode_size is None and sys.maxunicode == 0x10FFFF
            ):
                ucs4 = &quot;u&quot;
    elif debug:
        # Debug builds can also load &quot;normal&quot; extension modules.
        # We can also assume no UCS-4 or pymalloc requirement.
        abis.append(f&quot;cp{version}{threading}&quot;)
    abis.insert(0, f&quot;cp{version}{threading}{debug}{pymalloc}{ucs4}&quot;)
    return abis


def cpython_tags(
    python_version: PythonVersion | None = None,
    abis: Iterable[str] | None = None,
    platforms: Iterable[str] | None = None,
    *,
    warn: bool = False,
) -&gt; Iterator[Tag]:
    &quot;&quot;&quot;
    Yields the tags for a CPython interpreter.

    The tags consist of:
    - cp&lt;python_version&gt;-&lt;abi&gt;-&lt;platform&gt;
    - cp&lt;python_version&gt;-abi3-&lt;platform&gt;
    - cp&lt;python_version&gt;-none-&lt;platform&gt;
    - cp&lt;less than python_version&gt;-abi3-&lt;platform&gt;  # Older Python versions down to 3.2.

    If python_version only specifies a major version then user-provided ABIs and
    the 'none' ABItag will be used.

    If 'abi3' or 'none' are specified in 'abis' then they will be yielded at
    their normal position and not at the beginning.
    &quot;&quot;&quot;
    if not python_version:
        python_version = sys.version_info[:2]

    interpreter = f&quot;cp{_version_nodot(python_version[:2])}&quot;

    if abis is None:
        if len(python_version) &gt; 1:
            abis = _cpython_abis(python_version, warn)
        else:
            abis = []
    abis = list(abis)
    # 'abi3' and 'none' are explicitly handled later.
    for explicit_abi in (&quot;abi3&quot;, &quot;none&quot;):
        try:
            abis.remove(explicit_abi)
        except ValueError:
            pass

    platforms = list(platforms or platform_tags())
    for abi in abis:
        for platform_ in platforms:
            yield Tag(interpreter, abi, platform_)

    threading = _is_threaded_cpython(abis)
    use_abi3 = _abi3_applies(python_version, threading)
    if use_abi3:
        yield from (Tag(interpreter, &quot;abi3&quot;, platform_) for platform_ in platforms)
    yield from (Tag(interpreter, &quot;none&quot;, platform_) for platform_ in platforms)

    if use_abi3:
        for minor_version in range(python_version[1] - 1, 1, -1):
            for platform_ in platforms:
                version = _version_nodot((python_version[0], minor_version))
                interpreter = f&quot;cp{version}&quot;
                yield Tag(interpreter, &quot;abi3&quot;, platform_)


def _generic_abi() -&gt; list[str]:
    &quot;&quot;&quot;
    Return the ABI tag based on EXT_SUFFIX.
    &quot;&quot;&quot;
    # The following are examples of `EXT_SUFFIX`.
    # We want to keep the parts which are related to the ABI and remove the
    # parts which are related to the platform:
    # - linux:   '.cpython-310-x86_64-linux-gnu.so' =&gt; cp310
    # - mac:     '.cpython-310-darwin.so'           =&gt; cp310
    # - win:     '.cp310-win_amd64.pyd'             =&gt; cp310
    # - win:     '.pyd'                             =&gt; cp37 (uses _cpython_abis())
    # - pypy:    '.pypy38-pp73-x86_64-linux-gnu.so' =&gt; pypy38_pp73
    # - graalpy: '.graalpy-38-native-x86_64-darwin.dylib'
    #                                               =&gt; graalpy_38_native

    ext_suffix = _get_config_var(&quot;EXT_SUFFIX&quot;, warn=True)
    if not isinstance(ext_suffix, str) or ext_suffix[0] != &quot;.&quot;:
        raise SystemError(&quot;invalid sysconfig.get_config_var('EXT_SUFFIX')&quot;)
    parts = ext_suffix.split(&quot;.&quot;)
    if len(parts) &lt; 3:
        # CPython3.7 and earlier uses &quot;.pyd&quot; on Windows.
        return _cpython_abis(sys.version_info[:2])
    soabi = parts[1]
    if soabi.startswith(&quot;cpython&quot;):
        # non-windows
        abi = &quot;cp&quot; + soabi.split(&quot;-&quot;)[1]
    elif soabi.startswith(&quot;cp&quot;):
        # windows
        abi = soabi.split(&quot;-&quot;)[0]
    elif soabi.startswith(&quot;pypy&quot;):
        abi = &quot;-&quot;.join(soabi.split(&quot;-&quot;)[:2])
    elif soabi.startswith(&quot;graalpy&quot;):
        abi = &quot;-&quot;.join(soabi.split(&quot;-&quot;)[:3])
    elif soabi:
        # pyston, ironpython, others?
        abi = soabi
    else:
        return []
    return [_normalize_string(abi)]


def generic_tags(
    interpreter: str | None = None,
    abis: Iterable[str] | None = None,
    platforms: Iterable[str] | None = None,
    *,
    warn: bool = False,
) -&gt; Iterator[Tag]:
    &quot;&quot;&quot;
    Yields the tags for a generic interpreter.

    The tags consist of:
    - &lt;interpreter&gt;-&lt;abi&gt;-&lt;platform&gt;

    The &quot;none&quot; ABI will be added if it was not explicitly provided.
    &quot;&quot;&quot;
    if not interpreter:
        interp_name = interpreter_name()
        interp_version = interpreter_version(warn=warn)
        interpreter = &quot;&quot;.join([interp_name, interp_version])
    if abis is None:
        abis = _generic_abi()
    else:
        abis = list(abis)
    platforms = list(platforms or platform_tags())
    if &quot;none&quot; not in abis:
        abis.append(&quot;none&quot;)
    for abi in abis:
        for platform_ in platforms:
            yield Tag(interpreter, abi, platform_)


def _py_interpreter_range(py_version: PythonVersion) -&gt; Iterator[str]:
    &quot;&quot;&quot;
    Yields Python versions in descending order.

    After the latest version, the major-only version will be yielded, and then
    all previous versions of that major version.
    &quot;&quot;&quot;
    if len(py_version) &gt; 1:
        yield f&quot;py{_version_nodot(py_version[:2])}&quot;
    yield f&quot;py{py_version[0]}&quot;
    if len(py_version) &gt; 1:
        for minor in range(py_version[1] - 1, -1, -1):
            yield f&quot;py{_version_nodot((py_version[0], minor))}&quot;


def compatible_tags(
    python_version: PythonVersion | None = None,
    interpreter: str | None = None,
    platforms: Iterable[str] | None = None,
) -&gt; Iterator[Tag]:
    &quot;&quot;&quot;
    Yields the sequence of tags that are compatible with a specific version of Python.

    The tags consist of:
    - py*-none-&lt;platform&gt;
    - &lt;interpreter&gt;-none-any  # ... if `interpreter` is provided.
    - py*-none-any
    &quot;&quot;&quot;
    if not python_version:
        python_version = sys.version_info[:2]
    platforms = list(platforms or platform_tags())
    for version in _py_interpreter_range(python_version):
        for platform_ in platforms:
            yield Tag(version, &quot;none&quot;, platform_)
    if interpreter:
        yield Tag(interpreter, &quot;none&quot;, &quot;any&quot;)
    for version in _py_interpreter_range(python_version):
        yield Tag(version, &quot;none&quot;, &quot;any&quot;)


def _mac_arch(arch: str, is_32bit: bool = _32_BIT_INTERPRETER) -&gt; str:
    if not is_32bit:
        return arch

    if arch.startswith(&quot;ppc&quot;):
        return &quot;ppc&quot;

    return &quot;i386&quot;


def _mac_binary_formats(version: AppleVersion, cpu_arch: str) -&gt; list[str]:
    formats = [cpu_arch]
    if cpu_arch == &quot;x86_64&quot;:
        if version &lt; (10, 4):
            return []
        formats.extend([&quot;intel&quot;, &quot;fat64&quot;, &quot;fat32&quot;])

    elif cpu_arch == &quot;i386&quot;:
        if version &lt; (10, 4):
            return []
        formats.extend([&quot;intel&quot;, &quot;fat32&quot;, &quot;fat&quot;])

    elif cpu_arch == &quot;ppc64&quot;:
        # TODO: Need to care about 32-bit PPC for ppc64 through 10.2?
        if version &gt; (10, 5) or version &lt; (10, 4):
            return []
        formats.append(&quot;fat64&quot;)

    elif cpu_arch == &quot;ppc&quot;:
        if version &gt; (10, 6):
            return []
        formats.extend([&quot;fat32&quot;, &quot;fat&quot;])

    if cpu_arch in {&quot;arm64&quot;, &quot;x86_64&quot;}:
        formats.append(&quot;universal2&quot;)

    if cpu_arch in {&quot;x86_64&quot;, &quot;i386&quot;, &quot;ppc64&quot;, &quot;ppc&quot;, &quot;intel&quot;}:
        formats.append(&quot;universal&quot;)

    return formats


def mac_platforms(
    version: AppleVersion | None = None, arch: str | None = None
) -&gt; Iterator[str]:
    &quot;&quot;&quot;
    Yields the platform tags for a macOS system.

    The `version` parameter is a two-item tuple specifying the macOS version to
    generate platform tags for. The `arch` parameter is the CPU architecture to
    generate platform tags for. Both parameters default to the appropriate value
    for the current system.
    &quot;&quot;&quot;
    version_str, _, cpu_arch = platform.mac_ver()
    if version is None:
        version = cast(&quot;AppleVersion&quot;, tuple(map(int, version_str.split(&quot;.&quot;)[:2])))
        if version == (10, 16):
            # When built against an older macOS SDK, Python will report macOS 10.16
            # instead of the real version.
            version_str = subprocess.run(
                [
                    sys.executable,
                    &quot;-sS&quot;,
                    &quot;-c&quot;,
                    &quot;import platform; print(platform.mac_ver()[0])&quot;,
                ],
                check=True,
                env={&quot;SYSTEM_VERSION_COMPAT&quot;: &quot;0&quot;},
                stdout=subprocess.PIPE,
                text=True,
            ).stdout
            version = cast(&quot;AppleVersion&quot;, tuple(map(int, version_str.split(&quot;.&quot;)[:2])))
    else:
        version = version
    if arch is None:
        arch = _mac_arch(cpu_arch)
    else:
        arch = arch

    if (10, 0) &lt;= version and version &lt; (11, 0):
        # Prior to Mac OS 11, each yearly release of Mac OS bumped the
        # &quot;minor&quot; version number.  The major version was always 10.
        major_version = 10
        for minor_version in range(version[1], -1, -1):
            compat_version = major_version, minor_version
            binary_formats = _mac_binary_formats(compat_version, arch)
            for binary_format in binary_formats:
                yield f&quot;macosx_{major_version}_{minor_version}_{binary_format}&quot;

    if version &gt;= (11, 0):
        # Starting with Mac OS 11, each yearly release bumps the major version
        # number.   The minor versions are now the midyear updates.
        minor_version = 0
        for major_version in range(version[0], 10, -1):
            compat_version = major_version, minor_version
            binary_formats = _mac_binary_formats(compat_version, arch)
            for binary_format in binary_formats:
                yield f&quot;macosx_{major_version}_{minor_version}_{binary_format}&quot;

    if version &gt;= (11, 0):
        # Mac OS 11 on x86_64 is compatible with binaries from previous releases.
        # Arm64 support was introduced in 11.0, so no Arm binaries from previous
        # releases exist.
        #
        # However, the &quot;universal2&quot; binary format can have a
        # macOS version earlier than 11.0 when the x86_64 part of the binary supports
        # that version of macOS.
        major_version = 10
        if arch == &quot;x86_64&quot;:
            for minor_version in range(16, 3, -1):
                compat_version = major_version, minor_version
                binary_formats = _mac_binary_formats(compat_version, arch)
                for binary_format in binary_formats:
                    yield f&quot;macosx_{major_version}_{minor_version}_{binary_format}&quot;
        else:
            for minor_version in range(16, 3, -1):
                compat_version = major_version, minor_version
                binary_format = &quot;universal2&quot;
                yield f&quot;macosx_{major_version}_{minor_version}_{binary_format}&quot;


def ios_platforms(
    version: AppleVersion | None = None, multiarch: str | None = None
) -&gt; Iterator[str]:
    &quot;&quot;&quot;
    Yields the platform tags for an iOS system.

    :param version: A two-item tuple specifying the iOS version to generate
        platform tags for. Defaults to the current iOS version.
    :param multiarch: The CPU architecture+ABI to generate platform tags for -
        (the value used by `sys.implementation._multiarch` e.g.,
        `arm64_iphoneos` or `x84_64_iphonesimulator`). Defaults to the current
        multiarch value.
    &quot;&quot;&quot;
    if version is None:
        # if iOS is the current platform, ios_ver *must* be defined. However,
        # it won't exist for CPython versions before 3.13, which causes a mypy
        # error.
        _, release, _, _ = platform.ios_ver()  # type: ignore[attr-defined, unused-ignore]
        version = cast(&quot;AppleVersion&quot;, tuple(map(int, release.split(&quot;.&quot;)[:2])))

    if multiarch is None:
        multiarch = sys.implementation._multiarch
    multiarch = multiarch.replace(&quot;-&quot;, &quot;_&quot;)

    ios_platform_template = &quot;ios_{major}_{minor}_{multiarch}&quot;

    # Consider any iOS major.minor version from the version requested, down to
    # 12.0. 12.0 is the first iOS version that is known to have enough features
    # to support CPython. Consider every possible minor release up to X.9. There
    # highest the minor has ever gone is 8 (14.8 and 15.8) but having some extra
    # candidates that won't ever match doesn't really hurt, and it saves us from
    # having to keep an explicit list of known iOS versions in the code. Return
    # the results descending order of version number.

    # If the requested major version is less than 12, there won't be any matches.
    if version[0] &lt; 12:
        return

    # Consider the actual X.Y version that was requested.
    yield ios_platform_template.format(
        major=version[0], minor=version[1], multiarch=multiarch
    )

    # Consider every minor version from X.0 to the minor version prior to the
    # version requested by the platform.
    for minor in range(version[1] - 1, -1, -1):
        yield ios_platform_template.format(
            major=version[0], minor=minor, multiarch=multiarch
        )

    for major in range(version[0] - 1, 11, -1):
        for minor in range(9, -1, -1):
            yield ios_platform_template.format(
                major=major, minor=minor, multiarch=multiarch
            )


def android_platforms(
    api_level: int | None = None, abi: str | None = None
) -&gt; Iterator[str]:
    &quot;&quot;&quot;
    Yields the :attr:`~Tag.platform` tags for Android. If this function is invoked on
    non-Android platforms, the ``api_level`` and ``abi`` arguments are required.

    :param int api_level: The maximum `API level
        &lt;https://developer.android.com/tools/releases/platforms&gt;`__ to return. Defaults
        to the current system's version, as returned by ``platform.android_ver``.
    :param str abi: The `Android ABI &lt;https://developer.android.com/ndk/guides/abis&gt;`__,
        e.g. ``arm64_v8a``. Defaults to the current system's ABI , as returned by
        ``sysconfig.get_platform``. Hyphens and periods will be replaced with
        underscores.
    &quot;&quot;&quot;
    if platform.system() != &quot;Android&quot; and (api_level is None or abi is None):
        raise TypeError(
            &quot;on non-Android platforms, the api_level and abi arguments are required&quot;
        )

    if api_level is None:
        # Python 3.13 was the first version to return platform.system() == &quot;Android&quot;,
        # and also the first version to define platform.android_ver().
        api_level = platform.android_ver().api_level  # type: ignore[attr-defined]

    if abi is None:
        abi = sysconfig.get_platform().split(&quot;-&quot;)[-1]
    abi = _normalize_string(abi)

    # 16 is the minimum API level known to have enough features to support CPython
    # without major patching. Yield every API level from the maximum down to the
    # minimum, inclusive.
    min_api_level = 16
    for ver in range(api_level, min_api_level - 1, -1):
        yield f&quot;android_{ver}_{abi}&quot;


def _linux_platforms(is_32bit: bool = _32_BIT_INTERPRETER) -&gt; Iterator[str]:
    linux = _normalize_string(sysconfig.get_platform())
    if not linux.startswith(&quot;linux_&quot;):
        # we should never be here, just yield the sysconfig one and return
        yield linux
        return
    if is_32bit:
        if linux == &quot;linux_x86_64&quot;:
            linux = &quot;linux_i686&quot;
        elif linux == &quot;linux_aarch64&quot;:
            linux = &quot;linux_armv8l&quot;
    _, arch = linux.split(&quot;_&quot;, 1)
    archs = {&quot;armv8l&quot;: [&quot;armv8l&quot;, &quot;armv7l&quot;]}.get(arch, [arch])
    yield from _manylinux.platform_tags(archs)
    yield from _musllinux.platform_tags(archs)
    for arch in archs:
        yield f&quot;linux_{arch}&quot;


def _generic_platforms() -&gt; Iterator[str]:
    yield _normalize_string(sysconfig.get_platform())


def platform_tags() -&gt; Iterator[str]:
    &quot;&quot;&quot;
    Provides the platform tags for this installation.
    &quot;&quot;&quot;
    if platform.system() == &quot;Darwin&quot;:
        return mac_platforms()
    elif platform.system() == &quot;iOS&quot;:
        return ios_platforms()
    elif platform.system() == &quot;Android&quot;:
        return android_platforms()
    elif platform.system() == &quot;Linux&quot;:
        return _linux_platforms()
    else:
        return _generic_platforms()


def interpreter_name() -&gt; str:
    &quot;&quot;&quot;
    Returns the name of the running interpreter.

    Some implementations have a reserved, two-letter abbreviation which will
    be returned when appropriate.
    &quot;&quot;&quot;
    name = sys.implementation.name
    return INTERPRETER_SHORT_NAMES.get(name) or name


def interpreter_version(*, warn: bool = False) -&gt; str:
    &quot;&quot;&quot;
    Returns the version of the running interpreter.
    &quot;&quot;&quot;
    version = _get_config_var(&quot;py_version_nodot&quot;, warn=warn)
    if version:
        version = str(version)
    else:
        version = _version_nodot(sys.version_info[:2])
    return version


def _version_nodot(version: PythonVersion) -&gt; str:
    return &quot;&quot;.join(map(str, version))


def sys_tags(*, warn: bool = False) -&gt; Iterator[Tag]:
    &quot;&quot;&quot;
    Returns the sequence of tag triples for the running interpreter.

    The order of the sequence corresponds to priority order for the
    interpreter, from most to least important.
    &quot;&quot;&quot;

    interp_name = interpreter_name()
    if interp_name == &quot;cp&quot;:
        yield from cpython_tags(warn=warn)
    else:
        yield from generic_tags()

    if interp_name == &quot;pp&quot;:
        interp = &quot;pp3&quot;
    elif interp_name == &quot;cp&quot;:
        interp = &quot;cp&quot; + interpreter_version(warn=warn)
    else:
        interp = None
    yield from compatible_tags(interpreter=interp)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/requirements.py (Line 1:1 - Line 91:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/requirements.py (Line 1:1 - Line 91:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn742" onclick="toggleCodeBlock('cloneGroup742', 'expandBtn742', 'collapseBtn742')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn742" onclick="toggleCodeBlock('cloneGroup742', 'expandBtn742', 'collapseBtn742')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup742"><code class="language-python text-sm text-gray-800"># This file is dual licensed under the terms of the Apache License, Version
# 2.0, and the BSD License. See the LICENSE file in the root of this repository
# for complete details.
from __future__ import annotations

from typing import Any, Iterator

from ._parser import parse_requirement as _parse_requirement
from ._tokenizer import ParserSyntaxError
from .markers import Marker, _normalize_extra_values
from .specifiers import SpecifierSet
from .utils import canonicalize_name


class InvalidRequirement(ValueError):
    &quot;&quot;&quot;
    An invalid requirement was found, users should refer to PEP 508.
    &quot;&quot;&quot;


class Requirement:
    &quot;&quot;&quot;Parse a requirement.

    Parse a given requirement string into its parts, such as name, specifier,
    URL, and extras. Raises InvalidRequirement on a badly-formed requirement
    string.
    &quot;&quot;&quot;

    # TODO: Can we test whether something is contained within a requirement?
    #       If so how do we do that? Do we need to test against the _name_ of
    #       the thing as well as the version? What about the markers?
    # TODO: Can we normalize the name and extra name?

    def __init__(self, requirement_string: str) -&gt; None:
        try:
            parsed = _parse_requirement(requirement_string)
        except ParserSyntaxError as e:
            raise InvalidRequirement(str(e)) from e

        self.name: str = parsed.name
        self.url: str | None = parsed.url or None
        self.extras: set[str] = set(parsed.extras or [])
        self.specifier: SpecifierSet = SpecifierSet(parsed.specifier)
        self.marker: Marker | None = None
        if parsed.marker is not None:
            self.marker = Marker.__new__(Marker)
            self.marker._markers = _normalize_extra_values(parsed.marker)

    def _iter_parts(self, name: str) -&gt; Iterator[str]:
        yield name

        if self.extras:
            formatted_extras = &quot;,&quot;.join(sorted(self.extras))
            yield f&quot;[{formatted_extras}]&quot;

        if self.specifier:
            yield str(self.specifier)

        if self.url:
            yield f&quot;@ {self.url}&quot;
            if self.marker:
                yield &quot; &quot;

        if self.marker:
            yield f&quot;; {self.marker}&quot;

    def __str__(self) -&gt; str:
        return &quot;&quot;.join(self._iter_parts(self.name))

    def __repr__(self) -&gt; str:
        return f&quot;&lt;Requirement('{self}')&gt;&quot;

    def __hash__(self) -&gt; int:
        return hash(
            (
                self.__class__.__name__,
                *self._iter_parts(canonicalize_name(self.name)),
            )
        )

    def __eq__(self, other: Any) -&gt; bool:
        if not isinstance(other, Requirement):
            return NotImplemented

        return (
            canonicalize_name(self.name) == canonicalize_name(other.name)
            and self.extras == other.extras
            and self.specifier == other.specifier
            and self.url == other.url
            and self.marker == other.marker
        )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/metadata.py (Line 1:1 - Line 862:33), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/metadata.py (Line 1:1 - Line 862:33)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn743" onclick="toggleCodeBlock('cloneGroup743', 'expandBtn743', 'collapseBtn743')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn743" onclick="toggleCodeBlock('cloneGroup743', 'expandBtn743', 'collapseBtn743')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup743"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import email.feedparser
import email.header
import email.message
import email.parser
import email.policy
import pathlib
import sys
import typing
from typing import (
    Any,
    Callable,
    Generic,
    Literal,
    TypedDict,
    cast,
)

from . import licenses, requirements, specifiers, utils
from . import version as version_module
from .licenses import NormalizedLicenseExpression

T = typing.TypeVar(&quot;T&quot;)


if sys.version_info &gt;= (3, 11):  # pragma: no cover
    ExceptionGroup = ExceptionGroup
else:  # pragma: no cover

    class ExceptionGroup(Exception):
        &quot;&quot;&quot;A minimal implementation of :external:exc:`ExceptionGroup` from Python 3.11.

        If :external:exc:`ExceptionGroup` is already defined by Python itself,
        that version is used instead.
        &quot;&quot;&quot;

        message: str
        exceptions: list[Exception]

        def __init__(self, message: str, exceptions: list[Exception]) -&gt; None:
            self.message = message
            self.exceptions = exceptions

        def __repr__(self) -&gt; str:
            return f&quot;{self.__class__.__name__}({self.message!r}, {self.exceptions!r})&quot;


class InvalidMetadata(ValueError):
    &quot;&quot;&quot;A metadata field contains invalid data.&quot;&quot;&quot;

    field: str
    &quot;&quot;&quot;The name of the field that contains invalid data.&quot;&quot;&quot;

    def __init__(self, field: str, message: str) -&gt; None:
        self.field = field
        super().__init__(message)


# The RawMetadata class attempts to make as few assumptions about the underlying
# serialization formats as possible. The idea is that as long as a serialization
# formats offer some very basic primitives in *some* way then we can support
# serializing to and from that format.
class RawMetadata(TypedDict, total=False):
    &quot;&quot;&quot;A dictionary of raw core metadata.

    Each field in core metadata maps to a key of this dictionary (when data is
    provided). The key is lower-case and underscores are used instead of dashes
    compared to the equivalent core metadata field. Any core metadata field that
    can be specified multiple times or can hold multiple values in a single
    field have a key with a plural name. See :class:`Metadata` whose attributes
    match the keys of this dictionary.

    Core metadata fields that can be specified multiple times are stored as a
    list or dict depending on which is appropriate for the field. Any fields
    which hold multiple values in a single field are stored as a list.

    &quot;&quot;&quot;

    # Metadata 1.0 - PEP 241
    metadata_version: str
    name: str
    version: str
    platforms: list[str]
    summary: str
    description: str
    keywords: list[str]
    home_page: str
    author: str
    author_email: str
    license: str

    # Metadata 1.1 - PEP 314
    supported_platforms: list[str]
    download_url: str
    classifiers: list[str]
    requires: list[str]
    provides: list[str]
    obsoletes: list[str]

    # Metadata 1.2 - PEP 345
    maintainer: str
    maintainer_email: str
    requires_dist: list[str]
    provides_dist: list[str]
    obsoletes_dist: list[str]
    requires_python: str
    requires_external: list[str]
    project_urls: dict[str, str]

    # Metadata 2.0
    # PEP 426 attempted to completely revamp the metadata format
    # but got stuck without ever being able to build consensus on
    # it and ultimately ended up withdrawn.
    #
    # However, a number of tools had started emitting METADATA with
    # `2.0` Metadata-Version, so for historical reasons, this version
    # was skipped.

    # Metadata 2.1 - PEP 566
    description_content_type: str
    provides_extra: list[str]

    # Metadata 2.2 - PEP 643
    dynamic: list[str]

    # Metadata 2.3 - PEP 685
    # No new fields were added in PEP 685, just some edge case were
    # tightened up to provide better interoptability.

    # Metadata 2.4 - PEP 639
    license_expression: str
    license_files: list[str]


_STRING_FIELDS = {
    &quot;author&quot;,
    &quot;author_email&quot;,
    &quot;description&quot;,
    &quot;description_content_type&quot;,
    &quot;download_url&quot;,
    &quot;home_page&quot;,
    &quot;license&quot;,
    &quot;license_expression&quot;,
    &quot;maintainer&quot;,
    &quot;maintainer_email&quot;,
    &quot;metadata_version&quot;,
    &quot;name&quot;,
    &quot;requires_python&quot;,
    &quot;summary&quot;,
    &quot;version&quot;,
}

_LIST_FIELDS = {
    &quot;classifiers&quot;,
    &quot;dynamic&quot;,
    &quot;license_files&quot;,
    &quot;obsoletes&quot;,
    &quot;obsoletes_dist&quot;,
    &quot;platforms&quot;,
    &quot;provides&quot;,
    &quot;provides_dist&quot;,
    &quot;provides_extra&quot;,
    &quot;requires&quot;,
    &quot;requires_dist&quot;,
    &quot;requires_external&quot;,
    &quot;supported_platforms&quot;,
}

_DICT_FIELDS = {
    &quot;project_urls&quot;,
}


def _parse_keywords(data: str) -&gt; list[str]:
    &quot;&quot;&quot;Split a string of comma-separated keywords into a list of keywords.&quot;&quot;&quot;
    return [k.strip() for k in data.split(&quot;,&quot;)]


def _parse_project_urls(data: list[str]) -&gt; dict[str, str]:
    &quot;&quot;&quot;Parse a list of label/URL string pairings separated by a comma.&quot;&quot;&quot;
    urls = {}
    for pair in data:
        # Our logic is slightly tricky here as we want to try and do
        # *something* reasonable with malformed data.
        #
        # The main thing that we have to worry about, is data that does
        # not have a ',' at all to split the label from the Value. There
        # isn't a singular right answer here, and we will fail validation
        # later on (if the caller is validating) so it doesn't *really*
        # matter, but since the missing value has to be an empty str
        # and our return value is dict[str, str], if we let the key
        # be the missing value, then they'd have multiple '' values that
        # overwrite each other in a accumulating dict.
        #
        # The other potentional issue is that it's possible to have the
        # same label multiple times in the metadata, with no solid &quot;right&quot;
        # answer with what to do in that case. As such, we'll do the only
        # thing we can, which is treat the field as unparseable and add it
        # to our list of unparsed fields.
        parts = [p.strip() for p in pair.split(&quot;,&quot;, 1)]
        parts.extend([&quot;&quot;] * (max(0, 2 - len(parts))))  # Ensure 2 items

        # TODO: The spec doesn't say anything about if the keys should be
        #       considered case sensitive or not... logically they should
        #       be case-preserving and case-insensitive, but doing that
        #       would open up more cases where we might have duplicate
        #       entries.
        label, url = parts
        if label in urls:
            # The label already exists in our set of urls, so this field
            # is unparseable, and we can just add the whole thing to our
            # unparseable data and stop processing it.
            raise KeyError(&quot;duplicate labels in project urls&quot;)
        urls[label] = url

    return urls


def _get_payload(msg: email.message.Message, source: bytes | str) -&gt; str:
    &quot;&quot;&quot;Get the body of the message.&quot;&quot;&quot;
    # If our source is a str, then our caller has managed encodings for us,
    # and we don't need to deal with it.
    if isinstance(source, str):
        payload = msg.get_payload()
        assert isinstance(payload, str)
        return payload
    # If our source is a bytes, then we're managing the encoding and we need
    # to deal with it.
    else:
        bpayload = msg.get_payload(decode=True)
        assert isinstance(bpayload, bytes)
        try:
            return bpayload.decode(&quot;utf8&quot;, &quot;strict&quot;)
        except UnicodeDecodeError as exc:
            raise ValueError(&quot;payload in an invalid encoding&quot;) from exc


# The various parse_FORMAT functions here are intended to be as lenient as
# possible in their parsing, while still returning a correctly typed
# RawMetadata.
#
# To aid in this, we also generally want to do as little touching of the
# data as possible, except where there are possibly some historic holdovers
# that make valid data awkward to work with.
#
# While this is a lower level, intermediate format than our ``Metadata``
# class, some light touch ups can make a massive difference in usability.

# Map METADATA fields to RawMetadata.
_EMAIL_TO_RAW_MAPPING = {
    &quot;author&quot;: &quot;author&quot;,
    &quot;author-email&quot;: &quot;author_email&quot;,
    &quot;classifier&quot;: &quot;classifiers&quot;,
    &quot;description&quot;: &quot;description&quot;,
    &quot;description-content-type&quot;: &quot;description_content_type&quot;,
    &quot;download-url&quot;: &quot;download_url&quot;,
    &quot;dynamic&quot;: &quot;dynamic&quot;,
    &quot;home-page&quot;: &quot;home_page&quot;,
    &quot;keywords&quot;: &quot;keywords&quot;,
    &quot;license&quot;: &quot;license&quot;,
    &quot;license-expression&quot;: &quot;license_expression&quot;,
    &quot;license-file&quot;: &quot;license_files&quot;,
    &quot;maintainer&quot;: &quot;maintainer&quot;,
    &quot;maintainer-email&quot;: &quot;maintainer_email&quot;,
    &quot;metadata-version&quot;: &quot;metadata_version&quot;,
    &quot;name&quot;: &quot;name&quot;,
    &quot;obsoletes&quot;: &quot;obsoletes&quot;,
    &quot;obsoletes-dist&quot;: &quot;obsoletes_dist&quot;,
    &quot;platform&quot;: &quot;platforms&quot;,
    &quot;project-url&quot;: &quot;project_urls&quot;,
    &quot;provides&quot;: &quot;provides&quot;,
    &quot;provides-dist&quot;: &quot;provides_dist&quot;,
    &quot;provides-extra&quot;: &quot;provides_extra&quot;,
    &quot;requires&quot;: &quot;requires&quot;,
    &quot;requires-dist&quot;: &quot;requires_dist&quot;,
    &quot;requires-external&quot;: &quot;requires_external&quot;,
    &quot;requires-python&quot;: &quot;requires_python&quot;,
    &quot;summary&quot;: &quot;summary&quot;,
    &quot;supported-platform&quot;: &quot;supported_platforms&quot;,
    &quot;version&quot;: &quot;version&quot;,
}
_RAW_TO_EMAIL_MAPPING = {raw: email for email, raw in _EMAIL_TO_RAW_MAPPING.items()}


def parse_email(data: bytes | str) -&gt; tuple[RawMetadata, dict[str, list[str]]]:
    &quot;&quot;&quot;Parse a distribution's metadata stored as email headers (e.g. from ``METADATA``).

    This function returns a two-item tuple of dicts. The first dict is of
    recognized fields from the core metadata specification. Fields that can be
    parsed and translated into Python's built-in types are converted
    appropriately. All other fields are left as-is. Fields that are allowed to
    appear multiple times are stored as lists.

    The second dict contains all other fields from the metadata. This includes
    any unrecognized fields. It also includes any fields which are expected to
    be parsed into a built-in type but were not formatted appropriately. Finally,
    any fields that are expected to appear only once but are repeated are
    included in this dict.

    &quot;&quot;&quot;
    raw: dict[str, str | list[str] | dict[str, str]] = {}
    unparsed: dict[str, list[str]] = {}

    if isinstance(data, str):
        parsed = email.parser.Parser(policy=email.policy.compat32).parsestr(data)
    else:
        parsed = email.parser.BytesParser(policy=email.policy.compat32).parsebytes(data)

    # We have to wrap parsed.keys() in a set, because in the case of multiple
    # values for a key (a list), the key will appear multiple times in the
    # list of keys, but we're avoiding that by using get_all().
    for name in frozenset(parsed.keys()):
        # Header names in RFC are case insensitive, so we'll normalize to all
        # lower case to make comparisons easier.
        name = name.lower()

        # We use get_all() here, even for fields that aren't multiple use,
        # because otherwise someone could have e.g. two Name fields, and we
        # would just silently ignore it rather than doing something about it.
        headers = parsed.get_all(name) or []

        # The way the email module works when parsing bytes is that it
        # unconditionally decodes the bytes as ascii using the surrogateescape
        # handler. When you pull that data back out (such as with get_all() ),
        # it looks to see if the str has any surrogate escapes, and if it does
        # it wraps it in a Header object instead of returning the string.
        #
        # As such, we'll look for those Header objects, and fix up the encoding.
        value = []
        # Flag if we have run into any issues processing the headers, thus
        # signalling that the data belongs in 'unparsed'.
        valid_encoding = True
        for h in headers:
            # It's unclear if this can return more types than just a Header or
            # a str, so we'll just assert here to make sure.
            assert isinstance(h, (email.header.Header, str))

            # If it's a header object, we need to do our little dance to get
            # the real data out of it. In cases where there is invalid data
            # we're going to end up with mojibake, but there's no obvious, good
            # way around that without reimplementing parts of the Header object
            # ourselves.
            #
            # That should be fine since, if mojibacked happens, this key is
            # going into the unparsed dict anyways.
            if isinstance(h, email.header.Header):
                # The Header object stores it's data as chunks, and each chunk
                # can be independently encoded, so we'll need to check each
                # of them.
                chunks: list[tuple[bytes, str | None]] = []
                for bin, encoding in email.header.decode_header(h):
                    try:
                        bin.decode(&quot;utf8&quot;, &quot;strict&quot;)
                    except UnicodeDecodeError:
                        # Enable mojibake.
                        encoding = &quot;latin1&quot;
                        valid_encoding = False
                    else:
                        encoding = &quot;utf8&quot;
                    chunks.append((bin, encoding))

                # Turn our chunks back into a Header object, then let that
                # Header object do the right thing to turn them into a
                # string for us.
                value.append(str(email.header.make_header(chunks)))
            # This is already a string, so just add it.
            else:
                value.append(h)

        # We've processed all of our values to get them into a list of str,
        # but we may have mojibake data, in which case this is an unparsed
        # field.
        if not valid_encoding:
            unparsed[name] = value
            continue

        raw_name = _EMAIL_TO_RAW_MAPPING.get(name)
        if raw_name is None:
            # This is a bit of a weird situation, we've encountered a key that
            # we don't know what it means, so we don't know whether it's meant
            # to be a list or not.
            #
            # Since we can't really tell one way or another, we'll just leave it
            # as a list, even though it may be a single item list, because that's
            # what makes the most sense for email headers.
            unparsed[name] = value
            continue

        # If this is one of our string fields, then we'll check to see if our
        # value is a list of a single item. If it is then we'll assume that
        # it was emitted as a single string, and unwrap the str from inside
        # the list.
        #
        # If it's any other kind of data, then we haven't the faintest clue
        # what we should parse it as, and we have to just add it to our list
        # of unparsed stuff.
        if raw_name in _STRING_FIELDS and len(value) == 1:
            raw[raw_name] = value[0]
        # If this is one of our list of string fields, then we can just assign
        # the value, since email *only* has strings, and our get_all() call
        # above ensures that this is a list.
        elif raw_name in _LIST_FIELDS:
            raw[raw_name] = value
        # Special Case: Keywords
        # The keywords field is implemented in the metadata spec as a str,
        # but it conceptually is a list of strings, and is serialized using
        # &quot;, &quot;.join(keywords), so we'll do some light data massaging to turn
        # this into what it logically is.
        elif raw_name == &quot;keywords&quot; and len(value) == 1:
            raw[raw_name] = _parse_keywords(value[0])
        # Special Case: Project-URL
        # The project urls is implemented in the metadata spec as a list of
        # specially-formatted strings that represent a key and a value, which
        # is fundamentally a mapping, however the email format doesn't support
        # mappings in a sane way, so it was crammed into a list of strings
        # instead.
        #
        # We will do a little light data massaging to turn this into a map as
        # it logically should be.
        elif raw_name == &quot;project_urls&quot;:
            try:
                raw[raw_name] = _parse_project_urls(value)
            except KeyError:
                unparsed[name] = value
        # Nothing that we've done has managed to parse this, so it'll just
        # throw it in our unparseable data and move on.
        else:
            unparsed[name] = value

    # We need to support getting the Description from the message payload in
    # addition to getting it from the the headers. This does mean, though, there
    # is the possibility of it being set both ways, in which case we put both
    # in 'unparsed' since we don't know which is right.
    try:
        payload = _get_payload(parsed, data)
    except ValueError:
        unparsed.setdefault(&quot;description&quot;, []).append(
            parsed.get_payload(decode=isinstance(data, bytes))  # type: ignore[call-overload]
        )
    else:
        if payload:
            # Check to see if we've already got a description, if so then both
            # it, and this body move to unparseable.
            if &quot;description&quot; in raw:
                description_header = cast(str, raw.pop(&quot;description&quot;))
                unparsed.setdefault(&quot;description&quot;, []).extend(
                    [description_header, payload]
                )
            elif &quot;description&quot; in unparsed:
                unparsed[&quot;description&quot;].append(payload)
            else:
                raw[&quot;description&quot;] = payload

    # We need to cast our `raw` to a metadata, because a TypedDict only support
    # literal key names, but we're computing our key names on purpose, but the
    # way this function is implemented, our `TypedDict` can only have valid key
    # names.
    return cast(RawMetadata, raw), unparsed


_NOT_FOUND = object()


# Keep the two values in sync.
_VALID_METADATA_VERSIONS = [&quot;1.0&quot;, &quot;1.1&quot;, &quot;1.2&quot;, &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;, &quot;2.4&quot;]
_MetadataVersion = Literal[&quot;1.0&quot;, &quot;1.1&quot;, &quot;1.2&quot;, &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;, &quot;2.4&quot;]

_REQUIRED_ATTRS = frozenset([&quot;metadata_version&quot;, &quot;name&quot;, &quot;version&quot;])


class _Validator(Generic[T]):
    &quot;&quot;&quot;Validate a metadata field.

    All _process_*() methods correspond to a core metadata field. The method is
    called with the field's raw value. If the raw value is valid it is returned
    in its &quot;enriched&quot; form (e.g. ``version.Version`` for the ``Version`` field).
    If the raw value is invalid, :exc:`InvalidMetadata` is raised (with a cause
    as appropriate).
    &quot;&quot;&quot;

    name: str
    raw_name: str
    added: _MetadataVersion

    def __init__(
        self,
        *,
        added: _MetadataVersion = &quot;1.0&quot;,
    ) -&gt; None:
        self.added = added

    def __set_name__(self, _owner: Metadata, name: str) -&gt; None:
        self.name = name
        self.raw_name = _RAW_TO_EMAIL_MAPPING[name]

    def __get__(self, instance: Metadata, _owner: type[Metadata]) -&gt; T:
        # With Python 3.8, the caching can be replaced with functools.cached_property().
        # No need to check the cache as attribute lookup will resolve into the
        # instance's __dict__ before __get__ is called.
        cache = instance.__dict__
        value = instance._raw.get(self.name)

        # To make the _process_* methods easier, we'll check if the value is None
        # and if this field is NOT a required attribute, and if both of those
        # things are true, we'll skip the the converter. This will mean that the
        # converters never have to deal with the None union.
        if self.name in _REQUIRED_ATTRS or value is not None:
            try:
                converter: Callable[[Any], T] = getattr(self, f&quot;_process_{self.name}&quot;)
            except AttributeError:
                pass
            else:
                value = converter(value)

        cache[self.name] = value
        try:
            del instance._raw[self.name]  # type: ignore[misc]
        except KeyError:
            pass

        return cast(T, value)

    def _invalid_metadata(
        self, msg: str, cause: Exception | None = None
    ) -&gt; InvalidMetadata:
        exc = InvalidMetadata(
            self.raw_name, msg.format_map({&quot;field&quot;: repr(self.raw_name)})
        )
        exc.__cause__ = cause
        return exc

    def _process_metadata_version(self, value: str) -&gt; _MetadataVersion:
        # Implicitly makes Metadata-Version required.
        if value not in _VALID_METADATA_VERSIONS:
            raise self._invalid_metadata(f&quot;{value!r} is not a valid metadata version&quot;)
        return cast(_MetadataVersion, value)

    def _process_name(self, value: str) -&gt; str:
        if not value:
            raise self._invalid_metadata(&quot;{field} is a required field&quot;)
        # Validate the name as a side-effect.
        try:
            utils.canonicalize_name(value, validate=True)
        except utils.InvalidName as exc:
            raise self._invalid_metadata(
                f&quot;{value!r} is invalid for {{field}}&quot;, cause=exc
            ) from exc
        else:
            return value

    def _process_version(self, value: str) -&gt; version_module.Version:
        if not value:
            raise self._invalid_metadata(&quot;{field} is a required field&quot;)
        try:
            return version_module.parse(value)
        except version_module.InvalidVersion as exc:
            raise self._invalid_metadata(
                f&quot;{value!r} is invalid for {{field}}&quot;, cause=exc
            ) from exc

    def _process_summary(self, value: str) -&gt; str:
        &quot;&quot;&quot;Check the field contains no newlines.&quot;&quot;&quot;
        if &quot;\n&quot; in value:
            raise self._invalid_metadata(&quot;{field} must be a single line&quot;)
        return value

    def _process_description_content_type(self, value: str) -&gt; str:
        content_types = {&quot;text/plain&quot;, &quot;text/x-rst&quot;, &quot;text/markdown&quot;}
        message = email.message.EmailMessage()
        message[&quot;content-type&quot;] = value

        content_type, parameters = (
            # Defaults to `text/plain` if parsing failed.
            message.get_content_type().lower(),
            message[&quot;content-type&quot;].params,
        )
        # Check if content-type is valid or defaulted to `text/plain` and thus was
        # not parseable.
        if content_type not in content_types or content_type not in value.lower():
            raise self._invalid_metadata(
                f&quot;{{field}} must be one of {list(content_types)}, not {value!r}&quot;
            )

        charset = parameters.get(&quot;charset&quot;, &quot;UTF-8&quot;)
        if charset != &quot;UTF-8&quot;:
            raise self._invalid_metadata(
                f&quot;{{field}} can only specify the UTF-8 charset, not {list(charset)}&quot;
            )

        markdown_variants = {&quot;GFM&quot;, &quot;CommonMark&quot;}
        variant = parameters.get(&quot;variant&quot;, &quot;GFM&quot;)  # Use an acceptable default.
        if content_type == &quot;text/markdown&quot; and variant not in markdown_variants:
            raise self._invalid_metadata(
                f&quot;valid Markdown variants for {{field}} are {list(markdown_variants)}, &quot;
                f&quot;not {variant!r}&quot;,
            )
        return value

    def _process_dynamic(self, value: list[str]) -&gt; list[str]:
        for dynamic_field in map(str.lower, value):
            if dynamic_field in {&quot;name&quot;, &quot;version&quot;, &quot;metadata-version&quot;}:
                raise self._invalid_metadata(
                    f&quot;{dynamic_field!r} is not allowed as a dynamic field&quot;
                )
            elif dynamic_field not in _EMAIL_TO_RAW_MAPPING:
                raise self._invalid_metadata(
                    f&quot;{dynamic_field!r} is not a valid dynamic field&quot;
                )
        return list(map(str.lower, value))

    def _process_provides_extra(
        self,
        value: list[str],
    ) -&gt; list[utils.NormalizedName]:
        normalized_names = []
        try:
            for name in value:
                normalized_names.append(utils.canonicalize_name(name, validate=True))
        except utils.InvalidName as exc:
            raise self._invalid_metadata(
                f&quot;{name!r} is invalid for {{field}}&quot;, cause=exc
            ) from exc
        else:
            return normalized_names

    def _process_requires_python(self, value: str) -&gt; specifiers.SpecifierSet:
        try:
            return specifiers.SpecifierSet(value)
        except specifiers.InvalidSpecifier as exc:
            raise self._invalid_metadata(
                f&quot;{value!r} is invalid for {{field}}&quot;, cause=exc
            ) from exc

    def _process_requires_dist(
        self,
        value: list[str],
    ) -&gt; list[requirements.Requirement]:
        reqs = []
        try:
            for req in value:
                reqs.append(requirements.Requirement(req))
        except requirements.InvalidRequirement as exc:
            raise self._invalid_metadata(
                f&quot;{req!r} is invalid for {{field}}&quot;, cause=exc
            ) from exc
        else:
            return reqs

    def _process_license_expression(
        self, value: str
    ) -&gt; NormalizedLicenseExpression | None:
        try:
            return licenses.canonicalize_license_expression(value)
        except ValueError as exc:
            raise self._invalid_metadata(
                f&quot;{value!r} is invalid for {{field}}&quot;, cause=exc
            ) from exc

    def _process_license_files(self, value: list[str]) -&gt; list[str]:
        paths = []
        for path in value:
            if &quot;..&quot; in path:
                raise self._invalid_metadata(
                    f&quot;{path!r} is invalid for {{field}}, &quot;
                    &quot;parent directory indicators are not allowed&quot;
                )
            if &quot;*&quot; in path:
                raise self._invalid_metadata(
                    f&quot;{path!r} is invalid for {{field}}, paths must be resolved&quot;
                )
            if (
                pathlib.PurePosixPath(path).is_absolute()
                or pathlib.PureWindowsPath(path).is_absolute()
            ):
                raise self._invalid_metadata(
                    f&quot;{path!r} is invalid for {{field}}, paths must be relative&quot;
                )
            if pathlib.PureWindowsPath(path).as_posix() != path:
                raise self._invalid_metadata(
                    f&quot;{path!r} is invalid for {{field}}, paths must use '/' delimiter&quot;
                )
            paths.append(path)
        return paths


class Metadata:
    &quot;&quot;&quot;Representation of distribution metadata.

    Compared to :class:`RawMetadata`, this class provides objects representing
    metadata fields instead of only using built-in types. Any invalid metadata
    will cause :exc:`InvalidMetadata` to be raised (with a
    :py:attr:`~BaseException.__cause__` attribute as appropriate).
    &quot;&quot;&quot;

    _raw: RawMetadata

    @classmethod
    def from_raw(cls, data: RawMetadata, *, validate: bool = True) -&gt; Metadata:
        &quot;&quot;&quot;Create an instance from :class:`RawMetadata`.

        If *validate* is true, all metadata will be validated. All exceptions
        related to validation will be gathered and raised as an :class:`ExceptionGroup`.
        &quot;&quot;&quot;
        ins = cls()
        ins._raw = data.copy()  # Mutations occur due to caching enriched values.

        if validate:
            exceptions: list[Exception] = []
            try:
                metadata_version = ins.metadata_version
                metadata_age = _VALID_METADATA_VERSIONS.index(metadata_version)
            except InvalidMetadata as metadata_version_exc:
                exceptions.append(metadata_version_exc)
                metadata_version = None

            # Make sure to check for the fields that are present, the required
            # fields (so their absence can be reported).
            fields_to_check = frozenset(ins._raw) | _REQUIRED_ATTRS
            # Remove fields that have already been checked.
            fields_to_check -= {&quot;metadata_version&quot;}

            for key in fields_to_check:
                try:
                    if metadata_version:
                        # Can't use getattr() as that triggers descriptor protocol which
                        # will fail due to no value for the instance argument.
                        try:
                            field_metadata_version = cls.__dict__[key].added
                        except KeyError:
                            exc = InvalidMetadata(key, f&quot;unrecognized field: {key!r}&quot;)
                            exceptions.append(exc)
                            continue
                        field_age = _VALID_METADATA_VERSIONS.index(
                            field_metadata_version
                        )
                        if field_age &gt; metadata_age:
                            field = _RAW_TO_EMAIL_MAPPING[key]
                            exc = InvalidMetadata(
                                field,
                                f&quot;{field} introduced in metadata version &quot;
                                f&quot;{field_metadata_version}, not {metadata_version}&quot;,
                            )
                            exceptions.append(exc)
                            continue
                    getattr(ins, key)
                except InvalidMetadata as exc:
                    exceptions.append(exc)

            if exceptions:
                raise ExceptionGroup(&quot;invalid metadata&quot;, exceptions)

        return ins

    @classmethod
    def from_email(cls, data: bytes | str, *, validate: bool = True) -&gt; Metadata:
        &quot;&quot;&quot;Parse metadata from email headers.

        If *validate* is true, the metadata will be validated. All exceptions
        related to validation will be gathered and raised as an :class:`ExceptionGroup`.
        &quot;&quot;&quot;
        raw, unparsed = parse_email(data)

        if validate:
            exceptions: list[Exception] = []
            for unparsed_key in unparsed:
                if unparsed_key in _EMAIL_TO_RAW_MAPPING:
                    message = f&quot;{unparsed_key!r} has invalid data&quot;
                else:
                    message = f&quot;unrecognized field: {unparsed_key!r}&quot;
                exceptions.append(InvalidMetadata(unparsed_key, message))

            if exceptions:
                raise ExceptionGroup(&quot;unparsed&quot;, exceptions)

        try:
            return cls.from_raw(raw, validate=validate)
        except ExceptionGroup as exc_group:
            raise ExceptionGroup(
                &quot;invalid or unparsed metadata&quot;, exc_group.exceptions
            ) from None

    metadata_version: _Validator[_MetadataVersion] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-metadata-version`
    (required; validated to be a valid metadata version)&quot;&quot;&quot;
    # `name` is not normalized/typed to NormalizedName so as to provide access to
    # the original/raw name.
    name: _Validator[str] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-name`
    (required; validated using :func:`~packaging.utils.canonicalize_name` and its
    *validate* parameter)&quot;&quot;&quot;
    version: _Validator[version_module.Version] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-version` (required)&quot;&quot;&quot;
    dynamic: _Validator[list[str] | None] = _Validator(
        added=&quot;2.2&quot;,
    )
    &quot;&quot;&quot;:external:ref:`core-metadata-dynamic`
    (validated against core metadata field names and lowercased)&quot;&quot;&quot;
    platforms: _Validator[list[str] | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-platform`&quot;&quot;&quot;
    supported_platforms: _Validator[list[str] | None] = _Validator(added=&quot;1.1&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-supported-platform`&quot;&quot;&quot;
    summary: _Validator[str | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-summary` (validated to contain no newlines)&quot;&quot;&quot;
    description: _Validator[str | None] = _Validator()  # TODO 2.1: can be in body
    &quot;&quot;&quot;:external:ref:`core-metadata-description`&quot;&quot;&quot;
    description_content_type: _Validator[str | None] = _Validator(added=&quot;2.1&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-description-content-type` (validated)&quot;&quot;&quot;
    keywords: _Validator[list[str] | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-keywords`&quot;&quot;&quot;
    home_page: _Validator[str | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-home-page`&quot;&quot;&quot;
    download_url: _Validator[str | None] = _Validator(added=&quot;1.1&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-download-url`&quot;&quot;&quot;
    author: _Validator[str | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-author`&quot;&quot;&quot;
    author_email: _Validator[str | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-author-email`&quot;&quot;&quot;
    maintainer: _Validator[str | None] = _Validator(added=&quot;1.2&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-maintainer`&quot;&quot;&quot;
    maintainer_email: _Validator[str | None] = _Validator(added=&quot;1.2&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-maintainer-email`&quot;&quot;&quot;
    license: _Validator[str | None] = _Validator()
    &quot;&quot;&quot;:external:ref:`core-metadata-license`&quot;&quot;&quot;
    license_expression: _Validator[NormalizedLicenseExpression | None] = _Validator(
        added=&quot;2.4&quot;
    )
    &quot;&quot;&quot;:external:ref:`core-metadata-license-expression`&quot;&quot;&quot;
    license_files: _Validator[list[str] | None] = _Validator(added=&quot;2.4&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-license-file`&quot;&quot;&quot;
    classifiers: _Validator[list[str] | None] = _Validator(added=&quot;1.1&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-classifier`&quot;&quot;&quot;
    requires_dist: _Validator[list[requirements.Requirement] | None] = _Validator(
        added=&quot;1.2&quot;
    )
    &quot;&quot;&quot;:external:ref:`core-metadata-requires-dist`&quot;&quot;&quot;
    requires_python: _Validator[specifiers.SpecifierSet | None] = _Validator(
        added=&quot;1.2&quot;
    )
    &quot;&quot;&quot;:external:ref:`core-metadata-requires-python`&quot;&quot;&quot;
    # Because `Requires-External` allows for non-PEP 440 version specifiers, we
    # don't do any processing on the values.
    requires_external: _Validator[list[str] | None] = _Validator(added=&quot;1.2&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-requires-external`&quot;&quot;&quot;
    project_urls: _Validator[dict[str, str] | None] = _Validator(added=&quot;1.2&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-project-url`&quot;&quot;&quot;
    # PEP 685 lets us raise an error if an extra doesn't pass `Name` validation
    # regardless of metadata version.
    provides_extra: _Validator[list[utils.NormalizedName] | None] = _Validator(
        added=&quot;2.1&quot;,
    )
    &quot;&quot;&quot;:external:ref:`core-metadata-provides-extra`&quot;&quot;&quot;
    provides_dist: _Validator[list[str] | None] = _Validator(added=&quot;1.2&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-provides-dist`&quot;&quot;&quot;
    obsoletes_dist: _Validator[list[str] | None] = _Validator(added=&quot;1.2&quot;)
    &quot;&quot;&quot;:external:ref:`core-metadata-obsoletes-dist`&quot;&quot;&quot;
    requires: _Validator[list[str] | None] = _Validator(added=&quot;1.1&quot;)
    &quot;&quot;&quot;``Requires`` (deprecated)&quot;&quot;&quot;
    provides: _Validator[list[str] | None] = _Validator(added=&quot;1.1&quot;)
    &quot;&quot;&quot;``Provides`` (deprecated)&quot;&quot;&quot;
    obsoletes: _Validator[list[str] | None] = _Validator(added=&quot;1.1&quot;)
    &quot;&quot;&quot;``Obsoletes`` (deprecated)&quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/markers.py (Line 1:1 - Line 362:4), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/markers.py (Line 1:1 - Line 362:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn744" onclick="toggleCodeBlock('cloneGroup744', 'expandBtn744', 'collapseBtn744')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn744" onclick="toggleCodeBlock('cloneGroup744', 'expandBtn744', 'collapseBtn744')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup744"><code class="language-python text-sm text-gray-800"># This file is dual licensed under the terms of the Apache License, Version
# 2.0, and the BSD License. See the LICENSE file in the root of this repository
# for complete details.

from __future__ import annotations

import operator
import os
import platform
import sys
from typing import AbstractSet, Any, Callable, Literal, TypedDict, Union, cast

from ._parser import MarkerAtom, MarkerList, Op, Value, Variable
from ._parser import parse_marker as _parse_marker
from ._tokenizer import ParserSyntaxError
from .specifiers import InvalidSpecifier, Specifier
from .utils import canonicalize_name

__all__ = [
    &quot;EvaluateContext&quot;,
    &quot;InvalidMarker&quot;,
    &quot;Marker&quot;,
    &quot;UndefinedComparison&quot;,
    &quot;UndefinedEnvironmentName&quot;,
    &quot;default_environment&quot;,
]

Operator = Callable[[str, Union[str, AbstractSet[str]]], bool]
EvaluateContext = Literal[&quot;metadata&quot;, &quot;lock_file&quot;, &quot;requirement&quot;]
MARKERS_ALLOWING_SET = {&quot;extras&quot;, &quot;dependency_groups&quot;}


class InvalidMarker(ValueError):
    &quot;&quot;&quot;
    An invalid marker was found, users should refer to PEP 508.
    &quot;&quot;&quot;


class UndefinedComparison(ValueError):
    &quot;&quot;&quot;
    An invalid operation was attempted on a value that doesn't support it.
    &quot;&quot;&quot;


class UndefinedEnvironmentName(ValueError):
    &quot;&quot;&quot;
    A name was attempted to be used that does not exist inside of the
    environment.
    &quot;&quot;&quot;


class Environment(TypedDict):
    implementation_name: str
    &quot;&quot;&quot;The implementation's identifier, e.g. ``'cpython'``.&quot;&quot;&quot;

    implementation_version: str
    &quot;&quot;&quot;
    The implementation's version, e.g. ``'3.13.0a2'`` for CPython 3.13.0a2, or
    ``'7.3.13'`` for PyPy3.10 v7.3.13.
    &quot;&quot;&quot;

    os_name: str
    &quot;&quot;&quot;
    The value of :py:data:`os.name`. The name of the operating system dependent module
    imported, e.g. ``'posix'``.
    &quot;&quot;&quot;

    platform_machine: str
    &quot;&quot;&quot;
    Returns the machine type, e.g. ``'i386'``.

    An empty string if the value cannot be determined.
    &quot;&quot;&quot;

    platform_release: str
    &quot;&quot;&quot;
    The system's release, e.g. ``'2.2.0'`` or ``'NT'``.

    An empty string if the value cannot be determined.
    &quot;&quot;&quot;

    platform_system: str
    &quot;&quot;&quot;
    The system/OS name, e.g. ``'Linux'``, ``'Windows'`` or ``'Java'``.

    An empty string if the value cannot be determined.
    &quot;&quot;&quot;

    platform_version: str
    &quot;&quot;&quot;
    The system's release version, e.g. ``'#3 on degas'``.

    An empty string if the value cannot be determined.
    &quot;&quot;&quot;

    python_full_version: str
    &quot;&quot;&quot;
    The Python version as string ``'major.minor.patchlevel'``.

    Note that unlike the Python :py:data:`sys.version`, this value will always include
    the patchlevel (it defaults to 0).
    &quot;&quot;&quot;

    platform_python_implementation: str
    &quot;&quot;&quot;
    A string identifying the Python implementation, e.g. ``'CPython'``.
    &quot;&quot;&quot;

    python_version: str
    &quot;&quot;&quot;The Python version as string ``'major.minor'``.&quot;&quot;&quot;

    sys_platform: str
    &quot;&quot;&quot;
    This string contains a platform identifier that can be used to append
    platform-specific components to :py:data:`sys.path`, for instance.

    For Unix systems, except on Linux and AIX, this is the lowercased OS name as
    returned by ``uname -s`` with the first part of the version as returned by
    ``uname -r`` appended, e.g. ``'sunos5'`` or ``'freebsd8'``, at the time when Python
    was built.
    &quot;&quot;&quot;


def _normalize_extra_values(results: Any) -&gt; Any:
    &quot;&quot;&quot;
    Normalize extra values.
    &quot;&quot;&quot;
    if isinstance(results[0], tuple):
        lhs, op, rhs = results[0]
        if isinstance(lhs, Variable) and lhs.value == &quot;extra&quot;:
            normalized_extra = canonicalize_name(rhs.value)
            rhs = Value(normalized_extra)
        elif isinstance(rhs, Variable) and rhs.value == &quot;extra&quot;:
            normalized_extra = canonicalize_name(lhs.value)
            lhs = Value(normalized_extra)
        results[0] = lhs, op, rhs
    return results


def _format_marker(
    marker: list[str] | MarkerAtom | str, first: bool | None = True
) -&gt; str:
    assert isinstance(marker, (list, tuple, str))

    # Sometimes we have a structure like [[...]] which is a single item list
    # where the single item is itself it's own list. In that case we want skip
    # the rest of this function so that we don't get extraneous () on the
    # outside.
    if (
        isinstance(marker, list)
        and len(marker) == 1
        and isinstance(marker[0], (list, tuple))
    ):
        return _format_marker(marker[0])

    if isinstance(marker, list):
        inner = (_format_marker(m, first=False) for m in marker)
        if first:
            return &quot; &quot;.join(inner)
        else:
            return &quot;(&quot; + &quot; &quot;.join(inner) + &quot;)&quot;
    elif isinstance(marker, tuple):
        return &quot; &quot;.join([m.serialize() for m in marker])
    else:
        return marker


_operators: dict[str, Operator] = {
    &quot;in&quot;: lambda lhs, rhs: lhs in rhs,
    &quot;not in&quot;: lambda lhs, rhs: lhs not in rhs,
    &quot;&lt;&quot;: operator.lt,
    &quot;&lt;=&quot;: operator.le,
    &quot;==&quot;: operator.eq,
    &quot;!=&quot;: operator.ne,
    &quot;&gt;=&quot;: operator.ge,
    &quot;&gt;&quot;: operator.gt,
}


def _eval_op(lhs: str, op: Op, rhs: str | AbstractSet[str]) -&gt; bool:
    if isinstance(rhs, str):
        try:
            spec = Specifier(&quot;&quot;.join([op.serialize(), rhs]))
        except InvalidSpecifier:
            pass
        else:
            return spec.contains(lhs, prereleases=True)

    oper: Operator | None = _operators.get(op.serialize())
    if oper is None:
        raise UndefinedComparison(f&quot;Undefined {op!r} on {lhs!r} and {rhs!r}.&quot;)

    return oper(lhs, rhs)


def _normalize(
    lhs: str, rhs: str | AbstractSet[str], key: str
) -&gt; tuple[str, str | AbstractSet[str]]:
    # PEP 685 â€“ Comparison of extra names for optional distribution dependencies
    # https://peps.python.org/pep-0685/
    # &gt; When comparing extra names, tools MUST normalize the names being
    # &gt; compared using the semantics outlined in PEP 503 for names
    if key == &quot;extra&quot;:
        assert isinstance(rhs, str), &quot;extra value must be a string&quot;
        return (canonicalize_name(lhs), canonicalize_name(rhs))
    if key in MARKERS_ALLOWING_SET:
        if isinstance(rhs, str):  # pragma: no cover
            return (canonicalize_name(lhs), canonicalize_name(rhs))
        else:
            return (canonicalize_name(lhs), {canonicalize_name(v) for v in rhs})

    # other environment markers don't have such standards
    return lhs, rhs


def _evaluate_markers(
    markers: MarkerList, environment: dict[str, str | AbstractSet[str]]
) -&gt; bool:
    groups: list[list[bool]] = [[]]

    for marker in markers:
        assert isinstance(marker, (list, tuple, str))

        if isinstance(marker, list):
            groups[-1].append(_evaluate_markers(marker, environment))
        elif isinstance(marker, tuple):
            lhs, op, rhs = marker

            if isinstance(lhs, Variable):
                environment_key = lhs.value
                lhs_value = environment[environment_key]
                rhs_value = rhs.value
            else:
                lhs_value = lhs.value
                environment_key = rhs.value
                rhs_value = environment[environment_key]
            assert isinstance(lhs_value, str), &quot;lhs must be a string&quot;
            lhs_value, rhs_value = _normalize(lhs_value, rhs_value, key=environment_key)
            groups[-1].append(_eval_op(lhs_value, op, rhs_value))
        else:
            assert marker in [&quot;and&quot;, &quot;or&quot;]
            if marker == &quot;or&quot;:
                groups.append([])

    return any(all(item) for item in groups)


def format_full_version(info: sys._version_info) -&gt; str:
    version = f&quot;{info.major}.{info.minor}.{info.micro}&quot;
    kind = info.releaselevel
    if kind != &quot;final&quot;:
        version += kind[0] + str(info.serial)
    return version


def default_environment() -&gt; Environment:
    iver = format_full_version(sys.implementation.version)
    implementation_name = sys.implementation.name
    return {
        &quot;implementation_name&quot;: implementation_name,
        &quot;implementation_version&quot;: iver,
        &quot;os_name&quot;: os.name,
        &quot;platform_machine&quot;: platform.machine(),
        &quot;platform_release&quot;: platform.release(),
        &quot;platform_system&quot;: platform.system(),
        &quot;platform_version&quot;: platform.version(),
        &quot;python_full_version&quot;: platform.python_version(),
        &quot;platform_python_implementation&quot;: platform.python_implementation(),
        &quot;python_version&quot;: &quot;.&quot;.join(platform.python_version_tuple()[:2]),
        &quot;sys_platform&quot;: sys.platform,
    }


class Marker:
    def __init__(self, marker: str) -&gt; None:
        # Note: We create a Marker object without calling this constructor in
        #       packaging.requirements.Requirement. If any additional logic is
        #       added here, make sure to mirror/adapt Requirement.
        try:
            self._markers = _normalize_extra_values(_parse_marker(marker))
            # The attribute `_markers` can be described in terms of a recursive type:
            # MarkerList = List[Union[Tuple[Node, ...], str, MarkerList]]
            #
            # For example, the following expression:
            # python_version &gt; &quot;3.6&quot; or (python_version == &quot;3.6&quot; and os_name == &quot;unix&quot;)
            #
            # is parsed into:
            # [
            #     (&lt;Variable('python_version')&gt;, &lt;Op('&gt;')&gt;, &lt;Value('3.6')&gt;),
            #     'and',
            #     [
            #         (&lt;Variable('python_version')&gt;, &lt;Op('==')&gt;, &lt;Value('3.6')&gt;),
            #         'or',
            #         (&lt;Variable('os_name')&gt;, &lt;Op('==')&gt;, &lt;Value('unix')&gt;)
            #     ]
            # ]
        except ParserSyntaxError as e:
            raise InvalidMarker(str(e)) from e

    def __str__(self) -&gt; str:
        return _format_marker(self._markers)

    def __repr__(self) -&gt; str:
        return f&quot;&lt;Marker('{self}')&gt;&quot;

    def __hash__(self) -&gt; int:
        return hash((self.__class__.__name__, str(self)))

    def __eq__(self, other: Any) -&gt; bool:
        if not isinstance(other, Marker):
            return NotImplemented

        return str(self) == str(other)

    def evaluate(
        self,
        environment: dict[str, str] | None = None,
        context: EvaluateContext = &quot;metadata&quot;,
    ) -&gt; bool:
        &quot;&quot;&quot;Evaluate a marker.

        Return the boolean from evaluating the given marker against the
        environment. environment is an optional argument to override all or
        part of the determined environment. The *context* parameter specifies what
        context the markers are being evaluated for, which influences what markers
        are considered valid. Acceptable values are &quot;metadata&quot; (for core metadata;
        default), &quot;lock_file&quot;, and &quot;requirement&quot; (i.e. all other situations).

        The environment is determined from the current Python process.
        &quot;&quot;&quot;
        current_environment = cast(
            &quot;dict[str, str | AbstractSet[str]]&quot;, default_environment()
        )
        if context == &quot;lock_file&quot;:
            current_environment.update(
                extras=frozenset(), dependency_groups=frozenset()
            )
        elif context == &quot;metadata&quot;:
            current_environment[&quot;extra&quot;] = &quot;&quot;
        if environment is not None:
            current_environment.update(environment)
            # The API used to allow setting extra to None. We need to handle this
            # case for backwards compatibility.
            if &quot;extra&quot; in current_environment and current_environment[&quot;extra&quot;] is None:
                current_environment[&quot;extra&quot;] = &quot;&quot;

        return _evaluate_markers(
            self._markers, _repair_python_full_version(current_environment)
        )


def _repair_python_full_version(
    env: dict[str, str | AbstractSet[str]],
) -&gt; dict[str, str | AbstractSet[str]]:
    &quot;&quot;&quot;
    Work around platform.python_version() returning something that is not PEP 440
    compliant for non-tagged Python builds.
    &quot;&quot;&quot;
    python_full_version = cast(str, env[&quot;python_full_version&quot;])
    if python_full_version.endswith(&quot;+&quot;):
        env[&quot;python_full_version&quot;] = f&quot;{python_full_version}local&quot;
    return env</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/_tokenizer.py (Line 1:1 - Line 195:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_tokenizer.py (Line 1:1 - Line 195:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn745" onclick="toggleCodeBlock('cloneGroup745', 'expandBtn745', 'collapseBtn745')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn745" onclick="toggleCodeBlock('cloneGroup745', 'expandBtn745', 'collapseBtn745')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup745"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import contextlib
import re
from dataclasses import dataclass
from typing import Iterator, NoReturn

from .specifiers import Specifier


@dataclass
class Token:
    name: str
    text: str
    position: int


class ParserSyntaxError(Exception):
    &quot;&quot;&quot;The provided source text could not be parsed correctly.&quot;&quot;&quot;

    def __init__(
        self,
        message: str,
        *,
        source: str,
        span: tuple[int, int],
    ) -&gt; None:
        self.span = span
        self.message = message
        self.source = source

        super().__init__()

    def __str__(self) -&gt; str:
        marker = &quot; &quot; * self.span[0] + &quot;~&quot; * (self.span[1] - self.span[0]) + &quot;^&quot;
        return &quot;\n    &quot;.join([self.message, self.source, marker])


DEFAULT_RULES: dict[str, str | re.Pattern[str]] = {
    &quot;LEFT_PARENTHESIS&quot;: r&quot;\(&quot;,
    &quot;RIGHT_PARENTHESIS&quot;: r&quot;\)&quot;,
    &quot;LEFT_BRACKET&quot;: r&quot;\[&quot;,
    &quot;RIGHT_BRACKET&quot;: r&quot;\]&quot;,
    &quot;SEMICOLON&quot;: r&quot;;&quot;,
    &quot;COMMA&quot;: r&quot;,&quot;,
    &quot;QUOTED_STRING&quot;: re.compile(
        r&quot;&quot;&quot;
            (
                ('[^']*')
                |
                (&quot;[^&quot;]*&quot;)
            )
        &quot;&quot;&quot;,
        re.VERBOSE,
    ),
    &quot;OP&quot;: r&quot;(===|==|~=|!=|&lt;=|&gt;=|&lt;|&gt;)&quot;,
    &quot;BOOLOP&quot;: r&quot;\b(or|and)\b&quot;,
    &quot;IN&quot;: r&quot;\bin\b&quot;,
    &quot;NOT&quot;: r&quot;\bnot\b&quot;,
    &quot;VARIABLE&quot;: re.compile(
        r&quot;&quot;&quot;
            \b(
                python_version
                |python_full_version
                |os[._]name
                |sys[._]platform
                |platform_(release|system)
                |platform[._](version|machine|python_implementation)
                |python_implementation
                |implementation_(name|version)
                |extras?
                |dependency_groups
            )\b
        &quot;&quot;&quot;,
        re.VERBOSE,
    ),
    &quot;SPECIFIER&quot;: re.compile(
        Specifier._operator_regex_str + Specifier._version_regex_str,
        re.VERBOSE | re.IGNORECASE,
    ),
    &quot;AT&quot;: r&quot;\@&quot;,
    &quot;URL&quot;: r&quot;[^ \t]+&quot;,
    &quot;IDENTIFIER&quot;: r&quot;\b[a-zA-Z0-9][a-zA-Z0-9._-]*\b&quot;,
    &quot;VERSION_PREFIX_TRAIL&quot;: r&quot;\.\*&quot;,
    &quot;VERSION_LOCAL_LABEL_TRAIL&quot;: r&quot;\+[a-z0-9]+(?:[-_\.][a-z0-9]+)*&quot;,
    &quot;WS&quot;: r&quot;[ \t]+&quot;,
    &quot;END&quot;: r&quot;$&quot;,
}


class Tokenizer:
    &quot;&quot;&quot;Context-sensitive token parsing.

    Provides methods to examine the input stream to check whether the next token
    matches.
    &quot;&quot;&quot;

    def __init__(
        self,
        source: str,
        *,
        rules: dict[str, str | re.Pattern[str]],
    ) -&gt; None:
        self.source = source
        self.rules: dict[str, re.Pattern[str]] = {
            name: re.compile(pattern) for name, pattern in rules.items()
        }
        self.next_token: Token | None = None
        self.position = 0

    def consume(self, name: str) -&gt; None:
        &quot;&quot;&quot;Move beyond provided token name, if at current position.&quot;&quot;&quot;
        if self.check(name):
            self.read()

    def check(self, name: str, *, peek: bool = False) -&gt; bool:
        &quot;&quot;&quot;Check whether the next token has the provided name.

        By default, if the check succeeds, the token *must* be read before
        another check. If `peek` is set to `True`, the token is not loaded and
        would need to be checked again.
        &quot;&quot;&quot;
        assert self.next_token is None, (
            f&quot;Cannot check for {name!r}, already have {self.next_token!r}&quot;
        )
        assert name in self.rules, f&quot;Unknown token name: {name!r}&quot;

        expression = self.rules[name]

        match = expression.match(self.source, self.position)
        if match is None:
            return False
        if not peek:
            self.next_token = Token(name, match[0], self.position)
        return True

    def expect(self, name: str, *, expected: str) -&gt; Token:
        &quot;&quot;&quot;Expect a certain token name next, failing with a syntax error otherwise.

        The token is *not* read.
        &quot;&quot;&quot;
        if not self.check(name):
            raise self.raise_syntax_error(f&quot;Expected {expected}&quot;)
        return self.read()

    def read(self) -&gt; Token:
        &quot;&quot;&quot;Consume the next token and return it.&quot;&quot;&quot;
        token = self.next_token
        assert token is not None

        self.position += len(token.text)
        self.next_token = None

        return token

    def raise_syntax_error(
        self,
        message: str,
        *,
        span_start: int | None = None,
        span_end: int | None = None,
    ) -&gt; NoReturn:
        &quot;&quot;&quot;Raise ParserSyntaxError at the given position.&quot;&quot;&quot;
        span = (
            self.position if span_start is None else span_start,
            self.position if span_end is None else span_end,
        )
        raise ParserSyntaxError(
            message,
            source=self.source,
            span=span,
        )

    @contextlib.contextmanager
    def enclosing_tokens(
        self, open_token: str, close_token: str, *, around: str
    ) -&gt; Iterator[None]:
        if self.check(open_token):
            open_position = self.position
            self.read()
        else:
            open_position = None

        yield

        if open_position is None:
            return

        if not self.check(close_token):
            self.raise_syntax_error(
                f&quot;Expected matching {close_token} for {open_token}, after {around}&quot;,
                span_start=open_position,
            )

        self.read()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/_structures.py (Line 1:1 - Line 61:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_structures.py (Line 1:1 - Line 61:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn746" onclick="toggleCodeBlock('cloneGroup746', 'expandBtn746', 'collapseBtn746')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn746" onclick="toggleCodeBlock('cloneGroup746', 'expandBtn746', 'collapseBtn746')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup746"><code class="language-python text-sm text-gray-800"># This file is dual licensed under the terms of the Apache License, Version
# 2.0, and the BSD License. See the LICENSE file in the root of this repository
# for complete details.


class InfinityType:
    def __repr__(self) -&gt; str:
        return &quot;Infinity&quot;

    def __hash__(self) -&gt; int:
        return hash(repr(self))

    def __lt__(self, other: object) -&gt; bool:
        return False

    def __le__(self, other: object) -&gt; bool:
        return False

    def __eq__(self, other: object) -&gt; bool:
        return isinstance(other, self.__class__)

    def __gt__(self, other: object) -&gt; bool:
        return True

    def __ge__(self, other: object) -&gt; bool:
        return True

    def __neg__(self: object) -&gt; &quot;NegativeInfinityType&quot;:
        return NegativeInfinity


Infinity = InfinityType()


class NegativeInfinityType:
    def __repr__(self) -&gt; str:
        return &quot;-Infinity&quot;

    def __hash__(self) -&gt; int:
        return hash(repr(self))

    def __lt__(self, other: object) -&gt; bool:
        return True

    def __le__(self, other: object) -&gt; bool:
        return True

    def __eq__(self, other: object) -&gt; bool:
        return isinstance(other, self.__class__)

    def __gt__(self, other: object) -&gt; bool:
        return False

    def __ge__(self, other: object) -&gt; bool:
        return False

    def __neg__(self: object) -&gt; InfinityType:
        return Infinity


NegativeInfinity = NegativeInfinityType()</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/_parser.py (Line 1:1 - Line 353:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_parser.py (Line 1:1 - Line 353:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn747" onclick="toggleCodeBlock('cloneGroup747', 'expandBtn747', 'collapseBtn747')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn747" onclick="toggleCodeBlock('cloneGroup747', 'expandBtn747', 'collapseBtn747')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup747"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;Handwritten parser of dependency specifiers.

The docstring for each __parse_* function contains EBNF-inspired grammar representing
the implementation.
&quot;&quot;&quot;

from __future__ import annotations

import ast
from typing import NamedTuple, Sequence, Tuple, Union

from ._tokenizer import DEFAULT_RULES, Tokenizer


class Node:
    def __init__(self, value: str) -&gt; None:
        self.value = value

    def __str__(self) -&gt; str:
        return self.value

    def __repr__(self) -&gt; str:
        return f&quot;&lt;{self.__class__.__name__}('{self}')&gt;&quot;

    def serialize(self) -&gt; str:
        raise NotImplementedError


class Variable(Node):
    def serialize(self) -&gt; str:
        return str(self)


class Value(Node):
    def serialize(self) -&gt; str:
        return f'&quot;{self}&quot;'


class Op(Node):
    def serialize(self) -&gt; str:
        return str(self)


MarkerVar = Union[Variable, Value]
MarkerItem = Tuple[MarkerVar, Op, MarkerVar]
MarkerAtom = Union[MarkerItem, Sequence[&quot;MarkerAtom&quot;]]
MarkerList = Sequence[Union[&quot;MarkerList&quot;, MarkerAtom, str]]


class ParsedRequirement(NamedTuple):
    name: str
    url: str
    extras: list[str]
    specifier: str
    marker: MarkerList | None


# --------------------------------------------------------------------------------------
# Recursive descent parser for dependency specifier
# --------------------------------------------------------------------------------------
def parse_requirement(source: str) -&gt; ParsedRequirement:
    return _parse_requirement(Tokenizer(source, rules=DEFAULT_RULES))


def _parse_requirement(tokenizer: Tokenizer) -&gt; ParsedRequirement:
    &quot;&quot;&quot;
    requirement = WS? IDENTIFIER WS? extras WS? requirement_details
    &quot;&quot;&quot;
    tokenizer.consume(&quot;WS&quot;)

    name_token = tokenizer.expect(
        &quot;IDENTIFIER&quot;, expected=&quot;package name at the start of dependency specifier&quot;
    )
    name = name_token.text
    tokenizer.consume(&quot;WS&quot;)

    extras = _parse_extras(tokenizer)
    tokenizer.consume(&quot;WS&quot;)

    url, specifier, marker = _parse_requirement_details(tokenizer)
    tokenizer.expect(&quot;END&quot;, expected=&quot;end of dependency specifier&quot;)

    return ParsedRequirement(name, url, extras, specifier, marker)


def _parse_requirement_details(
    tokenizer: Tokenizer,
) -&gt; tuple[str, str, MarkerList | None]:
    &quot;&quot;&quot;
    requirement_details = AT URL (WS requirement_marker?)?
                        | specifier WS? (requirement_marker)?
    &quot;&quot;&quot;

    specifier = &quot;&quot;
    url = &quot;&quot;
    marker = None

    if tokenizer.check(&quot;AT&quot;):
        tokenizer.read()
        tokenizer.consume(&quot;WS&quot;)

        url_start = tokenizer.position
        url = tokenizer.expect(&quot;URL&quot;, expected=&quot;URL after @&quot;).text
        if tokenizer.check(&quot;END&quot;, peek=True):
            return (url, specifier, marker)

        tokenizer.expect(&quot;WS&quot;, expected=&quot;whitespace after URL&quot;)

        # The input might end after whitespace.
        if tokenizer.check(&quot;END&quot;, peek=True):
            return (url, specifier, marker)

        marker = _parse_requirement_marker(
            tokenizer, span_start=url_start, after=&quot;URL and whitespace&quot;
        )
    else:
        specifier_start = tokenizer.position
        specifier = _parse_specifier(tokenizer)
        tokenizer.consume(&quot;WS&quot;)

        if tokenizer.check(&quot;END&quot;, peek=True):
            return (url, specifier, marker)

        marker = _parse_requirement_marker(
            tokenizer,
            span_start=specifier_start,
            after=(
                &quot;version specifier&quot;
                if specifier
                else &quot;name and no valid version specifier&quot;
            ),
        )

    return (url, specifier, marker)


def _parse_requirement_marker(
    tokenizer: Tokenizer, *, span_start: int, after: str
) -&gt; MarkerList:
    &quot;&quot;&quot;
    requirement_marker = SEMICOLON marker WS?
    &quot;&quot;&quot;

    if not tokenizer.check(&quot;SEMICOLON&quot;):
        tokenizer.raise_syntax_error(
            f&quot;Expected end or semicolon (after {after})&quot;,
            span_start=span_start,
        )
    tokenizer.read()

    marker = _parse_marker(tokenizer)
    tokenizer.consume(&quot;WS&quot;)

    return marker


def _parse_extras(tokenizer: Tokenizer) -&gt; list[str]:
    &quot;&quot;&quot;
    extras = (LEFT_BRACKET wsp* extras_list? wsp* RIGHT_BRACKET)?
    &quot;&quot;&quot;
    if not tokenizer.check(&quot;LEFT_BRACKET&quot;, peek=True):
        return []

    with tokenizer.enclosing_tokens(
        &quot;LEFT_BRACKET&quot;,
        &quot;RIGHT_BRACKET&quot;,
        around=&quot;extras&quot;,
    ):
        tokenizer.consume(&quot;WS&quot;)
        extras = _parse_extras_list(tokenizer)
        tokenizer.consume(&quot;WS&quot;)

    return extras


def _parse_extras_list(tokenizer: Tokenizer) -&gt; list[str]:
    &quot;&quot;&quot;
    extras_list = identifier (wsp* ',' wsp* identifier)*
    &quot;&quot;&quot;
    extras: list[str] = []

    if not tokenizer.check(&quot;IDENTIFIER&quot;):
        return extras

    extras.append(tokenizer.read().text)

    while True:
        tokenizer.consume(&quot;WS&quot;)
        if tokenizer.check(&quot;IDENTIFIER&quot;, peek=True):
            tokenizer.raise_syntax_error(&quot;Expected comma between extra names&quot;)
        elif not tokenizer.check(&quot;COMMA&quot;):
            break

        tokenizer.read()
        tokenizer.consume(&quot;WS&quot;)

        extra_token = tokenizer.expect(&quot;IDENTIFIER&quot;, expected=&quot;extra name after comma&quot;)
        extras.append(extra_token.text)

    return extras


def _parse_specifier(tokenizer: Tokenizer) -&gt; str:
    &quot;&quot;&quot;
    specifier = LEFT_PARENTHESIS WS? version_many WS? RIGHT_PARENTHESIS
              | WS? version_many WS?
    &quot;&quot;&quot;
    with tokenizer.enclosing_tokens(
        &quot;LEFT_PARENTHESIS&quot;,
        &quot;RIGHT_PARENTHESIS&quot;,
        around=&quot;version specifier&quot;,
    ):
        tokenizer.consume(&quot;WS&quot;)
        parsed_specifiers = _parse_version_many(tokenizer)
        tokenizer.consume(&quot;WS&quot;)

    return parsed_specifiers


def _parse_version_many(tokenizer: Tokenizer) -&gt; str:
    &quot;&quot;&quot;
    version_many = (SPECIFIER (WS? COMMA WS? SPECIFIER)*)?
    &quot;&quot;&quot;
    parsed_specifiers = &quot;&quot;
    while tokenizer.check(&quot;SPECIFIER&quot;):
        span_start = tokenizer.position
        parsed_specifiers += tokenizer.read().text
        if tokenizer.check(&quot;VERSION_PREFIX_TRAIL&quot;, peek=True):
            tokenizer.raise_syntax_error(
                &quot;.* suffix can only be used with `==` or `!=` operators&quot;,
                span_start=span_start,
                span_end=tokenizer.position + 1,
            )
        if tokenizer.check(&quot;VERSION_LOCAL_LABEL_TRAIL&quot;, peek=True):
            tokenizer.raise_syntax_error(
                &quot;Local version label can only be used with `==` or `!=` operators&quot;,
                span_start=span_start,
                span_end=tokenizer.position,
            )
        tokenizer.consume(&quot;WS&quot;)
        if not tokenizer.check(&quot;COMMA&quot;):
            break
        parsed_specifiers += tokenizer.read().text
        tokenizer.consume(&quot;WS&quot;)

    return parsed_specifiers


# --------------------------------------------------------------------------------------
# Recursive descent parser for marker expression
# --------------------------------------------------------------------------------------
def parse_marker(source: str) -&gt; MarkerList:
    return _parse_full_marker(Tokenizer(source, rules=DEFAULT_RULES))


def _parse_full_marker(tokenizer: Tokenizer) -&gt; MarkerList:
    retval = _parse_marker(tokenizer)
    tokenizer.expect(&quot;END&quot;, expected=&quot;end of marker expression&quot;)
    return retval


def _parse_marker(tokenizer: Tokenizer) -&gt; MarkerList:
    &quot;&quot;&quot;
    marker = marker_atom (BOOLOP marker_atom)+
    &quot;&quot;&quot;
    expression = [_parse_marker_atom(tokenizer)]
    while tokenizer.check(&quot;BOOLOP&quot;):
        token = tokenizer.read()
        expr_right = _parse_marker_atom(tokenizer)
        expression.extend((token.text, expr_right))
    return expression


def _parse_marker_atom(tokenizer: Tokenizer) -&gt; MarkerAtom:
    &quot;&quot;&quot;
    marker_atom = WS? LEFT_PARENTHESIS WS? marker WS? RIGHT_PARENTHESIS WS?
                | WS? marker_item WS?
    &quot;&quot;&quot;

    tokenizer.consume(&quot;WS&quot;)
    if tokenizer.check(&quot;LEFT_PARENTHESIS&quot;, peek=True):
        with tokenizer.enclosing_tokens(
            &quot;LEFT_PARENTHESIS&quot;,
            &quot;RIGHT_PARENTHESIS&quot;,
            around=&quot;marker expression&quot;,
        ):
            tokenizer.consume(&quot;WS&quot;)
            marker: MarkerAtom = _parse_marker(tokenizer)
            tokenizer.consume(&quot;WS&quot;)
    else:
        marker = _parse_marker_item(tokenizer)
    tokenizer.consume(&quot;WS&quot;)
    return marker


def _parse_marker_item(tokenizer: Tokenizer) -&gt; MarkerItem:
    &quot;&quot;&quot;
    marker_item = WS? marker_var WS? marker_op WS? marker_var WS?
    &quot;&quot;&quot;
    tokenizer.consume(&quot;WS&quot;)
    marker_var_left = _parse_marker_var(tokenizer)
    tokenizer.consume(&quot;WS&quot;)
    marker_op = _parse_marker_op(tokenizer)
    tokenizer.consume(&quot;WS&quot;)
    marker_var_right = _parse_marker_var(tokenizer)
    tokenizer.consume(&quot;WS&quot;)
    return (marker_var_left, marker_op, marker_var_right)


def _parse_marker_var(tokenizer: Tokenizer) -&gt; MarkerVar:
    &quot;&quot;&quot;
    marker_var = VARIABLE | QUOTED_STRING
    &quot;&quot;&quot;
    if tokenizer.check(&quot;VARIABLE&quot;):
        return process_env_var(tokenizer.read().text.replace(&quot;.&quot;, &quot;_&quot;))
    elif tokenizer.check(&quot;QUOTED_STRING&quot;):
        return process_python_str(tokenizer.read().text)
    else:
        tokenizer.raise_syntax_error(
            message=&quot;Expected a marker variable or quoted string&quot;
        )


def process_env_var(env_var: str) -&gt; Variable:
    if env_var in (&quot;platform_python_implementation&quot;, &quot;python_implementation&quot;):
        return Variable(&quot;platform_python_implementation&quot;)
    else:
        return Variable(env_var)


def process_python_str(python_str: str) -&gt; Value:
    value = ast.literal_eval(python_str)
    return Value(str(value))


def _parse_marker_op(tokenizer: Tokenizer) -&gt; Op:
    &quot;&quot;&quot;
    marker_op = IN | NOT IN | OP
    &quot;&quot;&quot;
    if tokenizer.check(&quot;IN&quot;):
        tokenizer.read()
        return Op(&quot;in&quot;)
    elif tokenizer.check(&quot;NOT&quot;):
        tokenizer.read()
        tokenizer.expect(&quot;WS&quot;, expected=&quot;whitespace after 'not'&quot;)
        tokenizer.expect(&quot;IN&quot;, expected=&quot;'in' after 'not'&quot;)
        return Op(&quot;not in&quot;)
    elif tokenizer.check(&quot;OP&quot;):
        return Op(tokenizer.read().text)
    else:
        return tokenizer.raise_syntax_error(
            &quot;Expected marker operator, one of &lt;=, &lt;, !=, ==, &gt;=, &gt;, ~=, ===, in, not in&quot;
        )</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/_musllinux.py (Line 1:1 - Line 85:2), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_musllinux.py (Line 1:1 - Line 85:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn748" onclick="toggleCodeBlock('cloneGroup748', 'expandBtn748', 'collapseBtn748')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn748" onclick="toggleCodeBlock('cloneGroup748', 'expandBtn748', 'collapseBtn748')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup748"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;PEP 656 support.

This module implements logic to detect if the currently running Python is
linked against musl, and what musl version is used.
&quot;&quot;&quot;

from __future__ import annotations

import functools
import re
import subprocess
import sys
from typing import Iterator, NamedTuple, Sequence

from ._elffile import ELFFile


class _MuslVersion(NamedTuple):
    major: int
    minor: int


def _parse_musl_version(output: str) -&gt; _MuslVersion | None:
    lines = [n for n in (n.strip() for n in output.splitlines()) if n]
    if len(lines) &lt; 2 or lines[0][:4] != &quot;musl&quot;:
        return None
    m = re.match(r&quot;Version (\d+)\.(\d+)&quot;, lines[1])
    if not m:
        return None
    return _MuslVersion(major=int(m.group(1)), minor=int(m.group(2)))


@functools.lru_cache
def _get_musl_version(executable: str) -&gt; _MuslVersion | None:
    &quot;&quot;&quot;Detect currently-running musl runtime version.

    This is done by checking the specified executable's dynamic linking
    information, and invoking the loader to parse its output for a version
    string. If the loader is musl, the output would be something like::

        musl libc (x86_64)
        Version 1.2.2
        Dynamic Program Loader
    &quot;&quot;&quot;
    try:
        with open(executable, &quot;rb&quot;) as f:
            ld = ELFFile(f).interpreter
    except (OSError, TypeError, ValueError):
        return None
    if ld is None or &quot;musl&quot; not in ld:
        return None
    proc = subprocess.run([ld], stderr=subprocess.PIPE, text=True)
    return _parse_musl_version(proc.stderr)


def platform_tags(archs: Sequence[str]) -&gt; Iterator[str]:
    &quot;&quot;&quot;Generate musllinux tags compatible to the current platform.

    :param archs: Sequence of compatible architectures.
        The first one shall be the closest to the actual architecture and be the part of
        platform tag after the ``linux_`` prefix, e.g. ``x86_64``.
        The ``linux_`` prefix is assumed as a prerequisite for the current platform to
        be musllinux-compatible.

    :returns: An iterator of compatible musllinux tags.
    &quot;&quot;&quot;
    sys_musl = _get_musl_version(sys.executable)
    if sys_musl is None:  # Python not dynamically linked against musl.
        return
    for arch in archs:
        for minor in range(sys_musl.minor, -1, -1):
            yield f&quot;musllinux_{sys_musl.major}_{minor}_{arch}&quot;


if __name__ == &quot;__main__&quot;:  # pragma: no cover
    import sysconfig

    plat = sysconfig.get_platform()
    assert plat.startswith(&quot;linux-&quot;), &quot;not linux&quot;

    print(&quot;plat:&quot;, plat)
    print(&quot;musl:&quot;, _get_musl_version(sys.executable))
    print(&quot;tags:&quot;, end=&quot; &quot;)
    for t in platform_tags(re.sub(r&quot;[.-]&quot;, &quot;_&quot;, plat.split(&quot;-&quot;, 1)[-1])):
        print(t, end=&quot;\n      &quot;)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/_manylinux.py (Line 1:1 - Line 262:22), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_manylinux.py (Line 1:1 - Line 262:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn749" onclick="toggleCodeBlock('cloneGroup749', 'expandBtn749', 'collapseBtn749')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn749" onclick="toggleCodeBlock('cloneGroup749', 'expandBtn749', 'collapseBtn749')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup749"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import collections
import contextlib
import functools
import os
import re
import sys
import warnings
from typing import Generator, Iterator, NamedTuple, Sequence

from ._elffile import EIClass, EIData, ELFFile, EMachine

EF_ARM_ABIMASK = 0xFF000000
EF_ARM_ABI_VER5 = 0x05000000
EF_ARM_ABI_FLOAT_HARD = 0x00000400


# `os.PathLike` not a generic type until Python 3.9, so sticking with `str`
# as the type for `path` until then.
@contextlib.contextmanager
def _parse_elf(path: str) -&gt; Generator[ELFFile | None, None, None]:
    try:
        with open(path, &quot;rb&quot;) as f:
            yield ELFFile(f)
    except (OSError, TypeError, ValueError):
        yield None


def _is_linux_armhf(executable: str) -&gt; bool:
    # hard-float ABI can be detected from the ELF header of the running
    # process
    # https://static.docs.arm.com/ihi0044/g/aaelf32.pdf
    with _parse_elf(executable) as f:
        return (
            f is not None
            and f.capacity == EIClass.C32
            and f.encoding == EIData.Lsb
            and f.machine == EMachine.Arm
            and f.flags &amp; EF_ARM_ABIMASK == EF_ARM_ABI_VER5
            and f.flags &amp; EF_ARM_ABI_FLOAT_HARD == EF_ARM_ABI_FLOAT_HARD
        )


def _is_linux_i686(executable: str) -&gt; bool:
    with _parse_elf(executable) as f:
        return (
            f is not None
            and f.capacity == EIClass.C32
            and f.encoding == EIData.Lsb
            and f.machine == EMachine.I386
        )


def _have_compatible_abi(executable: str, archs: Sequence[str]) -&gt; bool:
    if &quot;armv7l&quot; in archs:
        return _is_linux_armhf(executable)
    if &quot;i686&quot; in archs:
        return _is_linux_i686(executable)
    allowed_archs = {
        &quot;x86_64&quot;,
        &quot;aarch64&quot;,
        &quot;ppc64&quot;,
        &quot;ppc64le&quot;,
        &quot;s390x&quot;,
        &quot;loongarch64&quot;,
        &quot;riscv64&quot;,
    }
    return any(arch in allowed_archs for arch in archs)


# If glibc ever changes its major version, we need to know what the last
# minor version was, so we can build the complete list of all versions.
# For now, guess what the highest minor version might be, assume it will
# be 50 for testing. Once this actually happens, update the dictionary
# with the actual value.
_LAST_GLIBC_MINOR: dict[int, int] = collections.defaultdict(lambda: 50)


class _GLibCVersion(NamedTuple):
    major: int
    minor: int


def _glibc_version_string_confstr() -&gt; str | None:
    &quot;&quot;&quot;
    Primary implementation of glibc_version_string using os.confstr.
    &quot;&quot;&quot;
    # os.confstr is quite a bit faster than ctypes.DLL. It's also less likely
    # to be broken or missing. This strategy is used in the standard library
    # platform module.
    # https://github.com/python/cpython/blob/fcf1d003bf4f0100c/Lib/platform.py#L175-L183
    try:
        # Should be a string like &quot;glibc 2.17&quot;.
        version_string: str | None = os.confstr(&quot;CS_GNU_LIBC_VERSION&quot;)
        assert version_string is not None
        _, version = version_string.rsplit()
    except (AssertionError, AttributeError, OSError, ValueError):
        # os.confstr() or CS_GNU_LIBC_VERSION not available (or a bad value)...
        return None
    return version


def _glibc_version_string_ctypes() -&gt; str | None:
    &quot;&quot;&quot;
    Fallback implementation of glibc_version_string using ctypes.
    &quot;&quot;&quot;
    try:
        import ctypes
    except ImportError:
        return None

    # ctypes.CDLL(None) internally calls dlopen(NULL), and as the dlopen
    # manpage says, &quot;If filename is NULL, then the returned handle is for the
    # main program&quot;. This way we can let the linker do the work to figure out
    # which libc our process is actually using.
    #
    # We must also handle the special case where the executable is not a
    # dynamically linked executable. This can occur when using musl libc,
    # for example. In this situation, dlopen() will error, leading to an
    # OSError. Interestingly, at least in the case of musl, there is no
    # errno set on the OSError. The single string argument used to construct
    # OSError comes from libc itself and is therefore not portable to
    # hard code here. In any case, failure to call dlopen() means we
    # can proceed, so we bail on our attempt.
    try:
        process_namespace = ctypes.CDLL(None)
    except OSError:
        return None

    try:
        gnu_get_libc_version = process_namespace.gnu_get_libc_version
    except AttributeError:
        # Symbol doesn't exist -&gt; therefore, we are not linked to
        # glibc.
        return None

    # Call gnu_get_libc_version, which returns a string like &quot;2.5&quot;
    gnu_get_libc_version.restype = ctypes.c_char_p
    version_str: str = gnu_get_libc_version()
    # py2 / py3 compatibility:
    if not isinstance(version_str, str):
        version_str = version_str.decode(&quot;ascii&quot;)

    return version_str


def _glibc_version_string() -&gt; str | None:
    &quot;&quot;&quot;Returns glibc version string, or None if not using glibc.&quot;&quot;&quot;
    return _glibc_version_string_confstr() or _glibc_version_string_ctypes()


def _parse_glibc_version(version_str: str) -&gt; tuple[int, int]:
    &quot;&quot;&quot;Parse glibc version.

    We use a regexp instead of str.split because we want to discard any
    random junk that might come after the minor version -- this might happen
    in patched/forked versions of glibc (e.g. Linaro's version of glibc
    uses version strings like &quot;2.20-2014.11&quot;). See gh-3588.
    &quot;&quot;&quot;
    m = re.match(r&quot;(?P&lt;major&gt;[0-9]+)\.(?P&lt;minor&gt;[0-9]+)&quot;, version_str)
    if not m:
        warnings.warn(
            f&quot;Expected glibc version with 2 components major.minor, got: {version_str}&quot;,
            RuntimeWarning,
            stacklevel=2,
        )
        return -1, -1
    return int(m.group(&quot;major&quot;)), int(m.group(&quot;minor&quot;))


@functools.lru_cache
def _get_glibc_version() -&gt; tuple[int, int]:
    version_str = _glibc_version_string()
    if version_str is None:
        return (-1, -1)
    return _parse_glibc_version(version_str)


# From PEP 513, PEP 600
def _is_compatible(arch: str, version: _GLibCVersion) -&gt; bool:
    sys_glibc = _get_glibc_version()
    if sys_glibc &lt; version:
        return False
    # Check for presence of _manylinux module.
    try:
        import _manylinux
    except ImportError:
        return True
    if hasattr(_manylinux, &quot;manylinux_compatible&quot;):
        result = _manylinux.manylinux_compatible(version[0], version[1], arch)
        if result is not None:
            return bool(result)
        return True
    if version == _GLibCVersion(2, 5):
        if hasattr(_manylinux, &quot;manylinux1_compatible&quot;):
            return bool(_manylinux.manylinux1_compatible)
    if version == _GLibCVersion(2, 12):
        if hasattr(_manylinux, &quot;manylinux2010_compatible&quot;):
            return bool(_manylinux.manylinux2010_compatible)
    if version == _GLibCVersion(2, 17):
        if hasattr(_manylinux, &quot;manylinux2014_compatible&quot;):
            return bool(_manylinux.manylinux2014_compatible)
    return True


_LEGACY_MANYLINUX_MAP = {
    # CentOS 7 w/ glibc 2.17 (PEP 599)
    (2, 17): &quot;manylinux2014&quot;,
    # CentOS 6 w/ glibc 2.12 (PEP 571)
    (2, 12): &quot;manylinux2010&quot;,
    # CentOS 5 w/ glibc 2.5 (PEP 513)
    (2, 5): &quot;manylinux1&quot;,
}


def platform_tags(archs: Sequence[str]) -&gt; Iterator[str]:
    &quot;&quot;&quot;Generate manylinux tags compatible to the current platform.

    :param archs: Sequence of compatible architectures.
        The first one shall be the closest to the actual architecture and be the part of
        platform tag after the ``linux_`` prefix, e.g. ``x86_64``.
        The ``linux_`` prefix is assumed as a prerequisite for the current platform to
        be manylinux-compatible.

    :returns: An iterator of compatible manylinux tags.
    &quot;&quot;&quot;
    if not _have_compatible_abi(sys.executable, archs):
        return
    # Oldest glibc to be supported regardless of architecture is (2, 17).
    too_old_glibc2 = _GLibCVersion(2, 16)
    if set(archs) &amp; {&quot;x86_64&quot;, &quot;i686&quot;}:
        # On x86/i686 also oldest glibc to be supported is (2, 5).
        too_old_glibc2 = _GLibCVersion(2, 4)
    current_glibc = _GLibCVersion(*_get_glibc_version())
    glibc_max_list = [current_glibc]
    # We can assume compatibility across glibc major versions.
    # https://sourceware.org/bugzilla/show_bug.cgi?id=24636
    #
    # Build a list of maximum glibc versions so that we can
    # output the canonical list of all glibc from current_glibc
    # down to too_old_glibc2, including all intermediary versions.
    for glibc_major in range(current_glibc.major - 1, 1, -1):
        glibc_minor = _LAST_GLIBC_MINOR[glibc_major]
        glibc_max_list.append(_GLibCVersion(glibc_major, glibc_minor))
    for arch in archs:
        for glibc_max in glibc_max_list:
            if glibc_max.major == too_old_glibc2.major:
                min_minor = too_old_glibc2.minor
            else:
                # For other glibc major versions oldest supported is (x, 0).
                min_minor = -1
            for glibc_minor in range(glibc_max.minor, min_minor, -1):
                glibc_version = _GLibCVersion(glibc_max.major, glibc_minor)
                tag = &quot;manylinux_{}_{}&quot;.format(*glibc_version)
                if _is_compatible(arch, glibc_version):
                    yield f&quot;{tag}_{arch}&quot;
                # Handle the legacy manylinux1, manylinux2010, manylinux2014 tags.
                if glibc_version in _LEGACY_MANYLINUX_MAP:
                    legacy_tag = _LEGACY_MANYLINUX_MAP[glibc_version]
                    if _is_compatible(arch, glibc_version):
                        yield f&quot;{legacy_tag}_{arch}&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/packaging/_elffile.py (Line 1:1 - Line 109:5), .venv/lib/python3.14/site-packages/pip/_vendor/packaging/_elffile.py (Line 1:1 - Line 109:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn750" onclick="toggleCodeBlock('cloneGroup750', 'expandBtn750', 'collapseBtn750')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn750" onclick="toggleCodeBlock('cloneGroup750', 'expandBtn750', 'collapseBtn750')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup750"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
ELF file parser.

This provides a class ``ELFFile`` that parses an ELF executable in a similar
interface to ``ZipFile``. Only the read interface is implemented.

Based on: https://gist.github.com/lyssdod/f51579ae8d93c8657a5564aefc2ffbca
ELF header: https://refspecs.linuxfoundation.org/elf/gabi4+/ch4.eheader.html
&quot;&quot;&quot;

from __future__ import annotations

import enum
import os
import struct
from typing import IO


class ELFInvalid(ValueError):
    pass


class EIClass(enum.IntEnum):
    C32 = 1
    C64 = 2


class EIData(enum.IntEnum):
    Lsb = 1
    Msb = 2


class EMachine(enum.IntEnum):
    I386 = 3
    S390 = 22
    Arm = 40
    X8664 = 62
    AArc64 = 183


class ELFFile:
    &quot;&quot;&quot;
    Representation of an ELF executable.
    &quot;&quot;&quot;

    def __init__(self, f: IO[bytes]) -&gt; None:
        self._f = f

        try:
            ident = self._read(&quot;16B&quot;)
        except struct.error as e:
            raise ELFInvalid(&quot;unable to parse identification&quot;) from e
        magic = bytes(ident[:4])
        if magic != b&quot;\x7fELF&quot;:
            raise ELFInvalid(f&quot;invalid magic: {magic!r}&quot;)

        self.capacity = ident[4]  # Format for program header (bitness).
        self.encoding = ident[5]  # Data structure encoding (endianness).

        try:
            # e_fmt: Format for program header.
            # p_fmt: Format for section header.
            # p_idx: Indexes to find p_type, p_offset, and p_filesz.
            e_fmt, self._p_fmt, self._p_idx = {
                (1, 1): (&quot;&lt;HHIIIIIHHH&quot;, &quot;&lt;IIIIIIII&quot;, (0, 1, 4)),  # 32-bit LSB.
                (1, 2): (&quot;&gt;HHIIIIIHHH&quot;, &quot;&gt;IIIIIIII&quot;, (0, 1, 4)),  # 32-bit MSB.
                (2, 1): (&quot;&lt;HHIQQQIHHH&quot;, &quot;&lt;IIQQQQQQ&quot;, (0, 2, 5)),  # 64-bit LSB.
                (2, 2): (&quot;&gt;HHIQQQIHHH&quot;, &quot;&gt;IIQQQQQQ&quot;, (0, 2, 5)),  # 64-bit MSB.
            }[(self.capacity, self.encoding)]
        except KeyError as e:
            raise ELFInvalid(
                f&quot;unrecognized capacity ({self.capacity}) or encoding ({self.encoding})&quot;
            ) from e

        try:
            (
                _,
                self.machine,  # Architecture type.
                _,
                _,
                self._e_phoff,  # Offset of program header.
                _,
                self.flags,  # Processor-specific flags.
                _,
                self._e_phentsize,  # Size of section.
                self._e_phnum,  # Number of sections.
            ) = self._read(e_fmt)
        except struct.error as e:
            raise ELFInvalid(&quot;unable to parse machine and section information&quot;) from e

    def _read(self, fmt: str) -&gt; tuple[int, ...]:
        return struct.unpack(fmt, self._f.read(struct.calcsize(fmt)))

    @property
    def interpreter(self) -&gt; str | None:
        &quot;&quot;&quot;
        The path recorded in the ``PT_INTERP`` section header.
        &quot;&quot;&quot;
        for index in range(self._e_phnum):
            self._f.seek(self._e_phoff + self._e_phentsize * index)
            try:
                data = self._read(self._p_fmt)
            except struct.error:
                continue
            if data[self._p_idx[0]] != 3:  # Not PT_INTERP.
                continue
            self._f.seek(data[self._p_idx[1]])
            return os.fsdecode(self._f.read(data[self._p_idx[2]])).strip(&quot;\0&quot;)
        return None</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/pagination.py (Line 47:14 - Line 69:15), .venv/lib/python3.14/site-packages/openai/pagination.py (Line 25:13 - Line 47:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn751" onclick="toggleCodeBlock('cloneGroup751', 'expandBtn751', 'collapseBtn751')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn751" onclick="toggleCodeBlock('cloneGroup751', 'expandBtn751', 'collapseBtn751')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup751"><code class="language-python text-sm text-gray-800">[_T], BasePage[_T], Generic[_T]):
    &quot;&quot;&quot;Note: no pagination actually occurs yet, this is for forwards-compatibility.&quot;&quot;&quot;

    data: List[_T]
    object: str

    @override
    def _get_page_items(self) -&gt; List[_T]:
        data = self.data
        if not data:
            return []
        return data

    @override
    def next_page_info(self) -&gt; None:
        &quot;&quot;&quot;
        This page represents a response that isn't actually paginated at the API level
        so there will never be a next page.
        &quot;&quot;&quot;
        return None


class SyncCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/pagination.py (Line 102:14 - Line 135:27), .venv/lib/python3.14/site-packages/openai/pagination.py (Line 69:13 - Line 102:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn752" onclick="toggleCodeBlock('cloneGroup752', 'expandBtn752', 'collapseBtn752')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn752" onclick="toggleCodeBlock('cloneGroup752', 'expandBtn752', 'collapseBtn752')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup752"><code class="language-python text-sm text-gray-800">[_T], BasePage[_T], Generic[_T]):
    data: List[_T]
    has_more: Optional[bool] = None

    @override
    def _get_page_items(self) -&gt; List[_T]:
        data = self.data
        if not data:
            return []
        return data

    @override
    def has_next_page(self) -&gt; bool:
        has_more = self.has_more
        if has_more is not None and has_more is False:
            return False

        return super().has_next_page()

    @override
    def next_page_info(self) -&gt; Optional[PageInfo]:
        data = self.data
        if not data:
            return None

        item = cast(Any, data[-1])
        if not isinstance(item, CursorPageItem) or item.id is None:
            # TODO emit warning log
            return None

        return PageInfo(params={&quot;after&quot;: item.id})


class SyncConversationCursorPage</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/pagination.py (Line 138:4 - Line 157:8), .venv/lib/python3.14/site-packages/openai/pagination.py (Line 71:5 - Line 90:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn753" onclick="toggleCodeBlock('cloneGroup753', 'expandBtn753', 'collapseBtn753')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn753" onclick="toggleCodeBlock('cloneGroup753', 'expandBtn753', 'collapseBtn753')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup753"><code class="language-python text-sm text-gray-800">] = None

    @override
    def _get_page_items(self) -&gt; List[_T]:
        data = self.data
        if not data:
            return []
        return data

    @override
    def has_next_page(self) -&gt; bool:
        has_more = self.has_more
        if has_more is not None and has_more is False:
            return False

        return super().has_next_page()

    @override
    def next_page_info(self) -&gt; Optional[PageInfo]:
        last_id</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/pagination.py (Line 164:14 - Line 190:2), .venv/lib/python3.14/site-packages/openai/pagination.py (Line 135:13 - Line 161:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn754" onclick="toggleCodeBlock('cloneGroup754', 'expandBtn754', 'collapseBtn754')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn754" onclick="toggleCodeBlock('cloneGroup754', 'expandBtn754', 'collapseBtn754')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup754"><code class="language-python text-sm text-gray-800">[_T], BasePage[_T], Generic[_T]):
    data: List[_T]
    has_more: Optional[bool] = None
    last_id: Optional[str] = None

    @override
    def _get_page_items(self) -&gt; List[_T]:
        data = self.data
        if not data:
            return []
        return data

    @override
    def has_next_page(self) -&gt; bool:
        has_more = self.has_more
        if has_more is not None and has_more is False:
            return False

        return super().has_next_page()

    @override
    def next_page_info(self) -&gt; Optional[PageInfo]:
        last_id = self.last_id
        if not last_id:
            return None

        return PageInfo(params={&quot;after&quot;: last_id})</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_streaming.py (Line 83:2 - Line 97:5), .venv/lib/python3.14/site-packages/openai/_streaming.py (Line 66:2 - Line 80:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn755" onclick="toggleCodeBlock('cloneGroup755', 'expandBtn755', 'collapseBtn755')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn755" onclick="toggleCodeBlock('cloneGroup755', 'expandBtn755', 'collapseBtn755')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup755"><code class="language-python text-sm text-gray-800">is_mapping(data) and data.get(&quot;error&quot;):
                    message = None
                    error = data.get(&quot;error&quot;)
                    if is_mapping(error):
                        message = error.get(&quot;message&quot;)
                    if not message or not isinstance(message, str):
                        message = &quot;An error occurred during streaming&quot;

                    raise APIError(
                        message=message,
                        request=self.response.request,
                        body=data[&quot;error&quot;],
                    )

                yield process_data(data=data</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_streaming.py (Line 160:2 - Line 202:6), .venv/lib/python3.14/site-packages/openai/_streaming.py (Line 58:9 - Line 100:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn756" onclick="toggleCodeBlock('cloneGroup756', 'expandBtn756', 'collapseBtn756')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn756" onclick="toggleCodeBlock('cloneGroup756', 'expandBtn756', 'collapseBtn756')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup756"><code class="language-python text-sm text-gray-800">for sse in iterator:
            if sse.data.startswith(&quot;[DONE]&quot;):
                break

            # we have to special case the Assistants `thread.` events since we won't have an &quot;event&quot; key in the data
            if sse.event and sse.event.startswith(&quot;thread.&quot;):
                data = sse.json()

                if sse.event == &quot;error&quot; and is_mapping(data) and data.get(&quot;error&quot;):
                    message = None
                    error = data.get(&quot;error&quot;)
                    if is_mapping(error):
                        message = error.get(&quot;message&quot;)
                    if not message or not isinstance(message, str):
                        message = &quot;An error occurred during streaming&quot;

                    raise APIError(
                        message=message,
                        request=self.response.request,
                        body=data[&quot;error&quot;],
                    )

                yield process_data(data={&quot;data&quot;: data, &quot;event&quot;: sse.event}, cast_to=cast_to, response=response)
            else:
                data = sse.json()
                if is_mapping(data) and data.get(&quot;error&quot;):
                    message = None
                    error = data.get(&quot;error&quot;)
                    if is_mapping(error):
                        message = error.get(&quot;message&quot;)
                    if not message or not isinstance(message, str):
                        message = &quot;An error occurred during streaming&quot;

                    raise APIError(
                        message=message,
                        request=self.response.request,
                        body=data[&quot;error&quot;],
                    )

                yield process_data(data=data, cast_to=cast_to, response=response)

        # Ensure the entire stream is consumed
        async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_streaming.py (Line 205:5 - Line 222:9), .venv/lib/python3.14/site-packages/openai/lib/streaming/responses/_responses.py (Line 161:5 - Line 178:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn757" onclick="toggleCodeBlock('cloneGroup757', 'expandBtn757', 'collapseBtn757')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn757" onclick="toggleCodeBlock('cloneGroup757', 'expandBtn757', 'collapseBtn757')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup757"><code class="language-python text-sm text-gray-800">async def __aenter__(self) -&gt; Self:
        return self

    async def __aexit__(
        self,
        exc_type: type[BaseException] | None,
        exc: BaseException | None,
        exc_tb: TracebackType | None,
    ) -&gt; None:
        await self.close()

    async def close(self) -&gt; None:
        &quot;&quot;&quot;
        Close the response and release the connection.

        Automatically called if the response body is read to completion.
        &quot;&quot;&quot;
        await self.response</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_response.py (Line 428:2 - Line 440:6), .venv/lib/python3.14/site-packages/openai/_response.py (Line 321:13 - Line 333:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn758" onclick="toggleCodeBlock('cloneGroup758', 'expandBtn758', 'collapseBtn758')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn758" onclick="toggleCodeBlock('cloneGroup758', 'expandBtn758', 'collapseBtn758')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup758"><code class="language-python text-sm text-gray-800">self.read()

        parsed = self._parse(to=to)
        if is_given(self._options.post_parser):
            parsed = self._options.post_parser(parsed)

        if isinstance(parsed, BaseModel):
            add_request_id(parsed, self.request_id)

        self._parsed_by_type[cache_key] = parsed
        return cast(R, parsed)

    async</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_models.py (Line 341:5 - Line 351:9), .venv/lib/python3.14/site-packages/openai/_models.py (Line 281:9 - Line 291:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn759" onclick="toggleCodeBlock('cloneGroup759', 'expandBtn759', 'collapseBtn759')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn759" onclick="toggleCodeBlock('cloneGroup759', 'expandBtn759', 'collapseBtn759')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup759"><code class="language-python text-sm text-gray-800">,
            include: IncEx | None = None,
            exclude: IncEx | None = None,
            by_alias: bool | None = None,
            exclude_unset: bool = False,
            exclude_defaults: bool = False,
            exclude_none: bool = False,
            round_trip: bool = False,
            warnings: bool | Literal[&quot;none&quot;, &quot;warn&quot;, &quot;error&quot;] = True,
            context: dict[str, Any] | None = None,
            fallback</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 61:8 - Line 84:8), .venv/lib/python3.14/site-packages/openai/_response.py (Line 52:15 - Line 75:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn760" onclick="toggleCodeBlock('cloneGroup760', 'expandBtn760', 'collapseBtn760')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn760" onclick="toggleCodeBlock('cloneGroup760', 'expandBtn760', 'collapseBtn760')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup760"><code class="language-python text-sm text-gray-800">: bool
    _stream_cls: type[Stream[Any]] | type[AsyncStream[Any]] | None
    _options: FinalRequestOptions

    http_response: httpx.Response

    retries_taken: int
    &quot;&quot;&quot;The number of retries made. If no retries happened this will be `0`&quot;&quot;&quot;

    def __init__(
        self,
        *,
        raw: httpx.Response,
        cast_to: type[R],
        client: BaseClient[Any, Any],
        stream: bool,
        stream_cls: type[Stream[Any]] | type[AsyncStream[Any]] | None,
        options: FinalRequestOptions,
        retries_taken: int = 0,
    ) -&gt; None:
        self._cast_to = cast_to
        self._client = client
        self._parsed_by_type = {}
        self._stream</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 90:5 - Line 131:12), .venv/lib/python3.14/site-packages/openai/_response.py (Line 275:5 - Line 314:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn761" onclick="toggleCodeBlock('cloneGroup761', 'expandBtn761', 'collapseBtn761')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn761" onclick="toggleCodeBlock('cloneGroup761', 'expandBtn761', 'collapseBtn761')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup761"><code class="language-python text-sm text-gray-800">@property
    def request_id(self) -&gt; str | None:
        return self.http_response.headers.get(&quot;x-request-id&quot;)  # type: ignore[no-any-return]

    @overload
    def parse(self, *, to: type[_T]) -&gt; _T: ...

    @overload
    def parse(self) -&gt; R: ...

    def parse(self, *, to: type[_T] | None = None) -&gt; R | _T:
        &quot;&quot;&quot;Returns the rich python representation of this response's data.

        NOTE: For the async client: this will become a coroutine in the next major version.

        For lower-level control, see `.read()`, `.json()`, `.iter_bytes()`.

        You can customise the type that the response is parsed into through
        the `to` argument, e.g.

        ```py
        from openai import BaseModel


        class MyModel(BaseModel):
            foo: str


        obj = response.parse(to=MyModel)
        print(obj.foo)
        ```

        We support parsing:
          - `BaseModel`
          - `dict`
          - `list`
          - `Union`
          - `str`
          - `int`
          - `float`
          - `httpx.Response`
        &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 137:9 - Line 147:2), .venv/lib/python3.14/site-packages/openai/_response.py (Line 323:9 - Line 333:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn762" onclick="toggleCodeBlock('cloneGroup762', 'expandBtn762', 'collapseBtn762')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn762" onclick="toggleCodeBlock('cloneGroup762', 'expandBtn762', 'collapseBtn762')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup762"><code class="language-python text-sm text-gray-800">parsed = self._parse(to=to)
        if is_given(self._options.post_parser):
            parsed = self._options.post_parser(parsed)

        if isinstance(parsed, BaseModel):
            add_request_id(parsed, self.request_id)

        self._parsed_by_type[cache_key] = parsed
        return cast(R, parsed)

    @</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 197:5 - Line 210:8), .venv/lib/python3.14/site-packages/openai/_response.py (Line 128:5 - Line 141:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn763" onclick="toggleCodeBlock('cloneGroup763', 'expandBtn763', 'collapseBtn763')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn763" onclick="toggleCodeBlock('cloneGroup763', 'expandBtn763', 'collapseBtn763')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup763"><code class="language-python text-sm text-gray-800">def _parse(self, *, to: type[_T] | None = None) -&gt; R | _T:
        cast_to = to if to is not None else self._cast_to

        # unwrap `TypeAlias('Name', T)` -&gt; `T`
        if is_type_alias_type(cast_to):
            cast_to = cast_to.__value__  # type: ignore[unreachable]

        # unwrap `Annotated[T, ...]` -&gt; `T`
        if cast_to and is_annotated_type(cast_to):
            cast_to = extract_type_arg(cast_to, 0)

        origin = get_origin(cast_to) or cast_to

        if self._stream</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 210:8 - Line 257:4), .venv/lib/python3.14/site-packages/openai/_response.py (Line 141:15 - Line 188:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn764" onclick="toggleCodeBlock('cloneGroup764', 'expandBtn764', 'collapseBtn764')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn764" onclick="toggleCodeBlock('cloneGroup764', 'expandBtn764', 'collapseBtn764')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup764"><code class="language-python text-sm text-gray-800">:
            if to:
                if not is_stream_class_type(to):
                    raise TypeError(f&quot;Expected custom parse type to be a subclass of {Stream} or {AsyncStream}&quot;)

                return cast(
                    _T,
                    to(
                        cast_to=extract_stream_chunk_type(
                            to,
                            failure_message=&quot;Expected custom stream type to be passed with a type argument, e.g. Stream[ChunkType]&quot;,
                        ),
                        response=self.http_response,
                        client=cast(Any, self._client),
                    ),
                )

            if self._stream_cls:
                return cast(
                    R,
                    self._stream_cls(
                        cast_to=extract_stream_chunk_type(self._stream_cls),
                        response=self.http_response,
                        client=cast(Any, self._client),
                    ),
                )

            stream_cls = cast(&quot;type[Stream[Any]] | type[AsyncStream[Any]] | None&quot;, self._client._default_stream_cls)
            if stream_cls is None:
                raise MissingStreamClassError()

            return cast(
                R,
                stream_cls(
                    cast_to=cast_to,
                    response=self.http_response,
                    client=cast(Any, self._client),
                ),
            )

        if cast_to is NoneType:
            return cast(R, None)

        response = self.http_response
        if cast_to == str:
            return cast(R, response.text)

        if cast_to == int</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 274:9 - Line 340:10), .venv/lib/python3.14/site-packages/openai/_response.py (Line 207:7 - Line 274:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn765" onclick="toggleCodeBlock('cloneGroup765', 'expandBtn765', 'collapseBtn765')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn765" onclick="toggleCodeBlock('cloneGroup765', 'expandBtn765', 'collapseBtn765')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup765"><code class="language-python text-sm text-gray-800">) and issubclass(origin, httpx.Response):
            # Because of the invariance of our ResponseT TypeVar, users can subclass httpx.Response
            # and pass that class to our request functions. We cannot change the variance to be either
            # covariant or contravariant as that makes our usage of ResponseT illegal. We could construct
            # the response class ourselves but that is something that should be supported directly in httpx
            # as it would be easy to incorrectly construct the Response object due to the multitude of arguments.
            if cast_to != httpx.Response:
                raise ValueError(f&quot;Subclasses of httpx.Response cannot be passed to `cast_to`&quot;)
            return cast(R, response)

        if (
            inspect.isclass(
                origin  # pyright: ignore[reportUnknownArgumentType]
            )
            and not issubclass(origin, BaseModel)
            and issubclass(origin, pydantic.BaseModel)
        ):
            raise TypeError(&quot;Pydantic models must subclass our base model type, e.g. `from openai import BaseModel`&quot;)

        if (
            cast_to is not object
            and not origin is list
            and not origin is dict
            and not origin is Union
            and not issubclass(origin, BaseModel)
        ):
            raise RuntimeError(
                f&quot;Unsupported type, expected {cast_to} to be a subclass of {BaseModel}, {dict}, {list}, {Union}, {NoneType}, {str} or {httpx.Response}.&quot;
            )

        # split is required to handle cases where additional information is included
        # in the response, e.g. application/json; charset=utf-8
        content_type, *_ = response.headers.get(&quot;content-type&quot;, &quot;*&quot;).split(&quot;;&quot;)
        if not content_type.endswith(&quot;json&quot;):
            if is_basemodel(cast_to):
                try:
                    data = response.json()
                except Exception as exc:
                    log.debug(&quot;Could not read JSON from response data due to %s - %s&quot;, type(exc), exc)
                else:
                    return self._client._process_response_data(
                        data=data,
                        cast_to=cast_to,  # type: ignore
                        response=response,
                    )

            if self._client._strict_response_validation:
                raise APIResponseValidationError(
                    response=response,
                    message=f&quot;Expected Content-Type response header to be `application/json` but received `{content_type}` instead.&quot;,
                    body=response.text,
                )

            # If the API responds with content that isn't JSON then we just return
            # the (decoded) text without performing any parsing so that you can still
            # handle the response however you need to.
            return response.text  # type: ignore

        data = response.json()

        return self._client._process_response_data(
            data=data,
            cast_to=cast_to,  # type: ignore
            response=response,
        )

    @override</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 375:2 - Line 381:6), .venv/lib/python3.14/site-packages/openai/_legacy_response.py (Line 358:5 - Line 364:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn766" onclick="toggleCodeBlock('cloneGroup766', 'expandBtn766', 'collapseBtn766')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn766" onclick="toggleCodeBlock('cloneGroup766', 'expandBtn766', 'collapseBtn766')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup766"><code class="language-python text-sm text-gray-800">def wrapped(*args: P.args, **kwargs: P.kwargs) -&gt; LegacyAPIResponse[R]:
        extra_headers: dict[str, str] = {**(cast(Any, kwargs.get(&quot;extra_headers&quot;)) or {})}
        extra_headers[RAW_RESPONSE_HEADER] = &quot;true&quot;

        kwargs[&quot;extra_headers&quot;] = extra_headers

        return cast(LegacyAPIResponse[R], await</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/iniconfig/_version.py (Line 1:1 - Line 31:8), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/version.py (Line 1:1 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn767" onclick="toggleCodeBlock('cloneGroup767', 'expandBtn767', 'collapseBtn767')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn767" onclick="toggleCodeBlock('cloneGroup767', 'expandBtn767', 'collapseBtn767')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup767"><code class="language-python text-sm text-gray-800"># file generated by setuptools-scm
# don't change, don't track in version control

__all__ = [
    &quot;__version__&quot;,
    &quot;__version_tuple__&quot;,
    &quot;version&quot;,
    &quot;version_tuple&quot;,
    &quot;__commit_id__&quot;,
    &quot;commit_id&quot;,
]

TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple
    from typing import Union

    VERSION_TUPLE = Tuple[Union[int, str], ...]
    COMMIT_ID = Union[str, None]
else:
    VERSION_TUPLE = object
    COMMIT_ID = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE
commit_id: COMMIT_ID
__commit_id__: COMMIT_ID

__version__ = version = '2.3.0'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna/intranges.py (Line 1:1 - Line 57:6), .venv/lib/python3.14/site-packages/pip/_vendor/idna/intranges.py (Line 1:1 - Line 57:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn768" onclick="toggleCodeBlock('cloneGroup768', 'expandBtn768', 'collapseBtn768')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn768" onclick="toggleCodeBlock('cloneGroup768', 'expandBtn768', 'collapseBtn768')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup768"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
Given a list of integers, made up of (hopefully) a small number of long runs
of consecutive integers, compute a representation of the form
((start1, end1), (start2, end2) ...). Then answer the question &quot;was x present
in the original list?&quot; in time O(log(# runs)).
&quot;&quot;&quot;

import bisect
from typing import List, Tuple


def intranges_from_list(list_: List[int]) -&gt; Tuple[int, ...]:
    &quot;&quot;&quot;Represent a list of integers as a sequence of ranges:
    ((start_0, end_0), (start_1, end_1), ...), such that the original
    integers are exactly those x such that start_i &lt;= x &lt; end_i for some i.

    Ranges are encoded as single integers (start &lt;&lt; 32 | end), not as tuples.
    &quot;&quot;&quot;

    sorted_list = sorted(list_)
    ranges = []
    last_write = -1
    for i in range(len(sorted_list)):
        if i + 1 &lt; len(sorted_list):
            if sorted_list[i] == sorted_list[i + 1] - 1:
                continue
        current_range = sorted_list[last_write + 1 : i + 1]
        ranges.append(_encode_range(current_range[0], current_range[-1] + 1))
        last_write = i

    return tuple(ranges)


def _encode_range(start: int, end: int) -&gt; int:
    return (start &lt;&lt; 32) | end


def _decode_range(r: int) -&gt; Tuple[int, int]:
    return (r &gt;&gt; 32), (r &amp; ((1 &lt;&lt; 32) - 1))


def intranges_contain(int_: int, ranges: Tuple[int, ...]) -&gt; bool:
    &quot;&quot;&quot;Determine if `int_` falls into one of the ranges in `ranges`.&quot;&quot;&quot;
    tuple_ = _encode_range(int_, 0)
    pos = bisect.bisect_left(ranges, tuple_)
    # we could be immediately ahead of a tuple (start, end)
    # with start &lt; int_ &lt;= end
    if pos &gt; 0:
        left, right = _decode_range(ranges[pos - 1])
        if left &lt;= int_ &lt; right:
            return True
    # or we could be immediately behind a tuple (int_, end)
    if pos &lt; len(ranges):
        left, _ = _decode_range(ranges[pos])
        if left == int_:
            return True
    return False</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna/core.py (Line 1:1 - Line 311:6), .venv/lib/python3.14/site-packages/pip/_vendor/idna/core.py (Line 1:1 - Line 311:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn769" onclick="toggleCodeBlock('cloneGroup769', 'expandBtn769', 'collapseBtn769')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn769" onclick="toggleCodeBlock('cloneGroup769', 'expandBtn769', 'collapseBtn769')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup769"><code class="language-python text-sm text-gray-800">import bisect
import re
import unicodedata
from typing import Optional, Union

from . import idnadata
from .intranges import intranges_contain

_virama_combining_class = 9
_alabel_prefix = b&quot;xn--&quot;
_unicode_dots_re = re.compile(&quot;[\u002e\u3002\uff0e\uff61]&quot;)


class IDNAError(UnicodeError):
    &quot;&quot;&quot;Base exception for all IDNA-encoding related problems&quot;&quot;&quot;

    pass


class IDNABidiError(IDNAError):
    &quot;&quot;&quot;Exception when bidirectional requirements are not satisfied&quot;&quot;&quot;

    pass


class InvalidCodepoint(IDNAError):
    &quot;&quot;&quot;Exception when a disallowed or unallocated codepoint is used&quot;&quot;&quot;

    pass


class InvalidCodepointContext(IDNAError):
    &quot;&quot;&quot;Exception when the codepoint is not valid in the context it is used&quot;&quot;&quot;

    pass


def _combining_class(cp: int) -&gt; int:
    v = unicodedata.combining(chr(cp))
    if v == 0:
        if not unicodedata.name(chr(cp)):
            raise ValueError(&quot;Unknown character in unicodedata&quot;)
    return v


def _is_script(cp: str, script: str) -&gt; bool:
    return intranges_contain(ord(cp), idnadata.scripts[script])


def _punycode(s: str) -&gt; bytes:
    return s.encode(&quot;punycode&quot;)


def _unot(s: int) -&gt; str:
    return &quot;U+{:04X}&quot;.format(s)


def valid_label_length(label: Union[bytes, str]) -&gt; bool:
    if len(label) &gt; 63:
        return False
    return True


def valid_string_length(label: Union[bytes, str], trailing_dot: bool) -&gt; bool:
    if len(label) &gt; (254 if trailing_dot else 253):
        return False
    return True


def check_bidi(label: str, check_ltr: bool = False) -&gt; bool:
    # Bidi rules should only be applied if string contains RTL characters
    bidi_label = False
    for idx, cp in enumerate(label, 1):
        direction = unicodedata.bidirectional(cp)
        if direction == &quot;&quot;:
            # String likely comes from a newer version of Unicode
            raise IDNABidiError(&quot;Unknown directionality in label {} at position {}&quot;.format(repr(label), idx))
        if direction in [&quot;R&quot;, &quot;AL&quot;, &quot;AN&quot;]:
            bidi_label = True
    if not bidi_label and not check_ltr:
        return True

    # Bidi rule 1
    direction = unicodedata.bidirectional(label[0])
    if direction in [&quot;R&quot;, &quot;AL&quot;]:
        rtl = True
    elif direction == &quot;L&quot;:
        rtl = False
    else:
        raise IDNABidiError(&quot;First codepoint in label {} must be directionality L, R or AL&quot;.format(repr(label)))

    valid_ending = False
    number_type: Optional[str] = None
    for idx, cp in enumerate(label, 1):
        direction = unicodedata.bidirectional(cp)

        if rtl:
            # Bidi rule 2
            if direction not in [
                &quot;R&quot;,
                &quot;AL&quot;,
                &quot;AN&quot;,
                &quot;EN&quot;,
                &quot;ES&quot;,
                &quot;CS&quot;,
                &quot;ET&quot;,
                &quot;ON&quot;,
                &quot;BN&quot;,
                &quot;NSM&quot;,
            ]:
                raise IDNABidiError(&quot;Invalid direction for codepoint at position {} in a right-to-left label&quot;.format(idx))
            # Bidi rule 3
            if direction in [&quot;R&quot;, &quot;AL&quot;, &quot;EN&quot;, &quot;AN&quot;]:
                valid_ending = True
            elif direction != &quot;NSM&quot;:
                valid_ending = False
            # Bidi rule 4
            if direction in [&quot;AN&quot;, &quot;EN&quot;]:
                if not number_type:
                    number_type = direction
                else:
                    if number_type != direction:
                        raise IDNABidiError(&quot;Can not mix numeral types in a right-to-left label&quot;)
        else:
            # Bidi rule 5
            if direction not in [&quot;L&quot;, &quot;EN&quot;, &quot;ES&quot;, &quot;CS&quot;, &quot;ET&quot;, &quot;ON&quot;, &quot;BN&quot;, &quot;NSM&quot;]:
                raise IDNABidiError(&quot;Invalid direction for codepoint at position {} in a left-to-right label&quot;.format(idx))
            # Bidi rule 6
            if direction in [&quot;L&quot;, &quot;EN&quot;]:
                valid_ending = True
            elif direction != &quot;NSM&quot;:
                valid_ending = False

    if not valid_ending:
        raise IDNABidiError(&quot;Label ends with illegal codepoint directionality&quot;)

    return True


def check_initial_combiner(label: str) -&gt; bool:
    if unicodedata.category(label[0])[0] == &quot;M&quot;:
        raise IDNAError(&quot;Label begins with an illegal combining character&quot;)
    return True


def check_hyphen_ok(label: str) -&gt; bool:
    if label[2:4] == &quot;--&quot;:
        raise IDNAError(&quot;Label has disallowed hyphens in 3rd and 4th position&quot;)
    if label[0] == &quot;-&quot; or label[-1] == &quot;-&quot;:
        raise IDNAError(&quot;Label must not start or end with a hyphen&quot;)
    return True


def check_nfc(label: str) -&gt; None:
    if unicodedata.normalize(&quot;NFC&quot;, label) != label:
        raise IDNAError(&quot;Label must be in Normalization Form C&quot;)


def valid_contextj(label: str, pos: int) -&gt; bool:
    cp_value = ord(label[pos])

    if cp_value == 0x200C:
        if pos &gt; 0:
            if _combining_class(ord(label[pos - 1])) == _virama_combining_class:
                return True

        ok = False
        for i in range(pos - 1, -1, -1):
            joining_type = idnadata.joining_types.get(ord(label[i]))
            if joining_type == ord(&quot;T&quot;):
                continue
            elif joining_type in [ord(&quot;L&quot;), ord(&quot;D&quot;)]:
                ok = True
                break
            else:
                break

        if not ok:
            return False

        ok = False
        for i in range(pos + 1, len(label)):
            joining_type = idnadata.joining_types.get(ord(label[i]))
            if joining_type == ord(&quot;T&quot;):
                continue
            elif joining_type in [ord(&quot;R&quot;), ord(&quot;D&quot;)]:
                ok = True
                break
            else:
                break
        return ok

    if cp_value == 0x200D:
        if pos &gt; 0:
            if _combining_class(ord(label[pos - 1])) == _virama_combining_class:
                return True
        return False

    else:
        return False


def valid_contexto(label: str, pos: int, exception: bool = False) -&gt; bool:
    cp_value = ord(label[pos])

    if cp_value == 0x00B7:
        if 0 &lt; pos &lt; len(label) - 1:
            if ord(label[pos - 1]) == 0x006C and ord(label[pos + 1]) == 0x006C:
                return True
        return False

    elif cp_value == 0x0375:
        if pos &lt; len(label) - 1 and len(label) &gt; 1:
            return _is_script(label[pos + 1], &quot;Greek&quot;)
        return False

    elif cp_value == 0x05F3 or cp_value == 0x05F4:
        if pos &gt; 0:
            return _is_script(label[pos - 1], &quot;Hebrew&quot;)
        return False

    elif cp_value == 0x30FB:
        for cp in label:
            if cp == &quot;\u30fb&quot;:
                continue
            if _is_script(cp, &quot;Hiragana&quot;) or _is_script(cp, &quot;Katakana&quot;) or _is_script(cp, &quot;Han&quot;):
                return True
        return False

    elif 0x660 &lt;= cp_value &lt;= 0x669:
        for cp in label:
            if 0x6F0 &lt;= ord(cp) &lt;= 0x06F9:
                return False
        return True

    elif 0x6F0 &lt;= cp_value &lt;= 0x6F9:
        for cp in label:
            if 0x660 &lt;= ord(cp) &lt;= 0x0669:
                return False
        return True

    return False


def check_label(label: Union[str, bytes, bytearray]) -&gt; None:
    if isinstance(label, (bytes, bytearray)):
        label = label.decode(&quot;utf-8&quot;)
    if len(label) == 0:
        raise IDNAError(&quot;Empty Label&quot;)

    check_nfc(label)
    check_hyphen_ok(label)
    check_initial_combiner(label)

    for pos, cp in enumerate(label):
        cp_value = ord(cp)
        if intranges_contain(cp_value, idnadata.codepoint_classes[&quot;PVALID&quot;]):
            continue
        elif intranges_contain(cp_value, idnadata.codepoint_classes[&quot;CONTEXTJ&quot;]):
            try:
                if not valid_contextj(label, pos):
                    raise InvalidCodepointContext(
                        &quot;Joiner {} not allowed at position {} in {}&quot;.format(_unot(cp_value), pos + 1, repr(label))
                    )
            except ValueError:
                raise IDNAError(
                    &quot;Unknown codepoint adjacent to joiner {} at position {} in {}&quot;.format(
                        _unot(cp_value), pos + 1, repr(label)
                    )
                )
        elif intranges_contain(cp_value, idnadata.codepoint_classes[&quot;CONTEXTO&quot;]):
            if not valid_contexto(label, pos):
                raise InvalidCodepointContext(
                    &quot;Codepoint {} not allowed at position {} in {}&quot;.format(_unot(cp_value), pos + 1, repr(label))
                )
        else:
            raise InvalidCodepoint(
                &quot;Codepoint {} at position {} of {} not allowed&quot;.format(_unot(cp_value), pos + 1, repr(label))
            )

    check_bidi(label)


def alabel(label: str) -&gt; bytes:
    try:
        label_bytes = label.encode(&quot;ascii&quot;)
        ulabel(label_bytes)
        if not valid_label_length(label_bytes):
            raise IDNAError(&quot;Label too long&quot;)
        return label_bytes
    except UnicodeEncodeError:
        pass

    check_label(label)
    label_bytes = _alabel_prefix + _punycode(label)

    if not valid_label_length(label_bytes):
        raise IDNAError(&quot;Label too long&quot;)

    return label_bytes


def ulabel(label: Union[str, bytes, bytearray]) -&gt; str:
    if not isinstance(label, (bytes, bytearray)):
        try:
            label_bytes = label.encode(&quot;ascii&quot;)
        except UnicodeEncodeError:
            check_label(label)
            return label
    else:
        label_bytes = bytes</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna/core.py (Line 313:5 - Line 437:2), .venv/lib/python3.14/site-packages/pip/_vendor/idna/core.py (Line 313:5 - Line 437:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn770" onclick="toggleCodeBlock('cloneGroup770', 'expandBtn770', 'collapseBtn770')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn770" onclick="toggleCodeBlock('cloneGroup770', 'expandBtn770', 'collapseBtn770')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup770"><code class="language-python text-sm text-gray-800">label_bytes = label_bytes.lower()
    if label_bytes.startswith(_alabel_prefix):
        label_bytes = label_bytes[len(_alabel_prefix) :]
        if not label_bytes:
            raise IDNAError(&quot;Malformed A-label, no Punycode eligible content found&quot;)
        if label_bytes.decode(&quot;ascii&quot;)[-1] == &quot;-&quot;:
            raise IDNAError(&quot;A-label must not end with a hyphen&quot;)
    else:
        check_label(label_bytes)
        return label_bytes.decode(&quot;ascii&quot;)

    try:
        label = label_bytes.decode(&quot;punycode&quot;)
    except UnicodeError:
        raise IDNAError(&quot;Invalid A-label&quot;)
    check_label(label)
    return label


def uts46_remap(domain: str, std3_rules: bool = True, transitional: bool = False) -&gt; str:
    &quot;&quot;&quot;Re-map the characters in the string according to UTS46 processing.&quot;&quot;&quot;
    from .uts46data import uts46data

    output = &quot;&quot;

    for pos, char in enumerate(domain):
        code_point = ord(char)
        try:
            uts46row = uts46data[code_point if code_point &lt; 256 else bisect.bisect_left(uts46data, (code_point, &quot;Z&quot;)) - 1]
            status = uts46row[1]
            replacement: Optional[str] = None
            if len(uts46row) == 3:
                replacement = uts46row[2]
            if (
                status == &quot;V&quot;
                or (status == &quot;D&quot; and not transitional)
                or (status == &quot;3&quot; and not std3_rules and replacement is None)
            ):
                output += char
            elif replacement is not None and (
                status == &quot;M&quot; or (status == &quot;3&quot; and not std3_rules) or (status == &quot;D&quot; and transitional)
            ):
                output += replacement
            elif status != &quot;I&quot;:
                raise IndexError()
        except IndexError:
            raise InvalidCodepoint(
                &quot;Codepoint {} not allowed at position {} in {}&quot;.format(_unot(code_point), pos + 1, repr(domain))
            )

    return unicodedata.normalize(&quot;NFC&quot;, output)


def encode(
    s: Union[str, bytes, bytearray],
    strict: bool = False,
    uts46: bool = False,
    std3_rules: bool = False,
    transitional: bool = False,
) -&gt; bytes:
    if not isinstance(s, str):
        try:
            s = str(s, &quot;ascii&quot;)
        except UnicodeDecodeError:
            raise IDNAError(&quot;should pass a unicode string to the function rather than a byte string.&quot;)
    if uts46:
        s = uts46_remap(s, std3_rules, transitional)
    trailing_dot = False
    result = []
    if strict:
        labels = s.split(&quot;.&quot;)
    else:
        labels = _unicode_dots_re.split(s)
    if not labels or labels == [&quot;&quot;]:
        raise IDNAError(&quot;Empty domain&quot;)
    if labels[-1] == &quot;&quot;:
        del labels[-1]
        trailing_dot = True
    for label in labels:
        s = alabel(label)
        if s:
            result.append(s)
        else:
            raise IDNAError(&quot;Empty label&quot;)
    if trailing_dot:
        result.append(b&quot;&quot;)
    s = b&quot;.&quot;.join(result)
    if not valid_string_length(s, trailing_dot):
        raise IDNAError(&quot;Domain too long&quot;)
    return s


def decode(
    s: Union[str, bytes, bytearray],
    strict: bool = False,
    uts46: bool = False,
    std3_rules: bool = False,
) -&gt; str:
    try:
        if not isinstance(s, str):
            s = str(s, &quot;ascii&quot;)
    except UnicodeDecodeError:
        raise IDNAError(&quot;Invalid ASCII in A-label&quot;)
    if uts46:
        s = uts46_remap(s, std3_rules, False)
    trailing_dot = False
    result = []
    if not strict:
        labels = _unicode_dots_re.split(s)
    else:
        labels = s.split(&quot;.&quot;)
    if not labels or labels == [&quot;&quot;]:
        raise IDNAError(&quot;Empty domain&quot;)
    if not labels[-1]:
        del labels[-1]
        trailing_dot = True
    for label in labels:
        s = ulabel(label)
        if s:
            result.append(s)
        else:
            raise IDNAError(&quot;Empty label&quot;)
    if trailing_dot:
        result.append(&quot;&quot;)
    return &quot;.&quot;.join(result)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna/compat.py (Line 1:1 - Line 15:2), .venv/lib/python3.14/site-packages/pip/_vendor/idna/compat.py (Line 1:1 - Line 15:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn771" onclick="toggleCodeBlock('cloneGroup771', 'expandBtn771', 'collapseBtn771')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn771" onclick="toggleCodeBlock('cloneGroup771', 'expandBtn771', 'collapseBtn771')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup771"><code class="language-python text-sm text-gray-800">from typing import Any, Union

from .core import decode, encode


def ToASCII(label: str) -&gt; bytes:
    return encode(label)


def ToUnicode(label: Union[bytes, bytearray]) -&gt; str:
    return decode(label)


def nameprep(s: Any) -&gt; None:
    raise NotImplementedError(&quot;IDNA 2008 does not utilise nameprep protocol&quot;)</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna/codec.py (Line 1:1 - Line 114:15), .venv/lib/python3.14/site-packages/pip/_vendor/idna/codec.py (Line 1:1 - Line 115:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn772" onclick="toggleCodeBlock('cloneGroup772', 'expandBtn772', 'collapseBtn772')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn772" onclick="toggleCodeBlock('cloneGroup772', 'expandBtn772', 'collapseBtn772')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup772"><code class="language-python text-sm text-gray-800">import codecs
import re
from typing import Any, Optional, Tuple

from .core import IDNAError, alabel, decode, encode, ulabel

_unicode_dots_re = re.compile(&quot;[\u002e\u3002\uff0e\uff61]&quot;)


class Codec(codecs.Codec):
    def encode(self, data: str, errors: str = &quot;strict&quot;) -&gt; Tuple[bytes, int]:
        if errors != &quot;strict&quot;:
            raise IDNAError('Unsupported error handling &quot;{}&quot;'.format(errors))

        if not data:
            return b&quot;&quot;, 0

        return encode(data), len(data)

    def decode(self, data: bytes, errors: str = &quot;strict&quot;) -&gt; Tuple[str, int]:
        if errors != &quot;strict&quot;:
            raise IDNAError('Unsupported error handling &quot;{}&quot;'.format(errors))

        if not data:
            return &quot;&quot;, 0

        return decode(data), len(data)


class IncrementalEncoder(codecs.BufferedIncrementalEncoder):
    def _buffer_encode(self, data: str, errors: str, final: bool) -&gt; Tuple[bytes, int]:
        if errors != &quot;strict&quot;:
            raise IDNAError('Unsupported error handling &quot;{}&quot;'.format(errors))

        if not data:
            return b&quot;&quot;, 0

        labels = _unicode_dots_re.split(data)
        trailing_dot = b&quot;&quot;
        if labels:
            if not labels[-1]:
                trailing_dot = b&quot;.&quot;
                del labels[-1]
            elif not final:
                # Keep potentially unfinished label until the next call
                del labels[-1]
                if labels:
                    trailing_dot = b&quot;.&quot;

        result = []
        size = 0
        for label in labels:
            result.append(alabel(label))
            if size:
                size += 1
            size += len(label)

        # Join with U+002E
        result_bytes = b&quot;.&quot;.join(result) + trailing_dot
        size += len(trailing_dot)
        return result_bytes, size


class IncrementalDecoder(codecs.BufferedIncrementalDecoder):
    def _buffer_decode(self, data: Any, errors: str, final: bool) -&gt; Tuple[str, int]:
        if errors != &quot;strict&quot;:
            raise IDNAError('Unsupported error handling &quot;{}&quot;'.format(errors))

        if not data:
            return (&quot;&quot;, 0)

        if not isinstance(data, str):
            data = str(data, &quot;ascii&quot;)

        labels = _unicode_dots_re.split(data)
        trailing_dot = &quot;&quot;
        if labels:
            if not labels[-1]:
                trailing_dot = &quot;.&quot;
                del labels[-1]
            elif not final:
                # Keep potentially unfinished label until the next call
                del labels[-1]
                if labels:
                    trailing_dot = &quot;.&quot;

        result = []
        size = 0
        for label in labels:
            result.append(ulabel(label))
            if size:
                size += 1
            size += len(label)

        result_str = &quot;.&quot;.join(result) + trailing_dot
        size += len(trailing_dot)
        return (result_str, size)


class StreamWriter(Codec, codecs.StreamWriter):
    pass


class StreamReader(Codec, codecs.StreamReader):
    pass


def search_function(name: str) -&gt; Optional[codecs.CodecInfo]:
    if name != &quot;idna2008&quot;:
        return None
    return codecs.CodecInfo(
        name=name,
        encode=Codec().encode,
        decode=Codec().decode,  # type: ignore</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/idna/__init__.py (Line 1:1 - Line 45:2), .venv/lib/python3.14/site-packages/pip/_vendor/idna/__init__.py (Line 1:1 - Line 45:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn773" onclick="toggleCodeBlock('cloneGroup773', 'expandBtn773', 'collapseBtn773')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn773" onclick="toggleCodeBlock('cloneGroup773', 'expandBtn773', 'collapseBtn773')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup773"><code class="language-python text-sm text-gray-800">from .core import (
    IDNABidiError,
    IDNAError,
    InvalidCodepoint,
    InvalidCodepointContext,
    alabel,
    check_bidi,
    check_hyphen_ok,
    check_initial_combiner,
    check_label,
    check_nfc,
    decode,
    encode,
    ulabel,
    uts46_remap,
    valid_contextj,
    valid_contexto,
    valid_label_length,
    valid_string_length,
)
from .intranges import intranges_contain
from .package_data import __version__

__all__ = [
    &quot;__version__&quot;,
    &quot;IDNABidiError&quot;,
    &quot;IDNAError&quot;,
    &quot;InvalidCodepoint&quot;,
    &quot;InvalidCodepointContext&quot;,
    &quot;alabel&quot;,
    &quot;check_bidi&quot;,
    &quot;check_hyphen_ok&quot;,
    &quot;check_initial_combiner&quot;,
    &quot;check_label&quot;,
    &quot;check_nfc&quot;,
    &quot;decode&quot;,
    &quot;encode&quot;,
    &quot;intranges_contain&quot;,
    &quot;ulabel&quot;,
    &quot;uts46_remap&quot;,
    &quot;valid_contextj&quot;,
    &quot;valid_contexto&quot;,
    &quot;valid_label_length&quot;,
    &quot;valid_string_length&quot;,
]</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/hub_mixin.py (Line 641:5 - Line 648:18), .venv/lib/python3.14/site-packages/huggingface_hub/keras_mixin.py (Line 302:4 - Line 309:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn774" onclick="toggleCodeBlock('cloneGroup774', 'expandBtn774', 'collapseBtn774')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn774" onclick="toggleCodeBlock('cloneGroup774', 'expandBtn774', 'collapseBtn774')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup774"><code class="language-python text-sm text-gray-800">] = None,
        token: Optional[str] = None,
        branch: Optional[str] = None,
        create_pr: Optional[bool] = None,
        allow_patterns: Optional[Union[List[str], str]] = None,
        ignore_patterns: Optional[Union[List[str], str]] = None,
        delete_patterns: Optional[Union[List[str], str]] = None,
        model_card_kwargs</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/dataclasses.py (Line 294:9 - Line 302:2), .venv/lib/python3.14/site-packages/huggingface_hub/dataclasses.py (Line 243:5 - Line 251:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn775" onclick="toggleCodeBlock('cloneGroup775', 'expandBtn775', 'collapseBtn775')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn775" onclick="toggleCodeBlock('cloneGroup775', 'expandBtn775', 'collapseBtn775')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup775"><code class="language-python text-sm text-gray-800">default: Union[Any, _MISSING_TYPE] = MISSING,
        default_factory: Union[Callable[[], Any], _MISSING_TYPE] = MISSING,
        init: bool = True,
        repr: bool = True,
        hash: Optional[bool] = None,
        compare: bool = True,
        metadata: Optional[Dict] = None,
        **kwargs: Any,
    ):</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/community.py (Line 299:2 - Line 314:10), .venv/lib/python3.14/site-packages/huggingface_hub/community.py (Line 272:2 - Line 287:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn776" onclick="toggleCodeBlock('cloneGroup776', 'expandBtn776', 'collapseBtn776')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn776" onclick="toggleCodeBlock('cloneGroup776', 'expandBtn776', 'collapseBtn776')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup776"><code class="language-python text-sm text-gray-800">Pull Request.

    Subclass of [`DiscussionEvent`].

    Attributes:
        id (`str`):
            The ID of the event. An hexadecimal string.
        type (`str`):
            The type of the event.
        created_at (`datetime`):
            A [`datetime`](https://docs.python.org/3/library/datetime.html?highlight=datetime#datetime.datetime)
            object holding the creation timestamp for the event.
        author (`str`):
            The username of the Discussion / Pull Request author.
            Can be `&quot;deleted&quot;` if the user has been deleted since.
        old_title</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/huggingface_hub/_local_folder.py (Line 258:2 - Line 271:21), .venv/lib/python3.14/site-packages/huggingface_hub/_local_folder.py (Line 218:2 - Line 231:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn777" onclick="toggleCodeBlock('cloneGroup777', 'expandBtn777', 'collapseBtn777')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn777" onclick="toggleCodeBlock('cloneGroup777', 'expandBtn777', 'collapseBtn777')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup777"><code class="language-python text-sm text-gray-800">/ f&quot;{sanitized_filename}.metadata&quot;
    lock_path = metadata_path.with_suffix(&quot;.lock&quot;)

    # Some Windows versions do not allow for paths longer than 255 characters.
    # In this case, we must specify it as an extended path by using the &quot;\\?\&quot; prefix
    if os.name == &quot;nt&quot;:
        if not str(local_dir).startswith(&quot;\\\\?\\&quot;) and len(os.path.abspath(lock_path)) &gt; 255:
            file_path = Path(&quot;\\\\?\\&quot; + os.path.abspath(file_path))
            lock_path = Path(&quot;\\\\?\\&quot; + os.path.abspath(lock_path))
            metadata_path = Path(&quot;\\\\?\\&quot; + os.path.abspath(metadata_path))

    file_path.parent.mkdir(parents=True, exist_ok=True)
    metadata_path.parent.mkdir(parents=True, exist_ok=True)
    return LocalUploadFilePaths</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_urlparse.py (Line 76:2 - Line 86:79), .venv/lib/python3.14/site-packages/httpx/_urlparse.py (Line 66:2 - Line 76:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn778" onclick="toggleCodeBlock('cloneGroup778', 'expandBtn778', 'collapseBtn778')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn778" onclick="toggleCodeBlock('cloneGroup778', 'expandBtn778', 'collapseBtn778')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup778"><code class="language-python text-sm text-gray-800">= &quot;&quot;.join(
    [
        chr(i)
        for i in range(0x20, 0x7F)
        if i
        not in (0x20, 0x22, 0x23, 0x3C, 0x3E)
        + (0x3F, 0x60, 0x7B, 0x7D)
        + (0x2F, 0x3A, 0x3B, 0x3D, 0x40, 0x5B, 0x5C, 0x5D, 0x5E, 0x7C)
    ]
)
# Note... The terminology 'userinfo' percent-encode set in the WHATWG document</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_types.py (Line 75:1 - Line 87:18), .venv/lib/python3.14/site-packages/openai/_types.py (Line 60:1 - Line 72:61)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn779" onclick="toggleCodeBlock('cloneGroup779', 'expandBtn779', 'collapseBtn779')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn779" onclick="toggleCodeBlock('cloneGroup779', 'expandBtn779', 'collapseBtn779')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup779"><code class="language-python text-sm text-gray-800">FileTypes = Union[
    # file (or bytes)
    FileContent,
    # (filename, file (or bytes))
    Tuple[Optional[str], FileContent],
    # (filename, file (or bytes), content_type)
    Tuple[Optional[str], FileContent, Optional[str]],
    # (filename, file (or bytes), content_type, headers)
    Tuple[Optional[str], FileContent, Optional[str], Mapping[str, str]],
]
RequestFiles = Union[Mapping[str, FileTypes], Sequence[Tuple[str, FileTypes]]]

RequestExtensions</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_decoders.py (Line 276:4 - Line 299:4), .venv/lib/python3.14/site-packages/httpx/_decoders.py (Line 237:6 - Line 260:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn780" onclick="toggleCodeBlock('cloneGroup780', 'expandBtn780', 'collapseBtn780')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn780" onclick="toggleCodeBlock('cloneGroup780', 'expandBtn780', 'collapseBtn780')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup780"><code class="language-python text-sm text-gray-800">]:
        if self._chunk_size is None:
            return [content] if content else []

        self._buffer.write(content)
        if self._buffer.tell() &gt;= self._chunk_size:
            value = self._buffer.getvalue()
            chunks = [
                value[i : i + self._chunk_size]
                for i in range(0, len(value), self._chunk_size)
            ]
            if len(chunks[-1]) == self._chunk_size:
                self._buffer.seek(0)
                self._buffer.truncate()
                return chunks
            else:
                self._buffer.seek(0)
                self._buffer.write(chunks[-1])
                self._buffer.truncate()
                return chunks[:-1]
        else:
            return []

    def flush(self) -&gt; list[str</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpx/_api.py (Line 124:7 - Line 141:7), .venv/lib/python3.14/site-packages/httpx/_api.py (Line 39:8 - Line 56:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn781" onclick="toggleCodeBlock('cloneGroup781', 'expandBtn781', 'collapseBtn781')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn781" onclick="toggleCodeBlock('cloneGroup781', 'expandBtn781', 'collapseBtn781')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup781"><code class="language-python text-sm text-gray-800">(
    method: str,
    url: URL | str,
    *,
    params: QueryParamTypes | None = None,
    content: RequestContent | None = None,
    data: RequestData | None = None,
    files: RequestFiles | None = None,
    json: typing.Any | None = None,
    headers: HeaderTypes | None = None,
    cookies: CookieTypes | None = None,
    auth: AuthTypes | None = None,
    proxy: ProxyTypes | None = None,
    timeout: TimeoutTypes = DEFAULT_TIMEOUT_CONFIG,
    follow_redirects: bool = False,
    verify: ssl.SSLContext | str | bool = True,
    trust_env: bool = True,
) -&gt; typing</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/httpcore/_models.py (Line 392:9 - Line 400:5), .venv/lib/python3.14/site-packages/httpcore/_models.py (Line 346:9 - Line 354:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn782" onclick="toggleCodeBlock('cloneGroup782', 'expandBtn782', 'collapseBtn782')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn782" onclick="toggleCodeBlock('cloneGroup782', 'expandBtn782', 'collapseBtn782')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup782"><code class="language-python text-sm text-gray-800">self.headers: list[tuple[bytes, bytes]] = enforce_headers(
            headers, name=&quot;headers&quot;
        )
        self.stream: typing.Iterable[bytes] | typing.AsyncIterable[bytes] = (
            enforce_stream(content, name=&quot;content&quot;)
        )
        self.extensions = {} if extensions is None else extensions

        self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/h11/_events.py (Line 143:3 - Line 154:9), .venv/lib/python3.14/site-packages/h11/_events.py (Line 88:6 - Line 99:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn783" onclick="toggleCodeBlock('cloneGroup783', 'expandBtn783', 'collapseBtn783')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn783" onclick="toggleCodeBlock('cloneGroup783', 'expandBtn783', 'collapseBtn783')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup783"><code class="language-python text-sm text-gray-800">,
        _parsed: bool = False,
    ) -&gt; None:
        super().__init__()
        if isinstance(headers, Headers):
            object.__setattr__(self, &quot;headers&quot;, headers)
        else:
            object.__setattr__(
                self, &quot;headers&quot;, normalize_and_validate(headers, _parsed=_parsed)
            )
        if not _parsed:
            object.__setattr__(self, &quot;reason&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/fsspec/_version.py (Line 1:1 - Line 31:11), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/version.py (Line 1:1 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn784" onclick="toggleCodeBlock('cloneGroup784', 'expandBtn784', 'collapseBtn784')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn784" onclick="toggleCodeBlock('cloneGroup784', 'expandBtn784', 'collapseBtn784')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup784"><code class="language-python text-sm text-gray-800"># file generated by setuptools-scm
# don't change, don't track in version control

__all__ = [
    &quot;__version__&quot;,
    &quot;__version_tuple__&quot;,
    &quot;version&quot;,
    &quot;version_tuple&quot;,
    &quot;__commit_id__&quot;,
    &quot;commit_id&quot;,
]

TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple
    from typing import Union

    VERSION_TUPLE = Tuple[Union[int, str], ...]
    COMMIT_ID = Union[str, None]
else:
    VERSION_TUPLE = object
    COMMIT_ID = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE
commit_id: COMMIT_ID
__commit_id__: COMMIT_ID

__version__ = version = '2025.9.0'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/filelock/version.py (Line 1:1 - Line 31:9), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/version.py (Line 1:1 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn785" onclick="toggleCodeBlock('cloneGroup785', 'expandBtn785', 'collapseBtn785')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn785" onclick="toggleCodeBlock('cloneGroup785', 'expandBtn785', 'collapseBtn785')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup785"><code class="language-python text-sm text-gray-800"># file generated by setuptools-scm
# don't change, don't track in version control

__all__ = [
    &quot;__version__&quot;,
    &quot;__version_tuple__&quot;,
    &quot;version&quot;,
    &quot;version_tuple&quot;,
    &quot;__commit_id__&quot;,
    &quot;commit_id&quot;,
]

TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple
    from typing import Union

    VERSION_TUPLE = Tuple[Union[int, str], ...]
    COMMIT_ID = Union[str, None]
else:
    VERSION_TUPLE = object
    COMMIT_ID = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE
commit_id: COMMIT_ID
__commit_id__: COMMIT_ID

__version__ = version = '3.20.0'</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/filelock/asyncio.py (Line 108:9 - Line 118:5), .venv/lib/python3.14/site-packages/filelock/asyncio.py (Line 75:9 - Line 85:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn786" onclick="toggleCodeBlock('cloneGroup786', 'expandBtn786', 'collapseBtn786')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn786" onclick="toggleCodeBlock('cloneGroup786', 'expandBtn786', 'collapseBtn786')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup786"><code class="language-python text-sm text-gray-800">lock_file: str | os.PathLike[str],
        timeout: float = -1,
        mode: int = 0o644,
        thread_local: bool = False,  # noqa: FBT001, FBT002
        *,
        blocking: bool = True,
        is_singleton: bool = False,
        loop: asyncio.AbstractEventLoop | None = None,
        run_in_executor: bool = True,
        executor: futures.Executor | None = None,
    ) -&gt; None</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/filelock/_api.py (Line 332:2 - Line 344:5), .venv/lib/python3.14/site-packages/filelock/asyncio.py (Line 232:9 - Line 244:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn787" onclick="toggleCodeBlock('cloneGroup787', 'expandBtn787', 'collapseBtn787')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn787" onclick="toggleCodeBlock('cloneGroup787', 'expandBtn787', 'collapseBtn787')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup787"><code class="language-python text-sm text-gray-800">)
                if self.is_locked:
                    _LOGGER.debug(&quot;Lock %s acquired on %s&quot;, lock_id, lock_filename)
                    break
                if blocking is False:
                    _LOGGER.debug(&quot;Failed to immediately acquire lock %s on %s&quot;, lock_id, lock_filename)
                    raise Timeout(lock_filename)  # noqa: TRY301
                if 0 &lt;= timeout &lt; time.perf_counter() - start_time:
                    _LOGGER.debug(&quot;Timeout on acquiring lock %s on %s&quot;, lock_id, lock_filename)
                    raise Timeout(lock_filename)  # noqa: TRY301
                msg = &quot;Lock %s not acquired on %s, waiting %s seconds ...&quot;
                _LOGGER.debug(msg, lock_id, lock_filename, poll_interval)
                time</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/distro/__init__.py (Line 1:1 - Line 54:12), .venv/lib/python3.14/site-packages/pip/_vendor/distro/__init__.py (Line 1:1 - Line 54:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn788" onclick="toggleCodeBlock('cloneGroup788', 'expandBtn788', 'collapseBtn788')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn788" onclick="toggleCodeBlock('cloneGroup788', 'expandBtn788', 'collapseBtn788')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup788"><code class="language-python text-sm text-gray-800">from .distro import (
    NORMALIZED_DISTRO_ID,
    NORMALIZED_LSB_ID,
    NORMALIZED_OS_ID,
    LinuxDistribution,
    __version__,
    build_number,
    codename,
    distro_release_attr,
    distro_release_info,
    id,
    info,
    like,
    linux_distribution,
    lsb_release_attr,
    lsb_release_info,
    major_version,
    minor_version,
    name,
    os_release_attr,
    os_release_info,
    uname_attr,
    uname_info,
    version,
    version_parts,
)

__all__ = [
    &quot;NORMALIZED_DISTRO_ID&quot;,
    &quot;NORMALIZED_LSB_ID&quot;,
    &quot;NORMALIZED_OS_ID&quot;,
    &quot;LinuxDistribution&quot;,
    &quot;build_number&quot;,
    &quot;codename&quot;,
    &quot;distro_release_attr&quot;,
    &quot;distro_release_info&quot;,
    &quot;id&quot;,
    &quot;info&quot;,
    &quot;like&quot;,
    &quot;linux_distribution&quot;,
    &quot;lsb_release_attr&quot;,
    &quot;lsb_release_info&quot;,
    &quot;major_version&quot;,
    &quot;minor_version&quot;,
    &quot;name&quot;,
    &quot;os_release_attr&quot;,
    &quot;os_release_info&quot;,
    &quot;uname_attr&quot;,
    &quot;uname_info&quot;,
    &quot;version&quot;,
    &quot;version_parts&quot;,
]

__version__ = __version__</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/click/termui.py (Line 316:5 - Line 325:2), .venv/lib/python3.14/site-packages/click/termui.py (Line 295:6 - Line 304:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn789" onclick="toggleCodeBlock('cloneGroup789', 'expandBtn789', 'collapseBtn789')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn789" onclick="toggleCodeBlock('cloneGroup789', 'expandBtn789', 'collapseBtn789')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup789"><code class="language-python text-sm text-gray-800">,
    fill_char: str = &quot;#&quot;,
    empty_char: str = &quot;-&quot;,
    bar_template: str = &quot;%(label)s  [%(bar)s]  %(info)s&quot;,
    info_sep: str = &quot;  &quot;,
    width: int = 36,
    file: t.TextIO | None = None,
    color: bool | None = None,
    update_min_steps: int = 1,
) -&gt; ProgressBar[V</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/click/termui.py (Line 328:1 - Line 463:8), .venv/lib/python3.14/site-packages/click/termui.py (Line 308:1 - Line 325:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn790" onclick="toggleCodeBlock('cloneGroup790', 'expandBtn790', 'collapseBtn790')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn790" onclick="toggleCodeBlock('cloneGroup790', 'expandBtn790', 'collapseBtn790')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup790"><code class="language-python text-sm text-gray-800">def progressbar(
    iterable: cabc.Iterable[V] | None = None,
    length: int | None = None,
    label: str | None = None,
    hidden: bool = False,
    show_eta: bool = True,
    show_percent: bool | None = None,
    show_pos: bool = False,
    item_show_func: t.Callable[[V | None], str | None] | None = None,
    fill_char: str = &quot;#&quot;,
    empty_char: str = &quot;-&quot;,
    bar_template: str = &quot;%(label)s  [%(bar)s]  %(info)s&quot;,
    info_sep: str = &quot;  &quot;,
    width: int = 36,
    file: t.TextIO | None = None,
    color: bool | None = None,
    update_min_steps: int = 1,
) -&gt; ProgressBar[V]:
    &quot;&quot;&quot;This function creates an iterable context manager that can be used
    to iterate over something while showing a progress bar.  It will
    either iterate over the `iterable` or `length` items (that are counted
    up).  While iteration happens, this function will print a rendered
    progress bar to the given `file` (defaults to stdout) and will attempt
    to calculate remaining time and more.  By default, this progress bar
    will not be rendered if the file is not a terminal.

    The context manager creates the progress bar.  When the context
    manager is entered the progress bar is already created.  With every
    iteration over the progress bar, the iterable passed to the bar is
    advanced and the bar is updated.  When the context manager exits,
    a newline is printed and the progress bar is finalized on screen.

    Note: The progress bar is currently designed for use cases where the
    total progress can be expected to take at least several seconds.
    Because of this, the ProgressBar class object won't display
    progress that is considered too fast, and progress where the time
    between steps is less than a second.

    No printing must happen or the progress bar will be unintentionally
    destroyed.

    Example usage::

        with progressbar(items) as bar:
            for item in bar:
                do_something_with(item)

    Alternatively, if no iterable is specified, one can manually update the
    progress bar through the `update()` method instead of directly
    iterating over the progress bar.  The update method accepts the number
    of steps to increment the bar with::

        with progressbar(length=chunks.total_bytes) as bar:
            for chunk in chunks:
                process_chunk(chunk)
                bar.update(chunks.bytes)

    The ``update()`` method also takes an optional value specifying the
    ``current_item`` at the new position. This is useful when used
    together with ``item_show_func`` to customize the output for each
    manual step::

        with click.progressbar(
            length=total_size,
            label='Unzipping archive',
            item_show_func=lambda a: a.filename
        ) as bar:
            for archive in zip_file:
                archive.extract()
                bar.update(archive.size, archive)

    :param iterable: an iterable to iterate over.  If not provided the length
                     is required.
    :param length: the number of items to iterate over.  By default the
                   progressbar will attempt to ask the iterator about its
                   length, which might or might not work.  If an iterable is
                   also provided this parameter can be used to override the
                   length.  If an iterable is not provided the progress bar
                   will iterate over a range of that length.
    :param label: the label to show next to the progress bar.
    :param hidden: hide the progressbar. Defaults to ``False``. When no tty is
        detected, it will only print the progressbar label. Setting this to
        ``False`` also disables that.
    :param show_eta: enables or disables the estimated time display.  This is
                     automatically disabled if the length cannot be
                     determined.
    :param show_percent: enables or disables the percentage display.  The
                         default is `True` if the iterable has a length or
                         `False` if not.
    :param show_pos: enables or disables the absolute position display.  The
                     default is `False`.
    :param item_show_func: A function called with the current item which
        can return a string to show next to the progress bar. If the
        function returns ``None`` nothing is shown. The current item can
        be ``None``, such as when entering and exiting the bar.
    :param fill_char: the character to use to show the filled part of the
                      progress bar.
    :param empty_char: the character to use to show the non-filled part of
                       the progress bar.
    :param bar_template: the format string to use as template for the bar.
                         The parameters in it are ``label`` for the label,
                         ``bar`` for the progress bar and ``info`` for the
                         info section.
    :param info_sep: the separator between multiple info items (eta etc.)
    :param width: the width of the progress bar in characters, 0 means full
                  terminal width
    :param file: The file to write to. If this is not a terminal then
        only the label is printed.
    :param color: controls if the terminal supports ANSI colors or not.  The
                  default is autodetection.  This is only needed if ANSI
                  codes are included anywhere in the progress bar output
                  which is not the case by default.
    :param update_min_steps: Render only when this many updates have
        completed. This allows tuning for very fast iterators.

    .. versionadded:: 8.2
        The ``hidden`` argument.

    .. versionchanged:: 8.0
        Output is shown even if execution time is less than 0.5 seconds.

    .. versionchanged:: 8.0
        ``item_show_func`` shows the current item, not the previous one.

    .. versionchanged:: 8.0
        Labels are echoed if the output is not a TTY. Reverts a change
        in 7.0 that removed all output.

    .. versionadded:: 8.0
       The ``update_min_steps`` parameter.

    .. versionadded:: 4.0
        The ``color`` parameter and ``update`` method.

    .. versionadded:: 2.0
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/charset_normalizer/api.py (Line 577:5 - Line 590:8), .venv/lib/python3.14/site-packages/charset_normalizer/api.py (Line 547:5 - Line 560:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn791" onclick="toggleCodeBlock('cloneGroup791', 'expandBtn791', 'collapseBtn791')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn791" onclick="toggleCodeBlock('cloneGroup791', 'expandBtn791', 'collapseBtn791')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup791"><code class="language-python text-sm text-gray-800">steps: int = 5,
    chunk_size: int = 512,
    threshold: float = 0.20,
    cp_isolation: list[str] | None = None,
    cp_exclusion: list[str] | None = None,
    preemptive_behaviour: bool = True,
    explain: bool = False,
    language_threshold: float = 0.1,
    enable_fallback: bool = True,
) -&gt; CharsetMatches:
    &quot;&quot;&quot;
    Same thing than the function from_bytes but with one extra step. Opening and reading given file path in binary mode.
    Can raise IOError.
    &quot;&quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/charset_normalizer/api.py (Line 607:6 - Line 616:6), .venv/lib/python3.14/site-packages/charset_normalizer/api.py (Line 576:9 - Line 555:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn792" onclick="toggleCodeBlock('cloneGroup792', 'expandBtn792', 'collapseBtn792')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn792" onclick="toggleCodeBlock('cloneGroup792', 'expandBtn792', 'collapseBtn792')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup792"><code class="language-python text-sm text-gray-800">,  # type: ignore[type-arg]
    steps: int = 5,
    chunk_size: int = 512,
    threshold: float = 0.20,
    cp_isolation: list[str] | None = None,
    cp_exclusion: list[str] | None = None,
    preemptive_behaviour: bool = True,
    explain: bool = False,
    language_threshold: float = 0.1,
    enable_fallback: bool = False</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/certifi/core.py (Line 1:1 - Line 40:10), .venv/lib/python3.14/site-packages/pip/_vendor/certifi/core.py (Line 1:1 - Line 40:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn793" onclick="toggleCodeBlock('cloneGroup793', 'expandBtn793', 'collapseBtn793')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn793" onclick="toggleCodeBlock('cloneGroup793', 'expandBtn793', 'collapseBtn793')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup793"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
certifi.py
~~~~~~~~~~

This module returns the installation location of cacert.pem or its contents.
&quot;&quot;&quot;
import sys
import atexit

def exit_cacert_ctx() -&gt; None:
    _CACERT_CTX.__exit__(None, None, None)  # type: ignore[union-attr]


if sys.version_info &gt;= (3, 11):

    from importlib.resources import as_file, files

    _CACERT_CTX = None
    _CACERT_PATH = None

    def where() -&gt; str:
        # This is slightly terrible, but we want to delay extracting the file
        # in cases where we're inside of a zipimport situation until someone
        # actually calls where(), but we don't want to re-extract the file
        # on every call of where(), so we'll do it once then store it in a
        # global variable.
        global _CACERT_CTX
        global _CACERT_PATH
        if _CACERT_PATH is None:
            # This is slightly janky, the importlib.resources API wants you to
            # manage the cleanup of this file, so it doesn't actually return a
            # path, it returns a context manager that will give you the path
            # when you enter it and will do any cleanup when you leave it. In
            # the common case of not needing a temporary file, it will just
            # return the file system location and the __exit__() is a no-op.
            #
            # We also have to hold onto the actual context manager, because
            # it will do the cleanup whenever it gets garbage collected, so
            # we will also store that at the global level as well.
            _CACERT_CTX = as_file(files(&quot;certifi&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/certifi/core.py (Line 47:10 - Line 76:10), .venv/lib/python3.14/site-packages/pip/_vendor/certifi/core.py (Line 47:22 - Line 76:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn794" onclick="toggleCodeBlock('cloneGroup794', 'expandBtn794', 'collapseBtn794')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn794" onclick="toggleCodeBlock('cloneGroup794', 'expandBtn794', 'collapseBtn794')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup794"><code class="language-python text-sm text-gray-800">).joinpath(&quot;cacert.pem&quot;).read_text(encoding=&quot;ascii&quot;)

else:

    from importlib.resources import path as get_path, read_text

    _CACERT_CTX = None
    _CACERT_PATH = None

    def where() -&gt; str:
        # This is slightly terrible, but we want to delay extracting the
        # file in cases where we're inside of a zipimport situation until
        # someone actually calls where(), but we don't want to re-extract
        # the file on every call of where(), so we'll do it once then store
        # it in a global variable.
        global _CACERT_CTX
        global _CACERT_PATH
        if _CACERT_PATH is None:
            # This is slightly janky, the importlib.resources API wants you
            # to manage the cleanup of this file, so it doesn't actually
            # return a path, it returns a context manager that will give
            # you the path when you enter it and will do any cleanup when
            # you leave it. In the common case of not needing a temporary
            # file, it will just return the file system location and the
            # __exit__() is a no-op.
            #
            # We also have to hold onto the actual context manager, because
            # it will do the cleanup whenever it gets garbage collected, so
            # we will also store that at the global level as well.
            _CACERT_CTX = get_path(&quot;certifi&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/mode.py (Line 150:6 - Line 167:8), .venv/lib/python3.14/site-packages/black/mode.py (Line 132:6 - Line 149:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn795" onclick="toggleCodeBlock('cloneGroup795', 'expandBtn795', 'collapseBtn795')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn795" onclick="toggleCodeBlock('cloneGroup795', 'expandBtn795', 'collapseBtn795')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup795"><code class="language-python text-sm text-gray-800">: {
        Feature.F_STRINGS,
        Feature.DEBUG_F_STRINGS,
        Feature.NUMERIC_UNDERSCORES,
        Feature.TRAILING_COMMA_IN_CALL,
        Feature.TRAILING_COMMA_IN_DEF,
        Feature.ASYNC_KEYWORDS,
        Feature.FUTURE_ANNOTATIONS,
        Feature.ASSIGNMENT_EXPRESSIONS,
        Feature.RELAXED_DECORATORS,
        Feature.POS_ONLY_ARGUMENTS,
        Feature.UNPACKING_ON_FLOW,
        Feature.ANN_ASSIGN_EXTENDED_RHS,
        Feature.PARENTHESIZED_CONTEXT_MANAGERS,
        Feature.PATTERN_MATCHING,
        Feature.EXCEPT_STAR,
        Feature.VARIADIC_GENERICS,
        Feature</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/mode.py (Line 170:6 - Line 189:8), .venv/lib/python3.14/site-packages/black/mode.py (Line 132:6 - Line 169:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn796" onclick="toggleCodeBlock('cloneGroup796', 'expandBtn796', 'collapseBtn796')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn796" onclick="toggleCodeBlock('cloneGroup796', 'expandBtn796', 'collapseBtn796')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup796"><code class="language-python text-sm text-gray-800">: {
        Feature.F_STRINGS,
        Feature.DEBUG_F_STRINGS,
        Feature.NUMERIC_UNDERSCORES,
        Feature.TRAILING_COMMA_IN_CALL,
        Feature.TRAILING_COMMA_IN_DEF,
        Feature.ASYNC_KEYWORDS,
        Feature.FUTURE_ANNOTATIONS,
        Feature.ASSIGNMENT_EXPRESSIONS,
        Feature.RELAXED_DECORATORS,
        Feature.POS_ONLY_ARGUMENTS,
        Feature.UNPACKING_ON_FLOW,
        Feature.ANN_ASSIGN_EXTENDED_RHS,
        Feature.PARENTHESIZED_CONTEXT_MANAGERS,
        Feature.PATTERN_MATCHING,
        Feature.EXCEPT_STAR,
        Feature.VARIADIC_GENERICS,
        Feature.TYPE_PARAMS,
        Feature.FSTRING_PARSING,
        Feature</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/mode.py (Line 191:6 - Line 211:8), .venv/lib/python3.14/site-packages/black/mode.py (Line 132:6 - Line 190:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn797" onclick="toggleCodeBlock('cloneGroup797', 'expandBtn797', 'collapseBtn797')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn797" onclick="toggleCodeBlock('cloneGroup797', 'expandBtn797', 'collapseBtn797')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup797"><code class="language-python text-sm text-gray-800">: {
        Feature.F_STRINGS,
        Feature.DEBUG_F_STRINGS,
        Feature.NUMERIC_UNDERSCORES,
        Feature.TRAILING_COMMA_IN_CALL,
        Feature.TRAILING_COMMA_IN_DEF,
        Feature.ASYNC_KEYWORDS,
        Feature.FUTURE_ANNOTATIONS,
        Feature.ASSIGNMENT_EXPRESSIONS,
        Feature.RELAXED_DECORATORS,
        Feature.POS_ONLY_ARGUMENTS,
        Feature.UNPACKING_ON_FLOW,
        Feature.ANN_ASSIGN_EXTENDED_RHS,
        Feature.PARENTHESIZED_CONTEXT_MANAGERS,
        Feature.PATTERN_MATCHING,
        Feature.EXCEPT_STAR,
        Feature.VARIADIC_GENERICS,
        Feature.TYPE_PARAMS,
        Feature.FSTRING_PARSING,
        Feature.TYPE_PARAM_DEFAULTS,
        Feature</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 23:5 - Line 34:5), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 24:5 - Line 35:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn798" onclick="toggleCodeBlock('cloneGroup798', 'expandBtn798', 'collapseBtn798')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn798" onclick="toggleCodeBlock('cloneGroup798', 'expandBtn798', 'collapseBtn798')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup798"><code class="language-python text-sm text-gray-800">, 0),
    (1809, 1809, 0),
    (1840, 1866, 0),
    (1958, 1968, 0),
    (2027, 2035, 0),
    (2045, 2045, 0),
    (2070, 2073, 0),
    (2075, 2083, 0),
    (2085, 2087, 0),
    (2089, 2093, 0),
    (2137, 2139, 0),
    (2200</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 96:5 - Line 107:5), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 104:5 - Line 115:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn799" onclick="toggleCodeBlock('cloneGroup799', 'expandBtn799', 'collapseBtn799')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn799" onclick="toggleCodeBlock('cloneGroup799', 'expandBtn799', 'collapseBtn799')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup799"><code class="language-python text-sm text-gray-800">, 0),
    (3633, 3633, 0),
    (3636, 3642, 0),
    (3655, 3662, 0),
    (3761, 3761, 0),
    (3764, 3772, 0),
    (3784, 3790, 0),
    (3864, 3865, 0),
    (3893, 3893, 0),
    (3895, 3895, 0),
    (3897, 3897, 0),
    (3953</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 178:5 - Line 220:6), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 165:5 - Line 207:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn800" onclick="toggleCodeBlock('cloneGroup800', 'expandBtn800', 'collapseBtn800')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn800" onclick="toggleCodeBlock('cloneGroup800', 'expandBtn800', 'collapseBtn800')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup800"><code class="language-python text-sm text-gray-800">, 0),
    (8400, 8432, 0),
    (8986, 8987, 2),
    (9001, 9002, 2),
    (9193, 9196, 2),
    (9200, 9200, 2),
    (9203, 9203, 2),
    (9725, 9726, 2),
    (9748, 9749, 2),
    (9800, 9811, 2),
    (9855, 9855, 2),
    (9875, 9875, 2),
    (9889, 9889, 2),
    (9898, 9899, 2),
    (9917, 9918, 2),
    (9924, 9925, 2),
    (9934, 9934, 2),
    (9940, 9940, 2),
    (9962, 9962, 2),
    (9970, 9971, 2),
    (9973, 9973, 2),
    (9978, 9978, 2),
    (9981, 9981, 2),
    (9989, 9989, 2),
    (9994, 9995, 2),
    (10024, 10024, 2),
    (10060, 10060, 2),
    (10062, 10062, 2),
    (10067, 10069, 2),
    (10071, 10071, 2),
    (10133, 10135, 2),
    (10160, 10160, 2),
    (10175, 10175, 2),
    (11035, 11036, 2),
    (11088, 11088, 2),
    (11093, 11093, 2),
    (11503, 11505, 0),
    (11647, 11647, 0),
    (11744, 11775, 0),
    (11904, 11929, 2),
    (11931, 12019, 2),
    (12032, 12245, 2),
    (12272, 12283</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 230:6 - Line 242:6), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 216:6 - Line 228:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn801" onclick="toggleCodeBlock('cloneGroup801', 'expandBtn801', 'collapseBtn801')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn801" onclick="toggleCodeBlock('cloneGroup801', 'expandBtn801', 'collapseBtn801')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup801"><code class="language-python text-sm text-gray-800">, 12830, 2),
    (12832, 12871, 2),
    (12880, 19903, 2),
    (19968, 42124, 2),
    (42128, 42182, 2),
    (42607, 42610, 0),
    (42612, 42621, 0),
    (42654, 42655, 0),
    (42736, 42737, 0),
    (43010, 43010, 0),
    (43014, 43014, 0),
    (43019, 43019, 0),
    (43045</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 271:2 - Line 280:6), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 254:2 - Line 263:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn802" onclick="toggleCodeBlock('cloneGroup802', 'expandBtn802', 'collapseBtn802')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn802" onclick="toggleCodeBlock('cloneGroup802', 'expandBtn802', 'collapseBtn802')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup802"><code class="language-python text-sm text-gray-800">),
    (63744, 64255, 2),
    (64286, 64286, 0),
    (65024, 65039, 0),
    (65040, 65049, 2),
    (65056, 65071, 0),
    (65072, 65106, 2),
    (65108, 65126, 2),
    (65128, 65131, 2),
    (65281</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 281:2 - Line 296:6), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 266:2 - Line 281:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn803" onclick="toggleCodeBlock('cloneGroup803', 'expandBtn803', 'collapseBtn803')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn803" onclick="toggleCodeBlock('cloneGroup803', 'expandBtn803', 'collapseBtn803')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup803"><code class="language-python text-sm text-gray-800">),
    (66045, 66045, 0),
    (66272, 66272, 0),
    (66422, 66426, 0),
    (68097, 68099, 0),
    (68101, 68102, 0),
    (68108, 68111, 0),
    (68152, 68154, 0),
    (68159, 68159, 0),
    (68325, 68326, 0),
    (68900, 68903, 0),
    (69291, 69292, 0),
    (69373, 69375, 0),
    (69446, 69456, 0),
    (69506, 69509, 0),
    (69633</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 390:2 - Line 404:7), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 361:2 - Line 375:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn804" onclick="toggleCodeBlock('cloneGroup804', 'expandBtn804', 'collapseBtn804')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn804" onclick="toggleCodeBlock('cloneGroup804', 'expandBtn804', 'collapseBtn804')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup804"><code class="language-python text-sm text-gray-800">),
    (94208, 100343, 2),
    (100352, 101589, 2),
    (101632, 101640, 2),
    (110576, 110579, 2),
    (110581, 110587, 2),
    (110589, 110590, 2),
    (110592, 110882, 2),
    (110898, 110898, 2),
    (110928, 110930, 2),
    (110933, 110933, 2),
    (110948, 110951, 2),
    (110960, 111355, 2),
    (113821, 113822, 0),
    (118528</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 407:7 - Line 446:7), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 379:7 - Line 418:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn805" onclick="toggleCodeBlock('cloneGroup805', 'expandBtn805', 'collapseBtn805')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn805" onclick="toggleCodeBlock('cloneGroup805', 'expandBtn805', 'collapseBtn805')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup805"><code class="language-python text-sm text-gray-800">, 119170, 0),
    (119173, 119179, 0),
    (119210, 119213, 0),
    (119362, 119364, 0),
    (121344, 121398, 0),
    (121403, 121452, 0),
    (121461, 121461, 0),
    (121476, 121476, 0),
    (121499, 121503, 0),
    (121505, 121519, 0),
    (122880, 122886, 0),
    (122888, 122904, 0),
    (122907, 122913, 0),
    (122915, 122916, 0),
    (122918, 122922, 0),
    (123023, 123023, 0),
    (123184, 123190, 0),
    (123566, 123566, 0),
    (123628, 123631, 0),
    (124140, 124143, 0),
    (125136, 125142, 0),
    (125252, 125258, 0),
    (126980, 126980, 2),
    (127183, 127183, 2),
    (127374, 127374, 2),
    (127377, 127386, 2),
    (127488, 127490, 2),
    (127504, 127547, 2),
    (127552, 127560, 2),
    (127568, 127569, 2),
    (127584, 127589, 2),
    (127744, 127776, 2),
    (127789, 127797, 2),
    (127799, 127868, 2),
    (127870, 127891, 2),
    (127904, 127946, 2),
    (127951, 127955, 2),
    (127968, 127984, 2),
    (127988, 127988, 2),
    (127992, 128062</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/black/_width_table.py (Line 446:7 - Line 477:7), .venv/lib/python3.14/site-packages/pip/_vendor/rich/_cell_widths.py (Line 420:7 - Line 451:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn806" onclick="toggleCodeBlock('cloneGroup806', 'expandBtn806', 'collapseBtn806')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn806" onclick="toggleCodeBlock('cloneGroup806', 'expandBtn806', 'collapseBtn806')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup806"><code class="language-python text-sm text-gray-800">, 128062, 2),
    (128064, 128064, 2),
    (128066, 128252, 2),
    (128255, 128317, 2),
    (128331, 128334, 2),
    (128336, 128359, 2),
    (128378, 128378, 2),
    (128405, 128406, 2),
    (128420, 128420, 2),
    (128507, 128591, 2),
    (128640, 128709, 2),
    (128716, 128716, 2),
    (128720, 128722, 2),
    (128725, 128727, 2),
    (128732, 128735, 2),
    (128747, 128748, 2),
    (128756, 128764, 2),
    (128992, 129003, 2),
    (129008, 129008, 2),
    (129292, 129338, 2),
    (129340, 129349, 2),
    (129351, 129535, 2),
    (129648, 129660, 2),
    (129664, 129672, 2),
    (129680, 129725, 2),
    (129727, 129733, 2),
    (129742, 129755, 2),
    (129760, 129768, 2),
    (129776, 129784, 2),
    (131072, 196605, 2),
    (196608, 262141, 2),
    (917760</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/_pytest/junitxml.py (Line 599:13 - Line 614:5), .venv/lib/python3.14/site-packages/_pytest/junitxml.py (Line 562:17 - Line 577:58)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn807" onclick="toggleCodeBlock('cloneGroup807', 'expandBtn807', 'collapseBtn807')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn807" onclick="toggleCodeBlock('cloneGroup807', 'expandBtn807', 'collapseBtn807')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup807"><code class="language-python text-sm text-gray-800">report_wid = getattr(report, &quot;worker_id&quot;, None)
            report_ii = getattr(report, &quot;item_index&quot;, None)
            close_report = next(
                (
                    rep
                    for rep in self.open_reports
                    if (
                        rep.nodeid == report.nodeid
                        and getattr(rep, &quot;item_index&quot;, None) == report_ii
                        and getattr(rep, &quot;worker_id&quot;, None) == report_wid
                    )
                ),
                None,
            )
            if close_report:
                self</code></pre></div><div class="py-4"><p class="text-gray-600">.venv/lib/python3.14/site-packages/_pytest/_version.py (Line 1:1 - Line 31:8), .venv/lib/python3.14/site-packages/pip/_vendor/platformdirs/version.py (Line 1:1 - Line 31:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn808" onclick="toggleCodeBlock('cloneGroup808', 'expandBtn808', 'collapseBtn808')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn808" onclick="toggleCodeBlock('cloneGroup808', 'expandBtn808', 'collapseBtn808')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup808"><code class="language-python text-sm text-gray-800"># file generated by setuptools-scm
# don't change, don't track in version control

__all__ = [
    &quot;__version__&quot;,
    &quot;__version_tuple__&quot;,
    &quot;version&quot;,
    &quot;version_tuple&quot;,
    &quot;__commit_id__&quot;,
    &quot;commit_id&quot;,
]

TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple
    from typing import Union

    VERSION_TUPLE = Tuple[Union[int, str], ...]
    COMMIT_ID = Union[str, None]
else:
    VERSION_TUPLE = object
    COMMIT_ID = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE
commit_id: COMMIT_ID
__commit_id__: COMMIT_ID

__version__ = version = '8.4.2'</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/size_score.py (Line 1:1 - Line 113:2), .venv/lib/python3.14/site-packages/swe_project/metrics/size_score.py (Line 1:1 - Line 113:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn809" onclick="toggleCodeBlock('cloneGroup809', 'expandBtn809', 'collapseBtn809')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn809" onclick="toggleCodeBlock('cloneGroup809', 'expandBtn809', 'collapseBtn809')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup809"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import time
from typing import Dict, Iterable, Optional, cast

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

# Weight-file extensions we count toward model size
_WEIGHT_EXTS: Iterable[str] = (&quot;.safetensors&quot;, &quot;.bin&quot;, &quot;.onnx&quot;, &quot;.tflite&quot;, &quot;.h5&quot;, &quot;.pt&quot;)


def _clamp01(x: float) -&gt; float:
    return 0.0 if x &lt; 0.0 else 1.0 if x &gt; 1.0 else x


def _sum_weight_megabytes(repo_id: str, revision: Optional[str]) -&gt; float:
    &quot;&quot;&quot;
    Use Hugging Face *metadata* (no big file downloads) to sum sizes of weight files.
    Returns total size in MB (base-10: 1 MB = 1e6 bytes). Falls back to 0 on any error.
    &quot;&quot;&quot;
    try:
        info = model_info(
            repo_id, revision=revision
        )  # files_metadata=True in hf_client
        # Newer huggingface_hub exposes per-file metadata under `siblings` or `siblings_with_metadata`
        files = (
            getattr(info, &quot;siblings&quot;, None)
            or getattr(info, &quot;siblings_with_metadata&quot;, None)
            or []
        )

        total_bytes = 0
        for f in files:
            # Compatible access for both dict-like and object-like entries
            fname = (
                getattr(f, &quot;rfilename&quot;, None)
                or getattr(f, &quot;path&quot;, None)
                or getattr(f, &quot;filename&quot;, None)
            )
            fsize = getattr(f, &quot;size&quot;, None)
            if isinstance(fname, str) and isinstance(fsize, int):
                if any(fname.lower().endswith(ext) for ext in _WEIGHT_EXTS):
                    total_bytes += fsize

        return total_bytes / 1_000_000.0  # MB (decimal)
    except Exception:
        # Be fail-safe: if metadata fetch fails, treat as 0 MB so we don't crash the whole run
        return 0.0


def _device_capacities_mb() -&gt; Dict[str, float]:
    &quot;&quot;&quot;
    Rough capacity budget (in MB) per device class. These are tunable heuristics.
    The score is computed as: max(0, 1 - (model_mb / capacity_mb)).
    &quot;&quot;&quot;
    return {
        &quot;raspberry_pi&quot;: 500.0,  # smaller budget â†’ large models score near 0
        &quot;jetson_nano&quot;: 1500.0,
        &quot;desktop_pc&quot;: 8000.0,
        &quot;aws_server&quot;: 16000.0,
    }


def _scores_from_size(total_mb: float) -&gt; Dict[str, float]:
    caps = _device_capacities_mb()
    scores: Dict[str, float] = {}
    for device, cap in caps.items():
        # Linear decay with clamp into [0, 1], rounded to 2 decimal places
        scores[device] = round(_clamp01(1.0 - (total_mb / cap)), 2) if cap &gt; 0 else 0.0
    return scores


def compute(model_url: str) -&gt; MetricResult:
    &quot;&quot;&quot;
    Compute 'size_score' as a per-device compatibility dict using HF metadata only.
    Returns:
      {
        &quot;value&quot;: { &quot;raspberry_pi&quot;: float, &quot;jetson_nano&quot;: float, &quot;desktop_pc&quot;: float, &quot;aws_server&quot;: float },
        &quot;latency_ms&quot;: int
      }
    &quot;&quot;&quot;
    t0 = time.perf_counter()
    try:
        repo_id, revision = to_repo_id(model_url)
        total_mb = _sum_weight_megabytes(repo_id, revision)
        scores = _scores_from_size(total_mb)  # Dict[str, float] (already rounded)

        return cast(
            MetricResult,
            {
                &quot;value&quot;: scores,  # dict[str, float]
                &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
            },
        )
    except Exception:
        return cast(
            MetricResult,
            {
                &quot;value&quot;: {
                    &quot;raspberry_pi&quot;: 0.0,
                    &quot;jetson_nano&quot;: 0.0,
                    &quot;desktop_pc&quot;: 0.0,
                    &quot;aws_server&quot;: 0.0,
                },
                &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
            },
        )


# Register the metric so the CLI can discover it
register(&quot;size_score&quot;, &quot;size_score&quot;, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/ramp_up_time.py (Line 1:1 - Line 70:2), .venv/lib/python3.14/site-packages/swe_project/metrics/ramp_up_time.py (Line 1:1 - Line 70:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn810" onclick="toggleCodeBlock('cloneGroup810', 'expandBtn810', 'collapseBtn810')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn810" onclick="toggleCodeBlock('cloneGroup810', 'expandBtn810', 'collapseBtn810')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup810"><code class="language-python text-sm text-gray-800">import os
import re
import time

from swe_project.core.hf_client import download_snapshot
from swe_project.llm_client import ask_llm
from swe_project.metrics.base import register


def compute(model_url: str):
    &quot;&quot;&quot;
    Compute ramp-up time score by analyzing README with LLM.
    Supports both Hugging Face repos and local absolute paths.
    &quot;&quot;&quot;
    t0 = time.perf_counter()

    # case 1: Local repo path
    if os.path.isabs(model_url) and os.path.exists(model_url):
        readme_file = os.path.join(model_url, &quot;README.md&quot;)

    else:
        # case 2: hugging Face repo
        repo_id = model_url.replace(&quot;https://huggingface.co/&quot;, &quot;&quot;).strip(&quot;/&quot;)
        local_path = download_snapshot(repo_id, allow_patterns=[&quot;README.md&quot;])
        readme_file = os.path.join(local_path, &quot;README.md&quot;)

    if not os.path.exists(readme_file):
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
        }

    with open(readme_file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:
        readme_text = f.read()

    response = ask_llm(
        [
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;You are a strict evaluator of documentation clarity.&quot;,
            },
            {
                &quot;role&quot;: &quot;user&quot;,
                &quot;content&quot;: (
                    &quot;Rate the clarity and completeness of this README in a single number &quot;
                    &quot;between 0 (worst) and 1 (best). Respond with just the number.\n\n&quot;
                    f&quot;{readme_text[:4000]}&quot;
                ),
            },
        ]
    )

    score = 0.0
    if response:
        try:
            score = float(response.strip())
        except ValueError:
            m = re.search(r&quot;\b(0(?:\.\d+)?|1(?:\.0+)?)\b&quot;, response)
            if m:
                score = float(m.group(1))

    score = max(0.0, min(1.0, score))

    return {
        &quot;value&quot;: score,
        &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
    }


register(&quot;ramp_up_time&quot;, &quot;ramp_up_time&quot;, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/performance_claims.py (Line 1:1 - Line 242:2), .venv/lib/python3.14/site-packages/swe_project/metrics/performance_claims.py (Line 1:1 - Line 242:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn811" onclick="toggleCodeBlock('cloneGroup811', 'expandBtn811', 'collapseBtn811')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn811" onclick="toggleCodeBlock('cloneGroup811', 'expandBtn811', 'collapseBtn811')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup811"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import re
import time
from typing import Any, Iterable, Optional, Tuple

# --- Optional HF imports (grader may not have huggingface_hub) ---
try:
    from huggingface_hub import ModelCard, hf_hub_download  # type: ignore

    _HF_AVAILABLE = True
except Exception:
    ModelCard = None  # type: ignore
    hf_hub_download = None  # type: ignore
    _HF_AVAILABLE = False

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;performance_claims&quot;, &quot;performance_claims&quot;

# ------------ helpers ------------

_THIRD_PARTY_DOMAINS = (
    &quot;arxiv.org&quot;,
    &quot;openreview.net&quot;,
    &quot;aclweb.org&quot;,
    &quot;aclanthology.org&quot;,
    &quot;neurips.cc&quot;,
    &quot;paperswithcode.com&quot;,
    &quot;scholar.google&quot;,
    &quot;dl.acm.org&quot;,
    &quot;ieeexplore.ieee.org&quot;,
)

# Benchmarks/datasets (incl. ASR/speech)
_DATASET_TOKENS = (
    # NLP / CV
    &quot;squad&quot;,
    &quot;mnli&quot;,
    &quot;sst-2&quot;,
    &quot;sst2&quot;,
    &quot;qqp&quot;,
    &quot;qnli&quot;,
    &quot;cola&quot;,
    &quot;stsb&quot;,
    &quot;mrpc&quot;,
    &quot;imagenet&quot;,
    &quot;cifar&quot;,
    &quot;glue&quot;,
    &quot;superglue&quot;,
    &quot;snli&quot;,
    &quot;msmarco&quot;,
    &quot;wikitext&quot;,
    &quot;lambada&quot;,
    &quot;hellaswag&quot;,
    &quot;mmlu&quot;,
    # ASR / speech
    &quot;librispeech&quot;,
    &quot;common voice&quot;,
    &quot;cv&quot;,
    &quot;ted-lium&quot;,
    &quot;gigaspeech&quot;,
    &quot;fleurs&quot;,
    &quot;voxpopuli&quot;,
    &quot;ljspeech&quot;,
    &quot;wsj&quot;,
    &quot;switchboard&quot;,
    &quot;ami&quot;,
    &quot;timit&quot;,
)

# Metric tokens + nearby number/percent
_METRIC_WORDS = (
    r&quot;(accuracy|acc|f1|bleu|rouge|map|auc|perplexity|exact\s*match|em|mcc|pearson|spearman&quot;
    r&quot;|wer|word\s*error\s*rate|cer|character\s*error\s*rate)&quot;
)
_NEAR_NUMBER = r&quot;([0-9]+(\.[0-9]+)?\s*%?)&quot;
_VAGUE_CLAIM_RE = re.compile(rf&quot;{_METRIC_WORDS}[^.\n]{{0,60}}{_NEAR_NUMBER}&quot;, re.I)

# Semi-structured detectors
_TABLE_ROW_RE = re.compile(r&quot;^\s*\|.+\|\s*$&quot;, re.M)
_HTML_TABLE_RE = re.compile(r&quot;&lt;\s*table\b&quot;, re.I)


def _has_third_party_link(text: str, tags: Iterable[str]) -&gt; bool:
    hay = (text or &quot;&quot;) + &quot; &quot; + &quot; &quot;.join(tags or [])
    low = hay.lower()
    return any(dom in low for dom in _THIRD_PARTY_DOMAINS)


def _any_dataset_token(text: str) -&gt; bool:
    low = (text or &quot;&quot;).lower()
    return any(tok in low for tok in _DATASET_TOKENS)


def _contains_vague_perf(text: str, tags: Iterable[str]) -&gt; bool:
    hay = (text or &quot;&quot;) + &quot; &quot; + &quot; &quot;.join(tags or [])
    return bool(_VAGUE_CLAIM_RE.search(hay)) or (
        _any_dataset_token(hay) and re.search(_METRIC_WORDS, hay, re.I) is not None
    )


def _count_structured_claims(card_data: Any) -&gt; Tuple[int, int]:
    &quot;&quot;&quot;Return (n_results, n_metric_entries) from cardData across model-index and common ad-hoc keys.&quot;&quot;&quot;
    n_results = 0
    n_metrics = 0
    if not isinstance(card_data, dict):
        return (0, 0)

    # 1) model-index
    mi = card_data.get(&quot;model-index&quot;)
    if isinstance(mi, list):
        for entry in mi:
            for res in (entry or {}).get(&quot;results&quot;, []) or []:
                dataset = (res or {}).get(&quot;dataset&quot;) or {}
                metrics = (res or {}).get(&quot;metrics&quot;) or []
                has_dataset = bool(dataset.get(&quot;name&quot;) or dataset.get(&quot;type&quot;))
                if has_dataset and isinstance(metrics, list) and metrics:
                    good = 0
                    for m in metrics:
                        if not isinstance(m, dict):
                            continue
                        if (m.get(&quot;name&quot;) or m.get(&quot;type&quot;)) and (
                            m.get(&quot;value&quot;) is not None
                        ):
                            good += 1
                    if good &gt; 0:
                        n_results += 1
                        n_metrics += good

    # 2) ad-hoc lists
    for key in (&quot;eval_results&quot;, &quot;metrics&quot;):
        vals = card_data.get(key)
        if isinstance(vals, list):
            for item in vals:
                if not isinstance(item, dict):
                    continue
                has_metric = bool(
                    item.get(&quot;metric&quot;) or item.get(&quot;name&quot;) or item.get(&quot;type&quot;)
                )
                has_value = item.get(&quot;value&quot;) is not None
                has_dataset = bool(
                    item.get(&quot;dataset&quot;)
                    or item.get(&quot;dataset_name&quot;)
                    or item.get(&quot;task_name&quot;)
                )
                if has_metric and has_value and has_dataset:
                    n_results += 1
                    n_metrics += 1

    return (n_results, n_metrics)


def _markdown_claims_strength(md: str) -&gt; Tuple[bool, int]:
    &quot;&quot;&quot;If README has a markdown or HTML table AND a metric-with-number nearby, treat as semi-structured.&quot;&quot;&quot;
    if not md:
        return (False, 0)
    table_rows = _TABLE_ROW_RE.findall(md)
    html_table = bool(_HTML_TABLE_RE.search(md))
    has_vague = bool(_VAGUE_CLAIM_RE.search(md))
    has_semi = (bool(table_rows) or html_table) and has_vague
    approx = len(table_rows) if table_rows else (6 if html_table else 0)
    return (has_semi, approx)


# ------------ main ------------


def compute(model_url: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    score: float = 0.0
    try:
        repo_id, rev = to_repo_id(model_url)
        info: Any = model_info(repo_id)
        card_data = getattr(info, &quot;cardData&quot;, None) or {}
        tags = getattr(info, &quot;tags&quot;, None) or []

        # --- README load (GRADER-SAFE) ---
        # If HF libs are available, try to load README text; otherwise skip (md=&quot;&quot;).
        md: str = &quot;&quot;
        if _HF_AVAILABLE:
            path: Optional[str] = None
            try:
                if rev:
                    path = hf_hub_download(repo_id, filename=&quot;README.md&quot;, revision=rev)  # type: ignore[arg-type]
            except Exception:
                path = None
            if path is None:
                try:
                    path = hf_hub_download(repo_id, filename=&quot;README.md&quot;)  # type: ignore[arg-type]
                except Exception:
                    path = None
            if path:
                try:
                    md = str(ModelCard.load(path).content)  # type: ignore[union-attr]
                except Exception:
                    try:
                        with open(path, &quot;r&quot;, encoding=&quot;utf-8&quot;, errors=&quot;ignore&quot;) as f:
                            md = f.read()
                    except Exception:
                        md = &quot;&quot;
            # If libs exist but all attempts failed, md stays &quot;&quot; (safe)

        # --- signals ---
        third_party = _has_third_party_link(md, tags)
        n_results, n_metrics = _count_structured_claims(card_data)
        has_structured = n_results &gt; 0 and n_metrics &gt; 0
        semi_structured, approx_rows = _markdown_claims_strength(md)
        vague = _contains_vague_perf(md, tags)

        # --- scoring (calibrated &amp; defensible) ---
        if has_structured:
            base = 0.74
            richness_bonus = min(
                0.12, 0.04 * min(n_results, 3) + 0.02 * min(n_metrics, 5)
            )
            third_party_bonus = 0.06 if third_party else 0.0
            score = base + richness_bonus + third_party_bonus
        elif semi_structured:
            base = 0.72
            table_bonus = min(0.12, 0.02 * min(approx_rows, 8))
            third_party_bonus = 0.04 if third_party else 0.0
            score = base + table_bonus + third_party_bonus
        elif vague:
            score = 0.15
        else:
            score = 0.0

        score = max(0.0, min(1.0, score))

    except Exception:
        score = 0.0

    return {
        &quot;value&quot;: float(score),
        &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
    }


register(NAME, FIELD, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/license.py (Line 1:1 - Line 85:2), .venv/lib/python3.14/site-packages/swe_project/metrics/license.py (Line 1:1 - Line 85:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn812" onclick="toggleCodeBlock('cloneGroup812', 'expandBtn812', 'collapseBtn812')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn812" onclick="toggleCodeBlock('cloneGroup812', 'expandBtn812', 'collapseBtn812')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup812"><code class="language-python text-sm text-gray-800">import os
import re
import time
from typing import Optional, Tuple

from swe_project.core.hf_client import download_snapshot, model_info
from swe_project.metrics.base import register

# Simple regex to catch license mentions in README (ai generated)
LICENSE_PATTERN = re.compile(
    r&quot;(?i)(?:license|licensed under)\s*[:\-]?\s*([A-Za-z0-9\.\-+]+)&quot;
)

# map licenses to scores (1.0 = compatible, 0.0 = incompatible, 0.5 = unclear/custom)
LICENSE_SCORES = {
    &quot;apache-2.0&quot;: 1.0,
    &quot;mit&quot;: 1.0,
    &quot;bsd-3-clause&quot;: 1.0,
    &quot;bsd-2-clause&quot;: 1.0,
    &quot;lgpl-2.1&quot;: 1.0,
    &quot;mpl-2.0&quot;: 1.0,
    &quot;gpl-3.0&quot;: 0.0,
    &quot;agpl-3.0&quot;: 0.0,
    &quot;proprietary&quot;: 0.0,
}


def normalize_license(raw: Optional[str]) -&gt; Tuple[float, str]:
    &quot;&quot;&quot;normalize raw license string to score + SPDX-like identifier.&quot;&quot;&quot;
    if not raw:  # if there is no license info found
        return 0.0, &quot;None&quot;

    key = raw.lower().strip()
    if key in LICENSE_SCORES:
        return LICENSE_SCORES[key], key

    # fallback: unclear/custom license
    return 0.5, key


def compute(model_url: str):
    &quot;&quot;&quot;
    Compute license metric:
      - Check Hugging Face metadata for license.
      - If missing, scan README.md for license mention.
      - Score = 1.0 (compatible), 0.5 (unclear), or 0.0 (incompatible).
    &quot;&quot;&quot;
    t0 = time.perf_counter()

    repo_id = model_url.replace(&quot;https://huggingface.co/&quot;, &quot;&quot;).strip(&quot;/&quot;)

    # 1. Try Hugging Face model metadata
    try:
        info = model_info(repo_id)
        raw_license = getattr(info, &quot;license&quot;, None)
        score, license_id = normalize_license(raw_license)
    except Exception:
        raw_license = None
        score, license_id = 0.0, &quot;None&quot;

    # 2. check readme if no license found
    if (not raw_license) or (score == 0.5):
        try:
            local_path = download_snapshot(repo_id, allow_patterns=[&quot;README.md&quot;])
            readme_file = os.path.join(local_path, &quot;README.md&quot;)

            if os.path.exists(readme_file):
                with open(readme_file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:
                    text = f.read()

                m = LICENSE_PATTERN.search(text)
                if m:
                    raw_license = m.group(1)
                    score, license_id = normalize_license(raw_license)
        except Exception:
            pass  # ignore if README not found

    return {
        &quot;value&quot;: score,
        &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
    }


# register in the metrics registry
register(&quot;license&quot;, &quot;license&quot;, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/dataset_quality.py (Line 1:1 - Line 100:77), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_quality.py (Line 1:1 - Line 100:77)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn813" onclick="toggleCodeBlock('cloneGroup813', 'expandBtn813', 'collapseBtn813')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn813" onclick="toggleCodeBlock('cloneGroup813', 'expandBtn813', 'collapseBtn813')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup813"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import logging
import time
from typing import Any

from swe_project.core.hf_client import dataset_info
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;dataset_quality&quot;, &quot;dataset_quality&quot;


def _score_single_dataset(d_info: Any) -&gt; float:
    if getattr(d_info, &quot;gated&quot;, False):
        return 0.0

    score = 0.0
    if getattr(d_info, &quot;cardData&quot;, None):
        score += 0.5
    if getattr(d_info, &quot;downloads&quot;, 0) &gt; 1000:
        score += 0.25
    if getattr(d_info, &quot;configs&quot;, []):
        score += 0.2
    if getattr(d_info, &quot;viewer&quot;, False):
        score += 0.05

    return min(1.0, score)


def compute(input_line: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    total_score = 0.0

    urls = [url.strip() for url in input_line.split(&quot;,&quot;) if url.strip()]
    dataset_urls = [url for url in urls if &quot;huggingface.co/datasets/&quot; in url]

    if not dataset_urls:
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
        }

    try:
        dataset_ids = [
            url.split(&quot;huggingface.co/datasets/&quot;)[-1].split(&quot;/&quot;)[0]
            for url in dataset_urls
        ]

        for d_id in dataset_ids:
            try:
                d_info = dataset_info(d_id)
                total_score += _score_single_dataset(d_info)
            except Exception:
                logging.warning(&quot;%s: failed to fetch info for dataset %s&quot;, NAME, d_id)

        final_score = total_score / len(dataset_ids)

    except Exception:
        logging.exception(&quot;%s failed for line: %s&quot;, NAME, input_line)
        final_score = 0.0

    return {
        &quot;value&quot;: float(max(0.0, min(1.0, final_score))),
        &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
    }


register(NAME, FIELD, compute)

# if __name__ == &quot;__main__&quot;:
#     import sys
#     import json
#     import os

#     if len(sys.argv) &gt; 1:
#         first_arg = sys.argv[1]
#         lines_to_process = []
#         if os.path.isfile(first_arg):
#             try:
#                 with open(first_arg, 'r') as f:
#                     lines_to_process = f.readlines()
#             except IOError as e:
#                 print(f&quot;Error reading file: {e}&quot;, file=sys.stderr)
#                 sys.exit(1)
#         else:
#             lines_to_process = [&quot; &quot;.join(sys.argv[1:])]

#         for line in lines_to_process:
#             line = line.strip()
#             if not line: continue
#             result = compute(input_line=line)
#             output_data = {
#                 &quot;input_line&quot;: line,
#                 &quot;dataset_quality&quot;: result[&quot;value&quot;],
#                 &quot;dataset_quality_latency&quot;: result[&quot;latency_ms&quot;]
#             }
#             print(json.dumps(output_data))
#     else:
#         print(&quot;Usage 1: python -m ... &lt;path_to_url_file&gt;&quot;, file=sys.stderr)
#         print(&quot;Usage 2: python -m ... &lt;URL1, URL2, ...&gt;&quot;, file=sys.stderr)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/dataset_and_code.py (Line 1:1 - Line 180:2), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_and_code.py (Line 1:1 - Line 180:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn814" onclick="toggleCodeBlock('cloneGroup814', 'expandBtn814', 'collapseBtn814')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn814" onclick="toggleCodeBlock('cloneGroup814', 'expandBtn814', 'collapseBtn814')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup814"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import logging
import os
import re
import time
from typing import Any, Dict, Optional

import requests

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;dataset_and_code&quot;, &quot;dataset_and_code&quot;


def _gh_headers() -&gt; Dict[str, str]:
    &quot;&quot;&quot;Creates headers for GitHub API requests, including authorization if available.&quot;&quot;&quot;
    hdrs: Dict[str, str] = {
        &quot;Accept&quot;: &quot;application/vnd.github+json&quot;,
        &quot;User-Agent&quot;: &quot;swe-project-dataset-and-code/1.0&quot;,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(
    url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10
) -&gt; Optional[requests.Response]:
    &quot;&quot;&quot;
    Performs a GET request to the GitHub API with robust error handling.
    Retries once without authorization on 401/403 errors.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[dataset_and_code] Network error for %s: %s&quot;, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without the auth header if token is bad
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(
                &quot;[dataset_and_code] Retry without auth failed for %s: %s&quot;, url, e
            )
            return None

    if res.status_code != 200:
        logging.warning(
            &quot;[dataset_and_code] GET %s returned status %s&quot;, url, res.status_code
        )
        return None
    return res


def get_github_repo_files(repo_url: str) -&gt; set[str]:
    &quot;&quot;&quot;Fetches the list of all files in a GitHub repository's default branch.&quot;&quot;&quot;
    match = re.search(r&quot;github\.com/([^/]+)/([^/]+)&quot;, repo_url.replace(&quot;.git&quot;, &quot;&quot;))
    if not match:
        return set()

    owner, repo = match.groups()

    # Get repository info to find the default branch
    repo_info_url = f&quot;https://api.github.com/repos/{owner}/{repo}&quot;
    repo_res = _gh_get(repo_info_url)
    if not repo_res:
        logging.error(f&quot;Failed to fetch repo info from {repo_info_url}&quot;)
        return set()

    try:
        default_branch = repo_res.json().get(&quot;default_branch&quot;, &quot;main&quot;)
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON or find default_branch for {repo_url}&quot;)
        return set()

    # Get the file tree for the default branch
    trees_url = f&quot;https://api.github.com/repos/{owner}/{repo}/git/trees/{default_branch}?recursive=1&quot;
    tree_res = _gh_get(trees_url)
    if not tree_res:
        logging.error(f&quot;Failed to fetch file tree from {trees_url}&quot;)
        return set()

    try:
        data = tree_res.json()
        if &quot;tree&quot; not in data:
            logging.warning(
                f&quot;Response from {trees_url} is truncated: {data.get('message', '')}&quot;
            )
            return set()
        return {item[&quot;path&quot;] for item in data.get(&quot;tree&quot;, []) if item[&quot;type&quot;] == &quot;blob&quot;}
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON response for file tree of {repo_url}&quot;)
        return set()


def compute(input_line: str) -&gt; MetricResult:
    # Computes a score based on the availability of datasets, code, and demos.
    # - 0.5 if a dataset is linked in the input or on the model card.
    # - 0.3 if Python files are found in the model or linked code repo.
    # - 0.2 if the model is linked to a Hugging Face Space.
    t0 = time.perf_counter()
    score = 0.0

    urls = [url.strip() for url in input_line.split(&quot;,&quot;) if url.strip()]
    code_url = next((url for url in urls if &quot;github.com&quot; in url), None)
    dataset_url = next((url for url in urls if &quot;huggingface.co/datasets/&quot; in url), None)
    model_url = next(
        (url for url in urls if &quot;huggingface.co&quot; in url and &quot;/datasets/&quot; not in url),
        None,
    )

    if not model_url:
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
        }

    try:
        rid, _ = to_repo_id(model_url)
        m_info: Any = model_info(rid)

        card_datasets = getattr(m_info, &quot;cardData&quot;, {}).get(&quot;datasets&quot;, [])
        if dataset_url or card_datasets:
            score += 0.5

        repo_to_check_for_code = code_url or model_url
        filenames = set()
        if &quot;github.com&quot; in repo_to_check_for_code:
            filenames = get_github_repo_files(repo_to_check_for_code)
        else:
            code_rid, _ = to_repo_id(repo_to_check_for_code)
            info_for_code = m_info if code_rid == rid else model_info(code_rid)
            siblings = getattr(info_for_code, &quot;siblings&quot;, [])
            filenames = {s.rfilename for s in siblings}

        if any(f.endswith(&quot;.py&quot;) for f in filenames):
            score += 0.3

        if getattr(m_info, &quot;spaces&quot;, []):
            score += 0.2

    except Exception:
        logging.exception(&quot;%s failed for %s&quot;, NAME, model_url)
        score = 0.0

    final_score = max(0.0, min(1.0, score))
    return {
        &quot;value&quot;: float(final_score),
        &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
    }


register(NAME, FIELD, compute)


if __name__ == &quot;__main__&quot;:
    import json
    import sys

    if len(sys.argv) &gt; 1:
        input_line = &quot; &quot;.join(sys.argv[1:])
        result = compute(input_line=input_line)
        print(json.dumps(result))
    else:
        print(
            &quot;Usage: python -m swe_project.metrics.dataset_and_code &lt;URL1, URL2, ...&gt;&quot;,
            file=sys.stderr,
        )</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/code_quality.py (Line 1:1 - Line 190:104), .venv/lib/python3.14/site-packages/swe_project/metrics/code_quality.py (Line 1:1 - Line 190:104)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn815" onclick="toggleCodeBlock('cloneGroup815', 'expandBtn815', 'collapseBtn815')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn815" onclick="toggleCodeBlock('cloneGroup815', 'expandBtn815', 'collapseBtn815')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup815"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import logging
import os
import re
import time
from typing import Any, Dict, Optional

import requests

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;code_quality&quot;, &quot;code_quality&quot;


def _gh_headers() -&gt; Dict[str, str]:
    &quot;&quot;&quot;Creates headers for GitHub API requests, including authorization if available.&quot;&quot;&quot;
    hdrs: Dict[str, str] = {
        &quot;Accept&quot;: &quot;application/vnd.github+json&quot;,
        &quot;User-Agent&quot;: &quot;swe-project-code-quality/1.0&quot;,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(
    url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10
) -&gt; Optional[requests.Response]:
    &quot;&quot;&quot;
    Performs a GET request to the GitHub API with robust error handling.
    Retries once without authorization on 401/403 errors.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[code_quality] Network error for %s: %s&quot;, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without the auth header if token is bad
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(
                &quot;[code_quality] Retry without auth failed for %s: %s&quot;, url, e
            )
            return None

    if res.status_code != 200:
        logging.warning(
            &quot;[code_quality] GET %s returned status %s&quot;, url, res.status_code
        )
        return None
    return res


def get_github_repo_files(repo_url: str) -&gt; set[str]:
    &quot;&quot;&quot;Fetches the list of all files in a GitHub repository's default branch.&quot;&quot;&quot;
    match = re.search(r&quot;github\.com/([^/]+)/([^/]+)&quot;, repo_url.replace(&quot;.git&quot;, &quot;&quot;))
    if not match:
        return set()

    owner, repo = match.groups()

    # Get repository info to find the default branch
    repo_info_url = f&quot;https://api.github.com/repos/{owner}/{repo}&quot;
    repo_res = _gh_get(repo_info_url)
    if not repo_res:
        logging.error(f&quot;Failed to fetch repo info from {repo_info_url}&quot;)
        return set()

    try:
        default_branch = repo_res.json().get(&quot;default_branch&quot;, &quot;main&quot;)
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON or find default_branch for {repo_url}&quot;)
        return set()

    # Get the file tree for the default branch
    trees_url = f&quot;https://api.github.com/repos/{owner}/{repo}/git/trees/{default_branch}?recursive=1&quot;
    tree_res = _gh_get(trees_url)
    if not tree_res:
        logging.error(f&quot;Failed to fetch file tree from {trees_url}&quot;)
        return set()

    try:
        data = tree_res.json()
        if &quot;tree&quot; not in data:
            logging.warning(
                f&quot;Response from {trees_url} is truncated: {data.get('message', '')}&quot;
            )
            return set()
        return {item[&quot;path&quot;] for item in data.get(&quot;tree&quot;, []) if item[&quot;type&quot;] == &quot;blob&quot;}
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON response for file tree of {repo_url}&quot;)
        return set()


def _score_single_url(analysis_url: str) -&gt; float:
    score = 0.0
    try:
        filenames = set()
        is_github = &quot;github.com&quot; in analysis_url

        if is_github:
            filenames = get_github_repo_files(analysis_url)
        else:
            rid, _ = to_repo_id(analysis_url)
            info: Any = model_info(rid)
            siblings = getattr(info, &quot;siblings&quot;, [])
            filenames = {s.rfilename for s in siblings}

        total_files = len(filenames)

        if total_files &gt; 0:
            if is_github:
                if &quot;requirements.txt&quot; in filenames:
                    score += 0.5
                py_files_count = sum(1 for f in filenames if f.endswith(&quot;.py&quot;))
                if py_files_count &gt; 0:
                    score += (py_files_count / total_files) * 0.5
            else:
                py_files_count = sum(1 for f in filenames if f.endswith(&quot;.py&quot;))
                has_deps = (
                    &quot;requirements.txt&quot; in filenames
                    or &quot;pyproject.toml&quot; in filenames
                    or &quot;config.json&quot; in filenames
                )
                if py_files_count &gt; 0:
                    if has_deps:
                        score += 0.3
                    score += (py_files_count / total_files) * 0.7
                elif has_deps:
                    score = 0.3

    except Exception:
        logging.exception(&quot;Sub-computation failed for %s&quot;, analysis_url)
        return 0.0

    return score


def compute(input_line: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    total_score = 0.0
    urls = [url.strip() for url in input_line.split(&quot;,&quot;) if url.strip()]

    relevant_urls = [
        url
        for url in urls
        if &quot;github.com&quot; in url or (&quot;huggingface.co&quot; in url and &quot;/datasets/&quot; not in url)
    ]

    if not relevant_urls:
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
        }

    for url in relevant_urls:
        total_score += _score_single_url(url)

    final_score = max(0.0, min(1.0, total_score))
    return {
        &quot;value&quot;: float(final_score),
        &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
    }


register(NAME, FIELD, compute)

# if __name__ == &quot;__main__&quot;:
#     import sys
#     import json

#     if len(sys.argv) &gt; 1:
#         input_line = &quot; &quot;.join(sys.argv[1:])
#         result = compute(input_line=input_line)
#         print(json.dumps(result))
#     else:
#         print(&quot;Usage: python -m swe_project.metrics.code_quality &lt;URL1, URL2, ...&gt;&quot;, file=sys.stderr)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/bus_factor.py (Line 1:1 - Line 443:2), .venv/lib/python3.14/site-packages/swe_project/metrics/bus_factor.py (Line 1:1 - Line 443:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn816" onclick="toggleCodeBlock('cloneGroup816', 'expandBtn816', 'collapseBtn816')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn816" onclick="toggleCodeBlock('cloneGroup816', 'expandBtn816', 'collapseBtn816')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup816"><code class="language-python text-sm text-gray-800"># stdlib
from __future__ import annotations

import logging
import math
import os
import re
import time
from datetime import datetime, timedelta, timezone
from re import Match, Pattern
from typing import Any, Dict, Optional, Set, Tuple

# third-party
import requests
from huggingface_hub import ModelCard

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.core.url_ctx import get_code_url

# local
from swe_project.metrics.base import MetricResult, register

NAME = &quot;bus_factor&quot;
FIELD = &quot;bus_factor&quot;
LOOKBACK_DAYS = 365


DEFAULT = 0.3

_GH_RE: Pattern[str] = re.compile(
    r&quot;https?://github\.com/(?P&lt;owner&gt;[^/]+)/(?P&lt;repo&gt;[^/#?]+)&quot;
)
_GH_LINK_RE: Pattern[str] = re.compile(
    r&quot;https?://github\.com/[A-Za-z0-9_.-]+/[A-Za-z0-9_.-]+&quot;
)


def _gh_headers() -&gt; Dict[str, str]:
    hdrs: Dict[str, str] = {
        &quot;Accept&quot;: &quot;application/vnd.github+json&quot;,
        &quot;User-Agent&quot;: &quot;swe-project-bus-factor/1.0&quot;,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10):
    &quot;&quot;&quot;Fail-soft GET: retry once without Authorization on 401/Bad credentials.
    Returns a requests.Response on success, or None on failure.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[bus_factor] network error %s: %s&quot;, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without auth header
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(&quot;[bus_factor] retry without auth failed %s: %s&quot;, url, e)
            return None

    if res.status_code != 200:
        logging.warning(&quot;[bus_factor] GET %s -&gt; %s&quot;, url, res.status_code)
        return None
    return res


def _parse_gh(url: str) -&gt; Optional[Tuple[str, str]]:
    m = _GH_RE.search(url or &quot;&quot;)
    return (m.group(&quot;owner&quot;), m.group(&quot;repo&quot;)) if m else None


def _get_default_branch(o: str, r: str) -&gt; Optional[str]:
    res = _gh_get(f&quot;https://api.github.com/repos/{o}/{r}&quot;)
    if not res:
        return None
    data = res.json()
    if isinstance(data, dict):
        val = data.get(&quot;default_branch&quot;)
        return val if isinstance(val, str) else None
    return None


def _list_active_since(
    o: str, r: str, since_iso: str, branch: Optional[str]
) -&gt; Tuple[Set[str], Optional[datetime]]:
    &quot;&quot;&quot;Backward-compatible helper used by your older tests.&quot;&quot;&quot;
    commits_opt = _list_commits(o, r, since_iso, branch)
    if commits_opt is None:
        # No data available â†’ return empty set / None; callers usually fail-soft to DEFAULT
        return set(), None

    authors: Set[str] = set()
    newest: Optional[datetime] = None
    for c in commits_opt:
        if _is_bot(c.get(&quot;login&quot;), c.get(&quot;email&quot;)):
            continue
        key = (c.get(&quot;login&quot;) or f&quot;email:{c.get('email') or 'unknown'}&quot;).lower()
        authors.add(key)
        d = c.get(&quot;date&quot;)
        if d:
            try:
                dt = datetime.fromisoformat(d.replace(&quot;Z&quot;, &quot;+00:00&quot;))
                if (newest is None) or (dt &gt; newest):
                    newest = dt
            except Exception:
                pass
    return authors, newest


def _contributors_score(n: int) -&gt; float:
    return 0.0 if n &lt;= 0 else min(1.0, math.log1p(n) / math.log(6))


def _freshness_score(latest: Optional[datetime]) -&gt; float:
    if not latest:
        return 0.0
    days = max(0, min(LOOKBACK_DAYS, (datetime.now(timezone.utc) - latest).days))
    return 1.0 - (days / LOOKBACK_DAYS)


def _combine(c: float, f: float) -&gt; float:
    return max(0.0, min(1.0, 0.7 * c + 0.3 * f))


def _find_github_url_from_card_md(repo_id: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Read the HF model card markdown and extract the first GitHub link.&quot;&quot;&quot;
    try:
        # Force 'Any' from huggingface-hub to become a concrete str
        md: str = str(ModelCard.load(repo_id).content)
    except Exception:
        return None

    m: Optional[Match[str]] = _GH_LINK_RE.search(md)
    if m is None:
        return None

    g0: str = m.group(0)  # explicit local variable typed as str
    return g0


def _find_github_url(info: Any, repo_id: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Locate a GitHub repo link from HF model card metadata/tags/markdown.&quot;&quot;&quot;
    card = getattr(info, &quot;cardData&quot;, None) or {}
    tags = getattr(info, &quot;tags&quot;, []) or []

    gh_url = card.get(&quot;code_repository&quot;) or card.get(&quot;repository&quot;)
    if isinstance(gh_url, str) and &quot;github.com&quot; in gh_url:
        return gh_url

    for t in tags:
        if isinstance(t, str) and &quot;github.com&quot; in t:
            return t

    return _find_github_url_from_card_md(repo_id)


# --- New helpers for a fairer score ---


def _is_bot(author_login: Optional[str], author_email: Optional[str]) -&gt; bool:
    if not author_login and not author_email:
        return False
    login = (author_login or &quot;&quot;).lower()
    email = (author_email or &quot;&quot;).lower()
    return (
        login.endswith(&quot;[bot]&quot;)
        or login.endswith(&quot;-bot&quot;)
        or login.endswith(&quot;_bot&quot;)
        or &quot;github-actions&quot; in login
        or &quot;bot@&quot; in email
        or &quot;noreply@&quot; in email
    )


def _list_commits(
    o: str, r: str, since_iso: str, branch: Optional[str]
) -&gt; Optional[list[dict]]:
    &quot;&quot;&quot;Return commit dicts since 'since_iso', or None if API is unavailable.&quot;&quot;&quot;
    params: Dict[str, str] = {&quot;since&quot;: since_iso, &quot;per_page&quot;: &quot;100&quot;}
    if branch:
        params[&quot;sha&quot;] = branch
    url = f&quot;https://api.github.com/repos/{o}/{r}/commits&quot;
    commits: list[dict] = []

    for _ in range(8):  # up to ~800 commits via pagination
        res = _gh_get(url, params=params, timeout=10)
        if res is None:
            return None  # â† important: signal 'inconclusive'

        items = res.json()
        if not isinstance(items, list) or not items:
            break

        for c in items:
            login = (c.get(&quot;author&quot;) or {}).get(&quot;login&quot;)
            email = ((c.get(&quot;commit&quot;) or {}).get(&quot;author&quot;) or {}).get(&quot;email&quot;)
            date_s = ((c.get(&quot;commit&quot;) or {}).get(&quot;author&quot;) or {}).get(&quot;date&quot;)
            commits.append({&quot;login&quot;: login, &quot;email&quot;: email, &quot;date&quot;: date_s})

        # follow Link: rel=&quot;next&quot;
        link = res.headers.get(&quot;Link&quot;, &quot;&quot;)
        nxt = next(
            (
                p[p.find(&quot;&lt;&quot;) + 1 : p.find(&quot;&gt;&quot;)]
                for p in link.split(&quot;,&quot;)
                if 'rel=&quot;next&quot;' in p
            ),
            None,
        )
        if not nxt:
            break
        url, params = nxt, {}
    return commits


def _hhi(shares: list[float]) -&gt; float:
    return sum(s * s for s in shares)


def _k_for_coverage(counts: list[int], coverage: float = 0.80) -&gt; int:
    &quot;&quot;&quot;Smallest k authors covering 'coverage' of commits.&quot;&quot;&quot;
    if not counts:
        return 0
    total = sum(counts)
    need = coverage * total
    acc, k = 0, 0
    for c in sorted(counts, reverse=True):
        acc += c
        k += 1
        if acc &gt;= need:
            break
    return k


def _freshness(days_since_latest: int, tau: float = 180.0) -&gt; float:
    # exp decay, 1.0 when fresh, ~0.37 at tau days, ~0.14 at 360d
    return float(math.exp(-max(0, days_since_latest) / tau))


def _log_norm(n: int, base: float) -&gt; float:
    return 0.0 if n &lt;= 0 else min(1.0, math.log1p(n) / math.log(base))


def _analyze_commits(commits: list[dict]) -&gt; tuple[int, dict]:
    &quot;&quot;&quot;
    Returns (days_since_latest, stats) where stats includes:
      C_recent (unique humans), counts per human, shares, HHI, K_needed
    &quot;&quot;&quot;
    # filter bots + normalize keys
    humans: Dict[str, int] = {}
    latest: Optional[datetime] = None

    for c in commits:
        login = (c.get(&quot;login&quot;) or &quot;&quot;) or None
        email = (c.get(&quot;email&quot;) or &quot;&quot;) or None
        if _is_bot(login, email):
            continue
        key = (login or f&quot;email:{email or 'unknown'}&quot;).lower()
        humans[key] = humans.get(key, 0) + 1

        d = c.get(&quot;date&quot;)
        if d:
            try:
                dt = datetime.fromisoformat(d.replace(&quot;Z&quot;, &quot;+00:00&quot;))
                latest = dt if (latest is None or dt &gt; latest) else latest
            except Exception:
                pass

    days_since = (datetime.now(timezone.utc) - latest).days if latest else LOOKBACK_DAYS
    counts = list(humans.values())
    total = sum(counts)
    shares = [c / total for c in counts] if total &gt; 0 else []
    hhi = _hhi(shares) if total &gt;= 10 else None  # avoid noisy HHI on tiny samples
    k_needed = _k_for_coverage(counts, 0.80) if total &gt; 0 else 0

    return days_since, {
        &quot;C_recent&quot;: len(humans),
        &quot;counts&quot;: counts,
        &quot;shares&quot;: shares,
        &quot;HHI&quot;: hhi,
        &quot;K_needed&quot;: k_needed,
        &quot;total_commits&quot;: total,
    }


def _count_lifetime_contributors(o: str, r: str, pages: int = 10) -&gt; int:
    url = f&quot;https://api.github.com/repos/{o}/{r}/contributors&quot;
    params = {&quot;per_page&quot;: &quot;100&quot;, &quot;anon&quot;: &quot;1&quot;}
    total = 0
    for _ in range(pages):
        try:
            res = requests.get(url, headers=_gh_headers(), params=params, timeout=10)
        except requests.RequestException:
            break
        if res.status_code != 200:
            break
        items = res.json()
        if not isinstance(items, list) or not items:
            break
        total += len(items)
        link = res.headers.get(&quot;Link&quot;, &quot;&quot;)
        nxt = next(
            (
                p[p.find(&quot;&lt;&quot;) + 1 : p.find(&quot;&gt;&quot;)]
                for p in link.split(&quot;,&quot;)
                if 'rel=&quot;next&quot;' in p
            ),
            None,
        )
        if not nxt:
            break
        url, params = nxt, {}
    return total


def _score_from_stats(
    stats: dict,
    days_since: int,
    archived: bool,
    lifetime_commits: int,
    o: Optional[str] = None,
    r: Optional[str] = None,
) -&gt; float:
    # ---- Active-path components (what you already have) ----
    C = _log_norm(stats.get(&quot;C_recent&quot;, 0), base=10.0)
    F = 0.0 if archived else _freshness(days_since, tau=180.0)
    L = _log_norm(int(lifetime_commits or 0), base=50.0)

    total = int(stats.get(&quot;total_commits&quot;, 0))
    if total &gt;= 10:
        shares = stats.get(&quot;shares&quot;, [])
        hhi = sum(s * s for s in shares) if shares else 1.0
        D = max(0.0, min(1.0, 1.0 - hhi))
        k = max(1, int(stats.get(&quot;K_needed&quot;, 1)))
        K = min(1.0, 5.0 / float(k))
    else:
        D, K = 0.0, 0.0

    # ---- Inactive/archived branch: use lifetime breadth ----
    inactive = archived or stats.get(&quot;C_recent&quot;, 0) == 0
    if inactive and o and r:
        n_life = _count_lifetime_contributors(o, r)  # unique contributors over history
        # Breadth from lifetime
        C_life = 0.0 if n_life &lt;= 0 else min(1.0, math.log1p(n_life) / math.log(6))
        # Diversity proxy without shares: assume â€œeven-ishâ€ when many people contributed.
        # Rescale best-case HHI (1/n) to 1.0: D_life = (1 - 1/n) / (1 - 1/âˆž) â‰ˆ 1 - 1/n
        D_life = 0.0 if n_life &lt;= 1 else max(0.0, min(1.0, 1.0 - 1.0 / n_life))
        # Redundancy proxy: more lifetime contributors â†’ more people can cover 80%
        K_life = min(1.0, n_life / 5.0)  # reaches 1.0 by ~5 contributors

        # Use archived weights (drop F, renormalize) with lifetime signals
        w = {&quot;D&quot;: 0.40, &quot;K&quot;: 0.25, &quot;C&quot;: 0.20, &quot;L&quot;: 0.05}  # no F here
        s = sum(w.values())
        w = {k: v / s for k, v in w.items()}
        score = w[&quot;D&quot;] * D_life + w[&quot;K&quot;] * K_life + w[&quot;C&quot;] * C_life + w[&quot;L&quot;] * L
        return max(0.0, min(1.0, float(score)))

    # ---- Active repo blend (your â€œfair weightsâ€) ----
    w = {&quot;D&quot;: 0.40, &quot;K&quot;: 0.25, &quot;C&quot;: 0.20, &quot;F&quot;: 0.10, &quot;L&quot;: 0.05}
    score = w[&quot;D&quot;] * D + w[&quot;K&quot;] * K + w[&quot;C&quot;] * C + w[&quot;F&quot;] * F + w[&quot;L&quot;] * L
    return max(0.0, min(1.0, float(score)))


def compute(model_url: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    try:
        # 1) Prefer explicit code URL from context
        code_url = get_code_url(model_url)
        parsed = _parse_gh(code_url) if code_url else None

        # 2) If none, try HF card to find repo
        repo_info = None
        lifetime_commits = 0
        archived = False

        if not parsed:
            repo_id, _ = to_repo_id(model_url)
            info = model_info(repo_id)
            gh = _find_github_url(info, repo_id)
            parsed = _parse_gh(gh) if gh else None

        if not parsed:
            # Nothing to analyze â†’ neutral default
            return {
                &quot;value&quot;: DEFAULT,
                &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
            }

        o, r = parsed

        # 3) Repo metadata (archived flag, etc.) using safe GET
        res = _gh_get(f&quot;https://api.github.com/repos/{o}/{r}&quot;)
        if res and isinstance(res.json(), dict):
            repo_info = res.json()
            archived = bool(repo_info.get(&quot;archived&quot;, False))
            # GitHub API doesn't expose lifetime commits directly; keep your fallback
            lifetime_commits = int(repo_info.get(&quot;network_count&quot;, 0))

        # 4) Commits in lookback window (safe default-branch lookup)
        branch = _get_default_branch(o, r)
        since = (datetime.now(timezone.utc) - timedelta(days=LOOKBACK_DAYS)).isoformat()

        commits = _list_commits(o, r, since, branch)
        if commits is None:
            # API unavailable / invalid token / rate-limited â†’ neutral default (do NOT punish)
            return {
                &quot;value&quot;: DEFAULT,
                &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
            }

        # 5) Analyze &amp; score
        days_since, stats = _analyze_commits(commits)
        value = _score_from_stats(
            stats, days_since, archived, lifetime_commits, o=o, r=r
        )

        return {
            &quot;value&quot;: float(value),
            &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
        }

    except Exception:
        # Network/token/surprise â†’ neutral default
        return {
            &quot;value&quot;: DEFAULT,
            &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
        }


register(NAME, FIELD, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/metrics/base.py (Line 1:1 - Line 32:2), .venv/lib/python3.14/site-packages/swe_project/metrics/base.py (Line 1:1 - Line 32:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn817" onclick="toggleCodeBlock('cloneGroup817', 'expandBtn817', 'collapseBtn817')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn817" onclick="toggleCodeBlock('cloneGroup817', 'expandBtn817', 'collapseBtn817')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup817"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Any, Callable, List, Tuple, TypedDict


class MetricResult(TypedDict):
    value: Any  # float | dict[str, float]
    latency_ms: int


# (name, output_field, compute)
_REGISTRY: List[Tuple[str, str, Callable[[str], MetricResult]]] = []


def register(
    name: str, output_field: str, compute: Callable[[str], MetricResult]
) -&gt; None:
    _REGISTRY.append((name, output_field, compute))


def registered() -&gt; List[Tuple[str, str, Callable[[str], MetricResult]]]:
    return list(_REGISTRY)


def clear_registry_for_tests() -&gt; None:  # testing aid
    _REGISTRY.clear()
    # ensure re-import re-executes module bodies in tests
    import sys

    for mod in list(sys.modules):
        if mod.startswith(&quot;swe_project.metrics.&quot;) and not mod.endswith(&quot;.base&quot;):
            sys.modules.pop(mod, None)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/core/weights.py (Line 1:1 - Line 16:6), .venv/lib/python3.14/site-packages/swe_project/core/weights.py (Line 1:1 - Line 16:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn818" onclick="toggleCodeBlock('cloneGroup818', 'expandBtn818', 'collapseBtn818')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn818" onclick="toggleCodeBlock('cloneGroup818', 'expandBtn818', 'collapseBtn818')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup818"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import os
from typing import Iterable

_DEFAULT_EXTS = (&quot;.safetensors&quot;, &quot;.bin&quot;, &quot;.onnx&quot;, &quot;.tflite&quot;, &quot;.h5&quot;, &quot;.pt&quot;)


def total_weight_bytes(root: str, exts: Iterable[str] = _DEFAULT_EXTS) -&gt; int:
    exts = tuple(e.lower() for e in exts)
    total = 0
    for d, _, files in os.walk(root):
        for f in files:
            if f.lower().endswith(exts):
                total += os.path.getsize(os.path.join(d, f))
    return total</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/core/url_ctx.py (Line 1:1 - Line 44:5), .venv/lib/python3.14/site-packages/swe_project/core/url_ctx.py (Line 1:1 - Line 44:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn819" onclick="toggleCodeBlock('cloneGroup819', 'expandBtn819', 'collapseBtn819')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn819" onclick="toggleCodeBlock('cloneGroup819', 'expandBtn819', 'collapseBtn819')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup819"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from dataclasses import dataclass
from threading import RLock
from typing import Dict, Optional


@dataclass(frozen=True)
class Triplet:
    model: str
    code: Optional[str] = None
    dataset: Optional[str] = None


_MODEL_TO_CTX: Dict[str, Triplet] = {}
_LOCK = RLock()


def clear() -&gt; None:
    with _LOCK:
        _MODEL_TO_CTX.clear()


def set_context(
    model_url: str, code_url: Optional[str], dataset_url: Optional[str]
) -&gt; None:
    with _LOCK:
        _MODEL_TO_CTX[model_url] = Triplet(
            model=model_url,
            code=(code_url or None),
            dataset=(dataset_url or None),
        )


def get_code_url(model_url: str) -&gt; Optional[str]:
    with _LOCK:
        t = _MODEL_TO_CTX.get(model_url)
        return t.code if t else None


def get_dataset_url(model_url: str) -&gt; Optional[str]:
    with _LOCK:
        t = _MODEL_TO_CTX.get(model_url)
        return t.dataset if t else None</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/core/scoring.py (Line 1:1 - Line 25:2), .venv/lib/python3.14/site-packages/swe_project/core/scoring.py (Line 1:1 - Line 25:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn820" onclick="toggleCodeBlock('cloneGroup820', 'expandBtn820', 'collapseBtn820')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn820" onclick="toggleCodeBlock('cloneGroup820', 'expandBtn820', 'collapseBtn820')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup820"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Dict

# Adjust and document these report
DEFAULT_WEIGHTS: Dict[str, float] = {
    &quot;ramp_up_time&quot;: 0.10,
    &quot;bus_factor&quot;: 0.05,
    &quot;license&quot;: 0.10,
    &quot;size_score&quot;: 0.05,  # average across device scores
    &quot;dataset_and_code_score&quot;: 0.10,
    &quot;dataset_quality&quot;: 0.15,
    &quot;code_quality&quot;: 0.25,
    &quot;performance_claims&quot;: 0.20,
}


def combine(scalars: Dict[str, float]) -&gt; float:
    wsum = sum(DEFAULT_WEIGHTS.values()) or 1.0
    total = 0.0
    for k, w in DEFAULT_WEIGHTS.items():
        total += w * float(scalars.get(k, 0.0))
    # clamp
    total = total / wsum
    return max(0.0, min(1.0, total))</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/core/model_url.py (Line 1:1 - Line 81:5), .venv/lib/python3.14/site-packages/swe_project/core/model_url.py (Line 1:1 - Line 81:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn821" onclick="toggleCodeBlock('cloneGroup821', 'expandBtn821', 'collapseBtn821')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn821" onclick="toggleCodeBlock('cloneGroup821', 'expandBtn821', 'collapseBtn821')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup821"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Optional, Tuple
from urllib.parse import urlparse

_BLOCK = {&quot;datasets&quot;, &quot;spaces&quot;, &quot;models&quot;, &quot;docs&quot;}


def to_repo_id(hf_url: str) -&gt; Tuple[str, Optional[str]]:
    &quot;&quot;&quot;
    Normalize Hugging Face model URLs to ('org/name' OR 'name', optional_branch).

    Accepts forms like:
      https://huggingface.co/org/name
      https://huggingface.co/name                     # root-level repo (e.g., gpt2)
      https://huggingface.co/org/name/
      https://huggingface.co/org/name/tree/main
      https://huggingface.co/org/name/resolve/main/pytorch_model.bin
      http://www.huggingface.co/org/name?foo=bar

    Returns:
      (repo_id, branch) where repo_id is NEVER None (kept as str for metrics),
      and branch may be None.
      If not an HF URL, we **return the original input string** (backward compatible).
    &quot;&quot;&quot;
    s = (hf_url or &quot;&quot;).strip()
    if not s:
        return hf_url.strip(), None

    # Allow bare paths like &quot;huggingface.co/org/name&quot;
    if &quot;://&quot; not in s:
        s = &quot;https://&quot; + s

    p = urlparse(s)
    # Accept any host that ends with huggingface.co (incl. enterprise subdomains)
    if not p.netloc.endswith(&quot;huggingface.co&quot;):
        # Not an HF URL; preserve old behavior so metrics don't crash
        return hf_url.strip(), None

    parts = [seg for seg in p.path.split(&quot;/&quot;) if seg]  # remove empty segments
    if not parts:
        # No repo segment; preserve old behavior
        return hf_url.strip(), None

    # repo_id can be 1-seg (root-level) or 2-seg (org/name)
    branch: Optional[str] = None
    if len(parts) &gt;= 2:
        repo_id = f&quot;{parts[0]}/{parts[1]}&quot;
        rest = parts[2:]
    else:
        repo_id = parts[0]
        rest = []

    # Handle /tree/&lt;branch&gt; or /resolve/&lt;branch&gt;/...
    if len(rest) &gt;= 2 and rest[0] in {&quot;tree&quot;, &quot;resolve&quot;}:
        branch = rest[1]

    return repo_id, branch


def is_hf_model_url(hf_url: str) -&gt; bool:
    &quot;&quot;&quot;
    True iff the URL points to a Hugging Face *model* repo.
    Accepts root-level (e.g., https://huggingface.co/gpt2) and org/name.
    Excludes datasets/spaces/docs/models sections.
    &quot;&quot;&quot;
    s = (hf_url or &quot;&quot;).strip()
    if not s:
        return False
    if &quot;://&quot; not in s:
        s = &quot;https://&quot; + s
    p = urlparse(s)
    if not p.netloc.endswith(&quot;huggingface.co&quot;):
        return False
    parts = [seg for seg in p.path.split(&quot;/&quot;) if seg]
    if not parts:
        return False
    if parts[0] in _BLOCK:
        return False
    # At least one segment (root-level) is OK; second segment (org/name) also OK.
    return True</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/core/hf_client.py (Line 1:1 - Line 50:2), .venv/lib/python3.14/site-packages/swe_project/core/hf_client.py (Line 1:1 - Line 50:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn822" onclick="toggleCodeBlock('cloneGroup822', 'expandBtn822', 'collapseBtn822')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn822" onclick="toggleCodeBlock('cloneGroup822', 'expandBtn822', 'collapseBtn822')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup822"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Any, Optional

from huggingface_hub import HfApi, snapshot_download
from tqdm.auto import tqdm  # needed to silence the progress bars

_api = HfApi()


def model_info(repo_id: str, revision: Optional[str] = None) -&gt; Any:
    &quot;&quot;&quot;
    Thin wrapper around HfApi.model_info that tolerates older/test fakes
    which may not accept keyword args like 'revision' or 'files_metadata'.
    &quot;&quot;&quot;
    try:
        return _api.model_info(repo_id, revision=revision, files_metadata=True)
    except TypeError:
        # test doubles or older clients without kwargs
        return _api.model_info(repo_id)


def dataset_info(repo_id: str, revision: Optional[str] = None) -&gt; Any:
    &quot;&quot;&quot;
    Similar tolerance for dataset_info (some fakes don't accept kwargs).
    &quot;&quot;&quot;
    try:
        return _api.dataset_info(repo_id, revision=revision, files_metadata=True)
    except TypeError:
        return _api.dataset_info(repo_id)


# this is to silence the progress bars from huggingface_hub snapshot_download
class SilentTqdm(tqdm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs, disable=True)


# what we did was to create a subclass of tqdm that is always disabled, and pass it to snapshot_download


def download_snapshot(repo_id: str, allow_patterns):
    return str(
        snapshot_download(
            repo_id=repo_id,
            allow_patterns=allow_patterns,
            local_dir_use_symlinks=False,
            tqdm_class=SilentTqdm,
        )
    )</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/core/exec_pool.py (Line 1:1 - Line 27:4), .venv/lib/python3.14/site-packages/swe_project/core/exec_pool.py (Line 1:1 - Line 27:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn823" onclick="toggleCodeBlock('cloneGroup823', 'expandBtn823', 'collapseBtn823')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn823" onclick="toggleCodeBlock('cloneGroup823', 'expandBtn823', 'collapseBtn823')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup823"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from concurrent.futures import ThreadPoolExecutor, as_completed
from typing import Any, Callable, Dict, List, Tuple

EXEC = ThreadPoolExecutor(max_workers=8)


def run_parallel(
    tasks: List[Tuple[str, Callable[[], Any]]], timeout_s: int = 60
) -&gt; Dict[str, Any]:
    &quot;&quot;&quot;
    tasks: list of (key, fn). Returns {key: fn_result_or_default}.
    Any exception â†’ {&quot;value&quot;: 0.0, &quot;latency_ms&quot;: 0}.
    &quot;&quot;&quot;
    futs = {EXEC.submit(fn): key for key, fn in tasks}
    out: Dict[str, Any] = {}
    for fut in as_completed(futs, timeout=timeout_s):
        key = futs[fut]
        try:
            out[key] = fut.result()
        except Exception:
            out[key] = {&quot;value&quot;: 0.0, &quot;latency_ms&quot;: 0}
    # fill any timeouts/missed
    for key, _ in tasks:
        out.setdefault(key, {&quot;value&quot;: 0.0, &quot;latency_ms&quot;: 0})
    return out</code></pre></div><div class="py-4"><p class="text-gray-600">tests/unit/metrics/test_performance_claims.py (Line 88:5 - Line 104:7), tests/unit/metrics/test_performance_claims.py (Line 63:5 - Line 79:82)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn824" onclick="toggleCodeBlock('cloneGroup824', 'expandBtn824', 'collapseBtn824')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn824" onclick="toggleCodeBlock('cloneGroup824', 'expandBtn824', 'collapseBtn824')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup824"><code class="language-python text-sm text-gray-800">monkeypatch.setattr(pc, &quot;_HF_AVAILABLE&quot;, True)

    fake_path = tmp_path / &quot;README.md&quot;
    fake_path.write_text(md, encoding=&quot;utf-8&quot;)
    monkeypatch.setattr(pc, &quot;hf_hub_download&quot;, lambda *a, **k: str(fake_path))

    class FakeCard:
        @staticmethod
        def load(path):
            return SimpleNamespace(content=md)

    monkeypatch.setattr(pc, &quot;ModelCard&quot;, FakeCard)

    monkeypatch.setattr(pc, &quot;model_info&quot;, lambda rid: _fake_info({}, []))

    out = pc.compute(&quot;https://huggingface.co/org/name&quot;)
    assert</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/size_score.py (Line 1:1 - Line 113:2), .venv/lib/python3.14/site-packages/swe_project/metrics/size_score.py (Line 1:1 - Line 113:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn825" onclick="toggleCodeBlock('cloneGroup825', 'expandBtn825', 'collapseBtn825')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn825" onclick="toggleCodeBlock('cloneGroup825', 'expandBtn825', 'collapseBtn825')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup825"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import time
from typing import Dict, Iterable, Optional, cast

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

# Weight-file extensions we count toward model size
_WEIGHT_EXTS: Iterable[str] = (&quot;.safetensors&quot;, &quot;.bin&quot;, &quot;.onnx&quot;, &quot;.tflite&quot;, &quot;.h5&quot;, &quot;.pt&quot;)


def _clamp01(x: float) -&gt; float:
    return 0.0 if x &lt; 0.0 else 1.0 if x &gt; 1.0 else x


def _sum_weight_megabytes(repo_id: str, revision: Optional[str]) -&gt; float:
    &quot;&quot;&quot;
    Use Hugging Face *metadata* (no big file downloads) to sum sizes of weight files.
    Returns total size in MB (base-10: 1 MB = 1e6 bytes). Falls back to 0 on any error.
    &quot;&quot;&quot;
    try:
        info = model_info(
            repo_id, revision=revision
        )  # files_metadata=True in hf_client
        # Newer huggingface_hub exposes per-file metadata under `siblings` or `siblings_with_metadata`
        files = (
            getattr(info, &quot;siblings&quot;, None)
            or getattr(info, &quot;siblings_with_metadata&quot;, None)
            or []
        )

        total_bytes = 0
        for f in files:
            # Compatible access for both dict-like and object-like entries
            fname = (
                getattr(f, &quot;rfilename&quot;, None)
                or getattr(f, &quot;path&quot;, None)
                or getattr(f, &quot;filename&quot;, None)
            )
            fsize = getattr(f, &quot;size&quot;, None)
            if isinstance(fname, str) and isinstance(fsize, int):
                if any(fname.lower().endswith(ext) for ext in _WEIGHT_EXTS):
                    total_bytes += fsize

        return total_bytes / 1_000_000.0  # MB (decimal)
    except Exception:
        # Be fail-safe: if metadata fetch fails, treat as 0 MB so we don't crash the whole run
        return 0.0


def _device_capacities_mb() -&gt; Dict[str, float]:
    &quot;&quot;&quot;
    Rough capacity budget (in MB) per device class. These are tunable heuristics.
    The score is computed as: max(0, 1 - (model_mb / capacity_mb)).
    &quot;&quot;&quot;
    return {
        &quot;raspberry_pi&quot;: 500.0,  # smaller budget â†’ large models score near 0
        &quot;jetson_nano&quot;: 1500.0,
        &quot;desktop_pc&quot;: 8000.0,
        &quot;aws_server&quot;: 16000.0,
    }


def _scores_from_size(total_mb: float) -&gt; Dict[str, float]:
    caps = _device_capacities_mb()
    scores: Dict[str, float] = {}
    for device, cap in caps.items():
        # Linear decay with clamp into [0, 1], rounded to 2 decimal places
        scores[device] = round(_clamp01(1.0 - (total_mb / cap)), 2) if cap &gt; 0 else 0.0
    return scores


def compute(model_url: str) -&gt; MetricResult:
    &quot;&quot;&quot;
    Compute 'size_score' as a per-device compatibility dict using HF metadata only.
    Returns:
      {
        &quot;value&quot;: { &quot;raspberry_pi&quot;: float, &quot;jetson_nano&quot;: float, &quot;desktop_pc&quot;: float, &quot;aws_server&quot;: float },
        &quot;latency_ms&quot;: int
      }
    &quot;&quot;&quot;
    t0 = time.perf_counter()
    try:
        repo_id, revision = to_repo_id(model_url)
        total_mb = _sum_weight_megabytes(repo_id, revision)
        scores = _scores_from_size(total_mb)  # Dict[str, float] (already rounded)

        return cast(
            MetricResult,
            {
                &quot;value&quot;: scores,  # dict[str, float]
                &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
            },
        )
    except Exception:
        return cast(
            MetricResult,
            {
                &quot;value&quot;: {
                    &quot;raspberry_pi&quot;: 0.0,
                    &quot;jetson_nano&quot;: 0.0,
                    &quot;desktop_pc&quot;: 0.0,
                    &quot;aws_server&quot;: 0.0,
                },
                &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
            },
        )


# Register the metric so the CLI can discover it
register(&quot;size_score&quot;, &quot;size_score&quot;, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/ramp_up_time.py (Line 1:1 - Line 70:2), .venv/lib/python3.14/site-packages/swe_project/metrics/ramp_up_time.py (Line 1:1 - Line 70:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn826" onclick="toggleCodeBlock('cloneGroup826', 'expandBtn826', 'collapseBtn826')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn826" onclick="toggleCodeBlock('cloneGroup826', 'expandBtn826', 'collapseBtn826')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup826"><code class="language-python text-sm text-gray-800">import os
import re
import time

from swe_project.core.hf_client import download_snapshot
from swe_project.llm_client import ask_llm
from swe_project.metrics.base import register


def compute(model_url: str):
    &quot;&quot;&quot;
    Compute ramp-up time score by analyzing README with LLM.
    Supports both Hugging Face repos and local absolute paths.
    &quot;&quot;&quot;
    t0 = time.perf_counter()

    # case 1: Local repo path
    if os.path.isabs(model_url) and os.path.exists(model_url):
        readme_file = os.path.join(model_url, &quot;README.md&quot;)

    else:
        # case 2: hugging Face repo
        repo_id = model_url.replace(&quot;https://huggingface.co/&quot;, &quot;&quot;).strip(&quot;/&quot;)
        local_path = download_snapshot(repo_id, allow_patterns=[&quot;README.md&quot;])
        readme_file = os.path.join(local_path, &quot;README.md&quot;)

    if not os.path.exists(readme_file):
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
        }

    with open(readme_file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:
        readme_text = f.read()

    response = ask_llm(
        [
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;You are a strict evaluator of documentation clarity.&quot;,
            },
            {
                &quot;role&quot;: &quot;user&quot;,
                &quot;content&quot;: (
                    &quot;Rate the clarity and completeness of this README in a single number &quot;
                    &quot;between 0 (worst) and 1 (best). Respond with just the number.\n\n&quot;
                    f&quot;{readme_text[:4000]}&quot;
                ),
            },
        ]
    )

    score = 0.0
    if response:
        try:
            score = float(response.strip())
        except ValueError:
            m = re.search(r&quot;\b(0(?:\.\d+)?|1(?:\.0+)?)\b&quot;, response)
            if m:
                score = float(m.group(1))

    score = max(0.0, min(1.0, score))

    return {
        &quot;value&quot;: score,
        &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
    }


register(&quot;ramp_up_time&quot;, &quot;ramp_up_time&quot;, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/performance_claims.py (Line 1:1 - Line 242:2), .venv/lib/python3.14/site-packages/swe_project/metrics/performance_claims.py (Line 1:1 - Line 242:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn827" onclick="toggleCodeBlock('cloneGroup827', 'expandBtn827', 'collapseBtn827')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn827" onclick="toggleCodeBlock('cloneGroup827', 'expandBtn827', 'collapseBtn827')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup827"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import re
import time
from typing import Any, Iterable, Optional, Tuple

# --- Optional HF imports (grader may not have huggingface_hub) ---
try:
    from huggingface_hub import ModelCard, hf_hub_download  # type: ignore

    _HF_AVAILABLE = True
except Exception:
    ModelCard = None  # type: ignore
    hf_hub_download = None  # type: ignore
    _HF_AVAILABLE = False

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;performance_claims&quot;, &quot;performance_claims&quot;

# ------------ helpers ------------

_THIRD_PARTY_DOMAINS = (
    &quot;arxiv.org&quot;,
    &quot;openreview.net&quot;,
    &quot;aclweb.org&quot;,
    &quot;aclanthology.org&quot;,
    &quot;neurips.cc&quot;,
    &quot;paperswithcode.com&quot;,
    &quot;scholar.google&quot;,
    &quot;dl.acm.org&quot;,
    &quot;ieeexplore.ieee.org&quot;,
)

# Benchmarks/datasets (incl. ASR/speech)
_DATASET_TOKENS = (
    # NLP / CV
    &quot;squad&quot;,
    &quot;mnli&quot;,
    &quot;sst-2&quot;,
    &quot;sst2&quot;,
    &quot;qqp&quot;,
    &quot;qnli&quot;,
    &quot;cola&quot;,
    &quot;stsb&quot;,
    &quot;mrpc&quot;,
    &quot;imagenet&quot;,
    &quot;cifar&quot;,
    &quot;glue&quot;,
    &quot;superglue&quot;,
    &quot;snli&quot;,
    &quot;msmarco&quot;,
    &quot;wikitext&quot;,
    &quot;lambada&quot;,
    &quot;hellaswag&quot;,
    &quot;mmlu&quot;,
    # ASR / speech
    &quot;librispeech&quot;,
    &quot;common voice&quot;,
    &quot;cv&quot;,
    &quot;ted-lium&quot;,
    &quot;gigaspeech&quot;,
    &quot;fleurs&quot;,
    &quot;voxpopuli&quot;,
    &quot;ljspeech&quot;,
    &quot;wsj&quot;,
    &quot;switchboard&quot;,
    &quot;ami&quot;,
    &quot;timit&quot;,
)

# Metric tokens + nearby number/percent
_METRIC_WORDS = (
    r&quot;(accuracy|acc|f1|bleu|rouge|map|auc|perplexity|exact\s*match|em|mcc|pearson|spearman&quot;
    r&quot;|wer|word\s*error\s*rate|cer|character\s*error\s*rate)&quot;
)
_NEAR_NUMBER = r&quot;([0-9]+(\.[0-9]+)?\s*%?)&quot;
_VAGUE_CLAIM_RE = re.compile(rf&quot;{_METRIC_WORDS}[^.\n]{{0,60}}{_NEAR_NUMBER}&quot;, re.I)

# Semi-structured detectors
_TABLE_ROW_RE = re.compile(r&quot;^\s*\|.+\|\s*$&quot;, re.M)
_HTML_TABLE_RE = re.compile(r&quot;&lt;\s*table\b&quot;, re.I)


def _has_third_party_link(text: str, tags: Iterable[str]) -&gt; bool:
    hay = (text or &quot;&quot;) + &quot; &quot; + &quot; &quot;.join(tags or [])
    low = hay.lower()
    return any(dom in low for dom in _THIRD_PARTY_DOMAINS)


def _any_dataset_token(text: str) -&gt; bool:
    low = (text or &quot;&quot;).lower()
    return any(tok in low for tok in _DATASET_TOKENS)


def _contains_vague_perf(text: str, tags: Iterable[str]) -&gt; bool:
    hay = (text or &quot;&quot;) + &quot; &quot; + &quot; &quot;.join(tags or [])
    return bool(_VAGUE_CLAIM_RE.search(hay)) or (
        _any_dataset_token(hay) and re.search(_METRIC_WORDS, hay, re.I) is not None
    )


def _count_structured_claims(card_data: Any) -&gt; Tuple[int, int]:
    &quot;&quot;&quot;Return (n_results, n_metric_entries) from cardData across model-index and common ad-hoc keys.&quot;&quot;&quot;
    n_results = 0
    n_metrics = 0
    if not isinstance(card_data, dict):
        return (0, 0)

    # 1) model-index
    mi = card_data.get(&quot;model-index&quot;)
    if isinstance(mi, list):
        for entry in mi:
            for res in (entry or {}).get(&quot;results&quot;, []) or []:
                dataset = (res or {}).get(&quot;dataset&quot;) or {}
                metrics = (res or {}).get(&quot;metrics&quot;) or []
                has_dataset = bool(dataset.get(&quot;name&quot;) or dataset.get(&quot;type&quot;))
                if has_dataset and isinstance(metrics, list) and metrics:
                    good = 0
                    for m in metrics:
                        if not isinstance(m, dict):
                            continue
                        if (m.get(&quot;name&quot;) or m.get(&quot;type&quot;)) and (
                            m.get(&quot;value&quot;) is not None
                        ):
                            good += 1
                    if good &gt; 0:
                        n_results += 1
                        n_metrics += good

    # 2) ad-hoc lists
    for key in (&quot;eval_results&quot;, &quot;metrics&quot;):
        vals = card_data.get(key)
        if isinstance(vals, list):
            for item in vals:
                if not isinstance(item, dict):
                    continue
                has_metric = bool(
                    item.get(&quot;metric&quot;) or item.get(&quot;name&quot;) or item.get(&quot;type&quot;)
                )
                has_value = item.get(&quot;value&quot;) is not None
                has_dataset = bool(
                    item.get(&quot;dataset&quot;)
                    or item.get(&quot;dataset_name&quot;)
                    or item.get(&quot;task_name&quot;)
                )
                if has_metric and has_value and has_dataset:
                    n_results += 1
                    n_metrics += 1

    return (n_results, n_metrics)


def _markdown_claims_strength(md: str) -&gt; Tuple[bool, int]:
    &quot;&quot;&quot;If README has a markdown or HTML table AND a metric-with-number nearby, treat as semi-structured.&quot;&quot;&quot;
    if not md:
        return (False, 0)
    table_rows = _TABLE_ROW_RE.findall(md)
    html_table = bool(_HTML_TABLE_RE.search(md))
    has_vague = bool(_VAGUE_CLAIM_RE.search(md))
    has_semi = (bool(table_rows) or html_table) and has_vague
    approx = len(table_rows) if table_rows else (6 if html_table else 0)
    return (has_semi, approx)


# ------------ main ------------


def compute(model_url: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    score: float = 0.0
    try:
        repo_id, rev = to_repo_id(model_url)
        info: Any = model_info(repo_id)
        card_data = getattr(info, &quot;cardData&quot;, None) or {}
        tags = getattr(info, &quot;tags&quot;, None) or []

        # --- README load (GRADER-SAFE) ---
        # If HF libs are available, try to load README text; otherwise skip (md=&quot;&quot;).
        md: str = &quot;&quot;
        if _HF_AVAILABLE:
            path: Optional[str] = None
            try:
                if rev:
                    path = hf_hub_download(repo_id, filename=&quot;README.md&quot;, revision=rev)  # type: ignore[arg-type]
            except Exception:
                path = None
            if path is None:
                try:
                    path = hf_hub_download(repo_id, filename=&quot;README.md&quot;)  # type: ignore[arg-type]
                except Exception:
                    path = None
            if path:
                try:
                    md = str(ModelCard.load(path).content)  # type: ignore[union-attr]
                except Exception:
                    try:
                        with open(path, &quot;r&quot;, encoding=&quot;utf-8&quot;, errors=&quot;ignore&quot;) as f:
                            md = f.read()
                    except Exception:
                        md = &quot;&quot;
            # If libs exist but all attempts failed, md stays &quot;&quot; (safe)

        # --- signals ---
        third_party = _has_third_party_link(md, tags)
        n_results, n_metrics = _count_structured_claims(card_data)
        has_structured = n_results &gt; 0 and n_metrics &gt; 0
        semi_structured, approx_rows = _markdown_claims_strength(md)
        vague = _contains_vague_perf(md, tags)

        # --- scoring (calibrated &amp; defensible) ---
        if has_structured:
            base = 0.74
            richness_bonus = min(
                0.12, 0.04 * min(n_results, 3) + 0.02 * min(n_metrics, 5)
            )
            third_party_bonus = 0.06 if third_party else 0.0
            score = base + richness_bonus + third_party_bonus
        elif semi_structured:
            base = 0.72
            table_bonus = min(0.12, 0.02 * min(approx_rows, 8))
            third_party_bonus = 0.04 if third_party else 0.0
            score = base + table_bonus + third_party_bonus
        elif vague:
            score = 0.15
        else:
            score = 0.0

        score = max(0.0, min(1.0, score))

    except Exception:
        score = 0.0

    return {
        &quot;value&quot;: float(score),
        &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
    }


register(NAME, FIELD, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/license.py (Line 1:1 - Line 85:2), .venv/lib/python3.14/site-packages/swe_project/metrics/license.py (Line 1:1 - Line 85:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn828" onclick="toggleCodeBlock('cloneGroup828', 'expandBtn828', 'collapseBtn828')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn828" onclick="toggleCodeBlock('cloneGroup828', 'expandBtn828', 'collapseBtn828')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup828"><code class="language-python text-sm text-gray-800">import os
import re
import time
from typing import Optional, Tuple

from swe_project.core.hf_client import download_snapshot, model_info
from swe_project.metrics.base import register

# Simple regex to catch license mentions in README (ai generated)
LICENSE_PATTERN = re.compile(
    r&quot;(?i)(?:license|licensed under)\s*[:\-]?\s*([A-Za-z0-9\.\-+]+)&quot;
)

# map licenses to scores (1.0 = compatible, 0.0 = incompatible, 0.5 = unclear/custom)
LICENSE_SCORES = {
    &quot;apache-2.0&quot;: 1.0,
    &quot;mit&quot;: 1.0,
    &quot;bsd-3-clause&quot;: 1.0,
    &quot;bsd-2-clause&quot;: 1.0,
    &quot;lgpl-2.1&quot;: 1.0,
    &quot;mpl-2.0&quot;: 1.0,
    &quot;gpl-3.0&quot;: 0.0,
    &quot;agpl-3.0&quot;: 0.0,
    &quot;proprietary&quot;: 0.0,
}


def normalize_license(raw: Optional[str]) -&gt; Tuple[float, str]:
    &quot;&quot;&quot;normalize raw license string to score + SPDX-like identifier.&quot;&quot;&quot;
    if not raw:  # if there is no license info found
        return 0.0, &quot;None&quot;

    key = raw.lower().strip()
    if key in LICENSE_SCORES:
        return LICENSE_SCORES[key], key

    # fallback: unclear/custom license
    return 0.5, key


def compute(model_url: str):
    &quot;&quot;&quot;
    Compute license metric:
      - Check Hugging Face metadata for license.
      - If missing, scan README.md for license mention.
      - Score = 1.0 (compatible), 0.5 (unclear), or 0.0 (incompatible).
    &quot;&quot;&quot;
    t0 = time.perf_counter()

    repo_id = model_url.replace(&quot;https://huggingface.co/&quot;, &quot;&quot;).strip(&quot;/&quot;)

    # 1. Try Hugging Face model metadata
    try:
        info = model_info(repo_id)
        raw_license = getattr(info, &quot;license&quot;, None)
        score, license_id = normalize_license(raw_license)
    except Exception:
        raw_license = None
        score, license_id = 0.0, &quot;None&quot;

    # 2. check readme if no license found
    if (not raw_license) or (score == 0.5):
        try:
            local_path = download_snapshot(repo_id, allow_patterns=[&quot;README.md&quot;])
            readme_file = os.path.join(local_path, &quot;README.md&quot;)

            if os.path.exists(readme_file):
                with open(readme_file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:
                    text = f.read()

                m = LICENSE_PATTERN.search(text)
                if m:
                    raw_license = m.group(1)
                    score, license_id = normalize_license(raw_license)
        except Exception:
            pass  # ignore if README not found

    return {
        &quot;value&quot;: score,
        &quot;latency_ms&quot;: int((time.perf_counter() - t0) * 1000),
    }


# register in the metrics registry
register(&quot;license&quot;, &quot;license&quot;, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/dataset_quality.py (Line 1:1 - Line 100:77), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_quality.py (Line 1:1 - Line 100:77)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn829" onclick="toggleCodeBlock('cloneGroup829', 'expandBtn829', 'collapseBtn829')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn829" onclick="toggleCodeBlock('cloneGroup829', 'expandBtn829', 'collapseBtn829')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup829"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import logging
import time
from typing import Any

from swe_project.core.hf_client import dataset_info
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;dataset_quality&quot;, &quot;dataset_quality&quot;


def _score_single_dataset(d_info: Any) -&gt; float:
    if getattr(d_info, &quot;gated&quot;, False):
        return 0.0

    score = 0.0
    if getattr(d_info, &quot;cardData&quot;, None):
        score += 0.5
    if getattr(d_info, &quot;downloads&quot;, 0) &gt; 1000:
        score += 0.25
    if getattr(d_info, &quot;configs&quot;, []):
        score += 0.2
    if getattr(d_info, &quot;viewer&quot;, False):
        score += 0.05

    return min(1.0, score)


def compute(input_line: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    total_score = 0.0

    urls = [url.strip() for url in input_line.split(&quot;,&quot;) if url.strip()]
    dataset_urls = [url for url in urls if &quot;huggingface.co/datasets/&quot; in url]

    if not dataset_urls:
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
        }

    try:
        dataset_ids = [
            url.split(&quot;huggingface.co/datasets/&quot;)[-1].split(&quot;/&quot;)[0]
            for url in dataset_urls
        ]

        for d_id in dataset_ids:
            try:
                d_info = dataset_info(d_id)
                total_score += _score_single_dataset(d_info)
            except Exception:
                logging.warning(&quot;%s: failed to fetch info for dataset %s&quot;, NAME, d_id)

        final_score = total_score / len(dataset_ids)

    except Exception:
        logging.exception(&quot;%s failed for line: %s&quot;, NAME, input_line)
        final_score = 0.0

    return {
        &quot;value&quot;: float(max(0.0, min(1.0, final_score))),
        &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
    }


register(NAME, FIELD, compute)

# if __name__ == &quot;__main__&quot;:
#     import sys
#     import json
#     import os

#     if len(sys.argv) &gt; 1:
#         first_arg = sys.argv[1]
#         lines_to_process = []
#         if os.path.isfile(first_arg):
#             try:
#                 with open(first_arg, 'r') as f:
#                     lines_to_process = f.readlines()
#             except IOError as e:
#                 print(f&quot;Error reading file: {e}&quot;, file=sys.stderr)
#                 sys.exit(1)
#         else:
#             lines_to_process = [&quot; &quot;.join(sys.argv[1:])]

#         for line in lines_to_process:
#             line = line.strip()
#             if not line: continue
#             result = compute(input_line=line)
#             output_data = {
#                 &quot;input_line&quot;: line,
#                 &quot;dataset_quality&quot;: result[&quot;value&quot;],
#                 &quot;dataset_quality_latency&quot;: result[&quot;latency_ms&quot;]
#             }
#             print(json.dumps(output_data))
#     else:
#         print(&quot;Usage 1: python -m ... &lt;path_to_url_file&gt;&quot;, file=sys.stderr)
#         print(&quot;Usage 2: python -m ... &lt;URL1, URL2, ...&gt;&quot;, file=sys.stderr)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/dataset_and_code.py (Line 1:1 - Line 180:2), .venv/lib/python3.14/site-packages/swe_project/metrics/dataset_and_code.py (Line 1:1 - Line 180:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn830" onclick="toggleCodeBlock('cloneGroup830', 'expandBtn830', 'collapseBtn830')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn830" onclick="toggleCodeBlock('cloneGroup830', 'expandBtn830', 'collapseBtn830')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup830"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import logging
import os
import re
import time
from typing import Any, Dict, Optional

import requests

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;dataset_and_code&quot;, &quot;dataset_and_code&quot;


def _gh_headers() -&gt; Dict[str, str]:
    &quot;&quot;&quot;Creates headers for GitHub API requests, including authorization if available.&quot;&quot;&quot;
    hdrs: Dict[str, str] = {
        &quot;Accept&quot;: &quot;application/vnd.github+json&quot;,
        &quot;User-Agent&quot;: &quot;swe-project-dataset-and-code/1.0&quot;,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(
    url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10
) -&gt; Optional[requests.Response]:
    &quot;&quot;&quot;
    Performs a GET request to the GitHub API with robust error handling.
    Retries once without authorization on 401/403 errors.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[dataset_and_code] Network error for %s: %s&quot;, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without the auth header if token is bad
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(
                &quot;[dataset_and_code] Retry without auth failed for %s: %s&quot;, url, e
            )
            return None

    if res.status_code != 200:
        logging.warning(
            &quot;[dataset_and_code] GET %s returned status %s&quot;, url, res.status_code
        )
        return None
    return res


def get_github_repo_files(repo_url: str) -&gt; set[str]:
    &quot;&quot;&quot;Fetches the list of all files in a GitHub repository's default branch.&quot;&quot;&quot;
    match = re.search(r&quot;github\.com/([^/]+)/([^/]+)&quot;, repo_url.replace(&quot;.git&quot;, &quot;&quot;))
    if not match:
        return set()

    owner, repo = match.groups()

    # Get repository info to find the default branch
    repo_info_url = f&quot;https://api.github.com/repos/{owner}/{repo}&quot;
    repo_res = _gh_get(repo_info_url)
    if not repo_res:
        logging.error(f&quot;Failed to fetch repo info from {repo_info_url}&quot;)
        return set()

    try:
        default_branch = repo_res.json().get(&quot;default_branch&quot;, &quot;main&quot;)
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON or find default_branch for {repo_url}&quot;)
        return set()

    # Get the file tree for the default branch
    trees_url = f&quot;https://api.github.com/repos/{owner}/{repo}/git/trees/{default_branch}?recursive=1&quot;
    tree_res = _gh_get(trees_url)
    if not tree_res:
        logging.error(f&quot;Failed to fetch file tree from {trees_url}&quot;)
        return set()

    try:
        data = tree_res.json()
        if &quot;tree&quot; not in data:
            logging.warning(
                f&quot;Response from {trees_url} is truncated: {data.get('message', '')}&quot;
            )
            return set()
        return {item[&quot;path&quot;] for item in data.get(&quot;tree&quot;, []) if item[&quot;type&quot;] == &quot;blob&quot;}
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON response for file tree of {repo_url}&quot;)
        return set()


def compute(input_line: str) -&gt; MetricResult:
    # Computes a score based on the availability of datasets, code, and demos.
    # - 0.5 if a dataset is linked in the input or on the model card.
    # - 0.3 if Python files are found in the model or linked code repo.
    # - 0.2 if the model is linked to a Hugging Face Space.
    t0 = time.perf_counter()
    score = 0.0

    urls = [url.strip() for url in input_line.split(&quot;,&quot;) if url.strip()]
    code_url = next((url for url in urls if &quot;github.com&quot; in url), None)
    dataset_url = next((url for url in urls if &quot;huggingface.co/datasets/&quot; in url), None)
    model_url = next(
        (url for url in urls if &quot;huggingface.co&quot; in url and &quot;/datasets/&quot; not in url),
        None,
    )

    if not model_url:
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
        }

    try:
        rid, _ = to_repo_id(model_url)
        m_info: Any = model_info(rid)

        card_datasets = getattr(m_info, &quot;cardData&quot;, {}).get(&quot;datasets&quot;, [])
        if dataset_url or card_datasets:
            score += 0.5

        repo_to_check_for_code = code_url or model_url
        filenames = set()
        if &quot;github.com&quot; in repo_to_check_for_code:
            filenames = get_github_repo_files(repo_to_check_for_code)
        else:
            code_rid, _ = to_repo_id(repo_to_check_for_code)
            info_for_code = m_info if code_rid == rid else model_info(code_rid)
            siblings = getattr(info_for_code, &quot;siblings&quot;, [])
            filenames = {s.rfilename for s in siblings}

        if any(f.endswith(&quot;.py&quot;) for f in filenames):
            score += 0.3

        if getattr(m_info, &quot;spaces&quot;, []):
            score += 0.2

    except Exception:
        logging.exception(&quot;%s failed for %s&quot;, NAME, model_url)
        score = 0.0

    final_score = max(0.0, min(1.0, score))
    return {
        &quot;value&quot;: float(final_score),
        &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
    }


register(NAME, FIELD, compute)


if __name__ == &quot;__main__&quot;:
    import json
    import sys

    if len(sys.argv) &gt; 1:
        input_line = &quot; &quot;.join(sys.argv[1:])
        result = compute(input_line=input_line)
        print(json.dumps(result))
    else:
        print(
            &quot;Usage: python -m swe_project.metrics.dataset_and_code &lt;URL1, URL2, ...&gt;&quot;,
            file=sys.stderr,
        )</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/code_quality.py (Line 1:1 - Line 190:104), .venv/lib/python3.14/site-packages/swe_project/metrics/code_quality.py (Line 1:1 - Line 190:104)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn831" onclick="toggleCodeBlock('cloneGroup831', 'expandBtn831', 'collapseBtn831')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn831" onclick="toggleCodeBlock('cloneGroup831', 'expandBtn831', 'collapseBtn831')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup831"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import logging
import os
import re
import time
from typing import Any, Dict, Optional

import requests

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.metrics.base import MetricResult, register

NAME, FIELD = &quot;code_quality&quot;, &quot;code_quality&quot;


def _gh_headers() -&gt; Dict[str, str]:
    &quot;&quot;&quot;Creates headers for GitHub API requests, including authorization if available.&quot;&quot;&quot;
    hdrs: Dict[str, str] = {
        &quot;Accept&quot;: &quot;application/vnd.github+json&quot;,
        &quot;User-Agent&quot;: &quot;swe-project-code-quality/1.0&quot;,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(
    url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10
) -&gt; Optional[requests.Response]:
    &quot;&quot;&quot;
    Performs a GET request to the GitHub API with robust error handling.
    Retries once without authorization on 401/403 errors.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[code_quality] Network error for %s: %s&quot;, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without the auth header if token is bad
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(
                &quot;[code_quality] Retry without auth failed for %s: %s&quot;, url, e
            )
            return None

    if res.status_code != 200:
        logging.warning(
            &quot;[code_quality] GET %s returned status %s&quot;, url, res.status_code
        )
        return None
    return res


def get_github_repo_files(repo_url: str) -&gt; set[str]:
    &quot;&quot;&quot;Fetches the list of all files in a GitHub repository's default branch.&quot;&quot;&quot;
    match = re.search(r&quot;github\.com/([^/]+)/([^/]+)&quot;, repo_url.replace(&quot;.git&quot;, &quot;&quot;))
    if not match:
        return set()

    owner, repo = match.groups()

    # Get repository info to find the default branch
    repo_info_url = f&quot;https://api.github.com/repos/{owner}/{repo}&quot;
    repo_res = _gh_get(repo_info_url)
    if not repo_res:
        logging.error(f&quot;Failed to fetch repo info from {repo_info_url}&quot;)
        return set()

    try:
        default_branch = repo_res.json().get(&quot;default_branch&quot;, &quot;main&quot;)
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON or find default_branch for {repo_url}&quot;)
        return set()

    # Get the file tree for the default branch
    trees_url = f&quot;https://api.github.com/repos/{owner}/{repo}/git/trees/{default_branch}?recursive=1&quot;
    tree_res = _gh_get(trees_url)
    if not tree_res:
        logging.error(f&quot;Failed to fetch file tree from {trees_url}&quot;)
        return set()

    try:
        data = tree_res.json()
        if &quot;tree&quot; not in data:
            logging.warning(
                f&quot;Response from {trees_url} is truncated: {data.get('message', '')}&quot;
            )
            return set()
        return {item[&quot;path&quot;] for item in data.get(&quot;tree&quot;, []) if item[&quot;type&quot;] == &quot;blob&quot;}
    except (requests.exceptions.JSONDecodeError, AttributeError):
        logging.error(f&quot;Could not parse JSON response for file tree of {repo_url}&quot;)
        return set()


def _score_single_url(analysis_url: str) -&gt; float:
    score = 0.0
    try:
        filenames = set()
        is_github = &quot;github.com&quot; in analysis_url

        if is_github:
            filenames = get_github_repo_files(analysis_url)
        else:
            rid, _ = to_repo_id(analysis_url)
            info: Any = model_info(rid)
            siblings = getattr(info, &quot;siblings&quot;, [])
            filenames = {s.rfilename for s in siblings}

        total_files = len(filenames)

        if total_files &gt; 0:
            if is_github:
                if &quot;requirements.txt&quot; in filenames:
                    score += 0.5
                py_files_count = sum(1 for f in filenames if f.endswith(&quot;.py&quot;))
                if py_files_count &gt; 0:
                    score += (py_files_count / total_files) * 0.5
            else:
                py_files_count = sum(1 for f in filenames if f.endswith(&quot;.py&quot;))
                has_deps = (
                    &quot;requirements.txt&quot; in filenames
                    or &quot;pyproject.toml&quot; in filenames
                    or &quot;config.json&quot; in filenames
                )
                if py_files_count &gt; 0:
                    if has_deps:
                        score += 0.3
                    score += (py_files_count / total_files) * 0.7
                elif has_deps:
                    score = 0.3

    except Exception:
        logging.exception(&quot;Sub-computation failed for %s&quot;, analysis_url)
        return 0.0

    return score


def compute(input_line: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    total_score = 0.0
    urls = [url.strip() for url in input_line.split(&quot;,&quot;) if url.strip()]

    relevant_urls = [
        url
        for url in urls
        if &quot;github.com&quot; in url or (&quot;huggingface.co&quot; in url and &quot;/datasets/&quot; not in url)
    ]

    if not relevant_urls:
        return {
            &quot;value&quot;: 0.0,
            &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
        }

    for url in relevant_urls:
        total_score += _score_single_url(url)

    final_score = max(0.0, min(1.0, total_score))
    return {
        &quot;value&quot;: float(final_score),
        &quot;latency_ms&quot;: int(round((time.perf_counter() - t0) * 1000)),
    }


register(NAME, FIELD, compute)

# if __name__ == &quot;__main__&quot;:
#     import sys
#     import json

#     if len(sys.argv) &gt; 1:
#         input_line = &quot; &quot;.join(sys.argv[1:])
#         result = compute(input_line=input_line)
#         print(json.dumps(result))
#     else:
#         print(&quot;Usage: python -m swe_project.metrics.code_quality &lt;URL1, URL2, ...&gt;&quot;, file=sys.stderr)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/bus_factor.py (Line 1:1 - Line 443:2), .venv/lib/python3.14/site-packages/swe_project/metrics/bus_factor.py (Line 1:1 - Line 443:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn832" onclick="toggleCodeBlock('cloneGroup832', 'expandBtn832', 'collapseBtn832')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn832" onclick="toggleCodeBlock('cloneGroup832', 'expandBtn832', 'collapseBtn832')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup832"><code class="language-python text-sm text-gray-800"># stdlib
from __future__ import annotations

import logging
import math
import os
import re
import time
from datetime import datetime, timedelta, timezone
from re import Match, Pattern
from typing import Any, Dict, Optional, Set, Tuple

# third-party
import requests
from huggingface_hub import ModelCard

from swe_project.core.hf_client import model_info
from swe_project.core.model_url import to_repo_id
from swe_project.core.url_ctx import get_code_url

# local
from swe_project.metrics.base import MetricResult, register

NAME = &quot;bus_factor&quot;
FIELD = &quot;bus_factor&quot;
LOOKBACK_DAYS = 365


DEFAULT = 0.3

_GH_RE: Pattern[str] = re.compile(
    r&quot;https?://github\.com/(?P&lt;owner&gt;[^/]+)/(?P&lt;repo&gt;[^/#?]+)&quot;
)
_GH_LINK_RE: Pattern[str] = re.compile(
    r&quot;https?://github\.com/[A-Za-z0-9_.-]+/[A-Za-z0-9_.-]+&quot;
)


def _gh_headers() -&gt; Dict[str, str]:
    hdrs: Dict[str, str] = {
        &quot;Accept&quot;: &quot;application/vnd.github+json&quot;,
        &quot;User-Agent&quot;: &quot;swe-project-bus-factor/1.0&quot;,
    }
    tok = (os.environ.get(&quot;GITHUB_TOKEN&quot;) or os.environ.get(&quot;GH_TOKEN&quot;) or &quot;&quot;).strip()
    if tok and tok.lower() not in {&quot;invalid&quot;, &quot;none&quot;, &quot;placeholder&quot;}:
        hdrs[&quot;Authorization&quot;] = f&quot;Bearer {tok}&quot;
    return hdrs


def _gh_get(url: str, params: Optional[Dict[str, str]] = None, timeout: int = 10):
    &quot;&quot;&quot;Fail-soft GET: retry once without Authorization on 401/Bad credentials.
    Returns a requests.Response on success, or None on failure.
    &quot;&quot;&quot;
    params = params or {}
    hdrs = _gh_headers()
    try:
        res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
    except requests.RequestException as e:
        logging.warning(&quot;[bus_factor] network error %s: %s&quot;, url, e)
        return None

    text_lower = (res.text or &quot;&quot;).lower()
    if res.status_code in (401, 403) and (
        &quot;bad credentials&quot; in text_lower or &quot;requires authentication&quot; in text_lower
    ):
        # Retry once without auth header
        hdrs = {k: v for k, v in hdrs.items() if k.lower() != &quot;authorization&quot;}
        try:
            res = requests.get(url, headers=hdrs, params=params, timeout=timeout)
        except requests.RequestException as e:
            logging.warning(&quot;[bus_factor] retry without auth failed %s: %s&quot;, url, e)
            return None

    if res.status_code != 200:
        logging.warning(&quot;[bus_factor] GET %s -&gt; %s&quot;, url, res.status_code)
        return None
    return res


def _parse_gh(url: str) -&gt; Optional[Tuple[str, str]]:
    m = _GH_RE.search(url or &quot;&quot;)
    return (m.group(&quot;owner&quot;), m.group(&quot;repo&quot;)) if m else None


def _get_default_branch(o: str, r: str) -&gt; Optional[str]:
    res = _gh_get(f&quot;https://api.github.com/repos/{o}/{r}&quot;)
    if not res:
        return None
    data = res.json()
    if isinstance(data, dict):
        val = data.get(&quot;default_branch&quot;)
        return val if isinstance(val, str) else None
    return None


def _list_active_since(
    o: str, r: str, since_iso: str, branch: Optional[str]
) -&gt; Tuple[Set[str], Optional[datetime]]:
    &quot;&quot;&quot;Backward-compatible helper used by your older tests.&quot;&quot;&quot;
    commits_opt = _list_commits(o, r, since_iso, branch)
    if commits_opt is None:
        # No data available â†’ return empty set / None; callers usually fail-soft to DEFAULT
        return set(), None

    authors: Set[str] = set()
    newest: Optional[datetime] = None
    for c in commits_opt:
        if _is_bot(c.get(&quot;login&quot;), c.get(&quot;email&quot;)):
            continue
        key = (c.get(&quot;login&quot;) or f&quot;email:{c.get('email') or 'unknown'}&quot;).lower()
        authors.add(key)
        d = c.get(&quot;date&quot;)
        if d:
            try:
                dt = datetime.fromisoformat(d.replace(&quot;Z&quot;, &quot;+00:00&quot;))
                if (newest is None) or (dt &gt; newest):
                    newest = dt
            except Exception:
                pass
    return authors, newest


def _contributors_score(n: int) -&gt; float:
    return 0.0 if n &lt;= 0 else min(1.0, math.log1p(n) / math.log(6))


def _freshness_score(latest: Optional[datetime]) -&gt; float:
    if not latest:
        return 0.0
    days = max(0, min(LOOKBACK_DAYS, (datetime.now(timezone.utc) - latest).days))
    return 1.0 - (days / LOOKBACK_DAYS)


def _combine(c: float, f: float) -&gt; float:
    return max(0.0, min(1.0, 0.7 * c + 0.3 * f))


def _find_github_url_from_card_md(repo_id: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Read the HF model card markdown and extract the first GitHub link.&quot;&quot;&quot;
    try:
        # Force 'Any' from huggingface-hub to become a concrete str
        md: str = str(ModelCard.load(repo_id).content)
    except Exception:
        return None

    m: Optional[Match[str]] = _GH_LINK_RE.search(md)
    if m is None:
        return None

    g0: str = m.group(0)  # explicit local variable typed as str
    return g0


def _find_github_url(info: Any, repo_id: str) -&gt; Optional[str]:
    &quot;&quot;&quot;Locate a GitHub repo link from HF model card metadata/tags/markdown.&quot;&quot;&quot;
    card = getattr(info, &quot;cardData&quot;, None) or {}
    tags = getattr(info, &quot;tags&quot;, []) or []

    gh_url = card.get(&quot;code_repository&quot;) or card.get(&quot;repository&quot;)
    if isinstance(gh_url, str) and &quot;github.com&quot; in gh_url:
        return gh_url

    for t in tags:
        if isinstance(t, str) and &quot;github.com&quot; in t:
            return t

    return _find_github_url_from_card_md(repo_id)


# --- New helpers for a fairer score ---


def _is_bot(author_login: Optional[str], author_email: Optional[str]) -&gt; bool:
    if not author_login and not author_email:
        return False
    login = (author_login or &quot;&quot;).lower()
    email = (author_email or &quot;&quot;).lower()
    return (
        login.endswith(&quot;[bot]&quot;)
        or login.endswith(&quot;-bot&quot;)
        or login.endswith(&quot;_bot&quot;)
        or &quot;github-actions&quot; in login
        or &quot;bot@&quot; in email
        or &quot;noreply@&quot; in email
    )


def _list_commits(
    o: str, r: str, since_iso: str, branch: Optional[str]
) -&gt; Optional[list[dict]]:
    &quot;&quot;&quot;Return commit dicts since 'since_iso', or None if API is unavailable.&quot;&quot;&quot;
    params: Dict[str, str] = {&quot;since&quot;: since_iso, &quot;per_page&quot;: &quot;100&quot;}
    if branch:
        params[&quot;sha&quot;] = branch
    url = f&quot;https://api.github.com/repos/{o}/{r}/commits&quot;
    commits: list[dict] = []

    for _ in range(8):  # up to ~800 commits via pagination
        res = _gh_get(url, params=params, timeout=10)
        if res is None:
            return None  # â† important: signal 'inconclusive'

        items = res.json()
        if not isinstance(items, list) or not items:
            break

        for c in items:
            login = (c.get(&quot;author&quot;) or {}).get(&quot;login&quot;)
            email = ((c.get(&quot;commit&quot;) or {}).get(&quot;author&quot;) or {}).get(&quot;email&quot;)
            date_s = ((c.get(&quot;commit&quot;) or {}).get(&quot;author&quot;) or {}).get(&quot;date&quot;)
            commits.append({&quot;login&quot;: login, &quot;email&quot;: email, &quot;date&quot;: date_s})

        # follow Link: rel=&quot;next&quot;
        link = res.headers.get(&quot;Link&quot;, &quot;&quot;)
        nxt = next(
            (
                p[p.find(&quot;&lt;&quot;) + 1 : p.find(&quot;&gt;&quot;)]
                for p in link.split(&quot;,&quot;)
                if 'rel=&quot;next&quot;' in p
            ),
            None,
        )
        if not nxt:
            break
        url, params = nxt, {}
    return commits


def _hhi(shares: list[float]) -&gt; float:
    return sum(s * s for s in shares)


def _k_for_coverage(counts: list[int], coverage: float = 0.80) -&gt; int:
    &quot;&quot;&quot;Smallest k authors covering 'coverage' of commits.&quot;&quot;&quot;
    if not counts:
        return 0
    total = sum(counts)
    need = coverage * total
    acc, k = 0, 0
    for c in sorted(counts, reverse=True):
        acc += c
        k += 1
        if acc &gt;= need:
            break
    return k


def _freshness(days_since_latest: int, tau: float = 180.0) -&gt; float:
    # exp decay, 1.0 when fresh, ~0.37 at tau days, ~0.14 at 360d
    return float(math.exp(-max(0, days_since_latest) / tau))


def _log_norm(n: int, base: float) -&gt; float:
    return 0.0 if n &lt;= 0 else min(1.0, math.log1p(n) / math.log(base))


def _analyze_commits(commits: list[dict]) -&gt; tuple[int, dict]:
    &quot;&quot;&quot;
    Returns (days_since_latest, stats) where stats includes:
      C_recent (unique humans), counts per human, shares, HHI, K_needed
    &quot;&quot;&quot;
    # filter bots + normalize keys
    humans: Dict[str, int] = {}
    latest: Optional[datetime] = None

    for c in commits:
        login = (c.get(&quot;login&quot;) or &quot;&quot;) or None
        email = (c.get(&quot;email&quot;) or &quot;&quot;) or None
        if _is_bot(login, email):
            continue
        key = (login or f&quot;email:{email or 'unknown'}&quot;).lower()
        humans[key] = humans.get(key, 0) + 1

        d = c.get(&quot;date&quot;)
        if d:
            try:
                dt = datetime.fromisoformat(d.replace(&quot;Z&quot;, &quot;+00:00&quot;))
                latest = dt if (latest is None or dt &gt; latest) else latest
            except Exception:
                pass

    days_since = (datetime.now(timezone.utc) - latest).days if latest else LOOKBACK_DAYS
    counts = list(humans.values())
    total = sum(counts)
    shares = [c / total for c in counts] if total &gt; 0 else []
    hhi = _hhi(shares) if total &gt;= 10 else None  # avoid noisy HHI on tiny samples
    k_needed = _k_for_coverage(counts, 0.80) if total &gt; 0 else 0

    return days_since, {
        &quot;C_recent&quot;: len(humans),
        &quot;counts&quot;: counts,
        &quot;shares&quot;: shares,
        &quot;HHI&quot;: hhi,
        &quot;K_needed&quot;: k_needed,
        &quot;total_commits&quot;: total,
    }


def _count_lifetime_contributors(o: str, r: str, pages: int = 10) -&gt; int:
    url = f&quot;https://api.github.com/repos/{o}/{r}/contributors&quot;
    params = {&quot;per_page&quot;: &quot;100&quot;, &quot;anon&quot;: &quot;1&quot;}
    total = 0
    for _ in range(pages):
        try:
            res = requests.get(url, headers=_gh_headers(), params=params, timeout=10)
        except requests.RequestException:
            break
        if res.status_code != 200:
            break
        items = res.json()
        if not isinstance(items, list) or not items:
            break
        total += len(items)
        link = res.headers.get(&quot;Link&quot;, &quot;&quot;)
        nxt = next(
            (
                p[p.find(&quot;&lt;&quot;) + 1 : p.find(&quot;&gt;&quot;)]
                for p in link.split(&quot;,&quot;)
                if 'rel=&quot;next&quot;' in p
            ),
            None,
        )
        if not nxt:
            break
        url, params = nxt, {}
    return total


def _score_from_stats(
    stats: dict,
    days_since: int,
    archived: bool,
    lifetime_commits: int,
    o: Optional[str] = None,
    r: Optional[str] = None,
) -&gt; float:
    # ---- Active-path components (what you already have) ----
    C = _log_norm(stats.get(&quot;C_recent&quot;, 0), base=10.0)
    F = 0.0 if archived else _freshness(days_since, tau=180.0)
    L = _log_norm(int(lifetime_commits or 0), base=50.0)

    total = int(stats.get(&quot;total_commits&quot;, 0))
    if total &gt;= 10:
        shares = stats.get(&quot;shares&quot;, [])
        hhi = sum(s * s for s in shares) if shares else 1.0
        D = max(0.0, min(1.0, 1.0 - hhi))
        k = max(1, int(stats.get(&quot;K_needed&quot;, 1)))
        K = min(1.0, 5.0 / float(k))
    else:
        D, K = 0.0, 0.0

    # ---- Inactive/archived branch: use lifetime breadth ----
    inactive = archived or stats.get(&quot;C_recent&quot;, 0) == 0
    if inactive and o and r:
        n_life = _count_lifetime_contributors(o, r)  # unique contributors over history
        # Breadth from lifetime
        C_life = 0.0 if n_life &lt;= 0 else min(1.0, math.log1p(n_life) / math.log(6))
        # Diversity proxy without shares: assume â€œeven-ishâ€ when many people contributed.
        # Rescale best-case HHI (1/n) to 1.0: D_life = (1 - 1/n) / (1 - 1/âˆž) â‰ˆ 1 - 1/n
        D_life = 0.0 if n_life &lt;= 1 else max(0.0, min(1.0, 1.0 - 1.0 / n_life))
        # Redundancy proxy: more lifetime contributors â†’ more people can cover 80%
        K_life = min(1.0, n_life / 5.0)  # reaches 1.0 by ~5 contributors

        # Use archived weights (drop F, renormalize) with lifetime signals
        w = {&quot;D&quot;: 0.40, &quot;K&quot;: 0.25, &quot;C&quot;: 0.20, &quot;L&quot;: 0.05}  # no F here
        s = sum(w.values())
        w = {k: v / s for k, v in w.items()}
        score = w[&quot;D&quot;] * D_life + w[&quot;K&quot;] * K_life + w[&quot;C&quot;] * C_life + w[&quot;L&quot;] * L
        return max(0.0, min(1.0, float(score)))

    # ---- Active repo blend (your â€œfair weightsâ€) ----
    w = {&quot;D&quot;: 0.40, &quot;K&quot;: 0.25, &quot;C&quot;: 0.20, &quot;F&quot;: 0.10, &quot;L&quot;: 0.05}
    score = w[&quot;D&quot;] * D + w[&quot;K&quot;] * K + w[&quot;C&quot;] * C + w[&quot;F&quot;] * F + w[&quot;L&quot;] * L
    return max(0.0, min(1.0, float(score)))


def compute(model_url: str) -&gt; MetricResult:
    t0 = time.perf_counter()
    try:
        # 1) Prefer explicit code URL from context
        code_url = get_code_url(model_url)
        parsed = _parse_gh(code_url) if code_url else None

        # 2) If none, try HF card to find repo
        repo_info = None
        lifetime_commits = 0
        archived = False

        if not parsed:
            repo_id, _ = to_repo_id(model_url)
            info = model_info(repo_id)
            gh = _find_github_url(info, repo_id)
            parsed = _parse_gh(gh) if gh else None

        if not parsed:
            # Nothing to analyze â†’ neutral default
            return {
                &quot;value&quot;: DEFAULT,
                &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
            }

        o, r = parsed

        # 3) Repo metadata (archived flag, etc.) using safe GET
        res = _gh_get(f&quot;https://api.github.com/repos/{o}/{r}&quot;)
        if res and isinstance(res.json(), dict):
            repo_info = res.json()
            archived = bool(repo_info.get(&quot;archived&quot;, False))
            # GitHub API doesn't expose lifetime commits directly; keep your fallback
            lifetime_commits = int(repo_info.get(&quot;network_count&quot;, 0))

        # 4) Commits in lookback window (safe default-branch lookup)
        branch = _get_default_branch(o, r)
        since = (datetime.now(timezone.utc) - timedelta(days=LOOKBACK_DAYS)).isoformat()

        commits = _list_commits(o, r, since, branch)
        if commits is None:
            # API unavailable / invalid token / rate-limited â†’ neutral default (do NOT punish)
            return {
                &quot;value&quot;: DEFAULT,
                &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
            }

        # 5) Analyze &amp; score
        days_since, stats = _analyze_commits(commits)
        value = _score_from_stats(
            stats, days_since, archived, lifetime_commits, o=o, r=r
        )

        return {
            &quot;value&quot;: float(value),
            &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
        }

    except Exception:
        # Network/token/surprise â†’ neutral default
        return {
            &quot;value&quot;: DEFAULT,
            &quot;latency_ms&quot;: max(1, int((time.perf_counter() - t0) * 1000)),
        }


register(NAME, FIELD, compute)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/metrics/base.py (Line 1:1 - Line 32:2), .venv/lib/python3.14/site-packages/swe_project/metrics/base.py (Line 1:1 - Line 32:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn833" onclick="toggleCodeBlock('cloneGroup833', 'expandBtn833', 'collapseBtn833')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn833" onclick="toggleCodeBlock('cloneGroup833', 'expandBtn833', 'collapseBtn833')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup833"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Any, Callable, List, Tuple, TypedDict


class MetricResult(TypedDict):
    value: Any  # float | dict[str, float]
    latency_ms: int


# (name, output_field, compute)
_REGISTRY: List[Tuple[str, str, Callable[[str], MetricResult]]] = []


def register(
    name: str, output_field: str, compute: Callable[[str], MetricResult]
) -&gt; None:
    _REGISTRY.append((name, output_field, compute))


def registered() -&gt; List[Tuple[str, str, Callable[[str], MetricResult]]]:
    return list(_REGISTRY)


def clear_registry_for_tests() -&gt; None:  # testing aid
    _REGISTRY.clear()
    # ensure re-import re-executes module bodies in tests
    import sys

    for mod in list(sys.modules):
        if mod.startswith(&quot;swe_project.metrics.&quot;) and not mod.endswith(&quot;.base&quot;):
            sys.modules.pop(mod, None)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/core/weights.py (Line 1:1 - Line 16:6), .venv/lib/python3.14/site-packages/swe_project/core/weights.py (Line 1:1 - Line 16:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn834" onclick="toggleCodeBlock('cloneGroup834', 'expandBtn834', 'collapseBtn834')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn834" onclick="toggleCodeBlock('cloneGroup834', 'expandBtn834', 'collapseBtn834')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup834"><code class="language-python text-sm text-gray-800">from __future__ import annotations

import os
from typing import Iterable

_DEFAULT_EXTS = (&quot;.safetensors&quot;, &quot;.bin&quot;, &quot;.onnx&quot;, &quot;.tflite&quot;, &quot;.h5&quot;, &quot;.pt&quot;)


def total_weight_bytes(root: str, exts: Iterable[str] = _DEFAULT_EXTS) -&gt; int:
    exts = tuple(e.lower() for e in exts)
    total = 0
    for d, _, files in os.walk(root):
        for f in files:
            if f.lower().endswith(exts):
                total += os.path.getsize(os.path.join(d, f))
    return total</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/core/url_ctx.py (Line 1:1 - Line 44:5), .venv/lib/python3.14/site-packages/swe_project/core/url_ctx.py (Line 1:1 - Line 44:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn835" onclick="toggleCodeBlock('cloneGroup835', 'expandBtn835', 'collapseBtn835')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn835" onclick="toggleCodeBlock('cloneGroup835', 'expandBtn835', 'collapseBtn835')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup835"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from dataclasses import dataclass
from threading import RLock
from typing import Dict, Optional


@dataclass(frozen=True)
class Triplet:
    model: str
    code: Optional[str] = None
    dataset: Optional[str] = None


_MODEL_TO_CTX: Dict[str, Triplet] = {}
_LOCK = RLock()


def clear() -&gt; None:
    with _LOCK:
        _MODEL_TO_CTX.clear()


def set_context(
    model_url: str, code_url: Optional[str], dataset_url: Optional[str]
) -&gt; None:
    with _LOCK:
        _MODEL_TO_CTX[model_url] = Triplet(
            model=model_url,
            code=(code_url or None),
            dataset=(dataset_url or None),
        )


def get_code_url(model_url: str) -&gt; Optional[str]:
    with _LOCK:
        t = _MODEL_TO_CTX.get(model_url)
        return t.code if t else None


def get_dataset_url(model_url: str) -&gt; Optional[str]:
    with _LOCK:
        t = _MODEL_TO_CTX.get(model_url)
        return t.dataset if t else None</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/core/scoring.py (Line 1:1 - Line 25:2), .venv/lib/python3.14/site-packages/swe_project/core/scoring.py (Line 1:1 - Line 25:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn836" onclick="toggleCodeBlock('cloneGroup836', 'expandBtn836', 'collapseBtn836')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn836" onclick="toggleCodeBlock('cloneGroup836', 'expandBtn836', 'collapseBtn836')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup836"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Dict

# Adjust and document these report
DEFAULT_WEIGHTS: Dict[str, float] = {
    &quot;ramp_up_time&quot;: 0.10,
    &quot;bus_factor&quot;: 0.05,
    &quot;license&quot;: 0.10,
    &quot;size_score&quot;: 0.05,  # average across device scores
    &quot;dataset_and_code_score&quot;: 0.10,
    &quot;dataset_quality&quot;: 0.15,
    &quot;code_quality&quot;: 0.25,
    &quot;performance_claims&quot;: 0.20,
}


def combine(scalars: Dict[str, float]) -&gt; float:
    wsum = sum(DEFAULT_WEIGHTS.values()) or 1.0
    total = 0.0
    for k, w in DEFAULT_WEIGHTS.items():
        total += w * float(scalars.get(k, 0.0))
    # clamp
    total = total / wsum
    return max(0.0, min(1.0, total))</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/core/model_url.py (Line 1:1 - Line 81:5), .venv/lib/python3.14/site-packages/swe_project/core/model_url.py (Line 1:1 - Line 81:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn837" onclick="toggleCodeBlock('cloneGroup837', 'expandBtn837', 'collapseBtn837')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn837" onclick="toggleCodeBlock('cloneGroup837', 'expandBtn837', 'collapseBtn837')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup837"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Optional, Tuple
from urllib.parse import urlparse

_BLOCK = {&quot;datasets&quot;, &quot;spaces&quot;, &quot;models&quot;, &quot;docs&quot;}


def to_repo_id(hf_url: str) -&gt; Tuple[str, Optional[str]]:
    &quot;&quot;&quot;
    Normalize Hugging Face model URLs to ('org/name' OR 'name', optional_branch).

    Accepts forms like:
      https://huggingface.co/org/name
      https://huggingface.co/name                     # root-level repo (e.g., gpt2)
      https://huggingface.co/org/name/
      https://huggingface.co/org/name/tree/main
      https://huggingface.co/org/name/resolve/main/pytorch_model.bin
      http://www.huggingface.co/org/name?foo=bar

    Returns:
      (repo_id, branch) where repo_id is NEVER None (kept as str for metrics),
      and branch may be None.
      If not an HF URL, we **return the original input string** (backward compatible).
    &quot;&quot;&quot;
    s = (hf_url or &quot;&quot;).strip()
    if not s:
        return hf_url.strip(), None

    # Allow bare paths like &quot;huggingface.co/org/name&quot;
    if &quot;://&quot; not in s:
        s = &quot;https://&quot; + s

    p = urlparse(s)
    # Accept any host that ends with huggingface.co (incl. enterprise subdomains)
    if not p.netloc.endswith(&quot;huggingface.co&quot;):
        # Not an HF URL; preserve old behavior so metrics don't crash
        return hf_url.strip(), None

    parts = [seg for seg in p.path.split(&quot;/&quot;) if seg]  # remove empty segments
    if not parts:
        # No repo segment; preserve old behavior
        return hf_url.strip(), None

    # repo_id can be 1-seg (root-level) or 2-seg (org/name)
    branch: Optional[str] = None
    if len(parts) &gt;= 2:
        repo_id = f&quot;{parts[0]}/{parts[1]}&quot;
        rest = parts[2:]
    else:
        repo_id = parts[0]
        rest = []

    # Handle /tree/&lt;branch&gt; or /resolve/&lt;branch&gt;/...
    if len(rest) &gt;= 2 and rest[0] in {&quot;tree&quot;, &quot;resolve&quot;}:
        branch = rest[1]

    return repo_id, branch


def is_hf_model_url(hf_url: str) -&gt; bool:
    &quot;&quot;&quot;
    True iff the URL points to a Hugging Face *model* repo.
    Accepts root-level (e.g., https://huggingface.co/gpt2) and org/name.
    Excludes datasets/spaces/docs/models sections.
    &quot;&quot;&quot;
    s = (hf_url or &quot;&quot;).strip()
    if not s:
        return False
    if &quot;://&quot; not in s:
        s = &quot;https://&quot; + s
    p = urlparse(s)
    if not p.netloc.endswith(&quot;huggingface.co&quot;):
        return False
    parts = [seg for seg in p.path.split(&quot;/&quot;) if seg]
    if not parts:
        return False
    if parts[0] in _BLOCK:
        return False
    # At least one segment (root-level) is OK; second segment (org/name) also OK.
    return True</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/core/hf_client.py (Line 1:1 - Line 50:2), .venv/lib/python3.14/site-packages/swe_project/core/hf_client.py (Line 1:1 - Line 50:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn838" onclick="toggleCodeBlock('cloneGroup838', 'expandBtn838', 'collapseBtn838')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn838" onclick="toggleCodeBlock('cloneGroup838', 'expandBtn838', 'collapseBtn838')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup838"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from typing import Any, Optional

from huggingface_hub import HfApi, snapshot_download
from tqdm.auto import tqdm  # needed to silence the progress bars

_api = HfApi()


def model_info(repo_id: str, revision: Optional[str] = None) -&gt; Any:
    &quot;&quot;&quot;
    Thin wrapper around HfApi.model_info that tolerates older/test fakes
    which may not accept keyword args like 'revision' or 'files_metadata'.
    &quot;&quot;&quot;
    try:
        return _api.model_info(repo_id, revision=revision, files_metadata=True)
    except TypeError:
        # test doubles or older clients without kwargs
        return _api.model_info(repo_id)


def dataset_info(repo_id: str, revision: Optional[str] = None) -&gt; Any:
    &quot;&quot;&quot;
    Similar tolerance for dataset_info (some fakes don't accept kwargs).
    &quot;&quot;&quot;
    try:
        return _api.dataset_info(repo_id, revision=revision, files_metadata=True)
    except TypeError:
        return _api.dataset_info(repo_id)


# this is to silence the progress bars from huggingface_hub snapshot_download
class SilentTqdm(tqdm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs, disable=True)


# what we did was to create a subclass of tqdm that is always disabled, and pass it to snapshot_download


def download_snapshot(repo_id: str, allow_patterns):
    return str(
        snapshot_download(
            repo_id=repo_id,
            allow_patterns=allow_patterns,
            local_dir_use_symlinks=False,
            tqdm_class=SilentTqdm,
        )
    )</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/core/exec_pool.py (Line 1:1 - Line 27:4), .venv/lib/python3.14/site-packages/swe_project/core/exec_pool.py (Line 1:1 - Line 27:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn839" onclick="toggleCodeBlock('cloneGroup839', 'expandBtn839', 'collapseBtn839')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn839" onclick="toggleCodeBlock('cloneGroup839', 'expandBtn839', 'collapseBtn839')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup839"><code class="language-python text-sm text-gray-800">from __future__ import annotations

from concurrent.futures import ThreadPoolExecutor, as_completed
from typing import Any, Callable, Dict, List, Tuple

EXEC = ThreadPoolExecutor(max_workers=8)


def run_parallel(
    tasks: List[Tuple[str, Callable[[], Any]]], timeout_s: int = 60
) -&gt; Dict[str, Any]:
    &quot;&quot;&quot;
    tasks: list of (key, fn). Returns {key: fn_result_or_default}.
    Any exception â†’ {&quot;value&quot;: 0.0, &quot;latency_ms&quot;: 0}.
    &quot;&quot;&quot;
    futs = {EXEC.submit(fn): key for key, fn in tasks}
    out: Dict[str, Any] = {}
    for fut in as_completed(futs, timeout=timeout_s):
        key = futs[fut]
        try:
            out[key] = fut.result()
        except Exception:
            out[key] = {&quot;value&quot;: 0.0, &quot;latency_ms&quot;: 0}
    # fill any timeouts/missed
    for key, _ in tasks:
        out.setdefault(key, {&quot;value&quot;: 0.0, &quot;latency_ms&quot;: 0})
    return out</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/logger.py (Line 1:1 - Line 33:2), .venv/lib/python3.14/site-packages/swe_project/logger.py (Line 1:1 - Line 33:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn840" onclick="toggleCodeBlock('cloneGroup840', 'expandBtn840', 'collapseBtn840')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn840" onclick="toggleCodeBlock('cloneGroup840', 'expandBtn840', 'collapseBtn840')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup840"><code class="language-python text-sm text-gray-800">import logging
import os
import sys


def setup_logging() -&gt; None:
    # read env vars
    log_file = os.getenv(&quot;LOG_FILE&quot;, &quot;default.log&quot;)
    log_level_str = os.getenv(&quot;LOG_LEVEL&quot;, &quot;0&quot;).strip()

    # each level mapped to the logging it does
    level_map = {
        &quot;0&quot;: logging.CRITICAL + 1,  # silence
        &quot;1&quot;: logging.INFO,
        &quot;2&quot;: logging.DEBUG,
    }
    log_level = level_map.get(log_level_str, logging.CRITICAL + 1)

    # check if the directory exists
    log_dir = os.path.dirname(log_file) or &quot;.&quot;
    if not os.path.exists(log_dir):
        # terminate with exit code 1 if directory doesn't exist
        print(f&quot;Invalid LOG_FILE path: {log_file}&quot;, file=sys.stderr)
        sys.exit(1)

    # if directory exists, set up logging normally
    logging.basicConfig(
        filename=log_file,
        level=log_level,
        format=&quot;%(asctime)s - [%(levelname)s] - %(message)s&quot;,
    )

    logging.info(&quot;Logging initialized with level %s&quot;, log_level_str)</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/llm_client.py (Line 1:1 - Line 57:3), .venv/lib/python3.14/site-packages/swe_project/llm_client.py (Line 1:1 - Line 57:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn841" onclick="toggleCodeBlock('cloneGroup841', 'expandBtn841', 'collapseBtn841')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn841" onclick="toggleCodeBlock('cloneGroup841', 'expandBtn841', 'collapseBtn841')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup841"><code class="language-python text-sm text-gray-800">import os
from typing import Dict, List

import requests
from dotenv import load_dotenv

# Load .env file
load_dotenv()

API_KEY = os.getenv(&quot;GEN_AI_STUDIO_API_KEY&quot;)
if not API_KEY:
    raise RuntimeError(&quot;Missing GEN_AI_STUDIO_API_KEY in .env&quot;)

# base URL for purdue api
BASE_URL = &quot;https://genai.rcac.purdue.edu/api/chat/completions&quot;

# default model in case env not set
MODEL = os.getenv(&quot;LLM_MODEL&quot;, &quot;llama3.1:latest&quot;)


def ask_llm(
    messages: List[Dict[str, str]],
    model: str = MODEL,
    temperature: float = 0.0,
) -&gt; str:
    &quot;&quot;&quot;
    General-purpose wrapper for Purdue GenAI Studio using raw requests.
    Sends a list of messages [{role: &quot;user&quot;/&quot;system&quot;, content: &quot;...&quot;}]
    and returns the model's text output as a string.
    &quot;&quot;&quot;

    headers = {
        &quot;Authorization&quot;: f&quot;Bearer {API_KEY}&quot;,
        &quot;Content-Type&quot;: &quot;application/json&quot;,
    }

    payload = {
        &quot;model&quot;: model,
        &quot;messages&quot;: messages,
        &quot;temperature&quot;: temperature,
    }

    try:
        response = requests.post(BASE_URL, headers=headers, json=payload, timeout=60)
        response.raise_for_status()
        data = response.json()

        # parse response
        content = data[&quot;choices&quot;][0][&quot;message&quot;][&quot;content&quot;]
        return str(content.strip()) if content else &quot;&quot;

    except requests.exceptions.RequestException as e:
        print(f&quot;[LLM ERROR] Request failed: {e}&quot;)
        return &quot;&quot;
    except (KeyError, IndexError) as e:
        print(f&quot;[LLM ERROR] Unexpected response format: {e}&quot;)
        return &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">build/lib/swe_project/cli.py (Line 1:1 - Line 320:2), .venv/lib/python3.14/site-packages/swe_project/cli.py (Line 1:1 - Line 320:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn842" onclick="toggleCodeBlock('cloneGroup842', 'expandBtn842', 'collapseBtn842')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn842" onclick="toggleCodeBlock('cloneGroup842', 'expandBtn842', 'collapseBtn842')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup842"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
swe_project.cli

Phase 1 CLI with three commands:
  install  -&gt; pip install -r requirements.txt (adds --user if not in a venv)
  score    -&gt; read a CSV file where each row is: code_url, dataset_url, model_url
              - code_url and dataset_url may be blank
              - exactly ONE NDJSON line is emitted per valid model_url row
              - code/dataset are stored in a URL context for metrics to use
  test     -&gt; run pytest (under coverage if available) and print:
              &quot;X/Y test cases passed. Z% line coverage achieved.&quot;
&quot;&quot;&quot;

from __future__ import annotations

import argparse
import csv
import json
import logging
import re
import subprocess
import sys
import time
from pathlib import Path
from typing import List, Tuple

# Ensure metric modules auto-register via package import side-effects.
from swe_project import metrics  # noqa: F401
from swe_project.core.exec_pool import run_parallel
from swe_project.core.model_url import is_hf_model_url, to_repo_id
from swe_project.core.scoring import combine
from swe_project.core.url_ctx import clear as clear_url_ctx
from swe_project.core.url_ctx import set_context
from swe_project.logger import setup_logging
from swe_project.metrics.base import registered


def _load_metrics() -&gt; None:
    &quot;&quot;&quot;
    Import metric modules for their registration side-effects.
    Called only by `cmd_score` so `install`/`test` don't require optional deps yet.
    &quot;&quot;&quot;
    # Import inside function to avoid ImportError before `install` runs.
    from swe_project.metrics import bus_factor  # noqa: F401
    from swe_project.metrics import code_quality  # noqa: F401
    from swe_project.metrics import dataset_and_code  # noqa: F401
    from swe_project.metrics import dataset_quality  # noqa: F401
    from swe_project.metrics import license  # noqa: F401
    from swe_project.metrics import performance_claims  # noqa: F401
    from swe_project.metrics import ramp_up_time  # noqa: F401
    from swe_project.metrics import size_score  # noqa: F401


# ---------- helpers ----------


def _run(cmd: List[str]) -&gt; Tuple[int, str, str]:
    &quot;&quot;&quot;Run a subprocess and capture output.&quot;&quot;&quot;
    p = subprocess.run(cmd, text=True, capture_output=True)
    return p.returncode, p.stdout, p.stderr


def _pytest_counts(text: str) -&gt; Tuple[int, int]:
    &quot;&quot;&quot;Parse pytest summary to (passed, total). Prefer 'collected N items'.&quot;&quot;&quot;
    m = re.search(r&quot;collected\s+(\d+)\s+items?&quot;, text)
    total_hint = int(m.group(1)) if m else 0

    def sum_matches(pattern: str) -&gt; int:
        s = 0
        for mm in re.finditer(rf&quot;(\d+)\s+{pattern}\b&quot;, text):
            s += int(mm.group(1))
        return s

    passed = sum_matches(&quot;passed&quot;)
    failed = sum_matches(&quot;failed&quot;)
    errors = sum_matches(&quot;error|errors&quot;)
    skipped = sum_matches(&quot;skipped&quot;)
    xfailed = sum_matches(&quot;xfailed&quot;)
    xpassed = sum_matches(&quot;xpassed&quot;)

    total = passed + failed + errors + skipped + xfailed + xpassed
    if total_hint:
        total = total_hint
    return passed, total


def _coverage_percent(text: str) -&gt; int:
    &quot;&quot;&quot;Grab the TOTAL % from 'coverage report' output.&quot;&quot;&quot;
    for line in text.splitlines():
        if line.strip().startswith(&quot;TOTAL&quot;):
            m = re.search(r&quot;(\d+)%\s*$&quot;, line)
            if m:
                return int(m.group(1))
    m2 = re.search(r&quot;TOTAL.*?(\d+)%&quot;, text, flags=re.S | re.M)
    return int(m2.group(1)) if m2 else 0


def _in_venv() -&gt; bool:
    &quot;&quot;&quot;Detect if Python is running inside a virtual environment.&quot;&quot;&quot;
    return getattr(sys, &quot;base_prefix&quot;, sys.prefix) != sys.prefix


def _iter_models_from_csv(path: str):
    &quot;&quot;&quot;
    Read CSV rows of the form: code_url, dataset_url, model_url
    - code_url or dataset_url may be blank
    - model_url must be either:
        - a valid Hugging Face model URL, OR
        - an absolute path to a local repo
    For each valid row:
      - store (code,dataset) context for that model
      - yield the model URL
    &quot;&quot;&quot;
    with open(path, &quot;r&quot;, encoding=&quot;utf-8&quot;, newline=&quot;&quot;) as f:
        reader = csv.reader(f)
        for row in reader:
            if not row:
                continue
            if row[0].strip().startswith(&quot;#&quot;):
                continue

            cells = [c.strip() for c in row]
            while len(cells) &lt; 3:
                cells.insert(0, &quot;&quot;)

            code_url, dataset_url, model_url = cells[-3], cells[-2], cells[-1]

            if not model_url:
                continue

            if not is_hf_model_url(model_url):
                continue

            set_context(model_url, code_url or None, dataset_url or None)
            yield model_url


# ---------- commands ----------


def cmd_install() -&gt; int:
    logging.info(&quot;Installing dependencies from requirements.txt ...&quot;)

    args = [sys.executable, &quot;-m&quot;, &quot;pip&quot;, &quot;install&quot;, &quot;-r&quot;, &quot;requirements.txt&quot;]
    if not _in_venv():
        args.insert(4, &quot;--user&quot;)  # only use --user outside venv
    code, out, err = _run(args)
    if code == 0:
        logging.info(&quot;Dependencies installed.&quot;)
        return 0
    print((err or out) or &quot;Installation failed.&quot;, file=sys.stderr)
    logging.error(&quot;Installation failed: %s&quot;, (err or out))
    return 1


def cmd_score(url_file: str) -&gt; int:
    &quot;&quot;&quot;
    Read CSV triplets from `url_file` and emit ONE NDJSON line per MODEL.
    The metrics can read code/dataset URLs from the shared context.
    &quot;&quot;&quot;
    _load_metrics()
    try:
        Path(url_file).resolve(strict=True)
    except OSError as e:
        logging.error(&quot;failed to access URL FILE: %s&quot;, e)
        print(f&quot;Failed to access URL file '{url_file}': {e}&quot;, file=sys.stderr)
        print(json.dumps({&quot;event&quot;: &quot;error&quot;, &quot;error&quot;: str(e), &quot;url_file&quot;: url_file}))
        return 1

    # fresh context per invocation
    clear_url_ctx()
    logging.info(&quot;Scoring URLs from %s ...&quot;, url_file)

    for u in _iter_models_from_csv(url_file):
        # Build tasks from registry (each compute(model_url) -&gt; {&quot;value&quot;,&quot;latency_ms&quot;})
        tasks = []
        for _, field, compute in registered():

            def _task(func=compute, model=u):
                def run():
                    # metrics that need code/dataset will fetch from url_ctx internally
                    return func(model)

                return run

            tasks.append((field, _task()))

        # Run metrics in parallel
        t0 = time.perf_counter()
        results = run_parallel(tasks, timeout_s=90)
        net_latency_ms = int((time.perf_counter() - t0) * 1000)

        # helpers for safe extraction
        def _val(name: str) -&gt; float:
            return float(results.get(name, {}).get(&quot;value&quot;, 0.0))

        def _lat(name: str) -&gt; int:
            return int(results.get(name, {}).get(&quot;latency_ms&quot;, 0))

        # size_score is a dict; ensure all four device keys
        size_map = results.get(&quot;size_score&quot;, {}).get(&quot;value&quot;, {}) or {}
        for k in (&quot;raspberry_pi&quot;, &quot;jetson_nano&quot;, &quot;desktop_pc&quot;, &quot;aws_server&quot;):
            size_map.setdefault(k, 0.0)
        size_lat = _lat(&quot;size_score&quot;)

        # gather scalar metrics for net score; use mean of size_map for its scalar
        scalars = {
            &quot;ramp_up_time&quot;: _val(&quot;ramp_up_time&quot;),
            &quot;bus_factor&quot;: _val(&quot;bus_factor&quot;),
            &quot;license&quot;: _val(&quot;license&quot;),
            &quot;dataset_and_code_score&quot;: _val(&quot;dataset_and_code_score&quot;),
            &quot;dataset_quality&quot;: _val(&quot;dataset_quality&quot;),
            &quot;code_quality&quot;: _val(&quot;code_quality&quot;),
            &quot;performance_claims&quot;: _val(&quot;performance_claims&quot;),
            &quot;size_score&quot;: (sum(size_map.values()) / 4.0),
        }
        net = float(combine(scalars))

        repo_id, _ = to_repo_id(u)  # e.g. &quot;google-bert/bert-base-uncased&quot;
        model_name = re.split(r&quot;[\\/]&quot;, repo_id.rstrip(&quot;/\\&quot;))[-1]

        payload = {
            &quot;name&quot;: model_name,
            &quot;category&quot;: &quot;MODEL&quot;,
            &quot;net_score&quot;: round(net, 3),
            &quot;net_score_latency&quot;: net_latency_ms,
            &quot;ramp_up_time&quot;: scalars[&quot;ramp_up_time&quot;],
            &quot;ramp_up_time_latency&quot;: _lat(&quot;ramp_up_time&quot;),
            &quot;bus_factor&quot;: scalars[&quot;bus_factor&quot;],
            &quot;bus_factor_latency&quot;: _lat(&quot;bus_factor&quot;),
            &quot;performance_claims&quot;: scalars[&quot;performance_claims&quot;],
            &quot;performance_claims_latency&quot;: _lat(&quot;performance_claims&quot;),
            &quot;license&quot;: scalars[&quot;license&quot;],
            &quot;license_latency&quot;: _lat(&quot;license&quot;),
            &quot;size_score&quot;: size_map,
            &quot;size_score_latency&quot;: size_lat,
            &quot;dataset_and_code_score&quot;: scalars[&quot;dataset_and_code_score&quot;],
            &quot;dataset_and_code_score_latency&quot;: _lat(&quot;dataset_and_code_score&quot;),
            &quot;dataset_quality&quot;: scalars[&quot;dataset_quality&quot;],
            &quot;dataset_quality_latency&quot;: _lat(&quot;dataset_quality&quot;),
            &quot;code_quality&quot;: scalars[&quot;code_quality&quot;],
            &quot;code_quality_latency&quot;: _lat(&quot;code_quality&quot;),
        }
        print(json.dumps(payload))

    return 0


def cmd_test() -&gt; int:
    &quot;&quot;&quot;
    Run pytest (with coverage if available) and print exactly:
      'X/Y test cases passed. Z% line coverage achieved.'
    Always exit 0 so the grader can parse the line.
    &quot;&quot;&quot;
    # Silence logging during this command (avoids extra stdout lines)
    root_logger = logging.getLogger()
    prev_level = root_logger.level
    root_logger.setLevel(logging.ERROR)

    try:
        # Try with coverage first
        cov_ok = True
        code, out, err = _run(
            [sys.executable, &quot;-m&quot;, &quot;coverage&quot;, &quot;run&quot;, &quot;-m&quot;, &quot;pytest&quot;, &quot;tests&quot;]
        )
        if code != 0 and &quot;No module named coverage&quot; in (out + err):
            cov_ok = False
            code, out, err = _run([sys.executable, &quot;-m&quot;, &quot;pytest&quot;, &quot;tests&quot;])

        combined = (out or &quot;&quot;) + &quot;\n&quot; + (err or &quot;&quot;)
        passed, total = _pytest_counts(combined)

        percent = 0
        if cov_ok:
            _, rep_out, rep_err = _run([sys.executable, &quot;-m&quot;, &quot;coverage&quot;, &quot;report&quot;])
            percent = _coverage_percent((rep_out or &quot;&quot;) + &quot;\n&quot; + (rep_err or &quot;&quot;))

        # Print the ONLY line the grader expects to stdout
        print(f&quot;{passed}/{total} test cases passed. {percent}% line coverage achieved.&quot;)

        # IMPORTANT: always succeed for the grader
        return 0
    finally:
        root_logger.setLevel(prev_level)


# ---------- entrypoint ----------


def main(argv: list[str] | None = None) -&gt; int:
    setup_logging()
    logging.info(&quot;CLI started successfully&quot;)
    parser = argparse.ArgumentParser(prog=&quot;run&quot;, description=&quot;SWE-Project CLI&quot;)
    sub = parser.add_subparsers(dest=&quot;cmd&quot;, required=True)

    sub.add_parser(&quot;install&quot;)

    p_score = sub.add_parser(&quot;score&quot;)
    p_score.add_argument(
        &quot;url_file&quot;, help=&quot;CSV file with rows: code_url, dataset_url, model_url&quot;
    )

    sub.add_parser(&quot;test&quot;)

    args = parser.parse_args(argv)

    if args.cmd == &quot;install&quot;:
        return cmd_install()
    if args.cmd == &quot;score&quot;:
        return cmd_score(args.url_file)
    if args.cmd == &quot;test&quot;:
        return cmd_test()

    parser.print_help()
    return 2


if __name__ == &quot;__main__&quot;:
    # Allows: python -m swe_project.cli ...
    raise SystemExit(main())</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/logger.py (Line 1:1 - Line 33:2), .venv/lib/python3.14/site-packages/swe_project/logger.py (Line 1:1 - Line 33:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn843" onclick="toggleCodeBlock('cloneGroup843', 'expandBtn843', 'collapseBtn843')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn843" onclick="toggleCodeBlock('cloneGroup843', 'expandBtn843', 'collapseBtn843')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup843"><code class="language-python text-sm text-gray-800">import logging
import os
import sys


def setup_logging() -&gt; None:
    # read env vars
    log_file = os.getenv(&quot;LOG_FILE&quot;, &quot;default.log&quot;)
    log_level_str = os.getenv(&quot;LOG_LEVEL&quot;, &quot;0&quot;).strip()

    # each level mapped to the logging it does
    level_map = {
        &quot;0&quot;: logging.CRITICAL + 1,  # silence
        &quot;1&quot;: logging.INFO,
        &quot;2&quot;: logging.DEBUG,
    }
    log_level = level_map.get(log_level_str, logging.CRITICAL + 1)

    # check if the directory exists
    log_dir = os.path.dirname(log_file) or &quot;.&quot;
    if not os.path.exists(log_dir):
        # terminate with exit code 1 if directory doesn't exist
        print(f&quot;Invalid LOG_FILE path: {log_file}&quot;, file=sys.stderr)
        sys.exit(1)

    # if directory exists, set up logging normally
    logging.basicConfig(
        filename=log_file,
        level=log_level,
        format=&quot;%(asctime)s - [%(levelname)s] - %(message)s&quot;,
    )

    logging.info(&quot;Logging initialized with level %s&quot;, log_level_str)</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/llm_client.py (Line 1:1 - Line 57:3), .venv/lib/python3.14/site-packages/swe_project/llm_client.py (Line 1:1 - Line 57:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn844" onclick="toggleCodeBlock('cloneGroup844', 'expandBtn844', 'collapseBtn844')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn844" onclick="toggleCodeBlock('cloneGroup844', 'expandBtn844', 'collapseBtn844')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup844"><code class="language-python text-sm text-gray-800">import os
from typing import Dict, List

import requests
from dotenv import load_dotenv

# Load .env file
load_dotenv()

API_KEY = os.getenv(&quot;GEN_AI_STUDIO_API_KEY&quot;)
if not API_KEY:
    raise RuntimeError(&quot;Missing GEN_AI_STUDIO_API_KEY in .env&quot;)

# base URL for purdue api
BASE_URL = &quot;https://genai.rcac.purdue.edu/api/chat/completions&quot;

# default model in case env not set
MODEL = os.getenv(&quot;LLM_MODEL&quot;, &quot;llama3.1:latest&quot;)


def ask_llm(
    messages: List[Dict[str, str]],
    model: str = MODEL,
    temperature: float = 0.0,
) -&gt; str:
    &quot;&quot;&quot;
    General-purpose wrapper for Purdue GenAI Studio using raw requests.
    Sends a list of messages [{role: &quot;user&quot;/&quot;system&quot;, content: &quot;...&quot;}]
    and returns the model's text output as a string.
    &quot;&quot;&quot;

    headers = {
        &quot;Authorization&quot;: f&quot;Bearer {API_KEY}&quot;,
        &quot;Content-Type&quot;: &quot;application/json&quot;,
    }

    payload = {
        &quot;model&quot;: model,
        &quot;messages&quot;: messages,
        &quot;temperature&quot;: temperature,
    }

    try:
        response = requests.post(BASE_URL, headers=headers, json=payload, timeout=60)
        response.raise_for_status()
        data = response.json()

        # parse response
        content = data[&quot;choices&quot;][0][&quot;message&quot;][&quot;content&quot;]
        return str(content.strip()) if content else &quot;&quot;

    except requests.exceptions.RequestException as e:
        print(f&quot;[LLM ERROR] Request failed: {e}&quot;)
        return &quot;&quot;
    except (KeyError, IndexError) as e:
        print(f&quot;[LLM ERROR] Unexpected response format: {e}&quot;)
        return &quot;&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">src/swe_project/cli.py (Line 1:1 - Line 320:2), .venv/lib/python3.14/site-packages/swe_project/cli.py (Line 1:1 - Line 320:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn845" onclick="toggleCodeBlock('cloneGroup845', 'expandBtn845', 'collapseBtn845')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn845" onclick="toggleCodeBlock('cloneGroup845', 'expandBtn845', 'collapseBtn845')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup845"><code class="language-python text-sm text-gray-800">&quot;&quot;&quot;
swe_project.cli

Phase 1 CLI with three commands:
  install  -&gt; pip install -r requirements.txt (adds --user if not in a venv)
  score    -&gt; read a CSV file where each row is: code_url, dataset_url, model_url
              - code_url and dataset_url may be blank
              - exactly ONE NDJSON line is emitted per valid model_url row
              - code/dataset are stored in a URL context for metrics to use
  test     -&gt; run pytest (under coverage if available) and print:
              &quot;X/Y test cases passed. Z% line coverage achieved.&quot;
&quot;&quot;&quot;

from __future__ import annotations

import argparse
import csv
import json
import logging
import re
import subprocess
import sys
import time
from pathlib import Path
from typing import List, Tuple

# Ensure metric modules auto-register via package import side-effects.
from swe_project import metrics  # noqa: F401
from swe_project.core.exec_pool import run_parallel
from swe_project.core.model_url import is_hf_model_url, to_repo_id
from swe_project.core.scoring import combine
from swe_project.core.url_ctx import clear as clear_url_ctx
from swe_project.core.url_ctx import set_context
from swe_project.logger import setup_logging
from swe_project.metrics.base import registered


def _load_metrics() -&gt; None:
    &quot;&quot;&quot;
    Import metric modules for their registration side-effects.
    Called only by `cmd_score` so `install`/`test` don't require optional deps yet.
    &quot;&quot;&quot;
    # Import inside function to avoid ImportError before `install` runs.
    from swe_project.metrics import bus_factor  # noqa: F401
    from swe_project.metrics import code_quality  # noqa: F401
    from swe_project.metrics import dataset_and_code  # noqa: F401
    from swe_project.metrics import dataset_quality  # noqa: F401
    from swe_project.metrics import license  # noqa: F401
    from swe_project.metrics import performance_claims  # noqa: F401
    from swe_project.metrics import ramp_up_time  # noqa: F401
    from swe_project.metrics import size_score  # noqa: F401


# ---------- helpers ----------


def _run(cmd: List[str]) -&gt; Tuple[int, str, str]:
    &quot;&quot;&quot;Run a subprocess and capture output.&quot;&quot;&quot;
    p = subprocess.run(cmd, text=True, capture_output=True)
    return p.returncode, p.stdout, p.stderr


def _pytest_counts(text: str) -&gt; Tuple[int, int]:
    &quot;&quot;&quot;Parse pytest summary to (passed, total). Prefer 'collected N items'.&quot;&quot;&quot;
    m = re.search(r&quot;collected\s+(\d+)\s+items?&quot;, text)
    total_hint = int(m.group(1)) if m else 0

    def sum_matches(pattern: str) -&gt; int:
        s = 0
        for mm in re.finditer(rf&quot;(\d+)\s+{pattern}\b&quot;, text):
            s += int(mm.group(1))
        return s

    passed = sum_matches(&quot;passed&quot;)
    failed = sum_matches(&quot;failed&quot;)
    errors = sum_matches(&quot;error|errors&quot;)
    skipped = sum_matches(&quot;skipped&quot;)
    xfailed = sum_matches(&quot;xfailed&quot;)
    xpassed = sum_matches(&quot;xpassed&quot;)

    total = passed + failed + errors + skipped + xfailed + xpassed
    if total_hint:
        total = total_hint
    return passed, total


def _coverage_percent(text: str) -&gt; int:
    &quot;&quot;&quot;Grab the TOTAL % from 'coverage report' output.&quot;&quot;&quot;
    for line in text.splitlines():
        if line.strip().startswith(&quot;TOTAL&quot;):
            m = re.search(r&quot;(\d+)%\s*$&quot;, line)
            if m:
                return int(m.group(1))
    m2 = re.search(r&quot;TOTAL.*?(\d+)%&quot;, text, flags=re.S | re.M)
    return int(m2.group(1)) if m2 else 0


def _in_venv() -&gt; bool:
    &quot;&quot;&quot;Detect if Python is running inside a virtual environment.&quot;&quot;&quot;
    return getattr(sys, &quot;base_prefix&quot;, sys.prefix) != sys.prefix


def _iter_models_from_csv(path: str):
    &quot;&quot;&quot;
    Read CSV rows of the form: code_url, dataset_url, model_url
    - code_url or dataset_url may be blank
    - model_url must be either:
        - a valid Hugging Face model URL, OR
        - an absolute path to a local repo
    For each valid row:
      - store (code,dataset) context for that model
      - yield the model URL
    &quot;&quot;&quot;
    with open(path, &quot;r&quot;, encoding=&quot;utf-8&quot;, newline=&quot;&quot;) as f:
        reader = csv.reader(f)
        for row in reader:
            if not row:
                continue
            if row[0].strip().startswith(&quot;#&quot;):
                continue

            cells = [c.strip() for c in row]
            while len(cells) &lt; 3:
                cells.insert(0, &quot;&quot;)

            code_url, dataset_url, model_url = cells[-3], cells[-2], cells[-1]

            if not model_url:
                continue

            if not is_hf_model_url(model_url):
                continue

            set_context(model_url, code_url or None, dataset_url or None)
            yield model_url


# ---------- commands ----------


def cmd_install() -&gt; int:
    logging.info(&quot;Installing dependencies from requirements.txt ...&quot;)

    args = [sys.executable, &quot;-m&quot;, &quot;pip&quot;, &quot;install&quot;, &quot;-r&quot;, &quot;requirements.txt&quot;]
    if not _in_venv():
        args.insert(4, &quot;--user&quot;)  # only use --user outside venv
    code, out, err = _run(args)
    if code == 0:
        logging.info(&quot;Dependencies installed.&quot;)
        return 0
    print((err or out) or &quot;Installation failed.&quot;, file=sys.stderr)
    logging.error(&quot;Installation failed: %s&quot;, (err or out))
    return 1


def cmd_score(url_file: str) -&gt; int:
    &quot;&quot;&quot;
    Read CSV triplets from `url_file` and emit ONE NDJSON line per MODEL.
    The metrics can read code/dataset URLs from the shared context.
    &quot;&quot;&quot;
    _load_metrics()
    try:
        Path(url_file).resolve(strict=True)
    except OSError as e:
        logging.error(&quot;failed to access URL FILE: %s&quot;, e)
        print(f&quot;Failed to access URL file '{url_file}': {e}&quot;, file=sys.stderr)
        print(json.dumps({&quot;event&quot;: &quot;error&quot;, &quot;error&quot;: str(e), &quot;url_file&quot;: url_file}))
        return 1

    # fresh context per invocation
    clear_url_ctx()
    logging.info(&quot;Scoring URLs from %s ...&quot;, url_file)

    for u in _iter_models_from_csv(url_file):
        # Build tasks from registry (each compute(model_url) -&gt; {&quot;value&quot;,&quot;latency_ms&quot;})
        tasks = []
        for _, field, compute in registered():

            def _task(func=compute, model=u):
                def run():
                    # metrics that need code/dataset will fetch from url_ctx internally
                    return func(model)

                return run

            tasks.append((field, _task()))

        # Run metrics in parallel
        t0 = time.perf_counter()
        results = run_parallel(tasks, timeout_s=90)
        net_latency_ms = int((time.perf_counter() - t0) * 1000)

        # helpers for safe extraction
        def _val(name: str) -&gt; float:
            return float(results.get(name, {}).get(&quot;value&quot;, 0.0))

        def _lat(name: str) -&gt; int:
            return int(results.get(name, {}).get(&quot;latency_ms&quot;, 0))

        # size_score is a dict; ensure all four device keys
        size_map = results.get(&quot;size_score&quot;, {}).get(&quot;value&quot;, {}) or {}
        for k in (&quot;raspberry_pi&quot;, &quot;jetson_nano&quot;, &quot;desktop_pc&quot;, &quot;aws_server&quot;):
            size_map.setdefault(k, 0.0)
        size_lat = _lat(&quot;size_score&quot;)

        # gather scalar metrics for net score; use mean of size_map for its scalar
        scalars = {
            &quot;ramp_up_time&quot;: _val(&quot;ramp_up_time&quot;),
            &quot;bus_factor&quot;: _val(&quot;bus_factor&quot;),
            &quot;license&quot;: _val(&quot;license&quot;),
            &quot;dataset_and_code_score&quot;: _val(&quot;dataset_and_code_score&quot;),
            &quot;dataset_quality&quot;: _val(&quot;dataset_quality&quot;),
            &quot;code_quality&quot;: _val(&quot;code_quality&quot;),
            &quot;performance_claims&quot;: _val(&quot;performance_claims&quot;),
            &quot;size_score&quot;: (sum(size_map.values()) / 4.0),
        }
        net = float(combine(scalars))

        repo_id, _ = to_repo_id(u)  # e.g. &quot;google-bert/bert-base-uncased&quot;
        model_name = re.split(r&quot;[\\/]&quot;, repo_id.rstrip(&quot;/\\&quot;))[-1]

        payload = {
            &quot;name&quot;: model_name,
            &quot;category&quot;: &quot;MODEL&quot;,
            &quot;net_score&quot;: round(net, 3),
            &quot;net_score_latency&quot;: net_latency_ms,
            &quot;ramp_up_time&quot;: scalars[&quot;ramp_up_time&quot;],
            &quot;ramp_up_time_latency&quot;: _lat(&quot;ramp_up_time&quot;),
            &quot;bus_factor&quot;: scalars[&quot;bus_factor&quot;],
            &quot;bus_factor_latency&quot;: _lat(&quot;bus_factor&quot;),
            &quot;performance_claims&quot;: scalars[&quot;performance_claims&quot;],
            &quot;performance_claims_latency&quot;: _lat(&quot;performance_claims&quot;),
            &quot;license&quot;: scalars[&quot;license&quot;],
            &quot;license_latency&quot;: _lat(&quot;license&quot;),
            &quot;size_score&quot;: size_map,
            &quot;size_score_latency&quot;: size_lat,
            &quot;dataset_and_code_score&quot;: scalars[&quot;dataset_and_code_score&quot;],
            &quot;dataset_and_code_score_latency&quot;: _lat(&quot;dataset_and_code_score&quot;),
            &quot;dataset_quality&quot;: scalars[&quot;dataset_quality&quot;],
            &quot;dataset_quality_latency&quot;: _lat(&quot;dataset_quality&quot;),
            &quot;code_quality&quot;: scalars[&quot;code_quality&quot;],
            &quot;code_quality_latency&quot;: _lat(&quot;code_quality&quot;),
        }
        print(json.dumps(payload))

    return 0


def cmd_test() -&gt; int:
    &quot;&quot;&quot;
    Run pytest (with coverage if available) and print exactly:
      'X/Y test cases passed. Z% line coverage achieved.'
    Always exit 0 so the grader can parse the line.
    &quot;&quot;&quot;
    # Silence logging during this command (avoids extra stdout lines)
    root_logger = logging.getLogger()
    prev_level = root_logger.level
    root_logger.setLevel(logging.ERROR)

    try:
        # Try with coverage first
        cov_ok = True
        code, out, err = _run(
            [sys.executable, &quot;-m&quot;, &quot;coverage&quot;, &quot;run&quot;, &quot;-m&quot;, &quot;pytest&quot;, &quot;tests&quot;]
        )
        if code != 0 and &quot;No module named coverage&quot; in (out + err):
            cov_ok = False
            code, out, err = _run([sys.executable, &quot;-m&quot;, &quot;pytest&quot;, &quot;tests&quot;])

        combined = (out or &quot;&quot;) + &quot;\n&quot; + (err or &quot;&quot;)
        passed, total = _pytest_counts(combined)

        percent = 0
        if cov_ok:
            _, rep_out, rep_err = _run([sys.executable, &quot;-m&quot;, &quot;coverage&quot;, &quot;report&quot;])
            percent = _coverage_percent((rep_out or &quot;&quot;) + &quot;\n&quot; + (rep_err or &quot;&quot;))

        # Print the ONLY line the grader expects to stdout
        print(f&quot;{passed}/{total} test cases passed. {percent}% line coverage achieved.&quot;)

        # IMPORTANT: always succeed for the grader
        return 0
    finally:
        root_logger.setLevel(prev_level)


# ---------- entrypoint ----------


def main(argv: list[str] | None = None) -&gt; int:
    setup_logging()
    logging.info(&quot;CLI started successfully&quot;)
    parser = argparse.ArgumentParser(prog=&quot;run&quot;, description=&quot;SWE-Project CLI&quot;)
    sub = parser.add_subparsers(dest=&quot;cmd&quot;, required=True)

    sub.add_parser(&quot;install&quot;)

    p_score = sub.add_parser(&quot;score&quot;)
    p_score.add_argument(
        &quot;url_file&quot;, help=&quot;CSV file with rows: code_url, dataset_url, model_url&quot;
    )

    sub.add_parser(&quot;test&quot;)

    args = parser.parse_args(argv)

    if args.cmd == &quot;install&quot;:
        return cmd_install()
    if args.cmd == &quot;score&quot;:
        return cmd_score(args.url_file)
    if args.cmd == &quot;test&quot;:
        return cmd_test()

    parser.print_help()
    return 2


if __name__ == &quot;__main__&quot;:
    # Allows: python -m swe_project.cli ...
    raise SystemExit(main())</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="json-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">json</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="yaml-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">yaml</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div></section><!-- Add more sections for other formats and clone groups as needed--></main><footer class="bg-white shadow mt-8 py-4"><div class="container mx-auto px-4 text-center"><p class="text-sm text-gray-600">This report is generated by jscpd, an open-source copy/paste detector.</p><p class="text-sm text-gray-600">jscpd is licensed under the MIT License.</p><a class="text-blue-500 text-sm" href="https://github.com/kucherenko/jscpd" target="_blank" rel="noopener noreferrer">View jscpd on GitHub</a></div></footer><script src="js/prism.js"></script><script>function toggleCodeBlock(codeBlockId, expandBtnId, collapseBtnId) {
  const codeBlock = document.getElementById(codeBlockId);
  const expandBtn = document.getElementById(expandBtnId);
  const collapseBtn = document.getElementById(collapseBtnId);

  codeBlock.classList.toggle('hidden');
  expandBtn.classList.toggle('hidden');
  collapseBtn.classList.toggle('hidden');
}</script></body></html>